"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[957],{9957:(gi,v,l)=>{l.r(v),l.d(v,{MisTurnosModule:()=>ui});var m=l(6814),x=l(2271),_=l(3960),f=l(5017),T=l(9315),h=l(8180),C=l(4664),M=l(2459),i=l(4946),b=l(721),Z=l(2333),u=l(6223);function A(o,s){1&o&&(i.TgZ(0,"div",7)(1,"div",8)(2,"span",9),i._uU(3,"Cargando..."),i.qZA()(),i.TgZ(4,"p",10),i._uU(5,"Cargando..."),i.qZA()())}function J(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",28),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(3);i.Q6J("ngModel",t.selected)}}function E(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",28),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(3);i.Q6J("ngModel",t.selected)}}function q(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",29),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(3);i.Q6J("ngModel",t.selected)}}function w(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",30),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(3);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(3);i.Q6J("ngModel",t.selected)}}function N(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",34),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(4);i.Q6J("ngModel",t.selected)}}function y(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",35),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(4);i.Q6J("ngModel",t.selected)}}function F(o,s){if(1&o&&(i.TgZ(0,"div"),i.YNc(1,N,1,1,"input",31),i.YNc(2,y,1,1,"input",32),i.TgZ(3,"label",33),i._uU(4,"Pacientes"),i.qZA()()),2&o){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",""==t.search),i.xp6(1),i.Q6J("ngIf",""!=t.search)}}function k(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",39),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(4);i.Q6J("ngModel",t.selected)}}function U(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"input",40),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.selected=e)})("change",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.onOptionChange(e))}),i.qZA()}if(2&o){const t=i.oxw(4);i.Q6J("ngModel",t.selected)}}function Q(o,s){if(1&o&&(i.TgZ(0,"div"),i.YNc(1,k,1,1,"input",36),i.YNc(2,U,1,1,"input",37),i.TgZ(3,"label",38),i._uU(4,"Especialista"),i.qZA()()),2&o){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",""==t.search),i.xp6(1),i.Q6J("ngIf",""!=t.search)}}function D(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div",43)(1,"input",44),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.espElegido=e)})("change",function(){i.CHM(t);const e=i.oxw(4);return i.KtG(e.espChange())}),i.qZA(),i.TgZ(2,"label",45),i._uU(3),i.qZA()()}if(2&o){const t=s.$implicit,n=i.oxw(4);i.xp6(1),i.s9C("id",t.especialidad),i.Q6J("ngModel",n.espElegido)("value",t),i.xp6(1),i.s9C("for",t.especialidad),i.xp6(1),i.Oqu(t.especialidad)}}function I(o,s){if(1&o&&(i.TgZ(0,"div",41),i.YNc(1,D,4,5,"div",42),i.qZA()),2&o){const t=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",t.especialidades)}}function G(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div",43)(1,"input",46),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.espElegido=e)})("change",function(){i.CHM(t);const e=i.oxw(4);return i.KtG(e.espChange())}),i.qZA(),i.TgZ(2,"label",45),i._uU(3),i.qZA()()}if(2&o){const t=s.$implicit,n=i.oxw(4);i.xp6(1),i.s9C("id",t.dni),i.Q6J("ngModel",n.espElegido)("value",t),i.xp6(1),i.s9C("for",t.dni),i.xp6(1),i.AsE("",t.nombre," ",t.apellido,"")}}function H(o,s){if(1&o&&(i.TgZ(0,"div",41),i.YNc(1,G,4,6,"div",42),i.qZA()),2&o){const t=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",t.pacientes)}}function K(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div",43)(1,"input",46),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(4);return i.KtG(a.espElegido=e)})("change",function(){i.CHM(t);const e=i.oxw(4);return i.KtG(e.espChange())}),i.qZA(),i.TgZ(2,"label",45),i._uU(3),i.qZA()()}if(2&o){const t=s.$implicit,n=i.oxw(4);i.xp6(1),i.s9C("id",t.dni),i.Q6J("ngModel",n.espElegido)("value",t),i.xp6(1),i.s9C("for",t.dni),i.xp6(1),i.AsE("",t.nombre," ",t.apellido,"")}}function O(o,s){if(1&o&&(i.TgZ(0,"div",41),i.YNc(1,K,4,6,"div",42),i.qZA()),2&o){const t=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",t.especialistas)}}function Y(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",51),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.cancelarTurno(e.paciente,e.especialista,e.especialidad,e.dia,e.start,"Cancelado"))}),i._uU(2,"Cancelar"),i.qZA()()}}function P(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",51),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.cancelarTurno(e.paciente,e.especialista,e.especialidad,e.dia,e.start,"Rechazado"))}),i._uU(2,"Rechazar"),i.qZA()()}}function z(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",52),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.aceptarTurno(e.paciente,e.especialista,e.especialidad,e.dia,e.start,"Aceptado"))}),i._uU(2,"Aceptar"),i.qZA()()}}function R(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",52),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.finalizarTurno(e.paciente,e.especialista,e.especialidad,e.dia,e.start,"Finalizado"))}),i._uU(2,"Finalizar"),i.qZA()()}}function $(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",53),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.resenia(e.paciente,e.especialista,e.especialidad,e.dia,e.start))}),i._uU(2,"Leer rese\xf1a"),i.qZA()()}}function j(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",53),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.historiaClinica(e.paciente,e.especialista,e.especialidad,e.dia,e.start))}),i._uU(2,"Leer historia cl\xednica"),i.qZA()()}}function B(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",51),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.cancTurnPac(e.paciente,e.especialista,e.especialidad,e.dia,e.start,"Cancelado"))}),i._uU(2,"Cancelar"),i.qZA()()}}function S(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"td")(1,"button",53),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit,a=i.oxw(4);return i.KtG(a.pacResenia(e.paciente,e.especialista,e.especialidad,e.dia,e.start))}),i._uU(2,"Dejar rese\xf1a"),i.qZA()()}}function L(o,s){if(1&o&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA(),i.YNc(13,Y,3,0,"td",12),i.YNc(14,P,3,0,"td",12),i.YNc(15,z,3,0,"td",12),i.YNc(16,R,3,0,"td",12),i.YNc(17,$,3,0,"td",12),i.YNc(18,j,3,0,"td",12),i.YNc(19,B,3,0,"td",12),i.YNc(20,S,3,0,"td",12),i.qZA()),2&o){const t=s.$implicit,n=i.oxw(4);i.xp6(2),i.Oqu(t.dia),i.xp6(2),i.Oqu(t.start),i.xp6(2),i.Oqu(t.especialistaNombre),i.xp6(2),i.Oqu(t.especialidad),i.xp6(2),i.Oqu(t.pacienteNombre),i.xp6(2),i.Oqu(t.condicion),i.xp6(1),i.Q6J("ngIf","especialista"==n.usuarioActual.perfil&&"Realizado"!=t.condicion&&"Rechazado"!=t.condicion&&"Cancelado"!=t.condicion&&"Finalizado"!=t.condicion),i.xp6(1),i.Q6J("ngIf","especialista"==n.usuarioActual.perfil&&"Aceptado"!=t.condicion&&"Realizado"!=t.condicion&&"Cancelado"!=t.condicion&&"Rechazado"!=t.condicion&&"Finalizado"!=t.condicion),i.xp6(1),i.Q6J("ngIf","especialista"==n.usuarioActual.perfil&&"Aceptado"!=t.condicion&&"Realizado"!=t.condicion&&"Cancelado"!=t.condicion&&"Finalizado"!=t.condicion),i.xp6(1),i.Q6J("ngIf","especialista"==n.usuarioActual.perfil&&"Aceptado"==t.condicion),i.xp6(1),i.Q6J("ngIf",("especialista"==n.usuarioActual.perfil||"paciente"==n.usuarioActual.perfil)&&"Finalizado"==t.condicion),i.xp6(1),i.Q6J("ngIf",("especialista"==n.usuarioActual.perfil||"paciente"==n.usuarioActual.perfil)&&"Finalizado"==t.condicion),i.xp6(1),i.Q6J("ngIf","paciente"==n.usuarioActual.perfil&&"Finalizado"!=t.condicion&&"Cancelado"!=t.condicion),i.xp6(1),i.Q6J("ngIf","paciente"==n.usuarioActual.perfil&&"Finalizado"==t.condicion&&!t.comentarioPac)}}function V(o,s){if(1&o&&(i.TgZ(0,"div")(1,"table",47)(2,"thead",48)(3,"tr")(4,"th",49),i._uU(5,"Fecha"),i.qZA(),i.TgZ(6,"th",49),i._uU(7,"Hora"),i.qZA(),i.TgZ(8,"th",49),i._uU(9,"Especialista"),i.qZA(),i.TgZ(10,"th",49),i._uU(11,"Especialidad"),i.qZA(),i.TgZ(12,"th",49),i._uU(13,"Paciente"),i.qZA(),i.TgZ(14,"th",49),i._uU(15,"Estado"),i.qZA(),i._UZ(16,"th",49),i.qZA()(),i.TgZ(17,"tbody"),i.YNc(18,L,21,14,"tr",50),i.qZA()()()),2&o){const t=i.oxw(3);i.xp6(18),i.Q6J("ngForOf",t.currentTurnos)}}function X(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div")(1,"h1",13),i._uU(2,"Secci\xf3n mis turnos"),i.qZA(),i.TgZ(3,"div",14),i.YNc(4,J,1,1,"input",15),i.YNc(5,E,1,1,"input",15),i.TgZ(6,"label",16),i._uU(7,"Todos los turnos"),i.qZA(),i.YNc(8,q,1,1,"input",17),i.YNc(9,w,1,1,"input",18),i.TgZ(10,"label",19),i._uU(11,"Especialidad"),i.qZA(),i.YNc(12,F,5,2,"div",12),i.YNc(13,Q,5,2,"div",12),i.qZA(),i.TgZ(14,"div",20)(15,"div",21)(16,"div",22)(17,"input",23),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.search=e)})("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.onSearchChange(e))}),i.qZA(),i.TgZ(18,"div",24)(19,"span",25),i._UZ(20,"i",26),i.qZA()()()()(),i.YNc(21,I,2,1,"div",27),i.YNc(22,H,2,1,"div",27),i.YNc(23,O,2,1,"div",27),i.YNc(24,V,19,1,"div",12),i.qZA()}if(2&o){const t=i.oxw(2);i.xp6(4),i.Q6J("ngIf",""==t.search),i.xp6(1),i.Q6J("ngIf",""!=t.search),i.xp6(3),i.Q6J("ngIf",""==t.search),i.xp6(1),i.Q6J("ngIf",""!=t.search),i.xp6(3),i.Q6J("ngIf","especialista"==t.usuarioActual.perfil),i.xp6(1),i.Q6J("ngIf","paciente"==t.usuarioActual.perfil),i.xp6(4),i.Q6J("ngModel",t.search),i.xp6(4),i.Q6J("ngIf","option1"===t.selected&&""==t.search),i.xp6(1),i.Q6J("ngIf","option2"===t.selected&&""==t.search),i.xp6(1),i.Q6J("ngIf","option3"===t.selected&&""==t.search),i.xp6(1),i.Q6J("ngIf","option1"==t.selected||"option2"==t.selected||"option3"==t.selected||"option0"==t.selected)}}function W(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div")(1,"h1",13),i._uU(2,"Comentario turno"),i.qZA(),i.TgZ(3,"div",41)(4,"label",54),i._uU(5),i.qZA(),i.TgZ(6,"textarea",55),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.comentario=e)}),i.qZA()(),i.TgZ(7,"div",56)(8,"button",51),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return i.KtG(e.cancTurno(e.turnoAEliminar,e.condicionAConvertir))}),i._uU(9),i.qZA()()()}if(2&o){const t=i.oxw(2);i.xp6(5),i.hij("Explique el motivo del ",t.condicionAConvertir," del turno"),i.xp6(1),i.Q6J("ngModel",t.comentario),i.xp6(3),i.hij("Turno ",t.condicionAConvertir,"")}}function ii(o,s){if(1&o&&(i.TgZ(0,"div")(1,"h1",13),i._uU(2,"El turno ha sido cancelado!"),i.qZA(),i.TgZ(3,"h3"),i._uU(4),i.qZA()()),2&o){const t=i.oxw(2);i.xp6(4),i.hij("Motivo: ",t.comentario,"")}}function ti(o,s){1&o&&(i.TgZ(0,"div")(1,"h1",13),i._uU(2,"El turno ha sido aceptado!"),i.qZA()())}function ei(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div",57)(1,"label",68),i._uU(2,"Clave"),i.qZA(),i.TgZ(3,"input",69),i.NdJ("ngModelChange",function(e){const d=i.CHM(t).$implicit;return i.KtG(d.clave=e)}),i.qZA()()}if(2&o){const t=s.$implicit,n=s.index;i.xp6(1),i.MGl("for","clave",n,""),i.xp6(2),i.MGl("id","clave",n,"")("name","clave",n,""),i.Q6J("ngModel",t.clave)}}function ni(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div",57)(1,"label",68),i._uU(2,"Valor"),i.qZA(),i.TgZ(3,"input",70),i.NdJ("ngModelChange",function(e){const d=i.CHM(t).$implicit;return i.KtG(d.valor=e)}),i.qZA()()}if(2&o){const t=s.$implicit,n=s.index;i.xp6(1),i.MGl("for","valor",n,""),i.xp6(2),i.MGl("id","valor",n,"")("name","valor",n,""),i.Q6J("ngModel",t.valor)}}function oi(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div")(1,"h1",13),i._uU(2,"Historia cl\xednica"),i.qZA(),i.TgZ(3,"div",41)(4,"label",54),i._uU(5,"Ingrese la historia cl\xednica del paciente"),i.qZA()(),i.TgZ(6,"form")(7,"div",20)(8,"div",57)(9,"label",58),i._uU(10,"Altura"),i.qZA(),i.TgZ(11,"input",59),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.formData.altura=e)}),i.qZA()(),i.TgZ(12,"div",57)(13,"label",60),i._uU(14,"Peso"),i.qZA(),i.TgZ(15,"input",61),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.formData.peso=e)}),i.qZA()()(),i.TgZ(16,"div",20)(17,"div",57)(18,"label",62),i._uU(19,"Temperatura"),i.qZA(),i.TgZ(20,"input",63),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.formData.temperatura=e)}),i.qZA()(),i.TgZ(21,"div",57)(22,"label",64),i._uU(23,"Presi\xf3n"),i.qZA(),i.TgZ(24,"input",65),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.formData.presion=e)}),i.qZA()()(),i.TgZ(25,"div",20),i.YNc(26,ei,4,4,"div",66),i.YNc(27,ni,4,4,"div",66),i.qZA(),i.TgZ(28,"div",20)(29,"div",21)(30,"button",67),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return i.KtG(e.addDynamicData())}),i._uU(31," A\xf1adir Clave/Valor "),i.qZA()()()(),i.TgZ(32,"div",56)(33,"button",52),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return i.KtG(e.finTurno(e.turnoAEliminar,e.condicionAConvertir))}),i._uU(34,"Guardar"),i.qZA()()()}if(2&o){const t=i.oxw(2);i.xp6(11),i.Q6J("ngModel",t.formData.altura),i.xp6(4),i.Q6J("ngModel",t.formData.peso),i.xp6(5),i.Q6J("ngModel",t.formData.temperatura),i.xp6(4),i.Q6J("ngModel",t.formData.presion),i.xp6(2),i.Q6J("ngForOf",t.formData.dynamicData),i.xp6(1),i.Q6J("ngForOf",t.formData.dynamicData),i.xp6(3),i.Q6J("disabled",t.formData.dynamicData.length>=3)}}function ai(o,s){1&o&&(i.TgZ(0,"div")(1,"h1",13),i._uU(2,"El turno ha sido finalizado!"),i.qZA()())}function ci(o,s){if(1&o&&(i.TgZ(0,"div")(1,"h1",13),i._uU(2,"Rese\xf1a turno"),i.qZA(),i.TgZ(3,"h3"),i._uU(4),i.qZA()()),2&o){const t=i.oxw(2);i.xp6(4),i.Oqu(t.comentario)}}function si(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"div")(1,"h1",13),i._uU(2,"Comentario turno"),i.qZA(),i.TgZ(3,"div",41)(4,"label",54),i._uU(5,"Deje una rese\xf1a del turno"),i.qZA(),i.TgZ(6,"textarea",55),i.NdJ("ngModelChange",function(e){i.CHM(t);const a=i.oxw(2);return i.KtG(a.comentario=e)}),i.qZA()(),i.TgZ(7,"div",56)(8,"button",53),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return i.KtG(e.pacRec(e.turnoAEliminar))}),i._uU(9,"Dejar rese\xf1a"),i.qZA()()()}if(2&o){const t=i.oxw(2);i.xp6(6),i.Q6J("ngModel",t.comentario)}}function ri(o,s){if(1&o&&(i.TgZ(0,"div")(1,"h1",13),i._uU(2,"Historia cl\xednica"),i.qZA(),i.TgZ(3,"h3"),i._uU(4),i.qZA()()),2&o){const t=i.oxw(2);i.xp6(4),i.Oqu(t.historiaClinicaTxt)}}function di(o,s){if(1&o&&(i.TgZ(0,"div",11),i.YNc(1,X,25,11,"div",12),i.YNc(2,W,10,3,"div",12),i.YNc(3,ii,5,1,"div",12),i.YNc(4,ti,3,0,"div",12),i.YNc(5,oi,35,7,"div",12),i.YNc(6,ai,3,0,"div",12),i.YNc(7,ci,5,1,"div",12),i.YNc(8,si,10,1,"div",12),i.YNc(9,ri,5,1,"div",12),i.qZA()),2&o){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",!t.loading&&1==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&2==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&3==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&4==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&5==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&6==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&8==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&11==t.step),i.xp6(1),i.Q6J("ngIf",!t.loading&&15==t.step)}}function _i(o,s){if(1&o){const t=i.EpF();i.TgZ(0,"button",71),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return i.KtG(e.volver())}),i.qZA()}}const li=function(){return["/mi-perfil"]},pi=[{path:"",component:(()=>{class o{ngOnInit(){(0,T.D)({especialidades:this.getEspecialidades().pipe((0,h.q)(1)),especialistas:this.getEspecialistas().pipe((0,h.q)(1)),turnos:this.getTurnos().pipe((0,h.q)(1)),pacientes:this.getPacientes().pipe((0,h.q)(1))}).pipe((0,C.w)(({especialidades:t,especialistas:n,turnos:e,pacientes:a})=>(this.especialidades=t,this.fixEsps(),this.especialistas=n,this.turnos=e,this.pacientes=a,this.getFotos().pipe((0,h.q)(1))))).subscribe({next:t=>{this.fotos=t,this.loading=!1,this.filterFotos(),this.espChange()},error:()=>{this.loading=!1}})}getEspecialidades(){const t=(0,_.hJ)(this.fire,"especialidades");return(0,_.BS)(t)}getEspecialistas(){const t=(0,_.hJ)(this.fire,"especialistas");return(0,_.BS)(t,{idField:"idDoc"})}getPacientes(){const t=(0,_.hJ)(this.fire,"pacientes");return(0,_.BS)(t,{idField:"idDoc"})}getFotos(){return(0,M.D)((0,f.aF)(this.fotosRef)).pipe((0,C.w)(t=>{const n=t.items.map(e=>(0,f.Jt)(e));return(0,T.D)(n)}))}getTurnos(){const t=(0,_.hJ)(this.fire,"turnos");return(0,_.BS)(t,{idField:"idDoc"})}fixEsps(){this.especialidades.pop()}filterFotos(){this.fotos.forEach(t=>{this.especialistas.forEach(n=>{t.includes(n.dni)&&this.fotosEspecialistas.push({nombre:n.nombre,apellido:n.apellido,dni:n.dni,especialidad:n.especialidad,segundaEspecialidad:n.segundaEspecialidad,terceraEspecialidad:n.terceraEspecialidad,foto:t})})})}constructor(t,n,e){this.fire=t,this.firebase=n,this.service=e,this.loading=!0,this.storage=(0,f.cF)(this.firebase),this.fotosRef=(0,f.iH)(this.storage),this.selected="option0",this.search="",this.especialidades=[],this.especialistas=[],this.fotos=[],this.fotosEspecialistas=[],this.chosen="0",this.turnos=[],this.currentTurnos=[],this.pacientes=[],this.espTurno="",this.pacTurno="",this.historiaClinicaTxt="",this.formData={altura:"",peso:"",temperatura:"",presion:"",dynamicData:[{clave:"",valor:""}]},this.step=1,this.comentario="",this.condicionAConvertir="",this.usuarioActual=e.currentUser,this.usuarioActual=this.usuarioActual.source.value}onOptionChange(t){this.currentTurnos=[],this.selected=t.target.value,"option0"==this.selected&&this.espChange()}espChange(){this.currentTurnos=[],"option0"!=this.selected?"paciente"==this.usuarioActual.perfil?this.turnos.forEach(t=>{t.paciente==this.usuarioActual.dni&&(t.especialista==this.espElegido.dni||t.especialidad==this.espElegido.especialidad)&&(this.pacientes.forEach(n=>{t.paciente==n.dni&&(t.pacienteNombre=n.nombre+" "+n.apellido)}),this.especialistas.forEach(n=>{t.especialista==n.dni&&(t.especialistaNombre=n.nombre+" "+n.apellido)}),this.currentTurnos.push(t))}):"especialista"==this.usuarioActual.perfil&&this.turnos.forEach(t=>{t.especialista==this.usuarioActual.dni&&(t.paciente==this.espElegido.dni||t.especialidad==this.espElegido.especialidad)&&(this.pacientes.forEach(n=>{t.paciente==n.dni&&(t.pacienteNombre=n.nombre+" "+n.apellido)}),this.especialistas.forEach(n=>{t.especialista==n.dni&&(t.especialistaNombre=n.nombre+" "+n.apellido)}),this.currentTurnos.push(t))}):this.turnos.forEach(t=>{(t.paciente==this.usuarioActual.dni||t.especialista==this.usuarioActual.dni)&&(this.pacientes.forEach(n=>{t.paciente==n.dni&&(t.pacienteNombre=n.nombre+" "+n.apellido)}),this.especialistas.forEach(n=>{t.especialista==n.dni&&(t.especialistaNombre=n.nombre+" "+n.apellido)}),this.currentTurnos.push(t))})}volver(){this.espChange(),8!=this.step&&4!=this.step&&5!=this.step&&15!=this.step?this.step--:(this.espChange(),this.step=1)}cancelarTurno(t,n,e,a,d,c){this.condicionAConvertir=c,this.turnos.forEach(r=>{r.especialista==n&&r.paciente==t&&r.especialidad==e&&r.dia==a&&r.start==d&&this.pacientes.forEach(p=>{r.paciente==p.dni&&this.especialistas.forEach(g=>{r.especialista==g.dni&&(this.step++,this.turnoAEliminar=r)})})})}aceptarTurno(t,n,e,a,d,c){this.condicionAConvertir=c,this.turnos.forEach(r=>{r.especialista==n&&r.paciente==t&&r.especialidad==e&&r.dia==a&&r.start==d&&this.pacientes.forEach(p=>{r.paciente==p.dni&&this.especialistas.forEach(g=>{r.especialista==g.dni&&(this.turnoAEliminar=r,this.cancTurno(this.turnoAEliminar,"Aceptado"),this.step=4)})})})}finalizarTurno(t,n,e,a,d,c){this.condicionAConvertir=c,this.turnos.forEach(r=>{r.especialista==n&&r.paciente==t&&r.especialidad==e&&r.dia==a&&r.start==d&&this.pacientes.forEach(p=>{r.paciente==p.dni&&this.especialistas.forEach(g=>{r.especialista==g.dni&&(this.turnoAEliminar=r,this.step=5)})})})}resenia(t,n,e,a,d){this.turnos.forEach(c=>{c.especialista==n&&c.paciente==t&&c.especialidad==e&&c.dia==a&&c.start==d&&this.pacientes.forEach(r=>{c.paciente==r.dni&&this.especialistas.forEach(p=>{c.especialista==p.dni&&(this.turnoAEliminar=c,this.comentario=c.comentarioPac,this.step=8)})})})}cancTurno(t,n){const e=(0,_.JU)(this.fire,"turnos",t.idDoc);(0,_.r7)(e,{condicion:n,comentario:this.comentario}),this.step=3}finTurno(t,n){const e=(0,_.JU)(this.fire,"turnos",t.idDoc);(0,_.r7)(e,{condicion:n,comentario:this.comentario,historiaClinica:this.formData}),this.step=6}cancTurnPac(t,n,e,a,d,c){this.condicionAConvertir=c,this.turnos.forEach(r=>{r.especialista==n&&r.paciente==t&&r.especialidad==e&&r.dia==a&&r.start==d&&this.pacientes.forEach(p=>{r.paciente==p.dni&&this.especialistas.forEach(g=>{r.especialista==g.dni&&(this.step=2,this.turnoAEliminar=r)})})})}pacResenia(t,n,e,a,d){this.turnos.forEach(c=>{c.especialista==n&&c.paciente==t&&c.especialidad==e&&c.dia==a&&c.start==d&&this.pacientes.forEach(r=>{c.paciente==r.dni&&this.especialistas.forEach(p=>{c.especialista==p.dni&&(this.step=11,this.turnoAEliminar=c)})})})}pacRec(t){const n=(0,_.JU)(this.fire,"turnos",t.idDoc);(0,_.r7)(n,{comentarioPac:this.comentario}),this.step=6}addDynamicData(){this.formData.dynamicData.length<3&&this.formData.dynamicData.push({clave:"",valor:""})}submitForm(){console.log(this.formData)}historiaClinica(t,n,e,a,d){this.turnos.forEach(c=>{c.especialista==n&&c.paciente==t&&c.especialidad==e&&c.dia==a&&c.start==d&&this.pacientes.forEach(r=>{c.paciente==r.dni&&this.especialistas.forEach(p=>{c.especialista==p.dni&&(this.step=15,this.turnoAEliminar=c,this.historiaClinicaTxt="Altura: "+c.historiaClinica.altura+"\nPeso: "+c.historiaClinica.peso+"\nPresi\xf3n: "+c.historiaClinica.presion+"\nTemperatura: "+c.historiaClinica.temperatura,c.historiaClinica.dynamicData[0].clave&&(this.historiaClinicaTxt=this.historiaClinicaTxt+"\n"+c.historiaClinica.dynamicData[0].clave+": "+c.historiaClinica.dynamicData[0].valor),c.historiaClinica.dynamicData[1].clave&&(this.historiaClinicaTxt=this.historiaClinicaTxt+"\n"+c.historiaClinica.dynamicData[1].clave+": "+c.historiaClinica.dynamicData[1].valor),c.historiaClinica.dynamicData[2].clave&&(this.historiaClinicaTxt=this.historiaClinicaTxt+"\n"+c.historiaClinica.dynamicData[2].clave+": "+c.historiaClinica.dynamicData[2].valor))})})})}onSearchChange(t){""==this.search?this.espChange():"especialista"==this.usuarioActual.perfil&&(this.currentTurnos=[],this.turnos.forEach(n=>{let e="";try{e="Altura: "+n.historiaClinica.altura+"\nPeso: "+n.historiaClinica.peso+"\nPresi\xf3n: "+n.historiaClinica.presion+"\nTemperatura: "+n.historiaClinica.temperatura,n.historiaClinica.dynamicData[0].clave&&(e=e+"\n"+n.historiaClinica.dynamicData[0].clave+": "+n.historiaClinica.dynamicData[0].valor),n.historiaClinica.dynamicData[1].clave&&(e=e+"\n"+n.historiaClinica.dynamicData[1].clave+": "+n.historiaClinica.dynamicData[1].valor),n.historiaClinica.dynamicData[2].clave&&(e=e+"\n"+n.historiaClinica.dynamicData[2].clave+": "+n.historiaClinica.dynamicData[2].valor)}catch{}this.usuarioActual.dni==n.especialista&&(n.especialidad.includes(this.search)||n.condicion.includes(this.search)||n.dia.includes(this.search)||n.especialistaNombre.includes(this.search)||n.pacienteNombre.includes(this.search)||e.includes(this.search))&&this.currentTurnos.push(n)}))}static#i=this.\u0275fac=function(n){return new(n||o)(i.Y36(_.gg),i.Y36(b.Ot),i.Y36(Z.e))};static#t=this.\u0275cmp=i.Xpm({type:o,selectors:[["app-mis-turnos"]],decls:11,vars:5,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["class","loading-overlay",4,"ngIf"],["class","container mt-5",4,"ngIf"],["class","floating-button-2",3,"click",4,"ngIf"],[1,"floating-button",3,"routerLink"],[1,"loading-overlay"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"],[1,"text-light","mt-2"],[1,"container","mt-5"],[4,"ngIf"],[1,"title"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group","mb-3"],["type","radio","class","btn-check","name","btnradio","id","btnradio0","autocomplete","off","value","option0",3,"ngModel","ngModelChange","change",4,"ngIf"],["for","btnradio0",1,"btn","btn-outline-primary"],["type","radio","class","btn-check","name","btnradio","id","btnradio1","autocomplete","off","value","option1",3,"ngModel","ngModelChange","change",4,"ngIf"],["type","radio","class","btn-check","name","btnradio","id","btnradio1","autocomplete","off","value","option1","disabled","",3,"ngModel","ngModelChange","change",4,"ngIf"],["for","btnradio1",1,"btn","btn-outline-primary"],[1,"form-row"],[1,"form-group","col-md-12"],[1,"input-group","mb-3"],["type","text","placeholder","Buscar","aria-label","Buscar","name","search",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-search"],["class","form-group",4,"ngIf"],["type","radio","name","btnradio","id","btnradio0","autocomplete","off","value","option0",1,"btn-check",3,"ngModel","ngModelChange","change"],["type","radio","name","btnradio","id","btnradio1","autocomplete","off","value","option1",1,"btn-check",3,"ngModel","ngModelChange","change"],["type","radio","name","btnradio","id","btnradio1","autocomplete","off","value","option1","disabled","",1,"btn-check",3,"ngModel","ngModelChange","change"],["type","radio","class","btn-check","name","btnradio","id","btnradio2","autocomplete","off","value","option2",3,"ngModel","ngModelChange","change",4,"ngIf"],["type","radio","class","btn-check","name","btnradio","id","btnradio2","autocomplete","off","value","option2","disabled","",3,"ngModel","ngModelChange","change",4,"ngIf"],["for","btnradio2",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio2","autocomplete","off","value","option2",1,"btn-check",3,"ngModel","ngModelChange","change"],["type","radio","name","btnradio","id","btnradio2","autocomplete","off","value","option2","disabled","",1,"btn-check",3,"ngModel","ngModelChange","change"],["type","radio","class","btn-check","name","btnradio","id","btnradio3","autocomplete","off","value","option3",3,"ngModel","ngModelChange","change",4,"ngIf"],["type","radio","class","btn-check","name","btnradio","id","btnradio3","autocomplete","off","value","option3","disabled","",3,"ngModel","ngModelChange","change",4,"ngIf"],["for","btnradio3",1,"btn","btn-outline-primary"],["type","radio","name","btnradio","id","btnradio3","autocomplete","off","value","option3",1,"btn-check",3,"ngModel","ngModelChange","change"],["type","radio","name","btnradio","id","btnradio3","autocomplete","off","value","option3","disabled","",1,"btn-check",3,"ngModel","ngModelChange","change"],[1,"form-group"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","name","especialidad",1,"form-check-input",3,"id","ngModel","value","ngModelChange","change"],[1,"form-check-label",3,"for"],["type","radio","name","especialista",1,"form-check-input",3,"id","ngModel","value","ngModelChange","change"],[1,"table","table-striped","table-bordered","table-hover"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","5",1,"form-control",3,"ngModel","ngModelChange"],[2,"padding-top","20px"],[1,"form-group","col-md-6"],["for","altura"],["type","text","id","altura","placeholder","Ingrese la altura del paciente","name","altura",1,"form-control",3,"ngModel","ngModelChange"],["for","peso"],["type","text","id","peso","placeholder","Ingrese el peso del paciente","name","peso",1,"form-control",3,"ngModel","ngModelChange"],["for","temperatura"],["type","text","id","temperatura","placeholder","Ingrese la temperatura del paciente","name","temperatura",1,"form-control",3,"ngModel","ngModelChange"],["for","presion"],["type","text","id","presion","placeholder","Ingrese la presi\xf3n del paciente","name","presion",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group col-md-6",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"for"],["type","text","placeholder","Ingrese la clave",1,"form-control",3,"id","ngModel","name","ngModelChange"],["type","text","placeholder","Ingrese el valor",1,"form-control",3,"id","ngModel","name","ngModelChange"],[1,"floating-button-2",3,"click"]],template:function(n,e){1&n&&(i.TgZ(0,"html",0)(1,"head"),i._UZ(2,"meta",1)(3,"meta",2),i.TgZ(4,"title"),i._uU(5,"Turnos"),i.qZA()(),i.TgZ(6,"body"),i.YNc(7,A,6,0,"div",3),i.YNc(8,di,10,9,"div",4),i.YNc(9,_i,1,0,"button",5),i._UZ(10,"button",6),i.qZA()()),2&n&&(i.xp6(7),i.Q6J("ngIf",e.loading),i.xp6(1),i.Q6J("ngIf",!e.loading),i.xp6(1),i.Q6J("ngIf",!e.loading&&e.step>1&&3!=e.step&&6!=e.step),i.xp6(1),i.Q6J("routerLink",i.DdM(4,li)))},dependencies:[m.sg,m.O5,u._Y,u.Fj,u._,u.JJ,u.JL,u.On,u.F,x.rH],styles:["body[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#c70707;background-image:url(clinic.0a0eb57132030e74.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:cover;color:#000;display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif}.floating-button[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;width:140px;height:140px;border-radius:50%;background-color:#f99;color:#fff;border:none;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease-in-out;background-image:url(casa.ee7bd0ec07fb5d4a.png);background-size:60%;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.floating-button-2[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;width:140px;height:140px;border-radius:50%;background-color:#004506;color:#fff;border:none;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease-in-out;background-image:url(volver.4bac84a269842765.png);background-size:60%;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.loading-overlay[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:4rem;height:4rem}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff;margin-top:10px}.title[_ngcontent-%COMP%]{font-size:2.5rem;color:#fff;text-align:center;margin-bottom:20px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.container[_ngcontent-%COMP%]{background:rgba(255,255,255,.8);border-radius:15px;padding:20px;box-shadow:0 10px 20px #0003}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:10px}.form-check[_ngcontent-%COMP%]{margin-top:10px}"]})}return o})()}];let ui=(()=>{class o{static#i=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=i.oAB({type:o});static#e=this.\u0275inj=i.cJS({imports:[m.ez,u.u5,x.Bz.forChild(pi)]})}return o})()}}]);