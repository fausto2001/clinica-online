"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{9058:(Zt,tt,Z)=>{Z.d(tt,{BH:()=>Qe,G6:()=>en,L:()=>qe,LL:()=>X,P0:()=>Gn,Pz:()=>ot,Sg:()=>At,ZR:()=>Q,aH:()=>Ge,b$:()=>xr,eu:()=>_e,hl:()=>le,m9:()=>Ki,ne:()=>on,q4:()=>vn,ru:()=>In,tV:()=>ce,uI:()=>vt,vZ:()=>Ai,w1:()=>Ie,xO:()=>mt,xb:()=>or,z$:()=>St});const Ue=function(ue){const H=[];let z=0;for(let G=0;G<ue.length;G++){let q=ue.charCodeAt(G);q<128?H[z++]=q:q<2048?(H[z++]=q>>6|192,H[z++]=63&q|128):55296==(64512&q)&&G+1<ue.length&&56320==(64512&ue.charCodeAt(G+1))?(q=65536+((1023&q)<<10)+(1023&ue.charCodeAt(++G)),H[z++]=q>>18|240,H[z++]=q>>12&63|128,H[z++]=q>>6&63|128,H[z++]=63&q|128):(H[z++]=q>>12|224,H[z++]=q>>6&63|128,H[z++]=63&q|128)}return H},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,H){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let q=0;q<ue.length;q+=3){const De=ue[q],Ye=q+1<ue.length,It=Ye?ue[q+1]:0,zt=q+2<ue.length,Nt=zt?ue[q+2]:0;let fr=(15&It)<<2|Nt>>6,er=63&Nt;zt||(er=64,Ye||(fr=64)),G.push(z[De>>2],z[(3&De)<<4|It>>4],z[fr],z[er])}return G.join("")},encodeString(ue,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(ue):this.encodeByteArray(Ue(ue),H)},decodeString(ue,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(ue):function(ue){const H=[];let z=0,G=0;for(;z<ue.length;){const q=ue[z++];if(q<128)H[G++]=String.fromCharCode(q);else if(q>191&&q<224){const De=ue[z++];H[G++]=String.fromCharCode((31&q)<<6|63&De)}else if(q>239&&q<365){const zt=((7&q)<<18|(63&ue[z++])<<12|(63&ue[z++])<<6|63&ue[z++])-65536;H[G++]=String.fromCharCode(55296+(zt>>10)),H[G++]=String.fromCharCode(56320+(1023&zt))}else{const De=ue[z++],Ye=ue[z++];H[G++]=String.fromCharCode((15&q)<<12|(63&De)<<6|63&Ye)}}return H.join("")}(this.decodeStringToByteArray(ue,H))},decodeStringToByteArray(ue,H){this.init_();const z=H?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let q=0;q<ue.length;){const De=z[ue.charAt(q++)],It=q<ue.length?z[ue.charAt(q)]:0;++q;const Nt=q<ue.length?z[ue.charAt(q)]:64;++q;const Ut=q<ue.length?z[ue.charAt(q)]:64;if(++q,null==De||null==It||null==Nt||null==Ut)throw new xe;G.push(De<<2|It>>4),64!==Nt&&(G.push(It<<4&240|Nt>>2),64!==Ut&&G.push(Nt<<6&192|Ut))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qe=function(ue){return function(ue){const H=Ue(ue);return ae.encodeByteArray(H,!0)}(ue).replace(/\./g,"")},ce=function(ue){try{return ae.decodeString(ue,!0)}catch(H){console.error("base64Decode failed: ",H)}return null},qt=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=ue&&ce(ue[1]);return H&&JSON.parse(H)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},vn=ue=>{var H,z;return null===(z=null===(H=qt())||void 0===H?void 0:H.emulatorHosts)||void 0===z?void 0:z[ue]},Gn=ue=>{const H=vn(ue);if(!H)return;const z=H.lastIndexOf(":");if(z<=0||z+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const G=parseInt(H.substring(z+1),10);return"["===H[0]?[H.substring(1,z-1),G]:[H.substring(0,z),G]},Ge=()=>{var ue;return null===(ue=qt())||void 0===ue?void 0:ue.config},ot=ue=>{var H;return null===(H=qt())||void 0===H?void 0:H[`_${ue}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,z)=>{this.resolve=H,this.reject=z})}wrapCallback(H){return(z,G)=>{z?this.reject(z):this.resolve(G),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(z):H(z,G))}}}function At(ue,H){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=H||"demo-project",q=ue.iat||0,De=ue.sub||ue.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:q,exp:q+3600,auth_time:q,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[qe(JSON.stringify({alg:"none",type:"JWT"})),qe(JSON.stringify(Ye)),""].join(".")}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function In(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function xr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){const ue=St();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function en(){return!function Je(){var ue;const H=null===(ue=qt())||void 0===ue?void 0:ue.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((ue,H)=>{try{let z=!0;const G="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(G);q.onsuccess=()=>{q.result.close(),z||self.indexedDB.deleteDatabase(G),ue(!0)},q.onupgradeneeded=()=>{z=!1},q.onerror=()=>{var De;H((null===(De=q.error)||void 0===De?void 0:De.message)||"")}}catch(z){H(z)}})}class Q extends Error{constructor(H,z,G){super(z),this.code=H,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(H,z,G){this.service=H,this.serviceName=z,this.errors=G}create(H,...z){const G=z[0]||{},q=`${this.service}/${H}`,De=this.errors[H],Ye=De?function Be(ue,H){return ue.replace(ht,(z,G)=>{const q=H[G];return null!=q?String(q):`<${G}?>`})}(De,G):"Error";return new Q(q,`${this.serviceName}: ${Ye} (${q}).`,G)}}const ht=/\{\$([^}]+)}/g;function or(ue){for(const H in ue)if(Object.prototype.hasOwnProperty.call(ue,H))return!1;return!0}function Ai(ue,H){if(ue===H)return!0;const z=Object.keys(ue),G=Object.keys(H);for(const q of z){if(!G.includes(q))return!1;const De=ue[q],Ye=H[q];if(Jt(De)&&Jt(Ye)){if(!Ai(De,Ye))return!1}else if(De!==Ye)return!1}for(const q of G)if(!z.includes(q))return!1;return!0}function Jt(ue){return null!==ue&&"object"==typeof ue}function mt(ue){const H=[];for(const[z,G]of Object.entries(ue))Array.isArray(G)?G.forEach(q=>{H.push(encodeURIComponent(z)+"="+encodeURIComponent(q))}):H.push(encodeURIComponent(z)+"="+encodeURIComponent(G));return H.length?"&"+H.join("&"):""}function on(ue,H){const z=new ft(ue,H);return z.subscribe.bind(z)}class ft{constructor(H,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{H(this)}).catch(G=>{this.error(G)})}next(H){this.forEachObserver(z=>{z.next(H)})}error(H){this.forEachObserver(z=>{z.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,z,G){let q;if(void 0===H&&void 0===z&&void 0===G)throw new Error("Missing Observer.");q=function hr(ue,H){if("object"!=typeof ue||null===ue)return!1;for(const z of H)if(z in ue&&"function"==typeof ue[z])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:z,complete:G},void 0===q.next&&(q.next=Xn),void 0===q.error&&(q.error=Xn),void 0===q.complete&&(q.complete=Xn);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),De}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,H)}sendOne(H,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{z(this.observers[H])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function Ki(ue){return ue&&ue._delegate?ue._delegate:ue}},7035:(Zt,tt,Z)=>{var R=Z(6593),fe=Z(5920),He=Z(4946);const Ue=[{path:"",loadChildren:()=>Z.e(519).then(Z.bind(Z,1519)).then(Se=>Se.BienvenidaModule)},{path:"login",loadChildren:()=>Promise.all([Z.e(95),Z.e(560)]).then(Z.bind(Z,3560)).then(Se=>Se.LoginModule)},{path:"registro",loadChildren:()=>Promise.all([Z.e(95),Z.e(118)]).then(Z.bind(Z,2118)).then(Se=>Se.RegistroModule)}];let ie=(()=>{class Se{static#e=this.\u0275fac=function(rt){return new(rt||Se)};static#t=this.\u0275mod=He.oAB({type:Se});static#n=this.\u0275inj=He.cJS({imports:[fe.Bz.forRoot(Ue),fe.Bz]})}return Se})(),ae=(()=>{class Se{constructor(){this.title="clinica-online"}navbarButtons(nt){}logout(){}static#e=this.\u0275fac=function(rt){return new(rt||Se)};static#t=this.\u0275cmp=He.Xpm({type:Se,selectors:[["app-root"]],decls:1,vars:0,template:function(rt,Pt){1&rt&&He._UZ(0,"router-outlet")},dependencies:[fe.lC]})}return Se})();var xe=Z(721),yt=Z(90),qe=Z(2163),ce=Z(5017);let de=(()=>{class Se{static#e=this.\u0275fac=function(rt){return new(rt||Se)};static#t=this.\u0275mod=He.oAB({type:Se,bootstrap:[ae]});static#n=this.\u0275inj=He.cJS({imports:[R.b2,ie,fe.Bz,(0,xe.hX)(()=>(0,xe.ZF)({projectId:"clinica-online-47d16",appId:"1:406208429027:web:12dee30e70d237e3d43ed6",storageBucket:"clinica-online-47d16.appspot.com",apiKey:"AIzaSyB9VGncLe0OChtq_Orfa-E4ntVqOCek2h4",authDomain:"clinica-online-47d16.firebaseapp.com",messagingSenderId:"406208429027",measurementId:"G-BSJF70LDNX"})),(0,yt.AR)(()=>(0,yt.v0)()),(0,qe.Cm)(()=>(0,qe.ad)()),(0,ce.Vq)(()=>(0,ce.cF)())]})}return Se})();R.q6().bootstrapModule(de).catch(Se=>console.error(Se))},5619:(Zt,tt,Z)=>{Z.d(tt,{X:()=>fe});var R=Z(8645);class fe extends R.x{constructor(Ue){super(),this._value=Ue}get value(){return this.getValue()}_subscribe(Ue){const ie=super._subscribe(Ue);return!ie.closed&&Ue.next(this._value),ie}getValue(){const{hasError:Ue,thrownError:ie,_value:ae}=this;if(Ue)throw ie;return this._throwIfClosed(),ae}next(Ue){super.next(this._value=Ue)}}},5592:(Zt,tt,Z)=>{Z.d(tt,{y:()=>yt});var R=Z(305),fe=Z(7394),He=Z(4850),Ue=Z(8407),ie=Z(2653),ae=Z(4674),xe=Z(1441);let yt=(()=>{class Se{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const rt=new Se;return rt.source=this,rt.operator=nt,rt}subscribe(nt,rt,Pt){const Wt=function de(Se){return Se&&Se instanceof R.Lv||function ce(Se){return Se&&(0,ae.m)(Se.next)&&(0,ae.m)(Se.error)&&(0,ae.m)(Se.complete)}(Se)&&(0,fe.Nn)(Se)}(nt)?nt:new R.Hp(nt,rt,Pt);return(0,xe.x)(()=>{const{operator:qt,source:vn}=this;Wt.add(qt?qt.call(Wt,vn):vn?this._subscribe(Wt):this._trySubscribe(Wt))}),Wt}_trySubscribe(nt){try{return this._subscribe(nt)}catch(rt){nt.error(rt)}}forEach(nt,rt){return new(rt=qe(rt))((Pt,Wt)=>{const qt=new R.Hp({next:vn=>{try{nt(vn)}catch(Gn){Wt(Gn),qt.unsubscribe()}},error:Wt,complete:Pt});this.subscribe(qt)})}_subscribe(nt){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(nt)}[He.L](){return this}pipe(...nt){return(0,Ue.U)(nt)(this)}toPromise(nt){return new(nt=qe(nt))((rt,Pt)=>{let Wt;this.subscribe(qt=>Wt=qt,qt=>Pt(qt),()=>rt(Wt))})}}return Se.create=lt=>new Se(lt),Se})();function qe(Se){var lt;return null!==(lt=Se??ie.config.Promise)&&void 0!==lt?lt:Promise}},8645:(Zt,tt,Z)=>{Z.d(tt,{x:()=>xe});var R=Z(5592),fe=Z(7394);const Ue=(0,Z(2306).d)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=Z(9039),ae=Z(1441);let xe=(()=>{class qe extends R.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const Se=new yt(this,this);return Se.operator=de,Se}_throwIfClosed(){if(this.closed)throw new Ue}next(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(de)}})}error(de){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:Se}=this;for(;Se.length;)Se.shift().error(de)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:Se,isStopped:lt,observers:nt}=this;return Se||lt?fe.Lc:(this.currentObservers=null,nt.push(de),new fe.w0(()=>{this.currentObservers=null,(0,ie.P)(nt,de)}))}_checkFinalizedStatuses(de){const{hasError:Se,thrownError:lt,isStopped:nt}=this;Se?de.error(lt):nt&&de.complete()}asObservable(){const de=new R.y;return de.source=this,de}}return qe.create=(ce,de)=>new yt(ce,de),qe})();class yt extends xe{constructor(ce,de){super(),this.destination=ce,this.source=de}next(ce){var de,Se;null===(Se=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===Se||Se.call(de,ce)}error(ce){var de,Se;null===(Se=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===Se||Se.call(de,ce)}complete(){var ce,de;null===(de=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===de||de.call(ce)}_subscribe(ce){var de,Se;return null!==(Se=null===(de=this.source)||void 0===de?void 0:de.subscribe(ce))&&void 0!==Se?Se:fe.Lc}}},305:(Zt,tt,Z)=>{Z.d(tt,{Hp:()=>Pt,Lv:()=>Se});var R=Z(4674),fe=Z(7394),He=Z(2653),Ue=Z(3894),ie=Z(2420);const ae=qe("C",void 0,void 0);function qe(Ge,ot,Qe){return{kind:Ge,value:ot,error:Qe}}var ce=Z(7599),de=Z(1441);class Se extends fe.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,fe.Nn)(ot)&&ot.add(this)):this.destination=Gn}static create(ot,Qe,At){return new Pt(ot,Qe,At)}next(ot){this.isStopped?vn(function yt(Ge){return qe("N",Ge,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?vn(function xe(Ge){return qe("E",void 0,Ge)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?vn(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function nt(Ge,ot){return lt.call(Ge,ot)}class rt{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(ot)}catch(At){Wt(At)}}error(ot){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(ot)}catch(At){Wt(At)}else Wt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Qe){Wt(Qe)}}}class Pt extends Se{constructor(ot,Qe,At){let St;if(super(),(0,R.m)(ot)||!ot)St={next:ot??void 0,error:Qe??void 0,complete:At??void 0};else{let vt;this&&He.config.useDeprecatedNextContext?(vt=Object.create(ot),vt.unsubscribe=()=>this.unsubscribe(),St={next:ot.next&&nt(ot.next,vt),error:ot.error&&nt(ot.error,vt),complete:ot.complete&&nt(ot.complete,vt)}):St=ot}this.destination=new rt(St)}}function Wt(Ge){He.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(Ge):(0,Ue.h)(Ge)}function vn(Ge,ot){const{onStoppedNotification:Qe}=He.config;Qe&&ce.z.setTimeout(()=>Qe(Ge,ot))}const Gn={closed:!0,next:ie.Z,error:function qt(Ge){throw Ge},complete:ie.Z}},7394:(Zt,tt,Z)=>{Z.d(tt,{Lc:()=>ae,w0:()=>ie,Nn:()=>xe});var R=Z(4674);const He=(0,Z(2306).d)(qe=>function(de){qe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((Se,lt)=>`${lt+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var Ue=Z(9039);class ie{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const nt of de)nt.remove(this);else de.remove(this);const{initialTeardown:Se}=this;if((0,R.m)(Se))try{Se()}catch(nt){ce=nt instanceof He?nt.errors:[nt]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const nt of lt)try{yt(nt)}catch(rt){ce=ce??[],rt instanceof He?ce=[...ce,...rt.errors]:ce.push(rt)}}if(ce)throw new He(ce)}}add(ce){var de;if(ce&&ce!==this)if(this.closed)yt(ce);else{if(ce instanceof ie){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ce)}}_hasParent(ce){const{_parentage:de}=this;return de===ce||Array.isArray(de)&&de.includes(ce)}_addParent(ce){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ce),de):de?[de,ce]:ce}_removeParent(ce){const{_parentage:de}=this;de===ce?this._parentage=null:Array.isArray(de)&&(0,Ue.P)(de,ce)}remove(ce){const{_finalizers:de}=this;de&&(0,Ue.P)(de,ce),ce instanceof ie&&ce._removeParent(this)}}ie.EMPTY=(()=>{const qe=new ie;return qe.closed=!0,qe})();const ae=ie.EMPTY;function xe(qe){return qe instanceof ie||qe&&"closed"in qe&&(0,R.m)(qe.remove)&&(0,R.m)(qe.add)&&(0,R.m)(qe.unsubscribe)}function yt(qe){(0,R.m)(qe)?qe():qe.unsubscribe()}},2653:(Zt,tt,Z)=>{Z.d(tt,{config:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Zt,tt,Z)=>{Z.d(tt,{E:()=>fe});const fe=new(Z(5592).y)(ie=>ie.complete())},2459:(Zt,tt,Z)=>{Z.d(tt,{D:()=>ot});var R=Z(4829),fe=Z(3093),He=Z(5137),ae=Z(5592),yt=Z(4971),qe=Z(4674),ce=Z(7103);function Se(Qe,At){if(!Qe)throw new Error("Iterable cannot be null");return new ae.y(St=>{(0,ce.f)(St,At,()=>{const vt=Qe[Symbol.asyncIterator]();(0,ce.f)(St,At,()=>{vt.next().then(Je=>{Je.done?St.complete():St.next(Je.value)})},0,!0)})})}var lt=Z(8382),nt=Z(4026),rt=Z(4266),Pt=Z(3664),Wt=Z(5726),qt=Z(9853),vn=Z(541);function ot(Qe,At){return At?function Ge(Qe,At){if(null!=Qe){if((0,lt.c)(Qe))return function Ue(Qe,At){return(0,R.Xf)(Qe).pipe((0,He.R)(At),(0,fe.Q)(At))}(Qe,At);if((0,rt.z)(Qe))return function xe(Qe,At){return new ae.y(St=>{let vt=0;return At.schedule(function(){vt===Qe.length?St.complete():(St.next(Qe[vt++]),St.closed||this.schedule())})})}(Qe,At);if((0,nt.t)(Qe))return function ie(Qe,At){return(0,R.Xf)(Qe).pipe((0,He.R)(At),(0,fe.Q)(At))}(Qe,At);if((0,Wt.D)(Qe))return Se(Qe,At);if((0,Pt.T)(Qe))return function de(Qe,At){return new ae.y(St=>{let vt;return(0,ce.f)(St,At,()=>{vt=Qe[yt.h](),(0,ce.f)(St,At,()=>{let Je,$t;try{({value:Je,done:$t}=vt.next())}catch(In){return void St.error(In)}$t?St.complete():St.next(Je)},0,!0)}),()=>(0,qe.m)(vt?.return)&&vt.return()})}(Qe,At);if((0,vn.L)(Qe))return function Gn(Qe,At){return Se((0,vn.Q)(Qe),At)}(Qe,At)}throw(0,qt.z)(Qe)}(Qe,At):(0,R.Xf)(Qe)}},4829:(Zt,tt,Z)=>{Z.d(tt,{Xf:()=>lt});var R=Z(7582),fe=Z(4266),He=Z(4026),Ue=Z(5592),ie=Z(8382),ae=Z(5726),xe=Z(9853),yt=Z(3664),qe=Z(541),ce=Z(4674),de=Z(3894),Se=Z(4850);function lt(Ge){if(Ge instanceof Ue.y)return Ge;if(null!=Ge){if((0,ie.c)(Ge))return function nt(Ge){return new Ue.y(ot=>{const Qe=Ge[Se.L]();if((0,ce.m)(Qe.subscribe))return Qe.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,fe.z)(Ge))return function rt(Ge){return new Ue.y(ot=>{for(let Qe=0;Qe<Ge.length&&!ot.closed;Qe++)ot.next(Ge[Qe]);ot.complete()})}(Ge);if((0,He.t)(Ge))return function Pt(Ge){return new Ue.y(ot=>{Ge.then(Qe=>{ot.closed||(ot.next(Qe),ot.complete())},Qe=>ot.error(Qe)).then(null,de.h)})}(Ge);if((0,ae.D)(Ge))return qt(Ge);if((0,yt.T)(Ge))return function Wt(Ge){return new Ue.y(ot=>{for(const Qe of Ge)if(ot.next(Qe),ot.closed)return;ot.complete()})}(Ge);if((0,qe.L)(Ge))return function vn(Ge){return qt((0,qe.Q)(Ge))}(Ge)}throw(0,xe.z)(Ge)}function qt(Ge){return new Ue.y(ot=>{(function Gn(Ge,ot){var Qe,At,St,vt;return(0,R.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,R.KL)(Ge);!(At=yield Qe.next()).done;)if(ot.next(At.value),ot.closed)return}catch(Je){St={error:Je}}finally{try{At&&!At.done&&(vt=Qe.return)&&(yield vt.call(Qe))}finally{if(St)throw St.error}}ot.complete()})})(Ge,ot).catch(Qe=>ot.error(Qe))})}},2096:(Zt,tt,Z)=>{Z.d(tt,{of:()=>He});var R=Z(4564),fe=Z(2459);function He(...Ue){const ie=(0,R.yG)(Ue);return(0,fe.D)(Ue,ie)}},8251:(Zt,tt,Z)=>{Z.d(tt,{x:()=>fe});var R=Z(305);function fe(Ue,ie,ae,xe,yt){return new He(Ue,ie,ae,xe,yt)}class He extends R.Lv{constructor(ie,ae,xe,yt,qe,ce){super(ie),this.onFinalize=qe,this.shouldUnsubscribe=ce,this._next=ae?function(de){try{ae(de)}catch(Se){ie.error(Se)}}:super._next,this._error=yt?function(de){try{yt(de)}catch(Se){ie.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(de){ie.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},7398:(Zt,tt,Z)=>{Z.d(tt,{U:()=>He});var R=Z(9360),fe=Z(8251);function He(Ue,ie){return(0,R.e)((ae,xe)=>{let yt=0;ae.subscribe((0,fe.x)(xe,qe=>{xe.next(Ue.call(ie,qe,yt++))}))})}},7537:(Zt,tt,Z)=>{Z.d(tt,{J:()=>He});var R=Z(1631),fe=Z(2737);function He(Ue=1/0){return(0,R.z)(fe.y,Ue)}},1631:(Zt,tt,Z)=>{Z.d(tt,{z:()=>yt});var R=Z(7398),fe=Z(4829),He=Z(9360),Ue=Z(7103),ie=Z(8251),xe=Z(4674);function yt(qe,ce,de=1/0){return(0,xe.m)(ce)?yt((Se,lt)=>(0,R.U)((nt,rt)=>ce(Se,nt,lt,rt))((0,fe.Xf)(qe(Se,lt))),de):("number"==typeof ce&&(de=ce),(0,He.e)((Se,lt)=>function ae(qe,ce,de,Se,lt,nt,rt,Pt){const Wt=[];let qt=0,vn=0,Gn=!1;const Ge=()=>{Gn&&!Wt.length&&!qt&&ce.complete()},ot=At=>qt<Se?Qe(At):Wt.push(At),Qe=At=>{nt&&ce.next(At),qt++;let St=!1;(0,fe.Xf)(de(At,vn++)).subscribe((0,ie.x)(ce,vt=>{lt?.(vt),nt?ot(vt):ce.next(vt)},()=>{St=!0},void 0,()=>{if(St)try{for(qt--;Wt.length&&qt<Se;){const vt=Wt.shift();rt?(0,Ue.f)(ce,rt,()=>Qe(vt)):Qe(vt)}Ge()}catch(vt){ce.error(vt)}}))};return qe.subscribe((0,ie.x)(ce,ot,()=>{Gn=!0,Ge()})),()=>{Pt?.()}}(Se,lt,qe,de)))}},3093:(Zt,tt,Z)=>{Z.d(tt,{Q:()=>Ue});var R=Z(7103),fe=Z(9360),He=Z(8251);function Ue(ie,ae=0){return(0,fe.e)((xe,yt)=>{xe.subscribe((0,He.x)(yt,qe=>(0,R.f)(yt,ie,()=>yt.next(qe),ae),()=>(0,R.f)(yt,ie,()=>yt.complete(),ae),qe=>(0,R.f)(yt,ie,()=>yt.error(qe),ae)))})}},5137:(Zt,tt,Z)=>{Z.d(tt,{R:()=>fe});var R=Z(9360);function fe(He,Ue=0){return(0,R.e)((ie,ae)=>{ae.add(He.schedule(()=>ie.subscribe(ae),Ue))})}},4664:(Zt,tt,Z)=>{Z.d(tt,{w:()=>Ue});var R=Z(4829),fe=Z(9360),He=Z(8251);function Ue(ie,ae){return(0,fe.e)((xe,yt)=>{let qe=null,ce=0,de=!1;const Se=()=>de&&!qe&&yt.complete();xe.subscribe((0,He.x)(yt,lt=>{qe?.unsubscribe();let nt=0;const rt=ce++;(0,R.Xf)(ie(lt,rt)).subscribe(qe=(0,He.x)(yt,Pt=>yt.next(ae?ae(lt,Pt,rt,nt++):Pt),()=>{qe=null,Se()}))},()=>{de=!0,Se()}))})}},9397:(Zt,tt,Z)=>{Z.d(tt,{b:()=>ie});var R=Z(4674),fe=Z(9360),He=Z(8251),Ue=Z(2737);function ie(ae,xe,yt){const qe=(0,R.m)(ae)||xe||yt?{next:ae,error:xe,complete:yt}:ae;return qe?(0,fe.e)((ce,de)=>{var Se;null===(Se=qe.subscribe)||void 0===Se||Se.call(qe);let lt=!0;ce.subscribe((0,He.x)(de,nt=>{var rt;null===(rt=qe.next)||void 0===rt||rt.call(qe,nt),de.next(nt)},()=>{var nt;lt=!1,null===(nt=qe.complete)||void 0===nt||nt.call(qe),de.complete()},nt=>{var rt;lt=!1,null===(rt=qe.error)||void 0===rt||rt.call(qe,nt),de.error(nt)},()=>{var nt,rt;lt&&(null===(nt=qe.unsubscribe)||void 0===nt||nt.call(qe)),null===(rt=qe.finalize)||void 0===rt||rt.call(qe)}))}):Ue.y}},7599:(Zt,tt,Z)=>{Z.d(tt,{z:()=>R});const R={setTimeout(fe,He,...Ue){const{delegate:ie}=R;return ie?.setTimeout?ie.setTimeout(fe,He,...Ue):setTimeout(fe,He,...Ue)},clearTimeout(fe){const{delegate:He}=R;return(He?.clearTimeout||clearTimeout)(fe)},delegate:void 0}},4971:(Zt,tt,Z)=>{Z.d(tt,{h:()=>fe});const fe=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Zt,tt,Z)=>{Z.d(tt,{L:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Zt,tt,Z)=>{Z.d(tt,{_6:()=>ae,jO:()=>Ue,yG:()=>ie});var R=Z(4674);function He(xe){return xe[xe.length-1]}function Ue(xe){return(0,R.m)(He(xe))?xe.pop():void 0}function ie(xe){return function fe(xe){return xe&&(0,R.m)(xe.schedule)}(He(xe))?xe.pop():void 0}function ae(xe,yt){return"number"==typeof He(xe)?xe.pop():yt}},7453:(Zt,tt,Z)=>{Z.d(tt,{D:()=>ie});const{isArray:R}=Array,{getPrototypeOf:fe,prototype:He,keys:Ue}=Object;function ie(xe){if(1===xe.length){const yt=xe[0];if(R(yt))return{args:yt,keys:null};if(function ae(xe){return xe&&"object"==typeof xe&&fe(xe)===He}(yt)){const qe=Ue(yt);return{args:qe.map(ce=>yt[ce]),keys:qe}}}return{args:xe,keys:null}}},9039:(Zt,tt,Z)=>{function R(fe,He){if(fe){const Ue=fe.indexOf(He);0<=Ue&&fe.splice(Ue,1)}}Z.d(tt,{P:()=>R})},2306:(Zt,tt,Z)=>{function R(fe){const Ue=fe(ie=>{Error.call(ie),ie.stack=(new Error).stack});return Ue.prototype=Object.create(Error.prototype),Ue.prototype.constructor=Ue,Ue}Z.d(tt,{d:()=>R})},2714:(Zt,tt,Z)=>{function R(fe,He){return fe.reduce((Ue,ie,ae)=>(Ue[ie]=He[ae],Ue),{})}Z.d(tt,{n:()=>R})},1441:(Zt,tt,Z)=>{Z.d(tt,{O:()=>Ue,x:()=>He});var R=Z(2653);let fe=null;function He(ie){if(R.config.useDeprecatedSynchronousErrorHandling){const ae=!fe;if(ae&&(fe={errorThrown:!1,error:null}),ie(),ae){const{errorThrown:xe,error:yt}=fe;if(fe=null,xe)throw yt}}else ie()}function Ue(ie){R.config.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=ie)}},7103:(Zt,tt,Z)=>{function R(fe,He,Ue,ie=0,ae=!1){const xe=He.schedule(function(){Ue(),ae?fe.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(fe.add(xe),!ae)return xe}Z.d(tt,{f:()=>R})},2737:(Zt,tt,Z)=>{function R(fe){return fe}Z.d(tt,{y:()=>R})},4266:(Zt,tt,Z)=>{Z.d(tt,{z:()=>R});const R=fe=>fe&&"number"==typeof fe.length&&"function"!=typeof fe},5726:(Zt,tt,Z)=>{Z.d(tt,{D:()=>fe});var R=Z(4674);function fe(He){return Symbol.asyncIterator&&(0,R.m)(He?.[Symbol.asyncIterator])}},4674:(Zt,tt,Z)=>{function R(fe){return"function"==typeof fe}Z.d(tt,{m:()=>R})},8382:(Zt,tt,Z)=>{Z.d(tt,{c:()=>He});var R=Z(4850),fe=Z(4674);function He(Ue){return(0,fe.m)(Ue[R.L])}},3664:(Zt,tt,Z)=>{Z.d(tt,{T:()=>He});var R=Z(4971),fe=Z(4674);function He(Ue){return(0,fe.m)(Ue?.[R.h])}},4026:(Zt,tt,Z)=>{Z.d(tt,{t:()=>fe});var R=Z(4674);function fe(He){return(0,R.m)(He?.then)}},541:(Zt,tt,Z)=>{Z.d(tt,{L:()=>Ue,Q:()=>He});var R=Z(7582),fe=Z(4674);function He(ie){return(0,R.FC)(this,arguments,function*(){const xe=ie.getReader();try{for(;;){const{value:yt,done:qe}=yield(0,R.qq)(xe.read());if(qe)return yield(0,R.qq)(void 0);yield yield(0,R.qq)(yt)}}finally{xe.releaseLock()}})}function Ue(ie){return(0,fe.m)(ie?.getReader)}},9360:(Zt,tt,Z)=>{Z.d(tt,{A:()=>fe,e:()=>He});var R=Z(4674);function fe(Ue){return(0,R.m)(Ue?.lift)}function He(Ue){return ie=>{if(fe(ie))return ie.lift(function(ae){try{return Ue(ae,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Zt,tt,Z)=>{Z.d(tt,{Z:()=>Ue});var R=Z(7398);const{isArray:fe}=Array;function Ue(ie){return(0,R.U)(ae=>function He(ie,ae){return fe(ae)?ie(...ae):ie(ae)}(ie,ae))}},2420:(Zt,tt,Z)=>{function R(){}Z.d(tt,{Z:()=>R})},8407:(Zt,tt,Z)=>{Z.d(tt,{U:()=>He,z:()=>fe});var R=Z(2737);function fe(...Ue){return He(Ue)}function He(Ue){return 0===Ue.length?R.y:1===Ue.length?Ue[0]:function(ae){return Ue.reduce((xe,yt)=>yt(xe),ae)}}},3894:(Zt,tt,Z)=>{Z.d(tt,{h:()=>He});var R=Z(2653),fe=Z(7599);function He(Ue){fe.z.setTimeout(()=>{const{onUnhandledError:ie}=R.config;if(!ie)throw Ue;ie(Ue)})}},9853:(Zt,tt,Z)=>{function R(fe){return new TypeError(`You provided ${null!==fe&&"object"==typeof fe?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(tt,{z:()=>R})},6814:(Zt,tt,Z)=>{Z.d(tt,{Do:()=>Pt,EM:()=>Ur,HT:()=>Ue,JF:()=>Rr,K0:()=>ae,Mx:()=>nn,O5:()=>Ds,PM:()=>un,S$:()=>lt,V_:()=>yt,Ye:()=>Wt,b0:()=>rt,bD:()=>Bi,ez:()=>Cs,mk:()=>jn,q:()=>He,w_:()=>ie});var R=Z(4946);let fe=null;function He(){return fe}function Ue(w){fe||(fe=w)}class ie{}const ae=new R.OlP("DocumentToken");let xe=(()=>{class w{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||w)};static#t=this.\u0275prov=R.Yz7({token:w,factory:function(){return(0,R.f3M)(qe)},providedIn:"platform"})}return w})();const yt=new R.OlP("Location Initialized");let qe=(()=>{class w extends xe{constructor(){super(),this._doc=(0,R.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return He().getBaseHref(this._doc)}onPopState(P){const F=He().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",P,!1),()=>F.removeEventListener("popstate",P)}onHashChange(P){const F=He().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",P,!1),()=>F.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,F,ee){this._history.pushState(P,F,ee)}replaceState(P,F,ee){this._history.replaceState(P,F,ee)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||w)};static#t=this.\u0275prov=R.Yz7({token:w,factory:function(){return new w},providedIn:"platform"})}return w})();function ce(w,U){if(0==w.length)return U;if(0==U.length)return w;let P=0;return w.endsWith("/")&&P++,U.startsWith("/")&&P++,2==P?w+U.substring(1):1==P?w+U:w+"/"+U}function de(w){const U=w.match(/#|\?|$/),P=U&&U.index||w.length;return w.slice(0,P-("/"===w[P-1]?1:0))+w.slice(P)}function Se(w){return w&&"?"!==w[0]?"?"+w:w}let lt=(()=>{class w{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||w)};static#t=this.\u0275prov=R.Yz7({token:w,factory:function(){return(0,R.f3M)(rt)},providedIn:"root"})}return w})();const nt=new R.OlP("appBaseHref");let rt=(()=>{class w extends lt{constructor(P,F){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,R.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ce(this._baseHref,P)}path(P=!1){const F=this._platformLocation.pathname+Se(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&P?`${F}${ee}`:F}pushState(P,F,ee,ke){const Ze=this.prepareExternalUrl(ee+Se(ke));this._platformLocation.pushState(P,F,Ze)}replaceState(P,F,ee,ke){const Ze=this.prepareExternalUrl(ee+Se(ke));this._platformLocation.replaceState(P,F,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(F){return new(F||w)(R.LFG(xe),R.LFG(nt,8))};static#t=this.\u0275prov=R.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Pt=(()=>{class w extends lt{constructor(P,F){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(P){const F=ce(this._baseHref,P);return F.length>0?"#"+F:F}pushState(P,F,ee,ke){let Ze=this.prepareExternalUrl(ee+Se(ke));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(P,F,Ze)}replaceState(P,F,ee,ke){let Ze=this.prepareExternalUrl(ee+Se(ke));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(P,F,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(F){return new(F||w)(R.LFG(xe),R.LFG(nt,8))};static#t=this.\u0275prov=R.Yz7({token:w,factory:w.\u0275fac})}return w})(),Wt=(()=>{class w{constructor(P){this._subject=new R.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const F=this._locationStrategy.getBaseHref();this._basePath=function Ge(w){if(new RegExp("^(https?:)?//").test(w)){const[,P]=w.split(/\/\/[^\/]+/);return P}return w}(de(Gn(F))),this._locationStrategy.onPopState(ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:ee.state,type:ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,F=""){return this.path()==this.normalize(P+Se(F))}normalize(P){return w.stripTrailingSlash(function vn(w,U){if(!w||!U.startsWith(w))return U;const P=U.substring(w.length);return""===P||["/",";","?","#"].includes(P[0])?P:U}(this._basePath,Gn(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,F="",ee=null){this._locationStrategy.pushState(ee,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Se(F)),ee)}replaceState(P,F="",ee=null){this._locationStrategy.replaceState(ee,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Se(F)),ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",F){this._urlChangeListeners.forEach(ee=>ee(P,F))}subscribe(P,F,ee){return this._subject.subscribe({next:P,error:F,complete:ee})}static#e=this.normalizeQueryParams=Se;static#t=this.joinWithSlash=ce;static#n=this.stripTrailingSlash=de;static#r=this.\u0275fac=function(F){return new(F||w)(R.LFG(lt))};static#i=this.\u0275prov=R.Yz7({token:w,factory:function(){return function qt(){return new Wt((0,R.LFG)(lt))}()},providedIn:"root"})}return w})();function Gn(w){return w.replace(/\/index.html$/,"")}function nn(w,U){U=encodeURIComponent(U);for(const P of w.split(";")){const F=P.indexOf("="),[ee,ke]=-1==F?[P,""]:[P.slice(0,F),P.slice(F+1)];if(ee.trim()===U)return decodeURIComponent(ke)}return null}const rn=/\s+/,Kt=[];let jn=(()=>{class w{constructor(P,F,ee,ke){this._iterableDiffers=P,this._keyValueDiffers=F,this._ngEl=ee,this._renderer=ke,this.initialClasses=Kt,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(rn):Kt}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(rn):P}ngDoCheck(){for(const F of this.initialClasses)this._updateState(F,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const F of P)this._updateState(F,!0);else if(null!=P)for(const F of Object.keys(P))this._updateState(F,!!P[F]);this._applyStateDiff()}_updateState(P,F){const ee=this.stateMap.get(P);void 0!==ee?(ee.enabled!==F&&(ee.changed=!0,ee.enabled=F),ee.touched=!0):this.stateMap.set(P,{enabled:F,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const F=P[0],ee=P[1];ee.changed?(this._toggleClass(F,ee.enabled),ee.changed=!1):ee.touched||(ee.enabled&&this._toggleClass(F,!1),this.stateMap.delete(F)),ee.touched=!1}}_toggleClass(P,F){(P=P.trim()).length>0&&P.split(rn).forEach(ee=>{F?this._renderer.addClass(this._ngEl.nativeElement,ee):this._renderer.removeClass(this._ngEl.nativeElement,ee)})}static#e=this.\u0275fac=function(F){return new(F||w)(R.Y36(R.ZZ4),R.Y36(R.aQg),R.Y36(R.SBq),R.Y36(R.Qsj))};static#t=this.\u0275dir=R.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return w})(),Ds=(()=>{class w{constructor(P,F){this._viewContainer=P,this._context=new Wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){os("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){os("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,F){return!0}static#e=this.\u0275fac=function(F){return new(F||w)(R.Y36(R.s_b),R.Y36(R.Rgc))};static#t=this.\u0275dir=R.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return w})();class Wn{constructor(){this.$implicit=null,this.ngIf=null}}function os(w,U){if(U&&!U.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,R.AaK)(U)}'.`)}let Cs=(()=>{class w{static#e=this.\u0275fac=function(F){return new(F||w)};static#t=this.\u0275mod=R.oAB({type:w});static#n=this.\u0275inj=R.cJS({})}return w})();const Bi="browser",Ra="server";function un(w){return w===Ra}let Ur=(()=>{class w{static#e=this.\u0275prov=(0,R.Yz7)({token:w,providedIn:"root",factory:()=>new Un((0,R.LFG)(ae),window)})}return w})();class Un{constructor(U,P){this.document=U,this.window=P,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const P=function lr(w,U){const P=w.getElementById(U)||w.getElementsByName(U)[0];if(P)return P;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const F=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let ee=F.currentNode;for(;ee;){const ke=ee.shadowRoot;if(ke){const Ze=ke.getElementById(U)||ke.querySelector(`[name="${U}"]`);if(Ze)return Ze}ee=F.nextNode()}}return null}(this.document,U);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(U){this.supportsScrolling()&&(this.window.history.scrollRestoration=U)}scrollToElement(U){const P=U.getBoundingClientRect(),F=P.left+this.window.pageXOffset,ee=P.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(F-ke[0],ee-ke[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Rr{}},4946:(Zt,tt,Z)=>{Z.d(tt,{tb:()=>NI,AFp:()=>u_,ip1:()=>Mw,hGG:()=>HC,z2F:()=>dp,Ojb:()=>El,sBO:()=>bC,Sil:()=>qA,EJc:()=>zA,Xts:()=>uo,SBq:()=>bl,lqb:()=>Qa,qLn:()=>Dc,vpe:()=>Za,XFs:()=>Rt,OlP:()=>pe,zs3:()=>Da,ZZ4:()=>UI,aQg:()=>BI,soG:()=>my,YKP:()=>kT,h0i:()=>yh,PXZ:()=>vC,R0b:()=>ns,FiY:()=>bu,Lbi:()=>gf,g9A:()=>Xp,Qsj:()=>Ky,FYo:()=>dg,JOm:()=>rl,tp0:()=>Su,Rgc:()=>Im,dDg:()=>gC,eoX:()=>Uw,q4F:()=>Zy,GfV:()=>Qy,s_b:()=>py,ifc:()=>Rn,VuI:()=>eb,MMx:()=>FT,Lck:()=>b0,eFA:()=>Hw,Gpc:()=>vt,f3M:()=>Fn,$WT:()=>Ci,_c5:()=>$C,qFp:()=>nb,rg0:()=>ps,c2e:()=>xw,zSh:()=>pf,HDt:()=>Nw,wAp:()=>ap,vHH:()=>Ie,lri:()=>Fw,rWj:()=>Vw,cg1:()=>oI,kL8:()=>oT,dqk:()=>Ht,Z0I:()=>on,eJc:()=>wI,QGY:()=>Ll,F4k:()=>Xa,RDi:()=>My,AaK:()=>Qe,qOj:()=>L_,Xq5:()=>T,TTD:()=>uu,_Bn:()=>OT,jDz:()=>VT,xp6:()=>Cf,uIk:()=>yn,ekj:()=>im,Suo:()=>lw,Xpm:()=>co,lG2:()=>yi,Yz7:()=>mt,cJS:()=>wt,oAB:()=>Vi,Yjl:()=>Ui,Y36:()=>Rl,_UZ:()=>vs,qZA:()=>oh,TgZ:()=>Hu,n5z:()=>ud,LFG:()=>br,$8M:()=>Ii,$Z:()=>Eg,NdJ:()=>Hf,CRH:()=>dw,Q6J:()=>jf,DdM:()=>GT,VKq:()=>WT,iGM:()=>cw,P3R:()=>yl,YNc:()=>Bf,_uU:()=>um});var R=Z(8645),fe=Z(7394),He=Z(5592),Ue=Z(7537),ie=Z(4829),ae=Z(6232),xe=Z(4564),yt=Z(2459),ce=Z(5619),de=Z(2096),Se=Z(305),lt=Z(9360);function nt(t={}){const{connector:n=(()=>new R.x),resetOnError:i=!0,resetOnComplete:o=!0,resetOnRefCountZero:u=!0}=t;return d=>{let m,I,A,x=0,B=!1,J=!1;const ve=()=>{I?.unsubscribe(),I=void 0},Ce=()=>{ve(),m=A=void 0,B=J=!1},We=()=>{const dt=m;Ce(),dt?.unsubscribe()};return(0,lt.e)((dt,Mt)=>{x++,!J&&!B&&ve();const Gt=A=A??n();Mt.add(()=>{x--,0===x&&!J&&!B&&(I=rt(We,u))}),Gt.subscribe(Mt),!m&&x>0&&(m=new Se.Hp({next:st=>Gt.next(st),error:st=>{J=!0,ve(),I=rt(Ce,i,st),Gt.error(st)},complete:()=>{B=!0,ve(),I=rt(Ce,o),Gt.complete()}}),(0,ie.Xf)(dt).subscribe(m))})(d)}}function rt(t,n,...i){if(!0===n)return void t();if(!1===n)return;const o=new Se.Hp({next:()=>{o.unsubscribe(),t()}});return(0,ie.Xf)(n(...i)).subscribe(o)}var Pt=Z(4664),Wt=Z(2737),qt=Z(8251);function Gn(t,n){return t===n}function Ge(t){for(let n in t)if(t[n]===Ge)return n;throw Error("Could not find renamed property on target object.")}function ot(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Qe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Qe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function At(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const St=Ge({__forward_ref__:Ge});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return Qe(this())},t}function Je(t){return $t(t)?t():t}function $t(t){return"function"==typeof t&&t.hasOwnProperty(St)&&t.__forward_ref__===vt}function In(t){return t&&!!t.\u0275providers}const ct="https://g.co/ng/security#xss";class Ie extends Error{constructor(n,i){super(function Vt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function oe(t,n){throw new Ie(-201,!1)}function or(t,n){null==t&&function at(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ln(t){return ft(t,Xn)||ft(t,mn)}function on(t){return null!==ln(t)}function ft(t,n){return t.hasOwnProperty(n)?t[n]:null}function hr(t){return t&&(t.hasOwnProperty(gi)||t.hasOwnProperty(wo))?t[gi]:null}const Xn=Ge({\u0275prov:Ge}),gi=Ge({\u0275inj:Ge}),mn=Ge({ngInjectableDef:Ge}),wo=Ge({ngInjectorDef:Ge});var Rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Rt||{});let qi;function Nn(t){const n=qi;return qi=t,n}function On(t,n,i){const o=ln(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Rt.Optional?null:void 0!==n?n:void oe(Qe(t))}const Ht=globalThis;class pe{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=mt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zt={},Nt="__NG_DI_FLAG__",sn="ngTempTokenPath",fr=/\n/gm,is="__source";let kr;function Xr(t){const n=kr;return kr=t,n}function ws(t,n=Rt.Default){if(void 0===kr)throw new Ie(-203,!1);return null===kr?On(t,void 0,n):kr.get(t,n&Rt.Optional?null:void 0,n)}function br(t,n=Rt.Default){return(function Si(){return qi}()||ws)(Je(t),n)}function Fn(t,n=Rt.Default){return br(t,Le(n))}function Le(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ae(t){const n=[];for(let i=0;i<t.length;i++){const o=Je(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Ie(900,!1);let u,d=Rt.Default;for(let m=0;m<o.length;m++){const I=o[m],A=Ct(I);"number"==typeof A?-1===A?u=I.token:d|=A:u=I}n.push(br(u,d))}else n.push(br(o))}return n}function je(t,n){return t[Nt]=n,t.prototype[Nt]=n,t}function Ct(t){return t[Nt]}function Kt(t){return{toString:t}.toString()}var jn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jn||{}),Rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rn||{});const vr={},En=[],Sr=Ge({\u0275cmp:Ge}),ss=Ge({\u0275dir:Ge}),$o=Ge({\u0275pipe:Ge}),Ds=Ge({\u0275mod:Ge}),Wn=Ge({\u0275fac:Ge}),os=Ge({__NG_ELEMENT_ID__:Ge}),Pi=Ge({__NG_ENV_ID__:Ge});function mi(t,n,i){let o=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=n.length;if(u+d===o||t.charCodeAt(u+d)<=32)return u}i=u+1}}function as(t,n,i){let o=0;for(;o<i.length;){const u=i[o];if("number"==typeof u){if(0!==u)break;o++;const d=i[o++],m=i[o++],I=i[o++];t.setAttribute(n,m,I,d)}else{const d=u,m=i[++o];Ho(d)?t.setProperty(n,d,m):t.setAttribute(n,d,m),o++}}return o}function Lr(t){return 3===t||4===t||6===t}function Ho(t){return 64===t.charCodeAt(0)}function _i(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?i=u:0===i||Os(t,i,u,null,-1===i||2===i?n[++o]:null)}}return t}function Os(t,n,i,o,u){let d=0,m=t.length;if(-1===n)m=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===o)return void(null!==u&&(t[d+1]=u));if(o===t[d+1])return void(t[d+2]=u)}d++,null!==o&&d++,null!==u&&d++}-1!==m&&(t.splice(m,0,n),d=m+1),t.splice(d++,0,i),null!==o&&t.splice(d++,0,o),null!==u&&t.splice(d++,0,u)}const Zr="ng-template";function ir(t,n,i){let o=0,u=!0;for(;o<t.length;){let d=t[o++];if("string"==typeof d&&u){const m=t[o++];if(i&&"class"===d&&-1!==mi(m.toLowerCase(),n,0))return!0}else{if(1===d){for(;o<t.length&&"string"==typeof(d=t[o++]);)if(d.toLowerCase()===n)return!0;return!1}"number"==typeof d&&(u=!1)}}return!1}function Mi(t){return 4===t.type&&t.value!==Zr}function Vn(t,n,i){return n===(4!==t.type||i?t.value:Zr)}function Pn(t,n,i){let o=4;const u=t.attrs||[],d=function ba(t){for(let n=0;n<t.length;n++)if(Lr(t[n]))return n;return t.length}(u);let m=!1;for(let I=0;I<n.length;I++){const A=n[I];if("number"!=typeof A){if(!m)if(4&o){if(o=2|1&o,""!==A&&!Vn(t,A,i)||""===A&&1===n.length){if(Fr(o))return!1;m=!0}}else{const x=8&o?A:n[++I];if(8&o&&null!==t.attrs){if(!ir(t.attrs,x,i)){if(Fr(o))return!1;m=!0}continue}const J=us(8&o?"class":A,u,Mi(t),i);if(-1===J){if(Fr(o))return!1;m=!0;continue}if(""!==x){let ve;ve=J>d?"":u[J+1].toLowerCase();const Ce=8&o?ve:null;if(Ce&&-1!==mi(Ce,x,0)||2&o&&x!==ve){if(Fr(o))return!1;m=!0}}}}else{if(!m&&!Fr(o)&&!Fr(A))return!1;if(m&&Fr(A))continue;m=!1,o=A|1&o}}return Fr(o)||m}function Fr(t){return 0==(1&t)}function us(t,n,i,o){if(null===n)return-1;let u=0;if(o||!i){let d=!1;for(;u<n.length;){const m=n[u];if(m===t)return u;if(3===m||6===m)d=!0;else{if(1===m||2===m){let I=n[++u];for(;"string"==typeof I;)I=n[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=d?1:2}return-1}return function Vr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function ei(t,n,i=!1){for(let o=0;o<n.length;o++)if(Pn(t,n[o],i))return!0;return!1}function Li(t,n){return t?":not("+n.trim()+")":n}function Ar(t){let n=t[0],i=1,o=2,u="",d=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&o){const I=t[++i];u+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?u+="."+m:4&o&&(u+=" "+m);else""!==u&&!Fr(m)&&(n+=Li(d,u),u=""),o=m,d=d||!Fr(o);i++}return""!==u&&(n+=Li(d,u)),n}function co(t){return Kt(()=>{const n=cs(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rn.Emulated,styles:t.styles||En,_:null,schemas:t.schemas||null,tView:null,id:""};Cs(i);const o=t.dependencies;return i.directiveDefs=Bi(o,!1),i.pipeDefs=Bi(o,!0),i.id=function Zs(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function lo(t){return dn(t)||ur(t)}function Qi(t){return null!==t}function Vi(t){return Kt(()=>({type:t.type,bootstrap:t.bootstrap||En,declarations:t.declarations||En,imports:t.imports||En,exports:t.exports||En,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ti(t,n){if(null==t)return vr;const i={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),i[u]=o,n&&(n[u]=d)}return i}function yi(t){return Kt(()=>{const n=cs(t);return Cs(n),n})}function Ui(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function dn(t){return t[Sr]||null}function ur(t){return t[ss]||null}function tr(t){return t[$o]||null}function Ci(t){const n=dn(t)||ur(t)||tr(t);return null!==n&&n.standalone}function ci(t,n){const i=t[Ds]||null;if(!i&&!0===n)throw new Error(`Type ${Qe(t)} does not have '\u0275mod' property.`);return i}function cs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||vr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||En,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ti(t.inputs,n),outputs:ti(t.outputs)}}function Cs(t){t.features?.forEach(n=>n(t))}function Bi(t,n){if(!t)return null;const i=n?tr:lo;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(Qi)}const pr=0,Tt=1,un=2,cr=3,ji=4,bs=5,Ur=6,Un=7,lr=8,$n=9,Rr=10,cn=11,xi=12,ks=13,ls=14,Ir=15,hn=16,Tn=17,ni=18,Ls=19,Ys=20,Fs=21,Ss=22,Js=23,Ao=24,Dn=25,ua=1,ho=2,Br=7,Zi=9,jr=11;function Wr(t){return Array.isArray(t)&&"object"==typeof t[ua]}function k(t){return Array.isArray(t)&&!0===t[ua]}function V(t){return 0!=(4&t.flags)}function re(t){return t.componentOffset>-1}function ne(t){return 1==(1&t.flags)}function Ee(t){return!!t.template}function ze(t){return 0!=(512&t[un])}function js(t,n){return t.hasOwnProperty(Wn)?t[Wn]:null}let Mr=null,hs=!1;function Ni(t){const n=Mr;return Mr=t,n}const fn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function qo(t){if(!fo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ma(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Pa(t){t.dirty=!0,function da(t){if(void 0===t.liveConsumerNode)return;const n=hs;hs=!0;try{for(const i of t.liveConsumerNode)i.dirty||Pa(i)}finally{hs=n}}(t),t.consumerMarkedDirty?.(t)}function eo(t){return t&&(t.nextProducerIndex=0),Ni(t)}function au(t,n){if(Ni(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(fo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)fs(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ma(t){Ps(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(qo(i),o!==i.version))return!0}return!1}function Ku(t){if(Ps(t),fo(t))for(let n=0;n<t.producerNode.length;n++)fs(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fs(t,n){if(function Qu(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ps(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)fs(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];Ps(u),u.producerIndexOfThis[o]=n}}function fo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ps(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ee=null;function ps(t){const n=Ni(null);try{return t()}finally{Ni(n)}}const fi=()=>{},Yi=(()=>({...fn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:fi}))();class io{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function uu(){return Nc}function Nc(t){return t.type.prototype.ngOnChanges&&(t.setInput=zn),ri}function ri(){const t=kc(this),n=t?.current;if(n){const i=t.previous;if(i===vr)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function zn(t,n,i,o){const u=this.declaredInputs[i],d=kc(t)||function Ko(t,n){return t[Oc]=n}(t,{previous:vr,current:null}),m=d.current||(d.current={}),I=d.previous,A=I[u];m[u]=new io(A&&A.currentValue,n,I===vr),t[o]=n}uu.ngInherit=!0;const Oc="__ngSimpleChanges__";function kc(t){return t[Oc]||null}const $s=function(t,n,i){};function bn(t){for(;Array.isArray(t);)t=t[pr];return t}function pi(t,n){return bn(n[t.index])}function po(t,n){return t.data[n]}function Hs(t,n){const i=n[t];return Wr(i)?i:i[pr]}function go(t,n){return null==n?null:t[n]}function Ql(t){t[Tn]=0}function lu(t){1024&t[un]||(t[un]|=1024,fa(t,1))}function Ji(t){1024&t[un]&&(t[un]&=-1025,fa(t,-1))}function fa(t,n){let i=t[cr];if(null===i)return;i[bs]+=n;let o=i;for(i=i[cr];null!==i&&(1===n&&1===o[bs]||-1===n&&0===o[bs]);)i[bs]+=n,o=i,i=i[cr]}const Bt={lFrame:Kn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xu(){return Bt.bindingsEnabled}function it(){return Bt.lFrame.lView}function Mn(){return Bt.lFrame.tView}function vi(){let t=pa();for(;null!==t&&64===t.type;)t=t.parent;return t}function pa(){return Bt.lFrame.currentTNode}function Xi(t,n){const i=Bt.lFrame;i.currentTNode=t,i.isParent=n}function du(){return Bt.lFrame.isParent}function Kr(){const t=Bt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Zo(){return Bt.lFrame.bindingIndex++}function _(t,n){const i=Bt.lFrame;i.bindingIndex=i.bindingRootIndex=t,M(n)}function M(t){Bt.lFrame.currentDirectiveIndex=t}function te(){return Bt.lFrame.currentQueryIndex}function Me(t){Bt.lFrame.currentQueryIndex=t}function Re(t){const n=t[Tt];return 2===n.type?n.declTNode:1===n.type?t[Ur]:null}function Dt(t,n,i){if(i&Rt.SkipSelf){let u=n,d=t;for(;!(u=u.parent,null!==u||i&Rt.Host||(u=Re(d),null===u||(d=d[ls],10&u.type))););if(null===u)return!1;n=u,t=d}const o=Bt.lFrame=dr();return o.currentTNode=n,o.lView=t,!0}function an(t){const n=dr(),i=t[Tt];Bt.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function dr(){const t=Bt.lFrame,n=null===t?null:t.child;return null===n?Kn(t):n}function Kn(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function gs(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ma=gs;function Po(){const t=gs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function si(){return Bt.lFrame.selectedIndex}function zs(t){Bt.lFrame.selectedIndex=t}function oi(){const t=Bt.lFrame;return po(t.tView,t.selectedIndex)}let Mo=!0;function xo(){return Mo}function yo(t){Mo=t}function Fa(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:A,ngAfterViewChecked:x,ngOnDestroy:B}=d;m&&(t.contentHooks??=[]).push(-i,m),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),A&&(t.viewHooks??=[]).push(-i,A),x&&((t.viewHooks??=[]).push(i,x),(t.viewCheckHooks??=[]).push(i,x)),null!=B&&(t.destroyHooks??=[]).push(i,B)}}function nd(t,n,i){Yo(t,n,3,i)}function _a(t,n,i,o){(3&t[un])===i&&Yo(t,n,i,o)}function jc(t,n){let i=t[un];(3&i)===n&&(i&=8191,i+=1,t[un]=i)}function Yo(t,n,i,o){const d=o??-1,m=n.length-1;let I=0;for(let A=void 0!==o?65535&t[Tn]:0;A<m;A++)if("number"==typeof n[A+1]){if(I=n[A],null!=o&&I>=o)break}else n[A]<0&&(t[Tn]+=65536),(I<d||-1==d)&&(rd(t,i,n,A),t[Tn]=(4294901760&t[Tn])+A+2),A++}function fu(t,n){$s(4,t,n);const i=Ni(null);try{n.call(t)}finally{Ni(i),$s(5,t,n)}}function rd(t,n,i,o){const u=i[o]<0,d=i[o+1],I=t[u?-i[o]:i[o]];u?t[un]>>13<t[Tn]>>16&&(3&t[un])===n&&(t[un]+=8192,fu(I,d)):fu(I,d)}const Va=-1;class ya{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function gu(t){return t!==Va}function va(t){return 32767&t}function No(t,n){let i=function es(t){return t>>16}(t),o=n;for(;i>0;)o=o[ls],i--;return o}let mu=!0;function Ua(t){const n=mu;return mu=t,n}const vo=255,Jo=5;let fp=0;const ts={};function Oo(t,n){const i=Xo(t,n);if(-1!==i)return i;const o=n[Tt];o.firstCreatePass&&(t.injectorIndex=n.length,od(o.data,t),od(n,null),od(o.blueprint,null));const u=Ba(t,n),d=t.injectorIndex;if(gu(u)){const m=va(u),I=No(u,n),A=I[Tt].data;for(let x=0;x<8;x++)n[d+x]=I[m+x]|A[m+x]}return n[d+8]=u,d}function od(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Xo(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ba(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,u=n;for(;null!==u;){if(o=Wc(u),null===o)return Va;if(i++,u=u[ls],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Va}function Dh(t,n,i){!function wh(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(os)&&(o=i[os]),null==o&&(o=i[os]=fp++);const u=o&vo;n.data[t+(u>>Jo)]|=1<<u}(t,n,i)}function zc(t,n,i){if(i&Rt.Optional||void 0!==t)return t;oe()}function Ch(t,n,i,o){if(i&Rt.Optional&&void 0===o&&(o=null),!(i&(Rt.Self|Rt.Host))){const u=t[$n],d=Nn(void 0);try{return u?u.get(n,o,i&Rt.Optional):On(n,o,i&Rt.Optional)}finally{Nn(d)}}return zc(o,0,i)}function bh(t,n,i,o=Rt.Default,u){if(null!==t){if(2048&n[un]&&!(o&Rt.Self)){const m=function ld(t,n,i,o,u){let d=t,m=n;for(;null!==d&&null!==m&&2048&m[un]&&!(512&m[un]);){const I=ja(d,m,i,o|Rt.Self,ts);if(I!==ts)return I;let A=d.parent;if(!A){const x=m[Ys];if(x){const B=x.get(i,ts,o);if(B!==ts)return B}A=Wc(m),m=m[ls]}d=A}return u}(t,n,i,o,ts);if(m!==ts)return m}const d=ja(t,n,i,o,ts);if(d!==ts)return d}return Ch(n,i,o,u)}function ja(t,n,i,o,u){const d=function ad(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(os)?t[os]:void 0;return"number"==typeof n?n>=0?n&vo:Rh:n}(i);if("function"==typeof d){if(!Dt(n,t,o))return o&Rt.Host?zc(u,0,o):Ch(n,i,o,u);try{let m;if(m=d(o),null!=m||o&Rt.Optional)return m;oe()}finally{ma()}}else if("number"==typeof d){let m=null,I=Xo(t,n),A=Va,x=o&Rt.Host?n[Ir][Ur]:null;for((-1===I||o&Rt.SkipSelf)&&(A=-1===I?Ba(t,n):n[I+8],A!==Va&&ko(o,!1)?(m=n[Tt],I=va(A),n=No(A,n)):I=-1);-1!==I;){const B=n[Tt];if(Gc(d,I,B.data)){const J=Dm(I,n,i,m,o,x);if(J!==ts)return J}A=n[I+8],A!==Va&&ko(o,n[Tt].data[I+8]===x)&&Gc(d,I,n)?(m=B,I=va(A),n=No(A,n)):I=-1}}return u}function Dm(t,n,i,o,u,d){const m=n[Tt],I=m.data[t+8],B=_u(I,m,i,null==o?re(I)&&mu:o!=m&&0!=(3&I.type),u&Rt.Host&&d===I);return null!==B?ea(n,m,B,I):ts}function _u(t,n,i,o,u){const d=t.providerIndexes,m=n.data,I=1048575&d,A=t.directiveStart,B=d>>20,ve=u?I+B:t.directiveEnd;for(let Ce=o?I:I+B;Ce<ve;Ce++){const We=m[Ce];if(Ce<A&&i===We||Ce>=A&&We.type===i)return Ce}if(u){const Ce=m[A];if(Ce&&Ee(Ce)&&Ce.type===i)return A}return null}function ea(t,n,i,o){let u=t[i];const d=n.data;if(function id(t){return t instanceof ya}(u)){const m=u;m.resolving&&function le(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${t}${i}`)}(function en(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}(d[i]));const I=Ua(m.canSeeViewProviders);m.resolving=!0;const x=m.injectImpl?Nn(m.injectImpl):null;Dt(t,o,Rt.Default);try{u=t[i]=m.factory(void 0,d,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Bc(t,n,i){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:d}=n.type.prototype;if(o){const m=Nc(n);(i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m)}u&&(i.preOrderHooks??=[]).push(0-t,u),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],n)}finally{null!==x&&Nn(x),Ua(I),m.resolving=!1,ma()}}return u}function Gc(t,n,i){return!!(i[n+(t>>Jo)]&1<<t)}function ko(t,n){return!(t&Rt.Self||t&Rt.Host&&n)}class zi{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return bh(this._tNode,this._lView,n,Le(o),i)}}function Rh(){return new zi(vi(),it())}function ud(t){return Kt(()=>{const n=t.prototype.constructor,i=n[Wn]||cd(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const d=u[Wn]||cd(u);if(d&&d!==i)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function cd(t){return $t(t)?()=>{const n=cd(Je(t));return n&&n()}:js(t)}function Wc(t){const n=t[Tt],i=n.type;return 2===i?n.declTNode:1===i?t[Ur]:null}function Ii(t){return function Ah(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let u=0;for(;u<o;){const d=i[u];if(Lr(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<o&&"string"==typeof i[u];)u++;else{if(d===n)return i[u+1];u+=2}}}return null}(vi(),t)}const Ia="__parameters__";function Eu(t,n,i){return Kt(()=>{const o=function Iu(t){return function(...i){if(t){const o=t(...i);for(const u in o)this[u]=o[u]}}}(n);function u(...d){if(this instanceof u)return o.apply(this,d),this;const m=new u(...d);return I.annotation=m,I;function I(A,x,B){const J=A.hasOwnProperty(Ia)?A[Ia]:Object.defineProperty(A,Ia,{value:[]})[Ia];for(;J.length<=B;)J.push(null);return(J[B]=J[B]||[]).push(m),A}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Du(t,n){t.forEach(i=>Array.isArray(i)?Du(i,n):n(i))}function hd(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Qc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ki(t,n,i){let o=$a(t,n);return o>=0?t[1|o]=i:(o=~o,function Ta(t,n,i,o){let u=t.length;if(u==n)t.push(i,o);else if(1===u)t.push(o,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function Zc(t,n){const i=$a(t,n);if(i>=0)return t[1|i]}function $a(t,n){return function fd(t,n,i){let o=0,u=t.length>>i;for(;u!==o;){const d=o+(u-o>>1),m=t[d<<i];if(n===m)return d<<i;m>n?u=d:o=d+1}return~(u<<i)}(t,n,1)}const bu=je(Eu("Optional"),8),Su=je(Eu("SkipSelf"),4);function Sd(t){return 128==(128&t.flags)}var rl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rl||{});const il=new Map;let Nm=0;const ra="__ngContext__";function Gi(t,n){Wr(n)?(t[ra]=n[Ls],function Om(t){il.set(t[Ls],t)}(n)):t[ra]=n}let E;function L(t,n){return E(t,n)}function ye(t){const n=t[cr];return k(n)?n[cr]:n}function Lt(t){return Bn(t[xi])}function Qt(t){return Bn(t[ji])}function Bn(t){for(;null!==t&&!k(t);)t=t[ji];return t}function wi(t,n,i,o,u){if(null!=o){let d,m=!1;k(o)?d=o:Wr(o)&&(m=!0,o=o[pr]);const I=bn(o);0===t&&null!==i?null==u?Rp(n,i,I):qa(n,i,I,u||null,!0):1===t&&null!==i?qa(n,i,I,u||null,!0):2===t?function dl(t,n,i){const o=cl(t,n);o&&function Fm(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,I,m):3===t&&n.destroyNode(I),null!=d&&function xp(t,n,i,o,u){const d=i[Br];d!==bn(i)&&wi(n,t,o,d,u);for(let I=jr;I<i.length;I++){const A=i[I];Io(A[Tt],A,t,n,o,d)}}(n,t,d,i,u)}}function ku(t,n,i){return t.createElement(n,i)}function pc(t,n){const i=t[Zi],o=i.indexOf(n);Ji(n),i.splice(o,1)}function Lu(t,n){if(t.length<=jr)return;const i=jr+n,o=t[i];if(o){const u=o[hn];null!==u&&u!==t&&pc(u,o),n>0&&(t[i-1][ji]=o[ji]);const d=Qc(t,jr+n);!function qh(t,n){Io(t,n,n[cn],2,null,null),n[pr]=null,n[Ur]=null}(o[Tt],o);const m=d[ni];null!==m&&m.detachView(d[Tt]),o[cr]=null,o[ji]=null,o[un]&=-129}return o}function Wa(t,n){if(!(256&n[un])){const i=n[cn];n[Js]&&Ku(n[Js]),n[Ao]&&Ku(n[Ao]),i.destroyNode&&Io(t,n,i,3,null,null),function Qh(t){let n=t[xi];if(!n)return xd(t[Tt],t);for(;n;){let i=null;if(Wr(n))i=n[xi];else{const o=n[jr];o&&(i=o)}if(!i){for(;n&&!n[ji]&&n!==t;)Wr(n)&&xd(n[Tt],n),n=n[cr];null===n&&(n=t),Wr(n)&&xd(n[Tt],n),i=n&&n[ji]}n=i}}(n)}}function xd(t,n){if(!(256&n[un])){n[un]&=-129,n[un]|=256,function Ay(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const u=n[i[o]];if(!(u instanceof ya)){const d=i[o+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const I=u[d[m]],A=d[m+1];$s(4,I,A);try{A.call(I)}finally{$s(5,I,A)}}else{$s(4,u,d);try{d.call(u)}finally{$s(5,u,d)}}}}}(t,n),function Sp(t,n){const i=t.cleanup,o=n[Un];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const m=i[d+3];m>=0?o[m]():o[-m].unsubscribe(),d+=2}else i[d].call(o[i[d+1]]);null!==o&&(n[Un]=null);const u=n[Fs];if(null!==u){n[Fs]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(t,n),1===n[Tt].type&&n[cn].destroy();const i=n[hn];if(null!==i&&k(n[cr])){i!==n[cr]&&pc(i,n);const o=n[ni];null!==o&&o.detachView(t)}!function Cp(t){il.delete(t[Ls])}(n)}}function Nd(t,n,i){return function Lm(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[pr];{const{componentOffset:u}=o;if(u>-1){const{encapsulation:d}=t.data[o.directiveStart+u];if(d===Rn.None||d===Rn.Emulated)return null}return pi(o,i)}}(t,n.parent,i)}function qa(t,n,i,o,u){t.insertBefore(n,i,o,u)}function Rp(t,n,i){t.appendChild(n,i)}function Zh(t,n,i,o,u){null!==o?qa(t,n,i,o,u):Rp(t,n,i)}function cl(t,n){return t.parentNode(n)}let Pp,nf,pl,Jh=function Vm(t,n,i){return 40&t.type?pi(t,i):null};function ll(t,n,i,o){const u=Nd(t,o,n),d=n[cn],I=function Yh(t,n,i){return Jh(t,n,i)}(o.parent||n[Ur],o,n);if(null!=u)if(Array.isArray(i))for(let A=0;A<i.length;A++)Zh(d,u,i[A],I,!1);else Zh(d,u,i,I,!1);void 0!==Pp&&Pp(d,o,n,i,u)}function gc(t,n){if(null!==n){const i=n.type;if(3&i)return pi(n,t);if(4&i)return ef(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return gc(t,o);{const u=t[n.index];return k(u)?ef(-1,u):bn(u)}}if(32&i)return L(n,t)()||bn(t[n.index]);{const o=mc(t,n);return null!==o?Array.isArray(o)?o[0]:gc(ye(t[Ir]),o):gc(t,n.next)}}return null}function mc(t,n){return null!==n?t[Ir][Ur].projection[n.projection]:null}function ef(t,n){const i=jr+t+1;if(i<n.length){const o=n[i],u=o[Tt].firstChild;if(null!==u)return gc(o,u)}return n[Br]}function Od(t,n,i,o,u,d,m){for(;null!=i;){const I=o[i.index],A=i.type;if(m&&0===n&&(I&&Gi(bn(I),o),i.flags|=2),32!=(32&i.flags))if(8&A)Od(t,n,i.child,o,u,d,!1),wi(n,t,u,I,d);else if(32&A){const x=L(i,o);let B;for(;B=x();)wi(n,t,u,B,d);wi(n,t,u,I,d)}else 16&A?Bm(t,n,o,i,u,d):wi(n,t,u,I,d);i=m?i.projectionNext:i.next}}function Io(t,n,i,o,u,d){Od(i,o,t.firstChild,n,u,d,!1)}function Bm(t,n,i,o,u,d){const m=i[Ir],A=m[Ur].projection[o.projection];if(Array.isArray(A))for(let x=0;x<A.length;x++)wi(n,t,u,A[x],d);else{let x=A;const B=m[cr];Sd(o)&&(x.flags|=128),Od(t,n,x,B,u,d,!0)}}function tf(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function jm(t,n,i){const{mergedAttrs:o,classes:u,styles:d}=i;null!==o&&as(t,n,o),null!==u&&tf(t,n,u),null!==d&&function Sy(t,n,i){t.setAttribute(n,"style",i)}(t,n,d)}function My(t){nf=t}function sf(t){return function Lp(){if(void 0===pl&&(pl=null,Ht.trustedTypes))try{pl=Ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pl}()?.createScriptURL(t)||t}class $m{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}function Ka(t){return t instanceof $m?t.changingThisBreaksApplicationSecurity:t}function Vu(t,n){const i=function Ny(t){return t instanceof $m&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${ct})`)}return i===n}const Bp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var yc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yc||{});function Wp(t){const n=Yr();return n?n.sanitize(yc.URL,t)||"":Vu(t,"URL")?Ka(t):function ml(t){return(t=String(t)).match(Bp)?t:"unsafe:"+t}(pt(t))}function qp(t){const n=Yr();if(n)return sf(n.sanitize(yc.RESOURCE_URL,t)||"");if(Vu(t,"ResourceURL"))return sf(Ka(t));throw new Ie(904,!1)}function yl(t,n,i){return function Xm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?qp:Wp}(n,i)(t)}function Yr(){const t=it();return t&&t[Rr].sanitizer}const uo=new pe("ENVIRONMENT_INITIALIZER"),e_=new pe("INJECTOR",-1),jy=new pe("INJECTOR_DEF_TYPES");class Kp{get(n,i=zt){if(i===zt){const o=new Error(`NullInjectorError: No provider for ${Qe(n)}!`);throw o.name="NullInjectorError",o}return i}}function t_(...t){return{\u0275providers:n_(0,t),\u0275fromNgModule:!0}}function n_(t,...n){const i=[],o=new Set;let u;const d=m=>{i.push(m)};return Du(n,m=>{const I=m;ff(I,d,[],o)&&(u||=[],u.push(I))}),void 0!==u&&hf(u,d),i}function hf(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:u}=t[i];Cr(u,d=>{n(d,o)})}}function ff(t,n,i,o){if(!(t=Je(t)))return!1;let u=null,d=hr(t);const m=!d&&dn(t);if(d||m){if(m&&!m.standalone)return!1;u=t}else{const A=t.ngModule;if(d=hr(A),!d)return!1;u=A}const I=o.has(u);if(m){if(I)return!1;if(o.add(u),m.dependencies){const A="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const x of A)ff(x,n,i,o)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let x;o.add(u);try{Du(d.imports,B=>{ff(B,n,i,o)&&(x||=[],x.push(B))})}finally{}void 0!==x&&hf(x,n)}if(!I){const x=js(u)||(()=>new u);n({provide:u,useFactory:x,deps:En},u),n({provide:jy,useValue:u,multi:!0},u),n({provide:uo,useValue:()=>br(u),multi:!0},u)}const A=d.providers;if(null!=A&&!I){const x=t;Cr(A,B=>{n(B,x)})}}}return u!==t&&void 0!==t.providers}function Cr(t,n){for(let i of t)In(i)&&(i=i.\u0275providers),Array.isArray(i)?Cr(i,n):n(i)}const QI=Ge({provide:String,useValue:Ge});function Qp(t){return null!==t&&"object"==typeof t&&QI in t}function vl(t){return"function"==typeof t}const pf=new pe("Set Injector scope."),Yp={},YI={};let r_;function Jp(){return void 0===r_&&(r_=new Kp),r_}class Qa{}class Fd extends Qa{get destroyed(){return this._destroyed}constructor(n,i,o,u){super(),this.parent=i,this.source=o,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ud(n,m=>this.processProvider(m)),this.records.set(e_,Lo(void 0,this)),u.has("environment")&&this.records.set(Qa,Lo(void 0,this));const d=this.records.get(pf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(jy.multi,En,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Xr(this),o=Nn(void 0);try{return n()}finally{Xr(i),Nn(o)}}get(n,i=zt,o=Rt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Pi))return n[Pi](this);o=Le(o);const d=Xr(this),m=Nn(void 0);try{if(!(o&Rt.SkipSelf)){let A=this.records.get(n);if(void 0===A){const x=function a_(t){return"function"==typeof t||"object"==typeof t&&t instanceof pe}(n)&&ln(n);A=x&&this.injectableDefInScope(x)?Lo(i_(n),Yp):null,this.records.set(n,A)}if(null!=A)return this.hydrate(n,A)}return(o&Rt.Self?Jp():this.parent).get(n,i=o&Rt.Optional&&i===zt?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[sn]=I[sn]||[]).unshift(Qe(n)),d)throw I;return function nn(t,n,i,o){const u=t[sn];throw n[is]&&u.unshift(n[is]),t.message=function rn(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Qe(n);if(Array.isArray(n))u=n.map(Qe).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];d.push(m+":"+("string"==typeof I?JSON.stringify(I):Qe(I)))}u=`{${d.join(", ")}}`}return`${i}${o?"("+o+")":""}[${u}]: ${t.replace(fr,"\n  ")}`}("\n"+t.message,u,i,o),t.ngTokenPath=u,t[sn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{Nn(m),Xr(d)}}resolveInjectorInitializers(){const n=Xr(this),i=Nn(void 0);try{const u=this.get(uo.multi,En,Rt.Self);for(const d of u)d()}finally{Xr(n),Nn(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(Qe(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(n){let i=vl(n=Je(n))?n:Je(n&&n.provide);const o=function Vd(t){return Qp(t)?Lo(void 0,t.useValue):Lo(o_(t),Yp)}(n);if(vl(n)||!0!==n.multi)this.records.get(i);else{let u=this.records.get(i);u||(u=Lo(void 0,Yp,!0),u.factory=()=>Ae(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Yp&&(i.value=YI,i.value=i.factory()),"object"==typeof i.value&&i.value&&function JI(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Je(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function i_(t){const n=ln(t),i=null!==n?n.factory:js(t);if(null!==i)return i;if(t instanceof pe)throw new Ie(204,!1);if(t instanceof Function)return function s_(t){const n=t.length;if(n>0)throw function Au(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}(n,"?"),new Ie(204,!1);const i=function Ln(t){return t&&(t[Xn]||t[mn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ie(204,!1)}function o_(t,n,i){let o;if(vl(t)){const u=Je(t);return js(u)||i_(u)}if(Qp(t))o=()=>Je(t.useValue);else if(function Zp(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Ae(t.deps||[]));else if(function ai(t){return!(!t||!t.useExisting)}(t))o=()=>br(Je(t.useExisting));else{const u=Je(t&&(t.useClass||t.provide));if(!function Il(t){return!!t.deps}(t))return js(u)||i_(u);o=()=>new u(...Ae(t.deps))}return o}function Lo(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Ud(t,n){for(const i of t)Array.isArray(i)?Ud(i,n):i&&In(i)?Ud(i.\u0275providers,n):n(i)}const u_=new pe("AppId",{providedIn:"root",factory:()=>Hy}),Hy="ng",Xp=new pe("Platform Initializer"),gf=new pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),El=new pe("CSP nonce",{providedIn:"root",factory:()=>function fl(){if(void 0!==nf)return nf;if(typeof document<"u")return document;throw new Ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let c_=(t,n,i)=>null;function sg(t,n,i=!1){return c_(t,n,i)}class tE{}class Gd{}class rE{resolveComponentFactory(n){throw function nE(t){const n=Error(`No component factory found for ${Qe(t)}.`);return n.ngComponent=t,n}(n)}}let lg=(()=>{class t{static#e=this.NULL=new rE}return t})();function h_(){return Tc(vi(),it())}function Tc(t,n){return new bl(pi(t,n))}let bl=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=h_}return t})();function f_(t){return t instanceof bl?t.nativeElement:t}class dg{}let Ky=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function hg(){const t=it(),i=Hs(vi().index,t);return(Wr(i)?i:t)[cn]}()}return t})(),iE=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>null})}return t})();class Qy{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Zy=new Qy("16.2.12"),fg={};function Xy(t,n=null,i=null,o){const u=ev(t,n,i,o);return u.resolveInjectorInitializers(),u}function ev(t,n=null,i=null,o,u=new Set){const d=[i||En,t_(t)];return o=o||("object"==typeof t?void 0:Qe(t)),new Fd(d,n||Jp(),o||null,u)}let Da=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=zt;static#t=this.NULL=new Kp;static create(i,o){if(Array.isArray(i))return Xy({name:""},o,i,"");{const u=i.name??"";return Xy({name:u},i.parent,i.providers,u)}}static#n=this.\u0275prov=mt({token:t,providedIn:"any",factory:()=>br(e_)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function g_(t){return t.ngOriginalError}class Dc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&g_(n);for(;i&&g_(i);)i=g_(i);return i||null}}function qd(t){return n=>{setTimeout(t,void 0,n)}}const Za=class Wd extends R.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let u=n,d=i||(()=>null),m=o;if(n&&"object"==typeof n){const A=n;u=A.next?.bind(A),d=A.error?.bind(A),m=A.complete?.bind(A)}this.__isAsync&&(d=qd(d),u&&(u=qd(u)),m&&(m=qd(m)));const I=super.subscribe({next:u,error:d,complete:m});return n instanceof fe.w0&&n.add(I),I}};function m_(...t){}class ns{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Za(!1),this.onMicrotaskEmpty=new Za(!1),this.onStable=new Za(!1),this.onError=new Za(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&i,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function rv(){const t="function"==typeof Ht.requestAnimationFrame;let n=Ht[t?"requestAnimationFrame":"setTimeout"],i=Ht[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function uE(t){const n=()=>{!function aE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ht,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,y_(t),t.isCheckStableRunning=!0,__(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),y_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,u,d,m,I)=>{if(function av(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(u,d,m,I);try{return v_(t),i.invokeTask(u,d,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),I_(t)}},onInvoke:(i,o,u,d,m,I,A)=>{try{return v_(t),i.invoke(u,d,m,I,A)}finally{t.shouldCoalesceRunChangeDetection&&n(),I_(t)}},onHasTask:(i,o,u,d)=>{i.hasTask(u,d),o===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,y_(t),__(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,o,u,d)=>(i.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ns.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(ns.isInAngularZone())throw new Ie(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,u){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+u,n,iv,m_,m_);try{return d.runTask(m,i,o)}finally{d.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const iv={};function __(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function y_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function v_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function I_(t){t._nesting--,__(t)}class sv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Za,this.onMicrotaskEmpty=new Za,this.onStable=new Za,this.onError=new Za}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,u){return n.apply(i,o)}}const ov=new pe("",{providedIn:"root",factory:E_});function E_(){const t=Fn(ns);let n=!0;return function qe(...t){const n=(0,xe.yG)(t),i=(0,xe._6)(t,1/0),o=t;return o.length?1===o.length?(0,ie.Xf)(o[0]):(0,Ue.J)(i)((0,yt.D)(o,n)):ae.E}(new He.y(u=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(n),u.complete()})}),new He.y(u=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{ns.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{ns.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}}).pipe(nt()))}function ju(t){return t instanceof Function?t():t}let wf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Zd(t){for(;t;){t[un]|=64;const n=ye(t);if(ze(t)&&!n)return t;t=n}return null}const fv=new pe("",{providedIn:"root",factory:()=>!1});let Df=null;function Af(t,n){return t[n]??Ig()}function A_(t,n){const i=Ig();i.producerNode?.length&&(t[n]=Df,i.lView=t,Df=vg())}const pE={...fn,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zd(t.lView)},lView:null};function vg(){return Object.create(pE)}function Ig(){return Df??=vg(),Df}const Sn={};function Cf(t){C_(Mn(),it(),si()+t,!1)}function C_(t,n,i,o){if(!o)if(3==(3&n[un])){const d=t.preOrderCheckHooks;null!==d&&nd(n,d,i)}else{const d=t.preOrderHooks;null!==d&&_a(n,d,0,i)}zs(i)}function Rl(t,n=Rt.Default){const i=it();return null===i?br(t,n):bh(vi(),i,Je(t),n)}function Eg(){throw new Error("invalid")}function bf(t,n,i,o,u,d,m,I,A,x,B){const J=n.blueprint.slice();return J[pr]=u,J[un]=140|o,(null!==x||t&&2048&t[un])&&(J[un]|=2048),Ql(J),J[cr]=J[ls]=t,J[lr]=i,J[Rr]=m||t&&t[Rr],J[cn]=I||t&&t[cn],J[$n]=A||t&&t[$n]||null,J[Ur]=d,J[Ls]=function Hh(){return Nm++}(),J[Ss]=B,J[Ys]=x,J[Ir]=2==n.type?t[Ir]:J,J}function Ac(t,n,i,o,u){let d=t.data[n];if(null===d)d=function wg(t,n,i,o,u){const d=pa(),m=du(),A=t.data[n]=function Iv(t,n,i,o,u,d){let m=n?n.injectorIndex:-1,I=0;return function So(){return null!==Bt.skipHydrationRootTNode}()&&(I|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,i,n,o,u);return null===t.firstChild&&(t.firstChild=A),null!==d&&(m?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,n,i,o,u),function y(){return Bt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=o,d.attrs=u;const m=function ga(){const t=Bt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Xi(d,!0),d}function Sf(t,n,i,o){if(0===i)return-1;const u=n.length;for(let d=0;d<i;d++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function gv(t,n,i,o,u){const d=Af(n,Js),m=si(),I=2&o;try{zs(-1),I&&n.length>Dn&&C_(t,n,Dn,!1),$s(I?2:0,u);const x=I?d:null,B=eo(x);try{null!==x&&(x.dirty=!1),i(o,u)}finally{au(x,B)}}finally{I&&null===n[Js]&&A_(n,Js),zs(m),$s(I?3:1,u)}}function Dg(t,n,i){if(V(n)){const o=Ni(null);try{const d=n.directiveEnd;for(let m=n.directiveStart;m<d;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{Ni(o)}}}function Ag(t,n,i){Xu()&&(function Dv(t,n,i,o){const u=i.directiveStart,d=i.directiveEnd;re(i)&&function CE(t,n,i){const o=pi(n,t),u=Jd(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=bg(t,bf(t,u,null,m,o,n,null,t[Rr].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=I}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||Oo(i,n),Gi(o,n);const m=i.initialInputs;for(let I=u;I<d;I++){const A=t.data[I],x=ea(n,t,I,i);Gi(x,n),null!==m&&bE(0,I-u,x,A,0,m),Ee(A)&&(Hs(i.index,n)[lr]=ea(n,t,I,i))}}(t,n,i,pi(i,n)),64==(64&i.flags)&&Av(t,n,i))}function b_(t,n,i=pi){const o=n.localNames;if(null!==o){let u=n.index+1;for(let d=0;d<o.length;d+=2){const m=o[d+1],I=-1===m?i(n,t):t[m];t[u++]=I}}}function Jd(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Rf(t,n,i,o,u,d,m,I,A,x,B){const J=Dn+o,ve=J+u,Ce=function mv(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:Sn);return i}(J,ve),We="function"==typeof x?x():x;return Ce[Tt]={type:t,blueprint:Ce,template:i,queries:null,viewQuery:I,declTNode:n,data:Ce.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:We,incompleteFirstPass:!1,ssrId:B}}let S_=t=>null;function R_(t,n,i,o){for(let u in t)if(t.hasOwnProperty(u)){i=null===i?{}:i;const d=t[u];null===o?Ev(i,n,u,d):o.hasOwnProperty(u)&&Ev(i,n,o[u],d)}return i}function Ev(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function P_(t,n,i,o){if(Xu()){const u=null===o?null:{"":-1},d=function TE(t,n){const i=t.directiveRegistry;let o=null,u=null;if(i)for(let d=0;d<i.length;d++){const m=i[d];if(ei(n,m.selectors,!1))if(o||(o=[]),Ee(m))if(null!==m.findHostDirectiveDefs){const I=[];u=u||new Map,m.findHostDirectiveDefs(m,I,u),o.unshift(...I,m),M_(t,n,I.length)}else o.unshift(m),M_(t,n,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,o,u),o.push(m)}return null===o?null:[o,u]}(t,i);let m,I;null===d?m=I=null:[m,I]=d,null!==m&&wv(t,n,i,m,u,I),u&&function wE(t,n,i){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const d=i[n[u+1]];if(null==d)throw new Ie(-301,!1);o.push(n[u],d)}}}(i,o,u)}i.mergedAttrs=_i(i.mergedAttrs,i.attrs)}function wv(t,n,i,o,u,d){for(let x=0;x<o.length;x++)Dh(Oo(i,n),t,o[x].type);!function AE(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let x=0;x<o.length;x++){const B=o[x];B.providersResolver&&B.providersResolver(B)}let m=!1,I=!1,A=Sf(t,n,o.length,null);for(let x=0;x<o.length;x++){const B=o[x];i.mergedAttrs=_i(i.mergedAttrs,B.hostAttrs),Cv(t,i,n,A,B),DE(A,B,u),null!==B.contentQueries&&(i.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(i.flags|=64);const J=B.type.prototype;!m&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!I&&(J.ngOnChanges||J.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),A++}!function mE(t,n,i){const u=n.directiveEnd,d=t.data,m=n.attrs,I=[];let A=null,x=null;for(let B=n.directiveStart;B<u;B++){const J=d[B],ve=i?i.get(J):null,We=ve?ve.outputs:null;A=R_(J.inputs,B,A,ve?ve.inputs:null),x=R_(J.outputs,B,x,We);const dt=null===A||null===m||Mi(n)?null:SE(A,B,m);I.push(dt)}null!==A&&(A.hasOwnProperty("class")&&(n.flags|=8),A.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=A,n.outputs=x}(t,i,d)}function Av(t,n,i){const o=i.directiveStart,u=i.directiveEnd,d=i.index,m=function C(){return Bt.lFrame.currentDirectiveIndex}();try{zs(d);for(let I=o;I<u;I++){const A=t.data[I],x=n[I];M(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&EE(A,x)}}finally{zs(-1),M(m)}}function EE(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function M_(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function DE(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;Ee(n)&&(i[""]=t)}}function Cv(t,n,i,o,u){t.data[o]=u;const d=u.factory||(u.factory=js(u.type)),m=new ya(d,Ee(u),Rl);t.blueprint[o]=m,i[o]=m,function vE(t,n,i,o,u){const d=u.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~n.index;(function IE(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,o,d)}}(t,n,o,Sf(t,i,u.hostVars,Sn),u)}function Ya(t,n,i,o,u,d){const m=pi(t,n);!function x_(t,n,i,o,u,d,m){if(null==d)t.removeAttribute(n,u,i);else{const I=null==m?pt(d):m(d,o||"",u);t.setAttribute(n,u,I,i)}}(n[cn],m,d,t.value,i,o,u)}function bE(t,n,i,o,u,d){const m=d[n];if(null!==m)for(let I=0;I<m.length;)bv(o,i,m[I++],m[I++],m[I++])}function bv(t,n,i,o,u){const d=Ni(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(o)&&(u=m[o].call(n,u)),null!==t.setInput?t.setInput(n,u,i,o):n[o]=u}finally{Ni(d)}}function SE(t,n,i){let o=null,u=0;for(;u<i.length;){const d=i[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===o&&(o=[]);const m=t[d];for(let I=0;I<m.length;I+=2)if(m[I]===n){o.push(d,m[I+1],i[u+1]);break}}u+=2}else u+=2;else u+=4}return o}function Sv(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function Rv(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const d=i[o+1];if(-1!==d){const m=t.data[d];Me(i[o]),m.contentQueries(2,n[d],d)}}}function bg(t,n){return t[xi]?t[ks][ji]=n:t[xi]=n,t[ks]=n,n}function N_(t,n,i){Me(0);const o=Ni(null);try{n(t,i)}finally{Ni(o)}}function Pv(t){return t[Un]||(t[Un]=[])}function Mv(t){return t.cleanup||(t.cleanup=[])}function Nv(t,n){const i=t[$n],o=i?i.get(Dc,null):null;o&&o.handleError(n)}function O_(t,n,i,o,u){for(let d=0;d<i.length;){const m=i[d++],I=i[d++];bv(t.data[m],n[m],o,I,u)}}function RE(t,n){const i=Hs(n,t),o=i[Tt];!function PE(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const u=i[pr];null!==u&&null===i[Ss]&&(i[Ss]=sg(u,i[$n])),k_(o,i,i[lr])}function k_(t,n,i){an(n);try{const o=t.viewQuery;null!==o&&N_(1,o,i);const u=t.template;null!==u&&gv(t,n,u,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rv(t,n),t.staticViewQueries&&N_(2,t.viewQuery,i);const d=t.components;null!==d&&function ME(t,n){for(let i=0;i<n.length;i++)RE(t,n[i])}(n,d)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[un]&=-5,Po()}}let Ov=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,u){const d=typeof Zone>"u"?null:Zone.current,m=function Oi(t,n,i){const o=Object.create(Yi);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const u=m=>{o.cleanupFn=m};return o.ref={notify:()=>Pa(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Ma(o))return;o.hasRun=!0;const m=eo(o);try{o.cleanupFn(),o.cleanupFn=fi,o.fn(u)}finally{au(o,m)}},cleanup:()=>o.cleanupFn()},o.ref}(i,x=>{this.all.has(x)&&this.queue.set(x,d)},u);let I;this.all.add(m),m.notify();const A=()=>{m.cleanup(),I?.(),this.all.delete(m),this.queue.delete(m)};return I=o?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sg(t,n,i){let o=i?t.styles:null,u=i?t.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?d=I:1==d?u=At(u,I):2==d&&(o=At(o,I+": "+n[++m]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=u:t.classesWithoutHost=u}function Xd(t,n,i,o,u=!1){for(;null!==i;){const d=n[i.index];null!==d&&o.push(bn(d)),k(d)&&kv(d,o);const m=i.type;if(8&m)Xd(t,n,i.child,o);else if(32&m){const I=L(i,n);let A;for(;A=I();)o.push(A)}else if(16&m){const I=mc(n,i);if(Array.isArray(I))o.push(...I);else{const A=ye(n[Ir]);Xd(A[Tt],A,I,o,!0)}}i=u?i.projectionNext:i.next}return o}function kv(t,n){for(let i=jr;i<t.length;i++){const o=t[i],u=o[Tt].firstChild;null!==u&&Xd(o[Tt],o,u,n)}t[Br]!==t[pr]&&n.push(t[Br])}function Rg(t,n,i,o=!0){const u=n[Rr],d=u.rendererFactory,m=u.afterRenderEventManager;d.begin?.(),m?.begin();try{Lv(t,n,t.template,i)}catch(A){throw o&&Nv(n,A),A}finally{d.end?.(),u.effectManager?.flush(),m?.end()}}function Lv(t,n,i,o){const u=n[un];if(256!=(256&u)){n[Rr].effectManager?.flush(),an(n);try{Ql(n),function Uc(t){return Bt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&gv(t,n,i,2,o);const m=3==(3&u);if(m){const x=t.preOrderCheckHooks;null!==x&&nd(n,x,null)}else{const x=t.preOrderHooks;null!==x&&_a(n,x,0,null),jc(n,0)}if(function OE(t){for(let n=Lt(t);null!==n;n=Qt(n)){if(!n[ho])continue;const i=n[Zi];for(let o=0;o<i.length;o++){lu(i[o])}}}(n),Fv(n,2),null!==t.contentQueries&&Rv(t,n),m){const x=t.contentCheckHooks;null!==x&&nd(n,x)}else{const x=t.contentHooks;null!==x&&_a(n,x,1),jc(n,1)}!function Tg(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=Af(n,Ao);try{for(let u=0;u<i.length;u++){const d=i[u];if(d<0)zs(~d);else{const m=d,I=i[++u],A=i[++u];_(I,m),o.dirty=!1;const x=eo(o);try{A(2,n[m])}finally{au(o,x)}}}}finally{null===n[Ao]&&A_(n,Ao),zs(-1)}}(t,n);const I=t.components;null!==I&&Uv(n,I,0);const A=t.viewQuery;if(null!==A&&N_(2,A,o),m){const x=t.viewCheckHooks;null!==x&&nd(n,x)}else{const x=t.viewHooks;null!==x&&_a(n,x,2),jc(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[un]&=-73,Ji(n)}finally{Po()}}}function Fv(t,n){for(let i=Lt(t);null!==i;i=Qt(i))for(let o=jr;o<i.length;o++)Vv(i[o],n)}function kE(t,n,i){Vv(Hs(n,t),i)}function Vv(t,n){if(!function Fc(t){return 128==(128&t[un])}(t))return;const i=t[Tt],o=t[un];if(80&o&&0===n||1024&o||2===n)Lv(i,t,i.template,t[lr]);else if(t[bs]>0){Fv(t,1);const u=i.components;null!==u&&Uv(t,u,1)}}function Uv(t,n,i){for(let o=0;o<n.length;o++)kE(t,n[o],i)}class Pf{get rootNodes(){const n=this._lView,i=n[Tt];return Xd(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(n){this._lView[lr]=n}get destroyed(){return 256==(256&this._lView[un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[cr];if(k(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Lu(n,o),Qc(i,o))}this._attachedToViewContainer=!1}Wa(this._lView[Tt],this._lView)}onDestroy(n){!function xa(t,n){if(256==(256&t[un]))throw new Ie(911,!1);null===t[Fs]&&(t[Fs]=[]),t[Fs].push(n)}(this._lView,n)}markForCheck(){Zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[un]&=-129}reattach(){this._lView[un]|=128}detectChanges(){Rg(this._lView[Tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fc(t,n){Io(t,n,n[cn],2,null,null)}(this._lView[Tt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=n}}class LE extends Pf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Rg(n[Tt],n,n[lr],!1)}checkNoChanges(){}get context(){return null}}class Bv extends lg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=dn(n);return new Mf(i,this.ngModule)}}function jv(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class VE{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=Le(o);const u=this.injector.get(n,fg,o);return u!==fg||i===fg?u:this.parentInjector.get(n,i,o)}}class Mf extends Gd{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=jv(n.inputs);if(null!==i)for(const u of o)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return o}get outputs(){return jv(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Fi(t){return t.map(Ar).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,u){let d=(u=u||this.ngModule)instanceof Qa?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new VE(n,d):n,I=m.get(dg,null);if(null===I)throw new Ie(407,!1);const J={rendererFactory:I,sanitizer:m.get(iE,null),effectManager:m.get(Ov,null),afterRenderEventManager:m.get(wf,null)},ve=I.createRenderer(null,this.componentDef),Ce=this.componentDef.selectors[0][0]||"div",We=o?function gE(t,n,i,o){const d=o.get(fv,!1)||i===Rn.ShadowDom,m=t.selectRootElement(n,d);return function Cg(t){S_(t)}(m),m}(ve,o,this.componentDef.encapsulation,m):ku(ve,Ce,function FE(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ce)),Gt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let st=null;null!==We&&(st=sg(We,m,!0));const Cn=Rf(0,null,null,1,0,null,null,null,null,null,null),Jn=bf(null,Cn,null,Gt,null,null,J,ve,m,null,st);let zr,jo;an(Jn);try{const xc=this.componentDef;let hp,$I=null;xc.findHostDirectiveDefs?(hp=[],$I=new Map,xc.findHostDirectiveDefs(xc,hp,$I),hp.push(xc)):hp=[xc];const rb=function BE(t,n){const i=t[Tt],o=Dn;return t[o]=n,Ac(i,o,2,"#host",null)}(Jn,We),ib=function jE(t,n,i,o,u,d,m){const I=u[Tt];!function $E(t,n,i,o){for(const u of t)n.mergedAttrs=_i(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(Sg(n,n.mergedAttrs,!0),null!==i&&jm(o,i,n))}(o,t,n,m);let A=null;null!==n&&(A=sg(n,u[$n]));const x=d.rendererFactory.createRenderer(n,i);let B=16;i.signals?B=4096:i.onPush&&(B=64);const J=bf(u,Jd(i),null,B,u[t.index],t,d,x,null,null,A);return I.firstCreatePass&&M_(I,t,o.length-1),bg(u,J),u[t.index]=J}(rb,We,xc,hp,Jn,J,ve);jo=po(Cn,Dn),We&&function zE(t,n,i,o){if(o)as(t,i,["ng-version",Zy.full]);else{const{attrs:u,classes:d}=function Do(t){const n=[],i=[];let o=1,u=2;for(;o<t.length;){let d=t[o];if("string"==typeof d)2===u?""!==d&&n.push(d,t[++o]):8===u&&i.push(d);else{if(!Fr(u))break;u=d}o++}return{attrs:n,classes:i}}(n.selectors[0]);u&&as(t,i,u),d&&d.length>0&&tf(t,i,d.join(" "))}}(ve,xc,We,o),void 0!==i&&function GE(t,n,i){const o=t.projection=[];for(let u=0;u<n.length;u++){const d=i[u];o.push(null!=d?Array.from(d):null)}}(jo,this.ngContentSelectors,i),zr=function HE(t,n,i,o,u,d){const m=vi(),I=u[Tt],A=pi(m,u);wv(I,u,m,i,null,o);for(let B=0;B<i.length;B++)Gi(ea(u,I,m.directiveStart+B,m),u);Av(I,u,m),A&&Gi(A,u);const x=ea(u,I,m.directiveStart+m.componentOffset,m);if(t[lr]=u[lr]=x,null!==d)for(const B of d)B(x,n);return Dg(I,m,t),x}(ib,xc,hp,$I,Jn,[WE]),k_(Cn,Jn,null)}finally{Po()}return new UE(this.componentType,zr,Tc(jo,Jn),Jn,jo)}}class UE extends tE{constructor(n,i,o,u,d){super(),this.location=o,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new LE(u),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let u;if(null!==o&&(u=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const d=this._rootLView;O_(d[Tt],d,u,n,i),this.previousInputValues.set(n,i),Zd(Hs(this._tNode.index,d))}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function WE(){const t=vi();Fa(it()[Tt],t)}function L_(t){let n=function $v(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let u;if(Ee(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ie(903,!1);u=n.\u0275dir}if(u){if(i){o.push(u);const m=t;m.inputs=Pg(t.inputs),m.inputTransforms=Pg(t.inputTransforms),m.declaredInputs=Pg(t.declaredInputs),m.outputs=Pg(t.outputs);const I=u.hostBindings;I&&ZE(t,I);const A=u.viewQuery,x=u.contentQueries;if(A&&KE(t,A),x&&QE(t,x),ot(t.inputs,u.inputs),ot(t.declaredInputs,u.declaredInputs),ot(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),ot(m.inputTransforms,u.inputTransforms)),Ee(u)&&u.data.animation){const B=t.data;B.animation=(B.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let m=0;m<d.length;m++){const I=d[m];I&&I.ngInherit&&I(t),I===L_&&(i=!1)}}n=Object.getPrototypeOf(n)}!function qE(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=_i(u.hostAttrs,i=_i(i,u.hostAttrs))}}(o)}function Pg(t){return t===vr?{}:t===En?[]:t}function KE(t,n){const i=t.viewQuery;t.viewQuery=i?(o,u)=>{n(o,u),i(o,u)}:n}function QE(t,n){const i=t.contentQueries;t.contentQueries=i?(o,u,d)=>{n(o,u,d),i(o,u,d)}:n}function ZE(t,n){const i=t.hostBindings;t.hostBindings=i?(o,u)=>{n(o,u),i(o,u)}:n}function T(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const u=n[o];Array.isArray(u)&&u[2]&&(i[o]=u[2])}t.inputTransforms=i}function N(t){return!!he(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function he(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ke(t,n,i){return t[n]=i}function et(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function yn(t,n,i,o){const u=it();return et(u,Zo(),n)&&(Mn(),Ya(oi(),u,t,n,i,o)),yn}function Bf(t,n,i,o,u,d,m,I){const A=it(),x=Mn(),B=t+Dn,J=x.firstCreatePass?function Kv(t,n,i,o,u,d,m,I,A){const x=n.consts,B=Ac(n,t,4,m||null,go(x,I));P_(n,i,B,go(x,A)),Fa(n,B);const J=B.tView=Rf(2,B,o,u,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x,null);return null!==n.queries&&(n.queries.template(n,B),J.queries=n.queries.embeddedTView(B)),B}(B,x,A,n,i,o,u,d,m):x.data[B];Xi(J,!1);const ve=Bg(x,A,J,t);xo()&&ll(x,A,ve,J),Gi(ve,A),bg(A,A[B]=Sv(ve,A,ve,J)),ne(J)&&Ag(x,A,J),null!=m&&b_(A,J,I)}let Bg=function jg(t,n,i,o){return yo(!0),n[cn].createComment("")};function jf(t,n,i){const o=it();return et(o,Zo(),n)&&function Fo(t,n,i,o,u,d,m,I){const A=pi(n,i);let B,x=n.inputs;!I&&null!=x&&(B=x[o])?(O_(t,i,B,o,u),re(n)&&function Tv(t,n){const i=Hs(n,t);16&i[un]||(i[un]|=64)}(i,n.index)):3&n.type&&(o=function _E(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=m?m(u,n.value||"",o):u,d.setProperty(A,o,u))}(Mn(),oi(),o,t,n,o[cn],i,!1),jf}function kl(t,n,i,o,u){const m=u?"class":"style";O_(t,i,n.inputs[m],m,o)}function Hu(t,n,i,o){const u=it(),d=Mn(),m=Dn+t,I=u[cn],A=d.firstCreatePass?function j_(t,n,i,o,u,d){const m=n.consts,A=Ac(n,t,2,o,go(m,u));return P_(n,i,A,go(m,d)),null!==A.attrs&&Sg(A,A.attrs,!1),null!==A.mergedAttrs&&Sg(A,A.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,A),A}(m,d,u,n,i,o):d.data[m],x=zg(d,u,A,I,n,t);u[m]=x;const B=ne(A);return Xi(A,!0),jm(I,x,A),32!=(32&A.flags)&&xo()&&ll(d,u,x,A),0===function Ju(){return Bt.lFrame.elementDepthCount}()&&Gi(x,u),function Oa(){Bt.lFrame.elementDepthCount++}(),B&&(Ag(d,u,A),Dg(d,A,u)),null!==o&&b_(u,A),Hu}function oh(){let t=vi();du()?function Ro(){Bt.lFrame.isParent=!1}():(t=t.parent,Xi(t,!1));const n=t;(function ec(t){return Bt.skipHydrationRootTNode===t})(n)&&function Jl(){Bt.skipHydrationRootTNode=null}(),function mo(){Bt.lFrame.elementDepthCount--}();const i=Mn();return i.firstCreatePass&&(Fa(i,t),V(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function $c(t){return 0!=(8&t.flags)}(n)&&kl(i,n,it(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function sc(t){return 0!=(16&t.flags)}(n)&&kl(i,n,it(),n.stylesWithoutHost,!1),oh}function vs(t,n,i,o){return Hu(t,n,i,o),oh(),vs}let zg=(t,n,i,o,u,d)=>(yo(!0),ku(o,u,function rc(){return Bt.lFrame.currentNamespace}()));function Ll(t){return!!t&&"function"==typeof t.then}function Xa(t){return!!t&&"function"==typeof t.subscribe}function Hf(t,n,i,o){const u=it(),d=Mn(),m=vi();return function zf(t,n,i,o,u,d,m){const I=ne(o),x=t.firstCreatePass&&Mv(t),B=n[lr],J=Pv(n);let ve=!0;if(3&o.type||m){const dt=pi(o,n),Mt=m?m(dt):dt,Gt=J.length,st=m?Jn=>m(bn(Jn[o.index])):o.index;let Cn=null;if(!m&&I&&(Cn=function Kg(t,n,i,o){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const m=u[d];if(m===i&&u[d+1]===o){const I=n[Un],A=u[d+2];return I.length>A?I[A]:null}"string"==typeof m&&(d+=2)}return null}(t,n,u,o.index)),null!==Cn)(Cn.__ngLastListenerFn__||Cn).__ngNextListenerFn__=d,Cn.__ngLastListenerFn__=d,ve=!1;else{d=Zg(o,n,B,d,!1);const Jn=i.listen(Mt,u,d);J.push(d,Jn),x&&x.push(u,st,Gt,Gt+1)}}else d=Zg(o,n,B,d,!1);const Ce=o.outputs;let We;if(ve&&null!==Ce&&(We=Ce[u])){const dt=We.length;if(dt)for(let Mt=0;Mt<dt;Mt+=2){const zr=n[We[Mt]][We[Mt+1]].subscribe(d),jo=J.length;J.push(d,zr),x&&x.push(u,o.index,jo,-(jo+1))}}}(d,u,u[cn],m,t,n,o),Hf}function Qg(t,n,i,o){try{return $s(6,n,i),!1!==i(o)}catch(u){return Nv(t,u),!1}finally{$s(7,n,i)}}function Zg(t,n,i,o,u){return function d(m){if(m===Function)return o;Zd(t.componentOffset>-1?Hs(t.index,n):n);let A=Qg(n,i,o,m),x=d.__ngNextListenerFn__;for(;x;)A=Qg(n,i,x,m)&&A,x=x.__ngNextListenerFn__;return u&&!1===A&&m.preventDefault(),A}}function ch(t,n){return t<<17|n<<2}function Gu(t){return t>>17&32767}function Qf(t){return 2|t}function Sc(t){return(131068&t)>>2}function tu(t,n){return-131069&t|n<<2}function Vl(t){return 1|t}function Ul(t,n,i,o,u){const d=t[i+1],m=null===n;let I=o?Gu(d):Sc(d),A=!1;for(;0!==I&&(!1===A||m);){const B=t[I+1];lh(t[I],n)&&(A=!0,t[I+1]=o?Vl(B):Qf(B)),I=o?Gu(B):Sc(B)}A&&(t[i+1]=o?Qf(d):Vl(d))}function lh(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&$a(t,n)>=0}function im(t,n){return function Gs(t,n,i,o){const u=it(),d=Mn(),m=function oo(t){const n=Bt.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);d.firstUpdatePass&&function Jf(t,n,i,o){const u=t.data;if(null===u[i+1]){const d=u[si()],m=function sm(t,n){return n>=t.expandoStartIndex}(t,i);(function fh(t,n){return 0!=(t.flags&(n?8:16))})(d,o)&&null===n&&!m&&(n=!1),n=function Di(t,n,i,o){const u=function j(t){const n=Bt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(i=jl(i=Xf(null,t,n,i,o),n.attrs,o),d=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==u)if(i=Xf(u,t,n,i,o),null===d){let A=function rI(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Sc(o))return t[Gu(o)]}(t,n,o);void 0!==A&&Array.isArray(A)&&(A=Xf(null,t,n,A[1],o),A=jl(A,n.attrs,o),function iI(t,n,i,o){t[Gu(i?n.classBindings:n.styleBindings)]=o}(t,n,o,A))}else d=function J_(t,n,i){let o;const u=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<u;d++)o=jl(o,t[d].hostAttrs,i);return jl(o,n.attrs,i)}(t,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),i}(u,d,n,o),function Jr(t,n,i,o,u,d){let m=d?n.classBindings:n.styleBindings,I=Gu(m),A=Sc(m);t[o]=i;let B,x=!1;if(Array.isArray(i)?(B=i[1],(null===B||$a(i,B)>0)&&(x=!0)):B=i,u)if(0!==A){const ve=Gu(t[I+1]);t[o+1]=ch(ve,I),0!==ve&&(t[ve+1]=tu(t[ve+1],o)),t[I+1]=function q_(t,n){return 131071&t|n<<17}(t[I+1],o)}else t[o+1]=ch(I,0),0!==I&&(t[I+1]=tu(t[I+1],o)),I=o;else t[o+1]=ch(A,0),0===I?I=o:t[A+1]=tu(t[A+1],o),A=o;x&&(t[o+1]=Qf(t[o+1])),Ul(t,B,o,!0),Ul(t,B,o,!1),function Zf(t,n,i,o,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&$a(d,n)>=0&&(i[o+1]=Vl(i[o+1]))}(n,B,t,o,d),m=ch(I,A),d?n.classBindings=m:n.styleBindings=m}(u,d,n,i,m,o)}}(d,t,m,o),n!==Sn&&et(u,m,n)&&function ey(t,n,i,o,u,d,m,I){if(!(3&n.type))return;const A=t.data,x=A[I+1],B=function nu(t){return 1==(1&t)}(x)?$l(A,n,i,u,Sc(x),m):void 0;hh(B)||(hh(d)||function Yv(t){return 2==(2&t)}(x)&&(d=$l(A,null,i,u,I,m)),function by(t,n,i,o,u){if(n)u?t.addClass(i,o):t.removeClass(i,o);else{let d=-1===o.indexOf("-")?void 0:rl.DashCase;null==u?t.removeStyle(i,o,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=rl.Important),t.setStyle(i,o,u,d))}}(o,m,function bo(t,n){return bn(n[t])}(si(),i),u,d))}(d,d.data[si()],u,u[cn],t,u[m+1]=function am(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Qe(Ka(t)))),t}(n,i),o,m)}(t,n,null,!0),im}function Xf(t,n,i,o,u){let d=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(d=n[I],o=jl(o,d.hostAttrs,u),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),o}function jl(t,n,i){const o=i?1:2;let u=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?u=m:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ki(t,m,!!i||n[++d]))}return void 0===t?null:t}function $l(t,n,i,o,u,d){const m=null===n;let I;for(;u>0;){const A=t[u],x=Array.isArray(A),B=x?A[1]:A,J=null===B;let ve=i[u+1];ve===Sn&&(ve=J?En:void 0);let Ce=J?Zc(ve,o):B===o?ve:void 0;if(x&&!hh(Ce)&&(Ce=Zc(A,o)),hh(Ce)&&(I=Ce,m))return I;const We=t[u+1];u=m?Gu(We):Sc(We)}if(null!==n){let A=d?n.residualClasses:n.residualStyles;null!=A&&(I=Zc(A,o))}return I}function hh(t){return void 0!==t}function um(t,n=""){const i=it(),o=Mn(),u=t+Dn,d=o.firstCreatePass?Ac(o,u,1,n,null):o.data[u],m=ph(o,i,d,n,t);i[u]=m,xo()&&ll(o,i,m,d),Xi(d,!1)}let ph=(t,n,i,o,u)=>(yo(!0),function ao(t,n){return t.createText(n)}(n[cn],o));const _h=void 0;var CD=["en",[["a","p"],["AM","PM"],_h],[["AM","PM"],_h,_h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_h,"{1} 'at' {0}",_h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AD(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let op={};function oI(t){const n=function bD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=aT(n);if(i)return i;const o=n.split("-")[0];if(i=aT(o),i)return i;if("en"===o)return CD;throw new Ie(701,!1)}function oT(t){return oI(t)[ap.PluralCase]}function aT(t){return t in op||(op[t]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[t]),op[t]}var ap=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ap||{});const up="en-US";let uT=up;function cI(t,n,i,o,u){if(t=Je(t),Array.isArray(t))for(let d=0;d<t.length;d++)cI(t[d],n,i,o,u);else{const d=Mn(),m=it(),I=vi();let A=vl(t)?t:Je(t.provide);const x=o_(t),B=1048575&I.providerIndexes,J=I.directiveStart,ve=I.providerIndexes>>20;if(vl(t)||!t.multi){const Ce=new ya(x,u,Rl),We=dI(A,n,u?B:B+ve,J);-1===We?(Dh(Oo(I,m),d,A),lI(d,t,n.length),n.push(A),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),i.push(Ce),m.push(Ce)):(i[We]=Ce,m[We]=Ce)}else{const Ce=dI(A,n,B+ve,J),We=dI(A,n,B,B+ve),Mt=We>=0&&i[We];if(u&&!Mt||!u&&!(Ce>=0&&i[Ce])){Dh(Oo(I,m),d,A);const Gt=function C0(t,n,i,o,u){const d=new ya(t,i,Rl);return d.multi=[],d.index=n,d.componentProviders=0,NT(d,u,o&&!i),d}(u?A0:D0,i.length,u,o,x);!u&&Mt&&(i[We].providerFactory=Gt),lI(d,t,n.length,0),n.push(A),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),i.push(Gt),m.push(Gt)}else lI(d,t,Ce>-1?Ce:We,NT(i[u?We:Ce],x,!u&&o));!u&&o&&Mt&&i[We].componentProviders++}}}function lI(t,n,i,o){const u=vl(n),d=function ZI(t){return!!t.useClass}(n);if(u||d){const A=(d?Je(n.useClass):n).prototype.ngOnDestroy;if(A){const x=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const B=x.indexOf(i);-1===B?x.push(i,[o,A]):x[B+1].push(o,A)}else x.push(i,A)}}}function NT(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function dI(t,n,i,o){for(let u=i;u<o;u++)if(n[u]===t)return u;return-1}function D0(t,n,i,o){return hI(this.multi,[])}function A0(t,n,i,o){const u=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=ea(i,i[Tt],this.providerFactory.index,o);d=I.slice(0,m),hI(u,d);for(let A=m;A<I.length;A++)d.push(I[A])}else d=[],hI(u,d);return d}function hI(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function OT(t,n=[]){return i=>{i.providersResolver=(o,u)=>function w0(t,n,i){const o=Mn();if(o.firstCreatePass){const u=Ee(t);cI(i,o.data,o.blueprint,u,!0),cI(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class yh{}class kT{}function b0(t,n){return new fI(t,n??null,[])}class fI extends yh{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bv(this);const u=ci(n);this._bootstrapComponents=ju(u.bootstrap),this._r3Injector=ev(n,i,[{provide:yh,useValue:this},{provide:lg,useValue:this.componentFactoryResolver},...o],Qe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class pI extends kT{constructor(n){super(),this.moduleType=n}create(n){return new fI(this.moduleType,n,[])}}class LT extends yh{constructor(n){super(),this.componentFactoryResolver=new Bv(this),this.instance=null;const i=new Fd([...n.providers,{provide:yh,useValue:this},{provide:lg,useValue:this.componentFactoryResolver}],n.parent||Jp(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function FT(t,n,i=null){return new LT({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let R0=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=n_(0,i.type),u=o.length>0?FT([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,u)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=mt({token:t,providedIn:"environment",factory:()=>new t(br(Qa))})}return t})();function VT(t){t.getStandaloneInjector=n=>n.get(R0).getOrCreateStandaloneInjector(t)}function GT(t,n,i){const o=Kr()+t,u=it();return u[o]===Sn?Ke(u,o,i?n.call(i):n()):function _t(t,n){return t[n]}(u,o)}function WT(t,n,i,o){return function qT(t,n,i,o,u,d){const m=n+i;return et(t,m,u)?Ke(t,m+1,d?o.call(d,u):o(u)):function ym(t,n){const i=t[n];return i===Sn?void 0:i}(t,m+1)}(it(),Kr(),t,n,i,o)}function X0(){return this._results[Symbol.iterator]()}class mI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Za)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=mI.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=X0)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const u=function ms(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Nh(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],d=n[o];if(i&&(u=i(u),d=i(d)),d!==u)return!1}return!0}(o._results,u,i))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tA(t,n,i,o=!0){const u=n[Tt];if(function al(t,n,i,o){const u=jr+o,d=i.length;o>0&&(i[u-1][ji]=n),o<d-jr?(n[ji]=i[u],hd(i,jr+o,n)):(i.push(n),n[ji]=null),n[cr]=i;const m=n[hn];null!==m&&i!==m&&function ul(t,n){const i=t[Zi];n[Ir]!==n[cr][cr][Ir]&&(t[ho]=!0),null===i?t[Zi]=[n]:i.push(n)}(m,n);const I=n[ni];null!==I&&I.insertView(t),n[un]|=128}(u,n,t,i),o){const d=ef(i,t),m=n[cn],I=cl(m,t[Br]);null!==I&&function Kh(t,n,i,o,u,d){o[pr]=u,o[Ur]=n,Io(t,o,i,1,u,d)}(u,t[Ur],m,n,I,d)}}let Im=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=iA}return t})();const nA=Im,rA=class extends nA{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const u=function eA(t,n,i,o){const u=n.tView,I=bf(t,u,i,4096&t[un]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);I[hn]=t[n.index];const x=t[ni];return null!==x&&(I[ni]=x.createEmbeddedView(u)),k_(u,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new Pf(u)}};function iA(){return hy(vi(),it())}function hy(t,n){return 4&t.type?new rA(n,t,Tc(t,n)):null}let py=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lA}return t})();function lA(){return iw(vi(),it())}const dA=py,nw=class extends dA{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Tc(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ba(this._hostTNode,this._hostLView);if(gu(n)){const i=No(n,this._hostLView),o=va(n);return new zi(i[Tt].data[o+8],i)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=rw(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(n,i,o){let u,d;"number"==typeof o?u=o:null!=o&&(u=o.index,d=o.injector);const I=n.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,u,false),I}createComponent(n,i,o,u,d){const m=n&&!function wu(t){return"function"==typeof t}(n);let I;if(m)I=i;else{const dt=i||{};I=dt.index,o=dt.injector,u=dt.projectableNodes,d=dt.environmentInjector||dt.ngModuleRef}const A=m?n:new Mf(dn(n)),x=o||this.parentInjector;if(!d&&null==A.ngModule){const Mt=(m?x:this.parentInjector).get(Qa,null);Mt&&(d=Mt)}dn(A.componentType??{});const Ce=A.create(x,u,null,d);return this.insertImpl(Ce.hostView,I,false),Ce}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const u=n._lView;if(function Vc(t){return k(t[cr])}(u)){const A=this.indexOf(n);if(-1!==A)this.detach(A);else{const x=u[cr],B=new nw(x,x[Ur],x[cr]);B.detach(B.indexOf(n))}}const m=this._adjustIndex(i),I=this._lContainer;return tA(I,u,m,!o),n.attachToViewContainerRef(),hd(_I(I),m,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=rw(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Lu(this._lContainer,i);o&&(Qc(_I(this._lContainer),i),Wa(o[Tt],o))}detach(n){const i=this._adjustIndex(n,-1),o=Lu(this._lContainer,i);return o&&null!=Qc(_I(this._lContainer),i)?new Pf(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function rw(t){return t[8]}function _I(t){return t[8]||(t[8]=[])}function iw(t,n){let i;const o=n[t.index];return k(o)?i=o:(i=Sv(o,n,null,t),n[t.index]=i,bg(n,i)),sw(i,n,t,o),new nw(i,t,n)}let sw=function ow(t,n,i,o){if(t[Br])return;let u;u=8&i.type?bn(o):function hA(t,n){const i=t[cn],o=i.createComment(""),u=pi(n,t);return qa(i,cl(i,u),o,function Cy(t,n){return t.nextSibling(n)}(i,u),!1),o}(n,i),t[Br]=u};class yI{constructor(n){this.queryList=n,this.matches=null}clone(){return new yI(this.queryList)}setDirty(){this.queryList.setDirty()}}class vI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let d=0;d<o;d++){const m=i.getByIndex(d);u.push(this.queries[m.indexInDeclarationView].clone())}return new vI(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==pw(n,i).matches&&this.queries[i].setDirty()}}class aw{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class II{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const u=null!==i?i.length:0,d=this.getByIndex(o).embeddedTView(n,u);d&&(d.indexInDeclarationView=o,null!==i?i.push(d):i=[d])}return null!==i?new II(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class EI{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new EI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const d=o[u];this.matchTNodeWithReadOption(n,i,gA(i,d)),this.matchTNodeWithReadOption(n,i,_u(i,n,d,!1,!1))}else o===Im?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,_u(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===bl||u===py||u===Im&&4&i.type)this.addMatch(i.index,-2);else{const d=_u(i,n,u,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function gA(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function _A(t,n,i,o){return-1===i?function mA(t,n){return 11&t.type?Tc(t,n):4&t.type?hy(t,n):null}(n,t):-2===i?function yA(t,n,i){return i===bl?Tc(n,t):i===Im?hy(n,t):i===py?iw(n,t):void 0}(t,n,o):ea(t,t[Tt],i,n)}function uw(t,n,i,o){const u=n[ni].queries[o];if(null===u.matches){const d=t.data,m=i.matches,I=[];for(let A=0;A<m.length;A+=2){const x=m[A];I.push(x<0?null:_A(n,d[x],m[A+1],i.metadata.read))}u.matches=I}return u.matches}function TI(t,n,i,o){const u=t.queries.getByIndex(i),d=u.matches;if(null!==d){const m=uw(t,n,u,i);for(let I=0;I<d.length;I+=2){const A=d[I];if(A>0)o.push(m[I/2]);else{const x=d[I+1],B=n[-A];for(let J=jr;J<B.length;J++){const ve=B[J];ve[hn]===ve[cr]&&TI(ve[Tt],ve,x,o)}if(null!==B[Zi]){const J=B[Zi];for(let ve=0;ve<J.length;ve++){const Ce=J[ve];TI(Ce[Tt],Ce,x,o)}}}}}return o}function cw(t){const n=it(),i=Mn(),o=te();Me(o+1);const u=pw(i,o);if(t.dirty&&function Kl(t){return 4==(4&t[un])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?TI(i,n,o,[]):uw(i,n,u,o);t.reset(d,f_),t.notifyOnChanges()}return!0}return!1}function lw(t,n,i,o){const u=Mn();if(u.firstCreatePass){const d=vi();(function fw(t,n,i){null===t.queries&&(t.queries=new II),t.queries.track(new EI(n,i))})(u,new aw(n,i,o),d.index),function EA(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}!function hw(t,n,i){const o=new mI(4==(4&i));(function vv(t,n,i,o){const u=Pv(n);u.push(i),t.firstCreatePass&&Mv(t).push(o,u.length-1)})(t,n,o,o.destroy),null===n[ni]&&(n[ni]=new vI),n[ni].queries.push(new yI(o))}(u,it(),i)}function dw(){return function IA(t,n){return t[ni].queries[n].queryList}(it(),te())}function pw(t,n){return t.queries.getByIndex(n)}function wI(t){return!!ci(t)}const Mw=new pe("Application Initializer");let SI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Fn(Mw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const u of this.appInits){const d=u();if(Ll(d))i.push(d);else if(Xa(d)){const m=new Promise((I,A)=>{d.subscribe({complete:I,error:A})});i.push(m)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(u=>{this.reject(u)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xw=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const my=new pe("LocaleId",{providedIn:"root",factory:()=>Fn(my,Rt.Optional|Rt.SkipSelf)||function HA(){return typeof $localize<"u"&&$localize.locale||up}()}),zA=new pe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Nw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class WA{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let qA=(()=>{class t{compileModuleSync(i){return new pI(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),d=ju(ci(i).declarations).reduce((m,I)=>{const A=dn(I);return A&&m.push(new Mf(A)),m},[]);return new WA(o,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Fw=new pe(""),Vw=new pe("");let MI,gC=(()=>{class t{constructor(i,o,u){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,MI||(function mC(t){MI=t}(u),u.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ns.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,u){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:u})}whenStable(i,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,u){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(br(ns),br(Uw),br(Vw))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac})}return t})(),Uw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return MI?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Gl=null;const Bw=new pe("AllowMultipleToken"),xI=new pe("PlatformDestroyListeners"),NI=new pe("appBootstrapListener");class vC{constructor(n,i){this.name=n,this.token=i}}function Hw(t,n,i=[]){const o=`Platform: ${n}`,u=new pe(o);return(d=[])=>{let m=OI();if(!m||m.injector.get(Bw,!1)){const I=[...i,...d,{provide:u,useValue:!0}];t?t(I):function IC(t){if(Gl&&!Gl.get(Bw,!1))throw new Ie(400,!1);(function jw(){!function Ze(t){ee=t}(()=>{throw new Ie(600,!1)})})(),Gl=t;const n=t.get(Gw);(function $w(t){t.get(Xp,null)?.forEach(i=>i())})(t)}(function zw(t=[],n){return Da.create({name:n,providers:[{provide:pf,useValue:"platform"},{provide:xI,useValue:new Set([()=>Gl=null])},...t]})}(I,o))}return function TC(t){const n=OI();if(!n)throw new Ie(401,!1);return n}()}}function OI(){return Gl?.get(Gw)??null}let Gw=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const u=function wC(t="zone.js",n){return"noop"===t?new sv:"zone.js"===t?new ns(n):t}(o?.ngZone,function Ww(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return u.run(()=>{const d=function S0(t,n,i){return new fI(t,n,i)}(i.moduleType,this.injector,function Yw(t){return[{provide:ns,useFactory:t},{provide:uo,multi:!0,useFactory:()=>{const n=Fn(AC,{optional:!0});return()=>n.initialize()}},{provide:Zw,useFactory:DC},{provide:ov,useFactory:E_}]}(()=>u)),m=d.injector.get(Dc,null);return u.runOutsideAngular(()=>{const I=u.onError.subscribe({next:A=>{m.handleError(A)}});d.onDestroy(()=>{yy(this._modules,d),I.unsubscribe()})}),function qw(t,n,i){try{const o=i();return Ll(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(m,u,()=>{const I=d.injector.get(SI);return I.runInitializers(),I.donePromise.then(()=>(function cT(t){or(t,"Expected localeId to be defined"),"string"==typeof t&&(uT=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(my,up)||up),this._moduleDoBootstrap(d),d))})})}bootstrapModule(i,o=[]){const u=Kw({},o);return function _C(t,n,i){const o=new pI(i);return Promise.resolve(o)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(i){const o=i.injector.get(dp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!i.instance.ngDoBootstrap)throw new Ie(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(xI,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(br(Da))};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Kw(t,n){return Array.isArray(n)?n.reduce(Kw,t):{...t,...n}}let dp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Fn(Zw),this.zoneIsStable=Fn(ov),this.componentTypes=[],this.components=[],this.isStable=Fn(Nw).hasPendingTasks.pipe((0,Pt.w)(i=>i?(0,de.of)(!1):this.zoneIsStable),function vn(t,n=Wt.y){return t=t??Gn,(0,lt.e)((i,o)=>{let u,d=!0;i.subscribe((0,qt.x)(o,m=>{const I=n(m);(d||!t(u,I))&&(d=!1,u=I,o.next(m))}))})}(),nt()),this._injector=Fn(Qa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const u=i instanceof Gd;if(!this._injector.get(SI).done)throw!u&&Ci(i),new Ie(405,!1);let m;m=u?i:this._injector.get(lg).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const I=function yC(t){return t.isBoundToModule}(m)?void 0:this._injector.get(yh),x=m.create(Da.NULL,[],o||m.selector,I),B=x.location.nativeElement,J=x.injector.get(Fw,null);return J?.registerApplication(B),x.onDestroy(()=>{this.detachView(x.hostView),yy(this.components,x),J?.unregisterApplication(B)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;yy(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(NI,[]);o.push(...this._bootstrapListeners),o.forEach(u=>u(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>yy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ie(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const Zw=new pe("",{providedIn:"root",factory:()=>Fn(Dc).handleError.bind(void 0)});function DC(){const t=Fn(ns),n=Fn(Dc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let AC=(()=>{class t{constructor(){this.zone=Fn(ns),this.applicationRef=Fn(dp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let bC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=SC}return t})();function SC(t){return function RC(t,n,i){if(re(t)&&!i){const o=Hs(t.index,n);return new Pf(o,o)}return 47&t.type?new Pf(n[Ir],n):null}(vi(),it(),16==(16&t))}class tD{constructor(){}supports(n){return N(n)}create(n){return new kC(n)}}const OC=(t,n)=>n;class kC{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OC}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,u=0,d=null;for(;i||o;){const m=!o||i&&i.currentIndex<rD(o,u,d)?i:o,I=rD(m,u,d),A=m.currentIndex;if(m===o)u--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)u++;else{d||(d=[]);const x=I-u,B=A-u;if(x!=B){for(let ve=0;ve<x;ve++){const Ce=ve<d.length?d[ve]:d[ve]=0,We=Ce+ve;B<=We&&We<x&&(d[ve]=Ce+1)}d[m.previousIndex]=B-x}}I!==A&&n(m,I,A)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!N(n))throw new Ie(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,d,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],m=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,d,m,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,m,I),o=!0),i=i._next}else u=0,function Y(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,I=>{m=this._trackByFn(u,I),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,I,m,u)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,u),o=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,u){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,u)):n=this._addAfter(new LC(i,o),d,u),n}_verifyReinsertion(n,i,o,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,d=n._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new nD),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class LC{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class nD{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new FC,this.map.set(i,o)),o.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rD(t,n,i){const o=t.previousIndex;if(null===o)return o;let u=0;return i&&o<i.length&&(u=i[o]),o+n+u}class iD{constructor(){}supports(n){return n instanceof Map||he(n)}create(){return new VC}}class VC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||he(n)))throw new Ie(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(u,o);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const d=u._prev,m=u._next;return d&&(d._next=m),m&&(m._prev=d),u._next=null,u._prev=null,u}const o=new UC(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class UC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sD(){return new UI([new tD])}let UI=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:sD});constructor(i){this.factories=i}static create(i,o){if(null!=o){const u=o.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||sD()),deps:[[t,new Su,new bu]]}}find(i){const o=this.factories.find(u=>u.supports(i));if(null!=o)return o;throw new Ie(901,!1)}}return t})();function oD(){return new BI([new iD])}let BI=(()=>{class t{static#e=this.\u0275prov=mt({token:t,providedIn:"root",factory:oD});constructor(i){this.factories=i}static create(i,o){if(o){const u=o.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||oD()),deps:[[t,new Su,new bu]]}}find(i){const o=this.factories.find(u=>u.supports(i));if(o)return o;throw new Ie(901,!1)}}return t})();const $C=Hw(null,"core",[]);let HC=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(br(dp))};static#t=this.\u0275mod=Vi({type:t});static#n=this.\u0275inj=wt({})}return t})();function eb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nb(t){const n=dn(t);if(!n)return null;const i=new Mf(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},721:(Zt,tt,Z)=>{Z.d(tt,{Ot:()=>Ue,ZF:()=>Wt,hX:()=>lt,z6:()=>ie});var R=Z(3182),fe=Z(4946),He=Z(4810);class Ue{constructor(ot){return ot}}class ie{constructor(){return(0,R.C6)()}}const yt=new fe.OlP("angularfire2._apps"),qe={provide:Ue,useFactory:function xe(Ge){return Ge&&1===Ge.length?Ge[0]:new Ue((0,R.Mq)())},deps:[[new fe.FiY,yt]]},ce={provide:ie,deps:[[new fe.FiY,yt]]};function de(Ge){return(ot,Qe)=>{const At=ot.runOutsideAngular(()=>Ge(Qe));return new Ue(At)}}let Se=(()=>{class Ge{constructor(Qe){(0,R.KN)("angularfire",He.q4.full,"core"),(0,R.KN)("angularfire",He.q4.full,"app"),(0,R.KN)("angular",fe.q4F.full,Qe.toString())}static \u0275fac=function(At){return new(At||Ge)(fe.LFG(fe.Lbi))};static \u0275mod=fe.oAB({type:Ge});static \u0275inj=fe.cJS({providers:[qe,ce]})}return Ge})();function lt(Ge,...ot){return{ngModule:Se,providers:[{provide:yt,useFactory:de(Ge),multi:!0,deps:[fe.R0b,fe.zs3,He.HU,...ot]}]}}const Wt=(0,He.u3)(R.ZF,!0)},90:(Zt,tt,Z)=>{Z.d(tt,{dh:()=>Fh,v0:()=>jh,AR:()=>vp});var R=Z(4810),fe=Z(4946),He=Z(721),Ue=Z(3182),ie=Z(5861),ae=Z(534),xe=Z(9058),yt=Z(7879),qe=Z(7582),ce=Z(4537);const vn=function Wt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Gn=new xe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new yt.Yd("@firebase/auth");function At(v,...l){ot.logLevel<=yt.in.ERROR&&ot.error(`Auth (${ae.Jn}): ${v}`,...l)}function St(v,...l){throw xr(v,...l)}function vt(v,...l){return xr(v,...l)}function Je(v,l,p){const E=Object.assign(Object.assign({},vn()),{[l]:p});return new xe.LL("auth","Firebase",E).create(l,{appName:v.name})}function $t(v){return Je(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xr(v,...l){if("string"!=typeof v){const p=l[0],E=[...l.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(p,...E)}return Gn.create(v,...l)}function ct(v,l,...p){if(!v)throw xr(l,...p)}function Ie(v){const l="INTERNAL ASSERTION FAILED: "+v;throw At(l),new Error(l)}function Vt(v,l){v||Ie(l)}function pt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function le(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class oe{constructor(l,p){this.shortDelay=l,this.longDelay=p,Vt(p>l,"Short delay should be less than long delay!"),this.isMobile=(0,xe.uI)()||(0,xe.b$)()}get(){return function _e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function en(){return"http:"===le()||"https:"===le()}()||(0,xe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q(v,l){Vt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return l?`${p}${l.startsWith("/")?l.slice(1):l}`:p}class X{static initialize(l,p,E){this.fetchImpl=l,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ht=new oe(3e4,6e4);function Et(v,l){return v.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:v.tenantId}):l}function Xe(v,l,p,E){return tn.apply(this,arguments)}function tn(){return(tn=(0,ie.Z)(function*(v,l,p,E,L={}){return Qn(v,L,(0,ie.Z)(function*(){let W={},ye={};E&&("GET"===l?ye=E:W={body:JSON.stringify(E)});const Fe=(0,xe.xO)(Object.assign({key:v.config.apiKey},ye)).slice(1),ut=yield v._getAdditionalHeaders();return ut["Content-Type"]="application/json",v.languageCode&&(ut["X-Firebase-Locale"]=v.languageCode),X.fetch()(xn(v,v.config.apiHost,p,Fe),Object.assign({method:l,headers:ut,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Qn(v,l,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,ie.Z)(function*(v,l,p){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Be),l);try{const L=new or(v),W=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const ye=yield W.json();if("needConfirmation"in ye)throw at(v,"account-exists-with-different-credential",ye);if(W.ok&&!("errorMessage"in ye))return ye;{const Fe=W.ok?ye.errorMessage:ye.error.message,[ut,Lt]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw at(v,"credential-already-in-use",ye);if("EMAIL_EXISTS"===ut)throw at(v,"email-already-in-use",ye);if("USER_DISABLED"===ut)throw at(v,"user-disabled",ye);const Qt=E[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw Je(v,Qt,Lt);St(v,Qt)}}catch(L){if(L instanceof xe.ZR)throw L;St(v,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function wr(){return(wr=(0,ie.Z)(function*(v,l,p,E,L={}){const W=yield Xe(v,l,p,E,L);return"mfaPendingCredential"in W&&St(v,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function xn(v,l,p,E){const L=`${l}${p}?${E}`;return v.config.emulator?Q(v.config,L):`${v.config.apiScheme}://${L}`}class or{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(vt(this.auth,"network-request-failed")),ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function at(v,l,p){const E={appName:v.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const L=vt(v,l,E);return L.customData._tokenResponse=p,L}function ft(){return(ft=(0,ie.Z)(function*(v,l){return Xe(v,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Xn(v,l){return gi.apply(this,arguments)}function gi(){return(gi=(0,ie.Z)(function*(v,l){return Xe(v,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function mn(v){if(v)try{const l=new Date(Number(v));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function qi(){return(qi=(0,ie.Z)(function*(v,l=!1){const p=(0,xe.m9)(v),E=yield p.getIdToken(l),L=Nn(E);ct(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,ye=W?.sign_in_provider;return{claims:L,token:E,authTime:mn(Si(L.auth_time)),issuedAtTime:mn(Si(L.iat)),expirationTime:mn(Si(L.exp)),signInProvider:ye||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Si(v){return 1e3*Number(v)}function Nn(v){const[l,p,E]=v.split(".");if(void 0===l||void 0===p||void 0===E)return At("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,xe.tV)(p);return L?JSON.parse(L):(At("Failed to decode base64 JWT payload"),null)}catch(L){return At("Caught error parsing JWT payload as JSON",L?.toString()),null}}function On(v){const l=Nn(v);return ct(l,"internal-error"),ct(typeof l.exp<"u","internal-error"),ct(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}function Dr(v,l){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,ie.Z)(function*(v,l,p=!1){if(p)return l;try{return yield l}catch(E){throw E instanceof xe.ZR&&function Gr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Ri{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var p;if(l){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(l=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(l);this.timerId=setTimeout((0,ie.Z)(function*(){yield p.iteration()}),E)}iteration(){var l=this;return(0,ie.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&l.schedule(!0))}l.schedule()})()}}class pe{constructor(l,p){this.createdAt=l,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=mn(this.lastLoginAt),this.creationTime=mn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(v){return ar.apply(this,arguments)}function ar(){return(ar=(0,ie.Z)(function*(v){var l;const p=v.auth,E=yield v.getIdToken(),L=yield Dr(v,Xn(p,{idToken:E}));ct(L?.users.length,p,"internal-error");const W=L.users[0];v._notifyReloadListener(W);const ye=null!==(l=W.providerUserInfo)&&void 0!==l&&l.length?z(W.providerUserInfo):[],Fe=function H(v,l){return[...v.filter(E=>!l.some(L=>L.providerId===E.providerId)),...l]}(v.providerData,ye),Qt=!!v.isAnonymous&&!(v.email&&W.passwordHash||Fe?.length),Bn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Fe,metadata:new pe(W.createdAt,W.lastLoginAt),isAnonymous:Qt};Object.assign(v,Bn)})).apply(this,arguments)}function ue(){return(ue=(0,ie.Z)(function*(v){const l=(0,xe.m9)(v);yield rr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function z(v){return v.map(l=>{var{providerId:p}=l,E=(0,qe._T)(l,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function q(){return(q=(0,ie.Z)(function*(v,l){const p=yield Qn(v,{},(0,ie.Z)(function*(){const E=(0,xe.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:L,apiKey:W}=v.config,ye=xn(v,L,"/v1/token",`key=${W}`),Fe=yield v._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",X.fetch()(ye,{method:"POST",headers:Fe,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Ye(){return(Ye=(0,ie.Z)(function*(v,l){return Xe(v,"POST","/v2/accounts:revokeToken",Et(v,l))})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ct(l.idToken,"internal-error"),ct(typeof l.idToken<"u","internal-error"),ct(typeof l.refreshToken<"u","internal-error");const p="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):On(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,p)}updateFromIdToken(l){ct(0!==l.length,"internal-error");const p=On(l);this.updateTokensAndExpiration(l,null,p)}getToken(l,p=!1){var E=this;return(0,ie.Z)(function*(){return p||!E.accessToken||E.isExpired?(ct(E.refreshToken,l,"user-token-expired"),E.refreshToken?(yield E.refresh(l,E.refreshToken),E.accessToken):null):E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,p){var E=this;return(0,ie.Z)(function*(){const{accessToken:L,refreshToken:W,expiresIn:ye}=yield function G(v,l){return q.apply(this,arguments)}(l,p);E.updateTokensAndExpiration(L,W,Number(ye))})()}updateTokensAndExpiration(l,p,E){this.refreshToken=p||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(l,p){const{refreshToken:E,accessToken:L,expirationTime:W}=p,ye=new It;return E&&(ct("string"==typeof E,"internal-error",{appName:l}),ye.refreshToken=E),L&&(ct("string"==typeof L,"internal-error",{appName:l}),ye.accessToken=L),W&&(ct("number"==typeof W,"internal-error",{appName:l}),ye.expirationTime=W),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return Ie("not implemented")}}function zt(v,l){ct("string"==typeof v||typeof v>"u","internal-error",{appName:l})}class Nt{constructor(l){var{uid:p,auth:E,stsTokenManager:L}=l,W=(0,qe._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new pe(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(l){var p=this;return(0,ie.Z)(function*(){const E=yield Dr(p,p.stsTokenManager.getToken(p.auth,l));return ct(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(l){return function Rt(v){return qi.apply(this,arguments)}(this,l)}reload(){return function Ki(v){return ue.apply(this,arguments)}(this)}_assign(l){this!==l&&(ct(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(p=>Object.assign({},p)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const p=new Nt(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(l){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,p=!1){var E=this;return(0,ie.Z)(function*(){let L=!1;l.idToken&&l.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(l),L=!0),p&&(yield rr(E)),yield E.auth._persistUserIfCurrent(E),L&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var l=this;return(0,ie.Z)(function*(){if((0,ae.rh)(l.auth.app))return Promise.reject($t(l.auth));const p=yield l.getIdToken();return yield Dr(l,function on(v,l){return ft.apply(this,arguments)}(l.auth,{idToken:p})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,p){var E,L,W,ye,Fe,ut,Lt,Qt;const Bn=null!==(E=p.displayName)&&void 0!==E?E:void 0,wi=null!==(L=p.email)&&void 0!==L?L:void 0,ao=null!==(W=p.phoneNumber)&&void 0!==W?W:void 0,Ou=null!==(ye=p.photoURL)&&void 0!==ye?ye:void 0,ol=null!==(Fe=p.tenantId)&&void 0!==Fe?Fe:void 0,ku=null!==(ut=p._redirectEventId)&&void 0!==ut?ut:void 0,qh=null!==(Lt=p.createdAt)&&void 0!==Lt?Lt:void 0,Kh=null!==(Qt=p.lastLoginAt)&&void 0!==Qt?Qt:void 0,{uid:fc,emailVerified:Qh,isAnonymous:al,providerData:ul,stsTokenManager:pc}=p;ct(fc&&pc,l,"internal-error");const Lu=It.fromJSON(this.name,pc);ct("string"==typeof fc,l,"internal-error"),zt(Bn,l.name),zt(wi,l.name),ct("boolean"==typeof Qh,l,"internal-error"),ct("boolean"==typeof al,l,"internal-error"),zt(ao,l.name),zt(Ou,l.name),zt(ol,l.name),zt(ku,l.name),zt(qh,l.name),zt(Kh,l.name);const Wa=new Nt({uid:fc,auth:l,email:wi,emailVerified:Qh,displayName:Bn,isAnonymous:al,photoURL:Ou,phoneNumber:ao,tenantId:ol,stsTokenManager:Lu,createdAt:qh,lastLoginAt:Kh});return ul&&Array.isArray(ul)&&(Wa.providerData=ul.map(xd=>Object.assign({},xd))),ku&&(Wa._redirectEventId=ku),Wa}static _fromIdTokenResponse(l,p,E=!1){return(0,ie.Z)(function*(){const L=new It;L.updateFromServerResponse(p);const W=new Nt({uid:p.localId,auth:l,stsTokenManager:L,isAnonymous:E});return yield rr(W),W})()}static _fromGetAccountInfoResponse(l,p,E){return(0,ie.Z)(function*(){const L=p.users[0];ct(void 0!==L.localId,"internal-error");const W=void 0!==L.providerUserInfo?z(L.providerUserInfo):[],ye=!(L.email&&L.passwordHash||W?.length),Fe=new It;Fe.updateFromIdToken(E);const ut=new Nt({uid:L.localId,auth:l,stsTokenManager:Fe,isAnonymous:ye}),Lt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:W,metadata:new pe(L.createdAt,L.lastLoginAt),isAnonymous:!(L.email&&L.passwordHash||W?.length)};return Object.assign(ut,Lt),ut})()}}const sn=new Map;function Ut(v){Vt(v instanceof Function,"Expected a class definition");let l=sn.get(v);return l?(Vt(l instanceof v,"Instance stored in cache mismatched with class"),l):(l=new v,sn.set(v,l),l)}const er=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ie.Z)(function*(){return!0})()}_set(p,E){var L=this;return(0,ie.Z)(function*(){L.storage[p]=E})()}_get(p){var E=this;return(0,ie.Z)(function*(){const L=E.storage[p];return void 0===L?null:L})()}_remove(p){var E=this;return(0,ie.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return v.type="NONE",v})();function is(v,l,p){return`firebase:${v}:${l}:${p}`}class kr{constructor(l,p,E){this.persistence=l,this.auth=p,this.userKey=E;const{config:L,name:W}=this.auth;this.fullUserKey=is(this.userKey,L.apiKey,W),this.fullPersistenceKey=is("persistence",L.apiKey,W),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,ie.Z)(function*(){const p=yield l.persistence._get(l.fullUserKey);return p?Nt._fromJSON(l.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var p=this;return(0,ie.Z)(function*(){if(p.persistence===l)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=l,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,p,E="authUser"){return(0,ie.Z)(function*(){if(!p.length)return new kr(Ut(er),l,E);const L=(yield Promise.all(p.map(function(){var Lt=(0,ie.Z)(function*(Qt){if(yield Qt._isAvailable())return Qt});return function(Qt){return Lt.apply(this,arguments)}}()))).filter(Lt=>Lt);let W=L[0]||Ut(er);const ye=is(E,l.config.apiKey,l.name);let Fe=null;for(const Lt of p)try{const Qt=yield Lt._get(ye);if(Qt){const Bn=Nt._fromJSON(l,Qt);Lt!==W&&(Fe=Bn),W=Lt;break}}catch{}const ut=L.filter(Lt=>Lt._shouldAllowMigration);return W._shouldAllowMigration&&ut.length?(W=ut[0],Fe&&(yield W._set(ye,Fe.toJSON())),yield Promise.all(p.map(function(){var Lt=(0,ie.Z)(function*(Qt){if(Qt!==W)try{yield Qt._remove(ye)}catch{}});return function(Qt){return Lt.apply(this,arguments)}}())),new kr(W,l,E)):new kr(W,l,E)})()}}function Qr(v){const l=v.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(qs(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Xr(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Le(l))return"Blackberry";if(Ae(l))return"Webos";if(ws(l))return"Safari";if((l.includes("chrome/")||br(l))&&!l.includes("edge/"))return"Chrome";if(Fn(l))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function Xr(v=(0,xe.z$)()){return/firefox\//i.test(v)}function ws(v=(0,xe.z$)()){const l=v.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function br(v=(0,xe.z$)()){return/crios\//i.test(v)}function qs(v=(0,xe.z$)()){return/iemobile/i.test(v)}function Fn(v=(0,xe.z$)()){return/android/i.test(v)}function Le(v=(0,xe.z$)()){return/blackberry/i.test(v)}function Ae(v=(0,xe.z$)()){return/webos/i.test(v)}function je(v=(0,xe.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Kt(v=(0,xe.z$)()){return je(v)||Fn(v)||Ae(v)||Le(v)||/windows phone/i.test(v)||qs(v)}function Rn(v,l=[]){let p;switch(v){case"Browser":p=Qr((0,xe.z$)());break;case"Worker":p=`${Qr((0,xe.z$)())}-${v}`;break;default:p=v}const E=l.length?l.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.Jn}/${E}`}class vr{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,p){const E=W=>new Promise((ye,Fe)=>{try{ye(l(W))}catch(ut){Fe(ut)}});E.onAbort=p,this.queue.push(E);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(l){var p=this;return(0,ie.Z)(function*(){if(p.auth.currentUser===l)return;const E=[];try{for(const L of p.queue)yield L(l),L.onAbort&&E.push(L.onAbort)}catch(L){E.reverse();for(const W of E)try{W()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}function Sr(){return(Sr=(0,ie.Z)(function*(v,l={}){return Xe(v,"GET","/v2/passwordPolicy",Et(v,l))})).apply(this,arguments)}class $o{constructor(l){var p,E,L,W;const ye=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=ye.minPasswordLength)&&void 0!==p?p:6,ye.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ye.maxPasswordLength),void 0!==ye.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ye.containsLowercaseCharacter),void 0!==ye.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ye.containsUppercaseCharacter),void 0!==ye.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ye.containsNumericCharacter),void 0!==ye.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ye.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(L=null===(E=l.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==L?L:"",this.forceUpgradeOnSignin=null!==(W=l.forceUpgradeOnSignin)&&void 0!==W&&W,this.schemaVersion=l.schemaVersion}validatePassword(l){var p,E,L,W,ye,Fe;const ut={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,ut),this.validatePasswordCharacterOptions(l,ut),ut.isValid&&(ut.isValid=null===(p=ut.meetsMinPasswordLength)||void 0===p||p),ut.isValid&&(ut.isValid=null===(E=ut.meetsMaxPasswordLength)||void 0===E||E),ut.isValid&&(ut.isValid=null===(L=ut.containsLowercaseLetter)||void 0===L||L),ut.isValid&&(ut.isValid=null===(W=ut.containsUppercaseLetter)||void 0===W||W),ut.isValid&&(ut.isValid=null===(ye=ut.containsNumericCharacter)||void 0===ye||ye),ut.isValid&&(ut.isValid=null===(Fe=ut.containsNonAlphanumericCharacter)||void 0===Fe||Fe),ut}validatePasswordLengthOptions(l,p){const E=this.customStrengthOptions.minPasswordLength,L=this.customStrengthOptions.maxPasswordLength;E&&(p.meetsMinPasswordLength=l.length>=E),L&&(p.meetsMaxPasswordLength=l.length<=L)}validatePasswordCharacterOptions(l,p){let E;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let L=0;L<l.length;L++)E=l.charAt(L),this.updatePasswordCharacterOptionsStatuses(p,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(l,p,E,L,W){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=L)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=W))}}class Ds{constructor(l,p,E,L){this.app=l,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new os(this),this.idTokenSubscription=new os(this),this.beforeStateQueue=new vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(l,p){var E=this;return p&&(this._popupRedirectResolver=Ut(p)),this._initializationPromise=this.queue((0,ie.Z)(function*(){var L,W;if(!E._deleted&&(E.persistenceManager=yield kr.create(E,l),!E._deleted)){if(null!==(L=E._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(W=E.currentUser)||void 0===W?void 0:W.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,ie.Z)(function*(){if(l._deleted)return;const p=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||p){if(l.currentUser&&p&&l.currentUser.uid===p.uid)return l._currentUser._assign(p),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(l){var p=this;return(0,ie.Z)(function*(){try{const E=yield Xn(p,{idToken:l}),L=yield Nt._fromGetAccountInfoResponse(p,E,l);yield p.directlySetCurrentUser(L)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(l){var p=this;return(0,ie.Z)(function*(){var E;if((0,ae.rh)(p.app)){const Fe=p.app.settings.authIdToken;return Fe?new Promise(ut=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(Fe).then(ut,ut))}):p.directlySetCurrentUser(null)}const L=yield p.assertedPersistence.getCurrentUser();let W=L,ye=!1;if(l&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Fe=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,ut=W?._redirectEventId,Lt=yield p.tryRedirectSignIn(l);(!Fe||Fe===ut)&&Lt?.user&&(W=Lt.user,ye=!0)}if(!W)return p.directlySetCurrentUser(null);if(!W._redirectEventId){if(ye)try{yield p.beforeStateQueue.runMiddleware(W)}catch(Fe){W=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Fe))}return W?p.reloadAndSetCurrentUserOrClear(W):p.directlySetCurrentUser(null)}return ct(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===W._redirectEventId?p.directlySetCurrentUser(W):p.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(l){var p=this;return(0,ie.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,l,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(l){var p=this;return(0,ie.Z)(function*(){try{yield rr(l)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var l=this;return(0,ie.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var p=this;return(0,ie.Z)(function*(){if((0,ae.rh)(p.app))return Promise.reject($t(p));const E=l?(0,xe.m9)(l):null;return E&&ct(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(l,p=!1){var E=this;return(0,ie.Z)(function*(){if(!E._deleted)return l&&ct(E.tenantId===l.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(l)),E.queue((0,ie.Z)(function*(){yield E.directlySetCurrentUser(l),E.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,ie.Z)(function*(){return(0,ae.rh)(l.app)?Promise.reject($t(l)):(yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0))})()}setPersistence(l){var p=this;return(0,ae.rh)(this.app)?Promise.reject($t(this)):this.queue((0,ie.Z)(function*(){yield p.assertedPersistence.setPersistence(Ut(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var p=this;return(0,ie.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const E=p._getPasswordPolicyInternal();return E.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,ie.Z)(function*(){const p=yield function En(v){return Sr.apply(this,arguments)}(l),E=new $o(p);null===l.tenantId?l._projectPasswordPolicy=E:l._tenantPasswordPolicies[l.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new xe.LL("auth","Firebase",l())}onAuthStateChanged(l,p,E){return this.registerStateListener(this.authStateSubscription,l,p,E)}beforeAuthStateChanged(l,p){return this.beforeStateQueue.pushCallback(l,p)}onIdTokenChanged(l,p,E){return this.registerStateListener(this.idTokenSubscription,l,p,E)}authStateReady(){return new Promise((l,p)=>{if(this.currentUser)l();else{const E=this.onAuthStateChanged(()=>{E(),l()},p)}})}revokeAccessToken(l){var p=this;return(0,ie.Z)(function*(){if(p.currentUser){const E=yield p.currentUser.getIdToken(),L={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:E};null!=p.tenantId&&(L.tenantId=p.tenantId),yield function De(v,l){return Ye.apply(this,arguments)}(p,L)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,p){var E=this;return(0,ie.Z)(function*(){const L=yield E.getOrInitRedirectPersistenceManager(p);return null===l?L.removeCurrentUser():L.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var p=this;return(0,ie.Z)(function*(){if(!p.redirectPersistenceManager){const E=l&&Ut(l)||p._popupRedirectResolver;ct(E,p,"argument-error"),p.redirectPersistenceManager=yield kr.create(p,[Ut(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(l){var p=this;return(0,ie.Z)(function*(){var E,L;return p._isInitialized&&(yield p.queue((0,ie.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===l?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===l?p.redirectUser:null})()}_persistUserIfCurrent(l){var p=this;return(0,ie.Z)(function*(){if(l===p.currentUser)return p.queue((0,ie.Z)(function*(){return p.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,p,E,L){if(this._deleted)return()=>{};const W="function"==typeof p?p:p.next.bind(p);let ye=!1;const Fe=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(Fe,this,"internal-error"),Fe.then(()=>{ye||W(this.currentUser)}),"function"==typeof p){const ut=l.addObserver(p,E,L);return()=>{ye=!0,ut()}}{const ut=l.addObserver(p);return()=>{ye=!0,ut()}}}directlySetCurrentUser(l){var p=this;return(0,ie.Z)(function*(){p.currentUser&&p.currentUser!==l&&p._currentUser._stopProactiveRefresh(),l&&p.isProactiveRefreshEnabled&&l._startProactiveRefresh(),p.currentUser=l,l?yield p.assertedPersistence.setCurrentUser(l):yield p.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,ie.Z)(function*(){var p;const E={"X-Client-Version":l.clientVersion};l.app.options.appId&&(E["X-Firebase-gmpid"]=l.app.options.appId);const L=yield null===(p=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(E["X-Firebase-Client"]=L);const W=yield l._getAppCheckToken();return W&&(E["X-Firebase-AppCheck"]=W),E})()}_getAppCheckToken(){var l=this;return(0,ie.Z)(function*(){var p;const E=yield null===(p=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function Qe(v,...l){ot.logLevel<=yt.in.WARN&&ot.warn(`Auth (${ae.Jn}): ${v}`,...l)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Wn(v){return(0,xe.m9)(v)}class os{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,xe.ne)(p=>this.observer=p)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pi={loadJS:()=>(0,ie.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Os(v){return`__${v}${Math.floor(1e6*Math.random())}`}function Li(v){const l=v.indexOf(":");return l<0?"":v.substr(0,l+1)}function Fi(v){if(!v)return null;const l=Number(v);return isNaN(l)?null:l}class co{constructor(l,p){this.providerId=l,this.signInMethod=p}toJSON(){return Ie("not implemented")}_getIdTokenResponse(l){return Ie("not implemented")}_linkToIdToken(l,p){return Ie("not implemented")}_getReauthenticationResolver(l){return Ie("not implemented")}}function Un(v,l){return lr.apply(this,arguments)}function lr(){return(lr=(0,ie.Z)(function*(v,l){return function Yt(v,l,p,E){return wr.apply(this,arguments)}(v,"POST","/v1/accounts:signInWithIdp",Et(v,l))})).apply(this,arguments)}class Xs{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class ua extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class ne{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,p,E,L=!1){return(0,ie.Z)(function*(){const W=yield Nt._fromIdTokenResponse(l,E,L),ye=Ee(E);return new ne({user:W,providerId:ye,_tokenResponse:E,operationType:p})})()}static _forOperation(l,p,E){return(0,ie.Z)(function*(){yield l._updateTokensIfNecessary(E,!0);const L=Ee(E);return new ne({user:l,providerId:L,_tokenResponse:E,operationType:p})})()}}function Ee(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}class Ot extends xe.ZR{constructor(l,p,E,L){var W;super(p.code,p.message),this.operationType=E,this.user=L,Object.setPrototypeOf(this,Ot.prototype),this.customData={appName:l.name,tenantId:null!==(W=l.tenantId)&&void 0!==W?W:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(l,p,E,L){return new Ot(l,p,E,L)}}function xt(v,l,p,E){return("reauthenticate"===l?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Ot._fromErrorAndOperation(v,W,l,E):W})}function $r(){return($r=(0,ie.Z)(function*(v,l,p=!1){const E=yield Dr(v,l._linkToIdToken(v.auth,yield v.getIdToken()),p);return ne._forOperation(v,"link",E)})).apply(this,arguments)}function di(){return(di=(0,ie.Z)(function*(v,l,p=!1){const{auth:E}=v;if((0,ae.rh)(E.app))return Promise.reject($t(E));const L="reauthenticate";try{const W=yield Dr(v,xt(E,L,l,v),p);ct(W.idToken,E,"internal-error");const ye=Nn(W.idToken);ct(ye,E,"internal-error");const{sub:Fe}=ye;return ct(v.uid===Fe,E,"user-mismatch"),ne._forOperation(v,L,W)}catch(W){throw"auth/user-not-found"===W?.code&&St(E,"user-mismatch"),W}})).apply(this,arguments)}function qn(){return(qn=(0,ie.Z)(function*(v,l,p=!1){if((0,ae.rh)(v.app))return Promise.reject($t(v));const E="signIn",L=yield xt(v,E,l),W=yield ne._fromIdTokenResponse(v,E,L);return p||(yield v._updateCurrentUser(W.user)),W})).apply(this,arguments)}const xa="__sak";class Zl{constructor(l,p){this.storageRetriever=l,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,p){return this.storage.setItem(l,JSON.stringify(p)),Promise.resolve()}_get(l){const p=this.storage.getItem(l);return Promise.resolve(p?JSON.parse(p):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oa=(()=>{class v extends Zl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bt(){const v=(0,xe.z$)();return ws(v)||je(v)}()&&function jn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Kt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const L=this.storage.getItem(E),W=this.localCache[E];L!==W&&p(E,W,L)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Fe,ut,Lt)=>{this.notifyListeners(Fe,Lt)});const L=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(L);if(p.newValue!==Fe)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!E)return}const W=()=>{const Fe=this.storage.getItem(L);!E&&this.localCache[L]===Fe||this.notifyListeners(L,Fe)},ye=this.storage.getItem(L);!function rn(){return(0,xe.w1)()&&10===document.documentMode}()||ye===p.newValue||p.newValue===p.oldValue?W():setTimeout(W,10)}notifyListeners(p,E){this.localCache[p]=E;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var L=()=>super._set,W=this;return(0,ie.Z)(function*(){yield L().call(W,p,E),W.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,L=this;return(0,ie.Z)(function*(){const W=yield E().call(L,p);return L.localCache[p]=JSON.stringify(W),W})()}_remove(p){var E=()=>super._remove,L=this;return(0,ie.Z)(function*(){yield E().call(L,p),delete L.localCache[p]})()}}return v.type="LOCAL",v})(),Xu=(()=>{class v extends Zl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return v.type="SESSION",v})();let ec=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(W=>W.isListeningto(p));if(E)return E;const L=new v(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,ie.Z)(function*(){const L=p,{eventId:W,eventType:ye,data:Fe}=L.data,ut=E.handlersMap[ye];if(!ut?.size)return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:ye});const Lt=Array.from(ut).map(function(){var Bn=(0,ie.Z)(function*(wi){return wi(L.origin,Fe)});return function(wi){return Bn.apply(this,arguments)}}()),Qt=yield function So(v){return Promise.all(v.map(function(){var l=(0,ie.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return l.apply(this,arguments)}}()))}(Lt);L.ports[0].postMessage({status:"done",eventId:W,eventType:ye,response:Qt})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function tc(v="",l=10){let p="";for(let E=0;E<l;E++)p+=Math.floor(10*Math.random());return v+p}class Yl{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,p,E=50){var L=this;return(0,ie.Z)(function*(){const W=typeof MessageChannel<"u"?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let ye,Fe;return new Promise((ut,Lt)=>{const Qt=tc("",20);W.port1.start();const Bn=setTimeout(()=>{Lt(new Error("unsupported_event"))},E);Fe={messageChannel:W,onMessage(wi){const ao=wi;if(ao.data.eventId===Qt)switch(ao.data.status){case"ack":clearTimeout(Bn),ye=setTimeout(()=>{Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),ut(ao.data.response);break;default:clearTimeout(Bn),clearTimeout(ye),Lt(new Error("invalid_response"))}}},L.handlers.add(Fe),W.port1.addEventListener("message",Fe.onMessage),L.target.postMessage({eventType:l,eventId:Qt,data:p},[W.port2])}).finally(()=>{Fe&&L.removeMessageHandler(Fe)})})()}}function ii(){return window}function it(){return typeof ii().WorkerGlobalScope<"u"&&"function"==typeof ii().importScripts}function ka(){return(ka=(0,ie.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pa="firebaseLocalStorageDb",Xi="firebaseLocalStorage",du="fbase_key";class Ro{constructor(l){this.request=l}toPromise(){return new Promise((l,p)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function La(v,l){return v.transaction([Xi],l?"readwrite":"readonly").objectStore(Xi)}function nc(){const v=indexedDB.open(pa,1);return new Promise((l,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Xi,{keyPath:du})}catch(L){p(L)}}),v.addEventListener("success",(0,ie.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Xi)?l(E):(E.close(),yield function Ih(){const v=indexedDB.deleteDatabase(pa);return new Ro(v).toPromise()}(),l(yield nc()))}))})}function Kr(v,l,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,ie.Z)(function*(v,l,p){const E=La(v,!0).put({[du]:l,value:p});return new Ro(E).toPromise()})).apply(this,arguments)}function Zo(){return(Zo=(0,ie.Z)(function*(v,l){const p=La(v,!1).get(l),E=yield new Ro(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function oo(v,l){const p=La(v,!0).delete(l);return new Ro(p).toPromise()}const C=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ie.Z)(function*(){return p.db||(p.db=yield nc()),p.db})()}_withRetries(p){var E=this;return(0,ie.Z)(function*(){let L=0;for(;;)try{const W=yield E._openDb();return yield p(W)}catch(W){if(L++>3)throw W;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ie.Z)(function*(){return it()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ie.Z)(function*(){p.receiver=ec._getInstance(function vi(){return it()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,ie.Z)(function*(L,W){return{keyProcessed:(yield p._poll()).includes(W.key)}});return function(L,W){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,ie.Z)(function*(L,W){return["keyChanged"]});return function(L,W){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ie.Z)(function*(){var E,L;if(p.activeServiceWorker=yield function Mn(){return ka.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Yl(p.activeServiceWorker);const W=yield p.sender._send("ping",{},800);W&&null!==(E=W[0])&&void 0!==E&&E.fulfilled&&null!==(L=W[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,ie.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Xl(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ie.Z)(function*(){try{if(!indexedDB)return!1;const p=yield nc();return yield Kr(p,xa,"1"),yield oo(p,xa),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,ie.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var L=this;return(0,ie.Z)(function*(){return L._withPendingWrite((0,ie.Z)(function*(){return yield L._withRetries(W=>Kr(W,p,E)),L.localCache[p]=E,L.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,ie.Z)(function*(){const L=yield E._withRetries(W=>function Uc(v,l){return Zo.apply(this,arguments)}(W,p));return E.localCache[p]=L,L})()}_remove(p){var E=this;return(0,ie.Z)(function*(){return E._withPendingWrite((0,ie.Z)(function*(){return yield E._withRetries(L=>oo(L,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ie.Z)(function*(){const E=yield p._withRetries(ye=>{const Fe=La(ye,!1).getAll();return new Ro(Fe).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const L=[],W=new Set;if(0!==E.length)for(const{fbase_key:ye,value:Fe}of E)W.add(ye),JSON.stringify(p.localCache[ye])!==JSON.stringify(Fe)&&(p.notifyListeners(ye,Fe),L.push(ye));for(const ye of Object.keys(p.localCache))p.localCache[ye]&&!W.has(ye)&&(p.notifyListeners(ye,null),L.push(ye));return L})()}notifyListeners(p,E){this.localCache[p]=E;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ie.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();Os("rcb"),new oe(3e4,6e4);class fu extends co{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Un(l,this._buildIdpRequest())}_linkToIdToken(l,p){return Un(l,this._buildIdpRequest(p))}_getReauthenticationResolver(l){return Un(l,this._buildIdpRequest())}_buildIdpRequest(l){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(p.idToken=l),p}}function rd(v){return function hi(v,l){return qn.apply(this,arguments)}(v.auth,new fu(v),v.bypassAuthState)}function Va(v){const{auth:l,user:p}=v;return ct(p,l,"internal-error"),function Er(v,l){return di.apply(this,arguments)}(p,new fu(v),v.bypassAuthState)}function ya(v){return id.apply(this,arguments)}function id(){return(id=(0,ie.Z)(function*(v){const{auth:l,user:p}=v;return ct(p,l,"internal-error"),function kn(v,l){return $r.apply(this,arguments)}(p,new fu(v),v.bypassAuthState)})).apply(this,arguments)}class Th{constructor(l,p,E,L,W=!1){this.auth=l,this.resolver=E,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var l=this;return new Promise(function(){var p=(0,ie.Z)(function*(E,L){l.pendingPromise={resolve:E,reject:L};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(W){l.reject(W)}});return function(E,L){return p.apply(this,arguments)}}())}onAuthEvent(l){var p=this;return(0,ie.Z)(function*(){const{urlResponse:E,sessionId:L,postBody:W,tenantId:ye,error:Fe,type:ut}=l;if(Fe)return void p.reject(Fe);const Lt={auth:p.auth,requestUri:E,sessionId:L,tenantId:ye||void 0,postBody:W||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ut)(Lt))}catch(Qt){p.reject(Qt)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return rd;case"linkViaPopup":case"linkViaRedirect":return ya;case"reauthViaPopup":case"reauthViaRedirect":return Va;default:St(this.auth,"internal-error")}}resolve(l){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new oe(2e3,1e4);const es="pendingRedirect",No=new Map;class mu extends Th{constructor(l,p,E=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var l=()=>super.execute,p=this;return(0,ie.Z)(function*(){let E=No.get(p.auth._key());if(!E){try{const W=(yield function Ua(v,l){return sd.apply(this,arguments)}(p.resolver,p.auth))?yield l().call(p):null;E=()=>Promise.resolve(W)}catch(L){E=()=>Promise.reject(L)}No.set(p.auth._key(),E)}return p.bypassAuthState||No.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(l){var p=()=>super.onAuthEvent,E=this;return(0,ie.Z)(function*(){if("signInViaRedirect"===l.type)return p().call(E,l);if("unknown"!==l.type){if(l.eventId){const L=yield E.auth._redirectUserForId(l.eventId);if(L)return E.user=L,p().call(E,l);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,ie.Z)(function*(){})()}cleanUp(){}}function sd(){return(sd=(0,ie.Z)(function*(v,l){const p=function Oo(v){return is(es,v.config.apiKey,v.name)}(l),E=function wh(v){return Ut(v._redirectPersistence)}(v);if(!(yield E._isAvailable()))return!1;const L="true"===(yield E._get(p));return yield E._remove(p),L})).apply(this,arguments)}function ts(v,l){No.set(v._key(),l)}function ea(v,l){return ad.apply(this,arguments)}function ad(){return(ad=(0,ie.Z)(function*(v,l,p=!1){if((0,ae.rh)(v.app))return Promise.reject($t(v));const E=Wn(v),L=function Yo(v,l){return l?Ut(l):(ct(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}(E,l),ye=yield new mu(E,L,p).execute();return ye&&!p&&(delete ye.user._redirectEventId,yield E._persistUserIfCurrent(ye.user),yield E._setRedirectUser(null,l)),ye})).apply(this,arguments)}class Sh{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(l,E)&&(p=!0,this.sendToConsumer(l,E),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function ud(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rh(v);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=l,p=!0)),p}sendToConsumer(l,p){var E;if(l.error&&!Rh(l)){const L=(null===(E=l.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(vt(this.auth,L))}else p.onAuthEvent(l)}isEventForConsumer(l,p){const E=null===p.eventId||!!l.eventId&&l.eventId===p.eventId;return p.filter.includes(l.type)&&E}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zi(l))}saveEventToCache(l){this.cachedEventUids.add(zi(l)),this.lastProcessedEventTime=Date.now()}}function zi(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(l=>l).join("-")}function Rh({type:v,error:l}){return"unknown"===v&&"auth/no-auth-event"===l?.code}function ld(){return(ld=(0,ie.Z)(function*(v,l={}){return Xe(v,"GET","/v1/projects",l)})).apply(this,arguments)}const Wc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ii=/^https?/;function Ia(){return Ia=(0,ie.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:l}=yield function cd(v){return ld.apply(this,arguments)}(v);for(const p of l)try{if(vu(p))return}catch{}St(v,"unauthorized-domain")}),Ia.apply(this,arguments)}function vu(v){const l=pt(),{protocol:p,hostname:E}=new URL(l);if(v.startsWith("chrome-extension://")){const ye=new URL(v);return""===ye.hostname&&""===E?"chrome-extension:"===p&&v.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===p&&ye.hostname===E}if(!Ii.test(p))return!1;if(Wc.test(v))return E===v;const L=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(E)}const Ph=new oe(3e4,6e4);function Iu(){const v=ii().___jsl;if(v?.H)for(const l of Object.keys(v.H))if(v.H[l].r=v.H[l].r||[],v.H[l].L=v.H[l].L||[],v.H[l].r=[...v.H[l].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}function Eu(v){return new Promise((l,p)=>{var E,L,W;function ye(){Iu(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Iu(),p(vt(v,"network-request-failed"))},timeout:Ph.get()})}if(null!==(L=null===(E=ii().gapi)||void 0===E?void 0:E.iframes)&&void 0!==L&&L.Iframe)l(gapi.iframes.getContext());else{if(null===(W=ii().gapi)||void 0===W||!W.load){const Fe=Os("iframefcb");return ii()[Fe]=()=>{gapi.load?ye():p(vt(v,"network-request-failed"))},function as(v){return Pi.loadJS(v)}(`${function _i(){return Pi.gapiScript}()}?onload=${Fe}`).catch(ut=>p(ut))}ye()}}).catch(l=>{throw Tu=null,l})}let Tu=null;const Am=new oe(5e3,15e3),pp="__/auth/iframe",Mh="emulator/auth/iframe",xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dd(v){const l=v.config;ct(l.authDomain,v,"auth-domain-config-required");const p=l.emulator?Q(l,Mh):`https://${v.config.authDomain}/${pp}`,E={apiKey:l.apiKey,appName:v.name,v:ae.Jn},L=Kc.get(v.config.apiHost);L&&(E.eid=L);const W=v._getFrameworks();return W.length&&(E.fw=W.join(",")),`${p}?${(0,xe.xO)(E).slice(1)}`}function oc(){return oc=(0,ie.Z)(function*(v){const l=yield function qc(v){return Tu=Tu||Eu(v),Tu}(v),p=ii().gapi;return ct(p,v,"internal-error"),l.open({where:document.body,url:dd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xh,dontclear:!0},E=>new Promise(function(){var L=(0,ie.Z)(function*(W,ye){yield E.restyle({setHideOnLeave:!1});const Fe=vt(v,"network-request-failed"),ut=ii().setTimeout(()=>{ye(Fe)},Am.get());function Lt(){ii().clearTimeout(ut),W(E)}E.ping(Lt).then(Lt,()=>{ye(Fe)})});return function(W,ye){return L.apply(this,arguments)}}()))}),oc.apply(this,arguments)}const gp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ms{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qc="__/auth/handler",Au="emulator/auth/handler",_p=encodeURIComponent("fac");function Cu(v,l,p,E,L,W){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,ie.Z)(function*(v,l,p,E,L,W){ct(v.config.authDomain,v,"auth-domain-config-required"),ct(v.config.apiKey,v,"invalid-api-key");const ye={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:E,v:ae.Jn,eventId:L};if(l instanceof Xs){l.setDefaultLanguage(v.languageCode),ye.providerId=l.providerId||"",(0,xe.xb)(l.getCustomParameters())||(ye.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Qt,Bn]of Object.entries(W||{}))ye[Qt]=Bn}if(l instanceof ua){const Qt=l.getScopes().filter(Bn=>""!==Bn);Qt.length>0&&(ye.scopes=Qt.join(","))}v.tenantId&&(ye.tid=v.tenantId);const Fe=ye;for(const Qt of Object.keys(Fe))void 0===Fe[Qt]&&delete Fe[Qt];const ut=yield v._getAppCheckToken(),Lt=ut?`#${_p}=${encodeURIComponent(ut)}`:"";return`${function Oh({config:v}){return v.emulator?Q(v,Au):`https://${v.authDomain}/${Qc}`}(v)}?${(0,xe.xO)(Fe).slice(1)}${Lt}`})).apply(this,arguments)}const ki="webStorageSupport",$a=class Zc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xu,this._completeRedirectFn=ea,this._overrideRedirectResult=ts}_openPopup(l,p,E,L){var W=this;return(0,ie.Z)(function*(){var ye;Vt(null===(ye=W.eventManagers[l._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Fe=yield Cu(l,p,E,pt(),L);return function Du(v,l,p,E=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),ye=Math.max((window.screen.availWidth-E)/2,0).toString();let Fe="";const ut=Object.assign(Object.assign({},gp),{width:E.toString(),height:L.toString(),top:W,left:ye}),Lt=(0,xe.z$)().toLowerCase();p&&(Fe=br(Lt)?"_blank":p),Xr(Lt)&&(l=l||"http://localhost",ut.scrollbars="yes");const Qt=Object.entries(ut).reduce((wi,[ao,Ou])=>`${wi}${ao}=${Ou},`,"");if(function nn(v=(0,xe.z$)()){var l;return je(v)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Lt)&&"_self"!==Fe)return function hd(v,l){const p=document.createElement("a");p.href=v,p.target=l;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(l||"",Fe),new ms(null);const Bn=window.open(l||"",Fe,Qt);ct(Bn,v,"popup-blocked");try{Bn.focus()}catch{}return new ms(Bn)}(l,Fe,tc())})()}_openRedirect(l,p,E,L){var W=this;return(0,ie.Z)(function*(){return yield W._originValidation(l),function Jl(v){ii().location.href=v}(yield Cu(l,p,E,pt(),L)),new Promise(()=>{})})()}_initialize(l){const p=l._key();if(this.eventManagers[p]){const{manager:L,promise:W}=this.eventManagers[p];return L?Promise.resolve(L):(Vt(W,"If manager is not set, promise should be"),W)}const E=this.initAndGetManager(l);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(l){var p=this;return(0,ie.Z)(function*(){const E=yield function Ea(v){return oc.apply(this,arguments)}(l),L=new Sh(l);return E.register("authEvent",W=>(ct(W?.authEvent,l,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[l._key()]={manager:L},p.iframes[l._key()]=E,L})()}_isIframeWebStorageSupported(l,p){this.iframes[l._key()].send(ki,{type:ki},L=>{var W;const ye=null===(W=L?.[0])||void 0===W?void 0:W[ki];void 0!==ye&&p(!!ye),St(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const p=l._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function yu(v){return Ia.apply(this,arguments)}(l)),this.originValidationPromises[p]}get _shouldInitProactively(){return Kt()||ws()||je()}};var Yc="@firebase/auth";class wa{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var p=this;return(0,ie.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const p=this.auth.onIdTokenChanged(E=>{l(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,p),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const p=this.internalListeners.get(l);p&&(this.internalListeners.delete(l),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Su=(0,xe.Pz)("authIdTokenMaxAge")||300;let md=null;const Lh=v=>function(){var l=(0,ie.Z)(function*(p){const E=p&&(yield p.getIdTokenResult()),L=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(L&&L>Su)return;const W=E?.token;md!==W&&(md=W,yield fetch(v,{method:W?"POST":"DELETE",headers:W?{Authorization:`Bearer ${W}`}:{}}))});return function(p){return l.apply(this,arguments)}}();function Xc(v=(0,ae.Mq)()){const l=(0,ae.qX)(v,"auth");if(l.isInitialized())return l.getImmediate();const p=function ba(v,l){const p=(0,ae.qX)(v,"auth");if(p.isInitialized()){const L=p.getImmediate(),W=p.getOptions();if((0,xe.vZ)(W,l??{}))return L;St(L,"already-initialized")}return p.initialize({options:l})}(v,{popupRedirectResolver:$a,persistence:[C,Oa,Xu]}),E=(0,xe.Pz)("authTokenSyncURL");if(E&&"boolean"==typeof isSecureContext&&isSecureContext){const W=new URL(E,location.origin);if(location.origin===W.origin){const ye=Lh(W.toString());(function $s(v,l,p){(0,xe.m9)(v).beforeAuthStateChanged(l,p)})(p,ye,()=>ye(p.currentUser)),function ql(v,l,p,E){(0,xe.m9)(v).onIdTokenChanged(l,p,E)}(p,Fe=>ye(Fe))}}const L=(0,xe.q4)("auth");return L&&function Sa(v,l,p){const E=Wn(v);ct(E._canInitEmulator,E,"emulator-config-failed"),ct(/^https?:\/\//.test(l),E,"invalid-emulator-scheme");const L=!!p?.disableWarnings,W=Li(l),{host:ye,port:Fe}=function Ar(v){const l=Li(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(l.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(E);if(L){const W=L[1];return{host:W,port:Fi(E.substr(W.length+1))}}{const[W,ye]=E.split(":");return{host:W,port:Fi(ye)}}}(l);E.config.emulator={url:`${W}//${ye}${null===Fe?"":`:${Fe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ye,port:Fe,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Do(){function v(){const l=document.createElement("p"),p=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(p,`http://${L}`),p}(function mi(v){Pi=v})({loadJS:v=>new Promise((l,p)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=l,E.onerror=L=>{const W=vt("internal-error");W.customData=L,p(W)},E.type="text/javascript",E.charset="UTF-8",function za(){var v,l;return null!==(l=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==l?l:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bu(v){(0,ae.Xd)(new ce.wA("auth",(l,{options:p})=>{const E=l.getProvider("app").getImmediate(),L=l.getProvider("heartbeat"),W=l.getProvider("app-check-internal"),{apiKey:ye,authDomain:Fe}=E.options;ct(ye&&!ye.includes(":"),"invalid-api-key",{appName:E.name});const ut={apiKey:ye,authDomain:Fe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rn(v)},Lt=new Ds(E,L,W,ut);return function Vr(v,l){const p=l?.persistence||[],E=(Array.isArray(p)?p:[p]).map(Ut);l?.errorMap&&v._updateErrorMap(l.errorMap),v._initializeWithPersistence(E,l?.popupRedirectResolver)}(Lt,p),Lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,p,E)=>{l.getProvider("auth-internal").initialize()})),(0,ae.Xd)(new ce.wA("auth-internal",l=>{const p=Wn(l.getProvider("auth").getImmediate());return new wa(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.KN)(Yc,"1.7.4",function Jc(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,ae.KN)(Yc,"1.7.4","esm2017")}("Browser");class _d{constructor(l){return l}}class Fh{constructor(){return(0,R.vb)("auth")}}const Ga=new fe.OlP("angularfire2.auth-instances");function yd(v){return(l,p)=>{const E=l.runOutsideAngular(()=>v(p));return new _d(E)}}const Ru={provide:Fh,deps:[[new fe.FiY,Ga]]},vd={provide:_d,useFactory:function Vh(v,l){const p=(0,R.JM)("auth",v,l);return p&&new _d(p)},deps:[[new fe.FiY,Ga],He.Ot]};let yp=(()=>{class v{constructor(){(0,Ue.KN)("angularfire",R.q4.full,"auth")}static \u0275fac=function(E){return new(E||v)};static \u0275mod=fe.oAB({type:v});static \u0275inj=fe.cJS({providers:[vd,Ru]})}return v})();function vp(v,...l){return{ngModule:yp,providers:[{provide:Ga,useFactory:yd(v),multi:!0,deps:[fe.R0b,fe.zs3,R.HU,He.z6,[new fe.FiY,R.Rf],...l]}]}}const jh=(0,R.u3)(Xc,!0)},2163:(Zt,tt,Z)=>{Z.d(tt,{gg:()=>Jd,ET:()=>Dv,hJ:()=>Cv,BS:()=>Tv,ad:()=>Xd,Cm:()=>R_});var lt,nt,R=Z(4810),fe=Z(4946),He=Z(721),Ue=Z(90),ie=Z(3182),ae=Z(5861),xe=Z(534),yt=Z(4537),qe=Z(7879),ce=Z(9058),de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(Te,se,me){me||(me=0);var we=Array(16);if("string"==typeof se)for(var be=0;16>be;++be)we[be]=se.charCodeAt(me++)|se.charCodeAt(me++)<<8|se.charCodeAt(me++)<<16|se.charCodeAt(me++)<<24;else for(be=0;16>be;++be)we[be]=se[me++]|se[me++]<<8|se[me++]<<16|se[me++]<<24;var Oe=Te.g[3],ge=(se=Te.g[0])+(Oe^(me=Te.g[1])&((be=Te.g[2])^Oe))+we[0]+3614090360&4294967295;ge=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=(me=(be=(Oe=(se=me+(ge<<7&4294967295|ge>>>25))+((ge=Oe+(be^se&(me^be))+we[1]+3905402710&4294967295)<<12&4294967295|ge>>>20))+((ge=be+(me^Oe&(se^me))+we[2]+606105819&4294967295)<<17&4294967295|ge>>>15))+((ge=me+(se^be&(Oe^se))+we[3]+3250441966&4294967295)<<22&4294967295|ge>>>10))+((ge=se+(Oe^me&(be^Oe))+we[4]+4118548399&4294967295)<<7&4294967295|ge>>>25))+((ge=Oe+(be^se&(me^be))+we[5]+1200080426&4294967295)<<12&4294967295|ge>>>20))+((ge=be+(me^Oe&(se^me))+we[6]+2821735955&4294967295)<<17&4294967295|ge>>>15))+((ge=me+(se^be&(Oe^se))+we[7]+4249261313&4294967295)<<22&4294967295|ge>>>10))+((ge=se+(Oe^me&(be^Oe))+we[8]+1770035416&4294967295)<<7&4294967295|ge>>>25))+((ge=Oe+(be^se&(me^be))+we[9]+2336552879&4294967295)<<12&4294967295|ge>>>20))+((ge=be+(me^Oe&(se^me))+we[10]+4294925233&4294967295)<<17&4294967295|ge>>>15))+((ge=me+(se^be&(Oe^se))+we[11]+2304563134&4294967295)<<22&4294967295|ge>>>10))+((ge=se+(Oe^me&(be^Oe))+we[12]+1804603682&4294967295)<<7&4294967295|ge>>>25))+((ge=Oe+(be^se&(me^be))+we[13]+4254626195&4294967295)<<12&4294967295|ge>>>20))+((ge=be+(me^Oe&(se^me))+we[14]+2792965006&4294967295)<<17&4294967295|ge>>>15))+((ge=me+(se^be&(Oe^se))+we[15]+1236535329&4294967295)<<22&4294967295|ge>>>10))+((ge=se+(be^Oe&(me^be))+we[1]+4129170786&4294967295)<<5&4294967295|ge>>>27))+((ge=Oe+(me^be&(se^me))+we[6]+3225465664&4294967295)<<9&4294967295|ge>>>23))+((ge=be+(se^me&(Oe^se))+we[11]+643717713&4294967295)<<14&4294967295|ge>>>18))+((ge=me+(Oe^se&(be^Oe))+we[0]+3921069994&4294967295)<<20&4294967295|ge>>>12))+((ge=se+(be^Oe&(me^be))+we[5]+3593408605&4294967295)<<5&4294967295|ge>>>27))+((ge=Oe+(me^be&(se^me))+we[10]+38016083&4294967295)<<9&4294967295|ge>>>23))+((ge=be+(se^me&(Oe^se))+we[15]+3634488961&4294967295)<<14&4294967295|ge>>>18))+((ge=me+(Oe^se&(be^Oe))+we[4]+3889429448&4294967295)<<20&4294967295|ge>>>12))+((ge=se+(be^Oe&(me^be))+we[9]+568446438&4294967295)<<5&4294967295|ge>>>27))+((ge=Oe+(me^be&(se^me))+we[14]+3275163606&4294967295)<<9&4294967295|ge>>>23))+((ge=be+(se^me&(Oe^se))+we[3]+4107603335&4294967295)<<14&4294967295|ge>>>18))+((ge=me+(Oe^se&(be^Oe))+we[8]+1163531501&4294967295)<<20&4294967295|ge>>>12))+((ge=se+(be^Oe&(me^be))+we[13]+2850285829&4294967295)<<5&4294967295|ge>>>27))+((ge=Oe+(me^be&(se^me))+we[2]+4243563512&4294967295)<<9&4294967295|ge>>>23))+((ge=be+(se^me&(Oe^se))+we[7]+1735328473&4294967295)<<14&4294967295|ge>>>18))+((ge=me+(Oe^se&(be^Oe))+we[12]+2368359562&4294967295)<<20&4294967295|ge>>>12))+((ge=se+(me^be^Oe)+we[5]+4294588738&4294967295)<<4&4294967295|ge>>>28))+((ge=Oe+(se^me^be)+we[8]+2272392833&4294967295)<<11&4294967295|ge>>>21))+((ge=be+(Oe^se^me)+we[11]+1839030562&4294967295)<<16&4294967295|ge>>>16))+((ge=me+(be^Oe^se)+we[14]+4259657740&4294967295)<<23&4294967295|ge>>>9))+((ge=se+(me^be^Oe)+we[1]+2763975236&4294967295)<<4&4294967295|ge>>>28))+((ge=Oe+(se^me^be)+we[4]+1272893353&4294967295)<<11&4294967295|ge>>>21))+((ge=be+(Oe^se^me)+we[7]+4139469664&4294967295)<<16&4294967295|ge>>>16))+((ge=me+(be^Oe^se)+we[10]+3200236656&4294967295)<<23&4294967295|ge>>>9))+((ge=se+(me^be^Oe)+we[13]+681279174&4294967295)<<4&4294967295|ge>>>28))+((ge=Oe+(se^me^be)+we[0]+3936430074&4294967295)<<11&4294967295|ge>>>21))+((ge=be+(Oe^se^me)+we[3]+3572445317&4294967295)<<16&4294967295|ge>>>16))+((ge=me+(be^Oe^se)+we[6]+76029189&4294967295)<<23&4294967295|ge>>>9))+((ge=se+(me^be^Oe)+we[9]+3654602809&4294967295)<<4&4294967295|ge>>>28))+((ge=Oe+(se^me^be)+we[12]+3873151461&4294967295)<<11&4294967295|ge>>>21))+((ge=be+(Oe^se^me)+we[15]+530742520&4294967295)<<16&4294967295|ge>>>16))+((ge=me+(be^Oe^se)+we[2]+3299628645&4294967295)<<23&4294967295|ge>>>9))+((ge=se+(be^(me|~Oe))+we[0]+4096336452&4294967295)<<6&4294967295|ge>>>26))+((ge=Oe+(me^(se|~be))+we[7]+1126891415&4294967295)<<10&4294967295|ge>>>22))+((ge=be+(se^(Oe|~me))+we[14]+2878612391&4294967295)<<15&4294967295|ge>>>17))+((ge=me+(Oe^(be|~se))+we[5]+4237533241&4294967295)<<21&4294967295|ge>>>11))+((ge=se+(be^(me|~Oe))+we[12]+1700485571&4294967295)<<6&4294967295|ge>>>26))+((ge=Oe+(me^(se|~be))+we[3]+2399980690&4294967295)<<10&4294967295|ge>>>22))+((ge=be+(se^(Oe|~me))+we[10]+4293915773&4294967295)<<15&4294967295|ge>>>17))+((ge=me+(Oe^(be|~se))+we[1]+2240044497&4294967295)<<21&4294967295|ge>>>11))+((ge=se+(be^(me|~Oe))+we[8]+1873313359&4294967295)<<6&4294967295|ge>>>26))+((ge=Oe+(me^(se|~be))+we[15]+4264355552&4294967295)<<10&4294967295|ge>>>22))+((ge=be+(se^(Oe|~me))+we[6]+2734768916&4294967295)<<15&4294967295|ge>>>17))+((ge=me+(Oe^(be|~se))+we[13]+1309151649&4294967295)<<21&4294967295|ge>>>11))+((Oe=(se=me+((ge=se+(be^(me|~Oe))+we[4]+4149444226&4294967295)<<6&4294967295|ge>>>26))+((ge=Oe+(me^(se|~be))+we[11]+3174756917&4294967295)<<10&4294967295|ge>>>22))^((be=Oe+((ge=be+(se^(Oe|~me))+we[2]+718787259&4294967295)<<15&4294967295|ge>>>17))|~se))+we[9]+3951481745&4294967295,Te.g[0]=Te.g[0]+se&4294967295,Te.g[1]=Te.g[1]+(be+(ge<<21&4294967295|ge>>>11))&4294967295,Te.g[2]=Te.g[2]+be&4294967295,Te.g[3]=Te.g[3]+Oe&4294967295}function g(Te,se){this.h=se;for(var me=[],we=!0,be=Te.length-1;0<=be;be--){var Oe=0|Te[be];we&&Oe==se||(me[be]=Oe,we=!1)}this.g=me}(function e(Te,se){function me(){}me.prototype=se.prototype,Te.D=se.prototype,Te.prototype=new me,Te.prototype.constructor=Te,Te.C=function(we,be,Oe){for(var ge=Array(arguments.length-2),Aa=2;Aa<arguments.length;Aa++)ge[Aa-2]=arguments[Aa];return se.prototype[be].apply(we,ge)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Te,se){void 0===se&&(se=Te.length);for(var me=se-this.blockSize,we=this.B,be=this.h,Oe=0;Oe<se;){if(0==be)for(;Oe<=me;)c(this,Te,Oe),Oe+=this.blockSize;if("string"==typeof Te){for(;Oe<se;)if(we[be++]=Te.charCodeAt(Oe++),be==this.blockSize){c(this,we),be=0;break}}else for(;Oe<se;)if(we[be++]=Te[Oe++],be==this.blockSize){c(this,we),be=0;break}}this.h=be,this.o+=se},s.prototype.v=function(){var Te=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Te[0]=128;for(var se=1;se<Te.length-8;++se)Te[se]=0;var me=8*this.o;for(se=Te.length-8;se<Te.length;++se)Te[se]=255&me,me/=256;for(this.u(Te),Te=Array(16),se=me=0;4>se;++se)for(var we=0;32>we;we+=8)Te[me++]=this.g[se]>>>we&255;return Te};var T={};function b(Te){return-128<=Te&&128>Te?function h(Te,se){var me=T;return Object.prototype.hasOwnProperty.call(me,Te)?me[Te]:me[Te]=se(Te)}(Te,function(se){return new g([0|se],0>se?-1:0)}):new g([0|Te],0>Te?-1:0)}function N(Te){if(isNaN(Te)||!isFinite(Te))return Y;if(0>Te)return et(N(-Te));for(var se=[],me=1,we=0;Te>=me;we++)se[we]=Te/me|0,me*=4294967296;return new g(se,0)}var Y=b(0),he=b(1),Ne=b(16777216);function Ke(Te){if(0!=Te.h)return!1;for(var se=0;se<Te.g.length;se++)if(0!=Te.g[se])return!1;return!0}function _t(Te){return-1==Te.h}function et(Te){for(var se=Te.g.length,me=[],we=0;we<se;we++)me[we]=~Te.g[we];return new g(me,~Te.h).add(he)}function jt(Te,se){return Te.add(et(se))}function Xt(Te,se){for(;(65535&Te[se])!=Te[se];)Te[se+1]+=Te[se]>>>16,Te[se]&=65535,se++}function Ft(Te,se){this.g=Te,this.h=se}function yn(Te,se){if(Ke(se))throw Error("division by zero");if(Ke(Te))return new Ft(Y,Y);if(_t(Te))return se=yn(et(Te),se),new Ft(et(se.g),et(se.h));if(_t(se))return se=yn(Te,et(se)),new Ft(et(se.g),se.h);if(30<Te.g.length){if(_t(Te)||_t(se))throw Error("slowDivide_ only works with positive integers.");for(var me=he,we=se;0>=we.l(Te);)me=nr(me),we=nr(we);var be=An(me,1),Oe=An(we,1);for(we=An(we,2),me=An(me,2);!Ke(we);){var ge=Oe.add(we);0>=ge.l(Te)&&(be=be.add(me),Oe=ge),we=An(we,1),me=An(me,1)}return se=jt(Te,be.j(se)),new Ft(be,se)}for(be=Y;0<=Te.l(se);){for(me=Math.max(1,Math.floor(Te.m()/se.m())),we=48>=(we=Math.ceil(Math.log(me)/Math.LN2))?1:Math.pow(2,we-48),ge=(Oe=N(me)).j(se);_t(ge)||0<ge.l(Te);)ge=(Oe=N(me-=we)).j(se);Ke(Oe)&&(Oe=he),be=be.add(Oe),Te=jt(Te,ge)}return new Ft(be,Te)}function nr(Te){for(var se=Te.g.length+1,me=[],we=0;we<se;we++)me[we]=Te.i(we)<<1|Te.i(we-1)>>>31;return new g(me,Te.h)}function An(Te,se){var me=se>>5;se%=32;for(var we=Te.g.length-me,be=[],Oe=0;Oe<we;Oe++)be[Oe]=0<se?Te.i(Oe+me)>>>se|Te.i(Oe+me+1)<<32-se:Te.i(Oe+me);return new g(be,Te.h)}(a=g.prototype).m=function(){if(_t(this))return-et(this).m();for(var Te=0,se=1,me=0;me<this.g.length;me++){var we=this.i(me);Te+=(0<=we?we:4294967296+we)*se,se*=4294967296}return Te},a.toString=function(Te){if(2>(Te=Te||10)||36<Te)throw Error("radix out of range: "+Te);if(Ke(this))return"0";if(_t(this))return"-"+et(this).toString(Te);for(var se=N(Math.pow(Te,6)),me=this,we="";;){var be=yn(me,se).g,Oe=((0<(me=jt(me,be.j(se))).g.length?me.g[0]:me.h)>>>0).toString(Te);if(Ke(me=be))return Oe+we;for(;6>Oe.length;)Oe="0"+Oe;we=Oe+we}},a.i=function(Te){return 0>Te?0:Te<this.g.length?this.g[Te]:this.h},a.l=function(Te){return _t(Te=jt(this,Te))?-1:Ke(Te)?0:1},a.abs=function(){return _t(this)?et(this):this},a.add=function(Te){for(var se=Math.max(this.g.length,Te.g.length),me=[],we=0,be=0;be<=se;be++){var Oe=we+(65535&this.i(be))+(65535&Te.i(be)),ge=(Oe>>>16)+(this.i(be)>>>16)+(Te.i(be)>>>16);we=ge>>>16,me[be]=(ge&=65535)<<16|(Oe&=65535)}return new g(me,-2147483648&me[me.length-1]?-1:0)},a.j=function(Te){if(Ke(this)||Ke(Te))return Y;if(_t(this))return _t(Te)?et(this).j(et(Te)):et(et(this).j(Te));if(_t(Te))return et(this.j(et(Te)));if(0>this.l(Ne)&&0>Te.l(Ne))return N(this.m()*Te.m());for(var se=this.g.length+Te.g.length,me=[],we=0;we<2*se;we++)me[we]=0;for(we=0;we<this.g.length;we++)for(var be=0;be<Te.g.length;be++){var Oe=this.i(we)>>>16,ge=65535&this.i(we),Aa=Te.i(be)>>>16,Pl=65535&Te.i(be);me[2*we+2*be]+=ge*Pl,Xt(me,2*we+2*be),me[2*we+2*be+1]+=Oe*Pl,Xt(me,2*we+2*be+1),me[2*we+2*be+1]+=ge*Aa,Xt(me,2*we+2*be+1),me[2*we+2*be+2]+=Oe*Aa,Xt(me,2*we+2*be+2)}for(we=0;we<se;we++)me[we]=me[2*we+1]<<16|me[2*we];for(we=se;we<2*se;we++)me[we]=0;return new g(me,0)},a.A=function(Te){return yn(this,Te).h},a.and=function(Te){for(var se=Math.max(this.g.length,Te.g.length),me=[],we=0;we<se;we++)me[we]=this.i(we)&Te.i(we);return new g(me,this.h&Te.h)},a.or=function(Te){for(var se=Math.max(this.g.length,Te.g.length),me=[],we=0;we<se;we++)me[we]=this.i(we)|Te.i(we);return new g(me,this.h|Te.h)},a.xor=function(Te){for(var se=Math.max(this.g.length,Te.g.length),me=[],we=0;we<se;we++)me[we]=this.i(we)^Te.i(we);return new g(me,this.h^Te.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nt=Se.Md5=s,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=N,g.fromString=function $(Te,se){if(0==Te.length)throw Error("number format error: empty string");if(2>(se=se||10)||36<se)throw Error("radix out of range: "+se);if("-"==Te.charAt(0))return et($(Te.substring(1),se));if(0<=Te.indexOf("-"))throw Error('number format error: interior "-" character');for(var me=N(Math.pow(se,8)),we=Y,be=0;be<Te.length;be+=8){var Oe=Math.min(8,Te.length-be),ge=parseInt(Te.substring(be,be+Oe),se);8>Oe?(Oe=N(Math.pow(se,Oe)),we=we.j(Oe).add(N(ge))):we=(we=we.j(me)).add(N(ge))}return we},lt=Se.Integer=g}).apply(typeof de<"u"?de:typeof self<"u"?self:typeof window<"u"?window:{});var Wt,qt,vn,Gn,Ge,ot,Qe,At,St,rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pt={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,S,O){return f==Array.prototype||f==Object.prototype||(f[S]=O.value),f},s=function r(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof rt&&rt];for(var S=0;S<f.length;++S){var O=f[S];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}(this);!function c(f,S){if(S)e:{var O=s;f=f.split(".");for(var K=0;K<f.length-1;K++){var Pe=f[K];if(!(Pe in O))break e;O=O[Pe]}(S=S(K=O[f=f[f.length-1]]))!=K&&null!=S&&e(O,f,{configurable:!0,writable:!0,value:S})}}("Array.prototype.values",function(f){return f||function(){return function h(f,S){f instanceof String&&(f+="");var O=0,K=!1,Pe={next:function(){if(!K&&O<f.length){var $e=O++;return{value:S($e,f[$e]),done:!1}}return K=!0,{done:!0,value:void 0}}};return Pe[Symbol.iterator]=function(){return Pe},Pe}(this,function(S,O){return O})}});var g=g||{},T=this||self;function b(f){var S=typeof f;return"array"==(S="object"!=S?S:f?Array.isArray(f)?"array":S:"null")||"object"==S&&"number"==typeof f.length}function N(f){var S=typeof f;return"object"==S&&null!=f||"function"==S}function $(f,S,O){return f.call.apply(f.bind,arguments)}function Y(f,S,O){if(!f)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var Pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pe,K),f.apply(S,Pe)}}return function(){return f.apply(S,arguments)}}function he(f,S,O){return(he=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$:Y).apply(null,arguments)}function Ne(f,S){var O=Array.prototype.slice.call(arguments,1);return function(){var K=O.slice();return K.push.apply(K,arguments),f.apply(this,K)}}function Ke(f,S){function O(){}O.prototype=S.prototype,f.aa=S.prototype,f.prototype=new O,f.prototype.constructor=f,f.Qb=function(K,Pe,$e){for(var bt=Array(arguments.length-2),Hr=2;Hr<arguments.length;Hr++)bt[Hr-2]=arguments[Hr];return S.prototype[Pe].apply(K,bt)}}function _t(f){const S=f.length;if(0<S){const O=Array(S);for(let K=0;K<S;K++)O[K]=f[K];return O}return[]}function et(f,S){for(let O=1;O<arguments.length;O++){const K=arguments[O];if(b(K)){const Pe=f.length||0,$e=K.length||0;f.length=Pe+$e;for(let bt=0;bt<$e;bt++)f[Pe+bt]=K[bt]}else f.push(K)}}function Xt(f){return/^[\s\xa0]*$/.test(f)}function Ft(){var f=T.navigator;return f&&(f=f.userAgent)?f:""}function yn(f){return yn[" "](f),f}yn[" "]=function(){};var nr=!(-1==Ft().indexOf("Gecko")||-1!=Ft().toLowerCase().indexOf("webkit")&&-1==Ft().indexOf("Edge")||-1!=Ft().indexOf("Trident")||-1!=Ft().indexOf("MSIE")||-1!=Ft().indexOf("Edge"));function An(f,S,O){for(const K in f)S.call(O,f[K],K,f)}function se(f){const S={};for(const O in f)S[O]=f[O];return S}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(f,S){let O,K;for(let Pe=1;Pe<arguments.length;Pe++){for(O in K=arguments[Pe],K)f[O]=K[O];for(let $e=0;$e<me.length;$e++)O=me[$e],Object.prototype.hasOwnProperty.call(K,O)&&(f[O]=K[O])}}function be(f){var S=1;f=f.split(":");const O=[];for(;0<S&&f.length;)O.push(f.shift()),S--;return f.length&&O.push(f.join(":")),O}function Oe(f){T.setTimeout(()=>{throw f},0)}function ge(){var f=xf;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}var Pl=new class jt{constructor(S,O){this.i=S,this.j=O,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}(()=>new F_,f=>f.reset());class F_{constructor(){this.next=this.g=this.h=null}set(S,O){this.h=S,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let Ml,xl=!1,xf=new class Aa{constructor(){this.h=this.g=null}add(S,O){const K=Pl.get();K.set(S,O),this.h?this.h.next=K:this.g=K,this.h=K}},Mg=()=>{const f=T.Promise.resolve(void 0);Ml=()=>{f.then(V_)}};var V_=()=>{for(var f;f=ge();){try{f.h.call(f.g)}catch(O){Oe(O)}var S=Pl;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}xl=!1};function Ja(){this.s=this.s,this.C=this.C}function rs(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}Ja.prototype.s=!1,Ja.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ja.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},rs.prototype.h=function(){this.defaultPrevented=!0};var Hv=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const O=()=>{};T.addEventListener("test",O,S),T.removeEventListener("test",O,S)}catch{}return f}();function Nf(f,S){if(rs.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var O=this.type=f.type,K=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(nr){e:{try{yn(S.nodeName);var Pe=!0;break e}catch{}Pe=!1}Pe||(S=null)}}else"mouseover"==O?S=f.fromElement:"mouseout"==O&&(S=f.toElement);this.relatedTarget=S,K?(this.clientX=void 0!==K.clientX?K.clientX:K.pageX,this.clientY=void 0!==K.clientY?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:XE[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Nf.aa.h.call(this)}}Ke(Nf,rs);var XE={2:"touch",3:"pen",4:"mouse"};Nf.prototype.h=function(){Nf.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),zv=0;function eT(f,S,O,K,Pe){this.listener=f,this.proxy=null,this.src=S,this.type=O,this.capture=!!K,this.ha=Pe,this.key=++zv,this.da=this.fa=!1}function Of(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xg(f){this.src=f,this.g={},this.h=0}function Ng(f,S){var O=S.type;if(O in f.g){var $e,K=f.g[O],Pe=Array.prototype.indexOf.call(K,S,void 0);($e=0<=Pe)&&Array.prototype.splice.call(K,Pe,1),$e&&(Of(S),0==f.g[O].length&&(delete f.g[O],f.h--))}}function Og(f,S,O,K){for(var Pe=0;Pe<f.length;++Pe){var $e=f[Pe];if(!$e.da&&$e.listener==S&&$e.capture==!!O&&$e.ha==K)return Pe}return-1}xg.prototype.add=function(f,S,O,K,Pe){var $e=f.toString();(f=this.g[$e])||(f=this.g[$e]=[],this.h++);var bt=Og(f,S,K,Pe);return-1<bt?(S=f[bt],O||(S.fa=!1)):((S=new eT(S,this.src,$e,!!K,Pe)).fa=O,f.push(S)),S};var kg="closure_lm_"+(1e6*Math.random()|0),th={};function Nl(f,S,O,K,Pe){if(K&&K.once)return Lg(f,S,O,K,Pe);if(Array.isArray(S)){for(var $e=0;$e<S.length;$e++)Nl(f,S[$e],O,K,Pe);return null}return O=Ug(O),f&&f[eh]?f.K(S,O,N(K)?!!K.capture:!!K,Pe):kf(f,S,O,!1,K,Pe)}function kf(f,S,O,K,Pe,$e){if(!S)throw Error("Invalid event type");var bt=N(Pe)?!!Pe.capture:!!Pe,Hr=Fg(f);if(Hr||(f[kg]=Hr=new xg(f)),(O=Hr.add(S,O,K,bt,$e)).proxy)return O;if(K=function Lf(){const S=nh;return function f(O){return S.call(f.src,f.listener,O)}}(),O.proxy=K,K.src=f,K.listener=O,f.addEventListener)Hv||(Pe=bt),void 0===Pe&&(Pe=!1),f.addEventListener(S.toString(),K,Pe);else if(f.attachEvent)f.attachEvent(U_(S.toString()),K);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(K)}return O}function Lg(f,S,O,K,Pe){if(Array.isArray(S)){for(var $e=0;$e<S.length;$e++)Lg(f,S[$e],O,K,Pe);return null}return O=Ug(O),f&&f[eh]?f.L(S,O,N(K)?!!K.capture:!!K,Pe):kf(f,S,O,!0,K,Pe)}function Ol(f,S,O,K,Pe){if(Array.isArray(S))for(var $e=0;$e<S.length;$e++)Ol(f,S[$e],O,K,Pe);else K=N(K)?!!K.capture:!!K,O=Ug(O),f&&f[eh]?(f=f.i,(S=String(S).toString())in f.g&&-1<(O=Og($e=f.g[S],O,K,Pe))&&(Of($e[O]),Array.prototype.splice.call($e,O,1),0==$e.length&&(delete f.g[S],f.h--))):f&&(f=Fg(f))&&(S=f.g[S.toString()],f=-1,S&&(f=Og(S,O,K,Pe)),(O=-1<f?S[f]:null)&&Ff(O))}function Ff(f){if("number"!=typeof f&&f&&!f.da){var S=f.src;if(S&&S[eh])Ng(S.i,f);else{var O=f.type,K=f.proxy;S.removeEventListener?S.removeEventListener(O,K,f.capture):S.detachEvent?S.detachEvent(U_(O),K):S.addListener&&S.removeListener&&S.removeListener(K),(O=Fg(S))?(Ng(O,f),0==O.h&&(O.src=null,S[kg]=null)):Of(f)}}}function U_(f){return f in th?th[f]:th[f]="on"+f}function nh(f,S){if(f.da)f=!0;else{S=new Nf(S,this);var O=f.listener,K=f.ha||f.src;f.fa&&Ff(f),f=O.call(K,S)}return f}function Fg(f){return(f=f[kg])instanceof xg?f:null}var Vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ug(f){return"function"==typeof f?f:(f[Vg]||(f[Vg]=function(S){return f.handleEvent(S)}),f[Vg])}function Ns(){Ja.call(this),this.i=new xg(this),this.M=this,this.F=null}function ys(f,S){var O,K=f.F;if(K)for(O=[];K;K=K.F)O.push(K);if(f=f.M,K=S.type||S,"string"==typeof S)S=new rs(S,f);else if(S instanceof rs)S.target=S.target||f;else{var Pe=S;we(S=new rs(K,f),Pe)}if(Pe=!0,O)for(var $e=O.length-1;0<=$e;$e--){var bt=S.g=O[$e];Pe=Cc(bt,K,!0,S)&&Pe}if(Pe=Cc(bt=S.g=f,K,!0,S)&&Pe,Pe=Cc(bt,K,!1,S)&&Pe,O)for($e=0;$e<O.length;$e++)Pe=Cc(bt=S.g=O[$e],K,!1,S)&&Pe}function Cc(f,S,O,K){if(!(S=f.i.g[String(S)]))return!0;S=S.concat();for(var Pe=!0,$e=0;$e<S.length;++$e){var bt=S[$e];if(bt&&!bt.da&&bt.capture==O){var Hr=bt.listener,Is=bt.ha||bt.src;bt.fa&&Ng(f.i,bt),Pe=!1!==Hr.call(Is,K)&&Pe}}return Pe&&!K.defaultPrevented}function rh(f,S,O){if("function"==typeof f)O&&(f=he(f,O));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=he(f.handleEvent,f)}return 2147483647<Number(S)?-1:T.setTimeout(f,S||0)}function Gv(f){f.g=rh(()=>{f.g=null,f.i&&(f.i=!1,Gv(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}Ke(Ns,Ja),Ns.prototype[eh]=!0,Ns.prototype.removeEventListener=function(f,S,O,K){Ol(this,f,S,O,K)},Ns.prototype.N=function(){if(Ns.aa.N.call(this),this.i){var S,f=this.i;for(S in f.g){for(var O=f.g[S],K=0;K<O.length;K++)Of(O[K]);delete f.g[S],f.h--}}this.F=null},Ns.prototype.K=function(f,S,O,K){return this.i.add(String(f),S,!1,O,K)},Ns.prototype.L=function(f,S,O,K){return this.i.add(String(f),S,!0,O,K)};class Wv extends Ja{constructor(S,O){super(),this.m=S,this.l=O,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Gv(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ih(f){Ja.call(this),this.h=f,this.g={}}Ke(ih,Ja);var Vf=[];function B_(f){An(f.g,function(S,O){this.g.hasOwnProperty(O)&&Ff(S)},f),f.g={}}ih.prototype.N=function(){ih.aa.N.call(this),B_(this)},ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uf=T.JSON.stringify,qv=T.JSON.parse,Kv=class{stringify(f){return T.JSON.stringify(f,void 0)}parse(f){return T.JSON.parse(f,void 0)}};function Bf(){}function jg(){}Bf.prototype.h=null;var sh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $g(){rs.call(this,"d")}function Hg(){rs.call(this,"c")}Ke($g,rs),Ke(Hg,rs);var bc={},jf=null;function kl(){return jf=jf||new Ns}function j_(f){rs.call(this,bc.La,f)}function Hu(f){const S=kl();ys(S,new j_(S))}function oh(f,S){rs.call(this,bc.STAT_EVENT,f),this.stat=S}function vs(f){const S=kl();ys(S,new oh(S,f))}function zg(f,S){rs.call(this,bc.Ma,f),this.size=S}function ah(f,S){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){f()},S)}function uh(){this.g=!0}function zu(f,S,O,K){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+function H_(f,S){if(!f.g)return S;if(!S)return null;try{var O=JSON.parse(S);if(O)for(f=0;f<O.length;f++)if(Array.isArray(O[f])){var K=O[f];if(!(2>K.length)){var Pe=K[1];if(Array.isArray(Pe)&&!(1>Pe.length)){var $e=Pe[0];if("noop"!=$e&&"stop"!=$e&&"close"!=$e)for(var bt=1;bt<Pe.length;bt++)Pe[bt]=""}}}return Uf(O)}catch{return S}}(f,O)+(K?" "+K:"")})}bc.La="serverreachability",Ke(j_,rs),bc.STAT_EVENT="statevent",Ke(oh,rs),bc.Ma="timingevent",Ke(zg,rs),uh.prototype.xa=function(){this.g=!1},uh.prototype.info=function(){};var Wg,$f={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ll(){}function Xa(f,S,O,K){this.j=f,this.i=S,this.l=O,this.R=K||1,this.U=new ih(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hf}function Hf(){this.i=null,this.g="",this.h=!1}Ke(Ll,Bf),Ll.prototype.g=function(){return new XMLHttpRequest},Ll.prototype.i=function(){return{}},Wg=new Ll;var qg={},Kg={};function zf(f,S,O){f.L=1,f.v=Zf(nu(S)),f.m=O,f.P=!0,Qg(f,null)}function Qg(f,S){f.F=Date.now(),Gf(f),f.A=nu(f.v);var O=f.A,K=f.R;Array.isArray(K)||(K=[String(K)]),Z_(O.i,"t",K),f.C=0,O=f.j.J,f.h=new Hf,f.g=iy(f.j,O?S:null,!f.m),0<f.O&&(f.M=new Wv(he(f.Y,f,f.g),f.O)),S=f.U,O=f.g,K=f.ca;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&(Vf[0]=Pe.toString()),Pe=Vf);for(var $e=0;$e<Pe.length;$e++){var bt=Nl(O,Pe[$e],K||S.handleEvent,!1,S.h||S);if(!bt)break;S.g[bt.key]=bt}S=f.H?se(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),Hu(),function Qv(f,S,O,K,Pe,$e){f.info(function(){if(f.g)if($e)for(var bt="",Hr=$e.split("&"),Is=0;Is<Hr.length;Is++){var _r=Hr[Is].split("=");if(1<_r.length){var Es=_r[0];_r=_r[1];var Ts=Es.split("_");bt=2<=Ts.length&&"type"==Ts[1]?bt+(Es+"=")+_r+"&":bt+(Es+"=redacted&")}}else bt=null;else bt=$e;return"XMLHTTP REQ ("+K+") [attempt "+Pe+"]: "+S+"\n"+O+"\n"+bt})}(f.i,f.u,f.A,f.l,f.R,f.m)}function Zg(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function Zv(f,S){var O=f.C,K=S.indexOf("\n",O);return-1==K?Kg:(O=Number(S.substring(O,K)),isNaN(O)?qg:(K+=1)+O>S.length?Kg:(S=S.slice(K,K+O),f.C=K+O,S))}function Gf(f){f.S=Date.now()+f.I,G_(f,f.I)}function G_(f,S){if(null!=f.B)throw Error("WatchDog timer not null");f.B=ah(he(f.ba,f),S)}function Yg(f){f.B&&(T.clearTimeout(f.B),f.B=null)}function Fl(f){0==f.j.G||f.J||dm(f.j,f)}function eu(f){Yg(f);var S=f.M;S&&"function"==typeof S.ma&&S.ma(),f.M=null,B_(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function Wf(f,S){try{var O=f.j;if(0!=O.G&&(O.g==f||qf(O.h,f)))if(!f.K&&qf(O.h,f)&&3==O.G){try{var K=O.Da.g.parse(S)}catch{K=null}if(Array.isArray(K)&&3==K.length){var Pe=K;if(0==Pe[0]){e:if(!O.u){if(O.g){if(!(O.g.F+3e3<f.F))break e;gh(O),fh(O)}np(O),vs(18)}}else O.za=Pe[1],0<O.za-O.T&&37500>Pe[2]&&O.F&&0==O.v&&!O.C&&(O.C=ah(he(O.Za,O),6e3));if(1>=em(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Wu(O,11)}else if((f.K||O.g==f)&&gh(O),!Xt(S))for(Pe=O.Da.g.parse(S),S=0;S<Pe.length;S++){let _r=Pe[S];if(O.T=_r[0],_r=_r[1],2==O.G)if("c"==_r[0]){O.K=_r[1],O.ia=_r[2];const Es=_r[3];null!=Es&&(O.la=Es,O.j.info("VER="+O.la));const Ts=_r[4];null!=Ts&&(O.Aa=Ts,O.j.info("SVER="+O.Aa));const Mc=_r[5];null!=Mc&&"number"==typeof Mc&&0<Mc&&(O.L=K=1.5*Mc,O.j.info("backChannelRequestTimeoutMs_="+K)),K=O;const Vo=f.g;if(Vo){const mh=Vo.g?Vo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var $e=K.h;$e.g||-1==mh.indexOf("spdy")&&-1==mh.indexOf("quic")&&-1==mh.indexOf("h2")||($e.j=$e.l,$e.g=new Set,$e.h&&(Kf($e,$e.h),$e.h=null))}if(K.D){const sp=Vo.g?Vo.g.getResponseHeader("X-HTTP-Session-Id"):null;sp&&(K.ya=sp,Jr(K.I,K.D,sp))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-f.F,O.j.info("Handshake RTT: "+O.R+"ms"));var bt=f;if((K=O).qa=ry(K,K.J?K.ia:null,K.W),bt.K){tm(K.h,bt);var Hr=bt,Is=K.L;Is&&(Hr.I=Is),Hr.B&&(Yg(Hr),Gf(Hr)),K.g=bt}else cm(K);0<O.i.length&&ph(O)}else"stop"!=_r[0]&&"close"!=_r[0]||Wu(O,7);else 3==O.G&&("stop"==_r[0]||"close"==_r[0]?"stop"==_r[0]?Wu(O,7):am(O):"noop"!=_r[0]&&O.l&&O.l.ta(_r),O.v=0)}Hu()}catch{}}function Jg(f){this.l=f||10,f=T.PerformanceNavigationTiming?0<(f=T.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xg(f){return!!f.h||!!f.g&&f.g.size>=f.j}function em(f){return f.h?1:f.g?f.g.size:0}function qf(f,S){return f.h?f.h==S:!!f.g&&f.g.has(S)}function Kf(f,S){f.g?f.g.add(S):f.h=S}function tm(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}function ch(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let S=f.i;for(const O of f.g.values())S=S.concat(O.D);return S}return _t(f.i)}function q_(f,S){if(f.forEach&&"function"==typeof f.forEach)f.forEach(S,void 0);else if(b(f)||"string"==typeof f)Array.prototype.forEach.call(f,S,void 0);else for(var O=function Yv(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(b(f)||"string"==typeof f){var S=[];f=f.length;for(var O=0;O<f;O++)S.push(O);return S}S=[],O=0;for(const K in f)S[O++]=K;return S}}}(f),K=function Gu(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(b(f)){for(var S=[],O=f.length,K=0;K<O;K++)S.push(f[K]);return S}for(K in S=[],O=0,f)S[O++]=f[K];return S}(f),Pe=K.length,$e=0;$e<Pe;$e++)S.call(void 0,K[$e],O&&O[$e],f)}Xa.prototype.ca=function(f){f=f.target;const S=this.M;S&&3==su(f)?S.j():this.Y(f)},Xa.prototype.Y=function(f){try{if(f==this.g)e:{const Ts=su(this.g);var S=this.g.Ba();if(this.g.Z(),!(3>Ts)&&(3!=Ts||this.g&&(this.h.h||this.g.oa()||X_(this.g)))){this.J||4!=Ts||7==S||Hu(),Yg(this);var O=this.g.Z();this.X=O;t:if(Zg(this)){var K=X_(this.g);f="";var Pe=K.length,$e=4==su(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eu(this),Fl(this);var bt="";break t}this.h.i=new T.TextDecoder}for(S=0;S<Pe;S++)this.h.h=!0,f+=this.h.i.decode(K[S],{stream:!($e&&S==Pe-1)});K.length=0,this.h.g+=f,this.C=0,bt=this.h.g}else bt=this.g.oa();if(this.o=200==O,function Gg(f,S,O,K,Pe,$e,bt){f.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+Pe+"]: "+S+"\n"+O+"\n"+$e+" "+bt})}(this.i,this.u,this.A,this.l,this.R,Ts,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Hr,Is=this.g;if((Hr=Is.g?Is.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xt(Hr)){var _r=Hr;break t}}_r=null}if(!(O=_r)){this.o=!1,this.s=3,vs(12),eu(this),Fl(this);break e}zu(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wf(this,O)}if(this.P){let Vo;for(O=!0;!this.J&&this.C<bt.length;){if(Vo=Zv(this,bt),Vo==Kg){4==Ts&&(this.s=4,vs(14),O=!1),zu(this.i,this.l,null,"[Incomplete Response]");break}if(Vo==qg){this.s=4,vs(15),zu(this.i,this.l,bt,"[Invalid Chunk]"),O=!1;break}zu(this.i,this.l,Vo,null),Wf(this,Vo)}if(Zg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ts||0!=bt.length||this.h.h||(this.s=1,vs(16),O=!1),this.o=this.o&&O,O){if(0<bt.length&&!this.W){this.W=!0;var Es=this.j;Es.g==this&&Es.ba&&!Es.M&&(Es.j.info("Great, no buffering proxy detected. Bytes received: "+bt.length),rp(Es),Es.M=!0,vs(11))}}else zu(this.i,this.l,bt,"[Invalid Chunked Response]"),eu(this),Fl(this)}else zu(this.i,this.l,bt,null),Wf(this,bt);4==Ts&&eu(this),this.o&&!this.J&&(4==Ts?dm(this.j,this):(this.o=!1,Gf(this)))}else(function ey(f){const S={};f=(f.g&&2<=su(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let K=0;K<f.length;K++){if(Xt(f[K]))continue;var O=be(f[K]);const Pe=O[0];if("string"!=typeof(O=O[1]))continue;O=O.trim();const $e=S[Pe]||[];S[Pe]=$e,$e.push(O)}!function Te(f,S){for(const O in f)S.call(void 0,f[O],O,f)}(S,function(K){return K.join(", ")})})(this.g),400==O&&0<bt.indexOf("Unknown SID")?(this.s=3,vs(12)):(this.s=0,vs(13)),eu(this),Fl(this)}}}catch{}},Xa.prototype.cancel=function(){this.J=!0,eu(this)},Xa.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function $_(f,S){f.info(function(){return"TIMEOUT: "+S})}(this.i,this.A),2!=this.L&&(Hu(),vs(17)),eu(this),this.s=2,Fl(this)):G_(this,this.S-f)},Jg.prototype.cancel=function(){if(this.i=ch(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Qf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tu(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof tu){this.h=f.h,Vl(this,f.j),this.o=f.o,this.g=f.g,nm(this,f.s),this.l=f.l;var S=f.i,O=new Bl;O.i=S.i,S.g&&(O.g=new Map(S.g),O.h=S.h),Jv(this,O),this.m=f.m}else f&&(S=String(f).match(Qf))?(this.h=!1,Vl(this,S[1]||"",!0),this.o=Ul(S[2]||""),this.g=Ul(S[3]||"",!0),nm(this,S[4]),this.l=Ul(S[5]||"",!0),Jv(this,S[6]||"",!0),this.m=Ul(S[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}function nu(f){return new tu(f)}function Vl(f,S,O){f.j=O?Ul(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function nm(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function Jv(f,S,O){S instanceof Bl?(f.i=S,function nI(f,S){S&&!f.j&&(ru(f),f.i=null,f.g.forEach(function(O,K){var Pe=K.toLowerCase();K!=Pe&&(Rc(this,K),Z_(this,Pe,O))},f)),f.j=S}(f.i,f.h)):(O||(S=lh(S,K_)),f.i=new Bl(S,f.h))}function Jr(f,S,O){f.i.set(S,O)}function Zf(f){return Jr(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ul(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function lh(f,S,O){return"string"==typeof f?(f=encodeURI(f).replace(S,Wi),O&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Wi(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}tu.prototype.toString=function(){var f=[],S=this.j;S&&f.push(lh(S,rm,!0),":");var O=this.g;return(O||"file"==S)&&(f.push("//"),(S=this.o)&&f.push(lh(S,rm,!0),"@"),f.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(O=this.s)&&f.push(":",String(O))),(O=this.l)&&(this.g&&"/"!=O.charAt(0)&&f.push("/"),f.push(lh(O,"/"==O.charAt(0)?eI:Xv,!0))),(O=this.i.toString())&&f.push("?",O),(O=this.m)&&f.push("#",lh(O,tI)),f.join("")};var f,rm=/[#\/\?@]/g,Xv=/[#\?:]/g,eI=/[#\?]/g,K_=/[#\?@]/g,tI=/#/g;function Bl(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function ru(f){f.g||(f.g=new Map,f.h=0,f.i&&function Sc(f,S){if(f){f=f.split("&");for(var O=0;O<f.length;O++){var K=f[O].indexOf("="),Pe=null;if(0<=K){var $e=f[O].substring(0,K);Pe=f[O].substring(K+1)}else $e=f[O];S($e,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}(f.i,function(S,O){f.add(decodeURIComponent(S.replace(/\+/g," ")),O)}))}function Rc(f,S){ru(f),S=Pc(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function Q_(f,S){return ru(f),S=Pc(f,S),f.g.has(S)}function Z_(f,S,O){Rc(f,S),0<O.length&&(f.i=null,f.g.set(Pc(f,S),_t(O)),f.h+=O.length)}function Pc(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function iu(f,S,O,K,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),K(O)}catch{}}function im(){this.g=new Kv}function Ca(f,S,O){const K=O||"";try{q_(f,function(Pe,$e){let bt=Pe;N(Pe)&&(bt=Uf(Pe)),S.push(K+$e+"="+encodeURIComponent(bt))})}catch(Pe){throw S.push(K+"type="+encodeURIComponent("_badmap")),Pe}}function dh(f){this.l=f.Ub||null,this.j=f.eb||!1}function Yf(f,S){Ns.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function aa(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Gs(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ws(f)}function Ws(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function sm(f){let S="";return An(f,function(O,K){S+=K,S+=":",S+=O,S+="\r\n"}),S}function Jf(f,S,O){e:{for(K in O){var K=!1;break e}K=!0}K||(O=sm(O),"string"==typeof f?null!=O&&encodeURIComponent(String(O)):Jr(f,S,O))}function Di(f){Ns.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Bl.prototype).add=function(f,S){ru(this),this.i=null,f=Pc(this,f);var O=this.g.get(f);return O||this.g.set(f,O=[]),O.push(S),this.h+=1,this},a.forEach=function(f,S){ru(this),this.g.forEach(function(O,K){O.forEach(function(Pe){f.call(S,Pe,K,this)},this)},this)},a.na=function(){ru(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),O=[];for(let K=0;K<S.length;K++){const Pe=f[K];for(let $e=0;$e<Pe.length;$e++)O.push(S[K])}return O},a.V=function(f){ru(this);let S=[];if("string"==typeof f)Q_(this,f)&&(S=S.concat(this.g.get(Pc(this,f))));else{f=Array.from(this.g.values());for(let O=0;O<f.length;O++)S=S.concat(f[O])}return S},a.set=function(f,S){return ru(this),this.i=null,Q_(this,f=Pc(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},a.get=function(f,S){return f&&0<(f=this.V(f)).length?String(f[0]):S},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var O=0;O<S.length;O++){var K=S[O];const $e=encodeURIComponent(String(K)),bt=this.V(K);for(K=0;K<bt.length;K++){var Pe=$e;""!==bt[K]&&(Pe+="="+encodeURIComponent(String(bt[K]))),f.push(Pe)}}return this.i=f.join("&")},Ke(dh,Bf),dh.prototype.g=function(){return new Yf(this.l,this.j)},dh.prototype.i=(f={},function(){return f}),Ke(Yf,Ns),(a=Yf.prototype).open=function(f,S){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,Ws(this)},a.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||T).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gs(this)),this.readyState=0},a.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aa(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?Gs(this):Ws(this),3==this.readyState&&aa(this)}},a.Ra=function(f){this.g&&(this.response=this.responseText=f,Gs(this))},a.Qa=function(f){this.g&&(this.response=f,Gs(this))},a.ga=function(){this.g&&Gs(this)},a.setRequestHeader=function(f,S){this.u.append(f,S)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var O=S.next();!O.done;)f.push((O=O.value)[0]+": "+O[1]),O=S.next();return f.join("\r\n")},Object.defineProperty(Yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),Ke(Di,Ns);var rI=/^https?$/i,iI=["POST","PUT"];function J_(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,Xf(f),ep(f)}function Xf(f){f.A||(f.A=!0,ys(f,"complete"),ys(f,"error"))}function jl(f){if(f.h&&typeof g<"u"&&(!f.v[1]||4!=su(f)||2!=f.Z()))if(f.u&&4==su(f))rh(f.Ea,0,f);else if(ys(f,"readystatechange"),4==su(f)){f.h=!1;try{const bt=f.Z();e:switch(bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var O;if(!(O=S)){var K;if(K=0===bt){var Pe=String(f.D).match(Qf)[1]||null;!Pe&&T.self&&T.self.location&&(Pe=T.self.location.protocol.slice(0,-1)),K=!rI.test(Pe?Pe.toLowerCase():"")}O=K}if(O)ys(f,"complete"),ys(f,"success");else{f.m=6;try{var $e=2<su(f)?f.g.statusText:""}catch{$e=""}f.l=$e+" ["+f.Z()+"]",Xf(f)}}finally{ep(f)}}}function ep(f,S){if(f.g){om(f);const O=f.g,K=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||ys(f,"ready");try{O.onreadystatechange=K}catch{}}}function om(f){f.I&&(T.clearTimeout(f.I),f.I=null)}function su(f){return f.g?f.g.readyState:0}function X_(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function $l(f,S,O){return O&&O.internalChannelParams&&O.internalChannelParams[f]||S}function hh(f){this.Aa=0,this.i=[],this.j=new uh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$l("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$l("baseRetryDelayMs",5e3,f),this.cb=$l("retryDelaySeedMs",1e4,f),this.Wa=$l("forwardChannelMaxRetries",2,f),this.wa=$l("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Jg(f&&f.concurrentRequestLimit),this.Da=new im,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function am(f){if(um(f),3==f.G){var S=f.U++,O=nu(f.I);if(Jr(O,"SID",f.K),Jr(O,"RID",S),Jr(O,"TYPE","terminate"),Hl(f,O),(S=new Xa(f,f.j,S)).L=2,S.v=Zf(nu(O)),O=!1,T.navigator&&T.navigator.sendBeacon)try{O=T.navigator.sendBeacon(S.v.toString(),"")}catch{}!O&&T.Image&&((new Image).src=S.v,O=!0),O||(S.g=iy(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Gf(S)}ny(f)}function fh(f){f.g&&(rp(f),f.g.cancel(),f.g=null)}function um(f){fh(f),f.u&&(T.clearTimeout(f.u),f.u=null),gh(f),f.h.cancel(),f.s&&("number"==typeof f.s&&T.clearTimeout(f.s),f.s=null)}function ph(f){if(!Xg(f.h)&&!f.s){f.s=!0;var S=f.Ga;Ml||Mg(),xl||(Ml(),xl=!0),xf.add(S,f),f.B=0}}function ty(f,S){var O;O=S?S.l:f.U++;const K=nu(f.I);Jr(K,"SID",f.K),Jr(K,"RID",O),Jr(K,"AID",f.T),Hl(f,K),f.m&&f.o&&Jf(K,f.m,f.o),O=new Xa(f,f.j,O,f.B+1),null===f.m&&(O.H=f.o),S&&(f.i=S.D.concat(f.i)),S=tp(f,O,1e3),O.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Kf(f.h,O),zf(O,K,S)}function Hl(f,S){f.H&&An(f.H,function(O,K){Jr(S,K,O)}),f.l&&q_({},function(O,K){Jr(S,K,O)})}function tp(f,S,O){O=Math.min(f.i.length,O);var K=f.l?he(f.l.Na,f.l,f):null;e:{var Pe=f.i;let $e=-1;for(;;){const bt=["count="+O];-1==$e?0<O?($e=Pe[0].g,bt.push("ofs="+$e)):$e=0:bt.push("ofs="+$e);let Hr=!0;for(let Is=0;Is<O;Is++){let _r=Pe[Is].g;const Es=Pe[Is].map;if(_r-=$e,0>_r)$e=Math.max(0,Pe[Is].g-100),Hr=!1;else try{Ca(Es,bt,"req"+_r+"_")}catch{K&&K(Es)}}if(Hr){K=bt.join("&");break e}}}return f=f.i.splice(0,O),S.D=f,K}function cm(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;Ml||Mg(),xl||(Ml(),xl=!0),xf.add(S,f),f.v=0}}function np(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=ah(he(f.Fa,f),hm(f,f.v)),f.v++,0))}function rp(f){null!=f.A&&(T.clearTimeout(f.A),f.A=null)}function lm(f){f.g=new Xa(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var S=nu(f.qa);Jr(S,"RID","rpc"),Jr(S,"SID",f.K),Jr(S,"AID",f.T),Jr(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&Jr(S,"TO",f.ja),Jr(S,"TYPE","xmlhttp"),Hl(f,S),f.m&&f.o&&Jf(S,f.m,f.o),f.L&&(f.g.I=f.L);var O=f.g;f=f.ia,O.L=1,O.v=Zf(nu(S)),O.m=null,O.P=!0,Qg(O,f)}function gh(f){null!=f.C&&(T.clearTimeout(f.C),f.C=null)}function dm(f,S){var O=null;if(f.g==S){gh(f),rp(f),f.g=null;var K=2}else{if(!qf(f.h,S))return;O=S.D,tm(f.h,S),K=1}if(0!=f.G)if(S.o)if(1==K){O=S.m?S.m.length:0,S=Date.now()-S.F;var Pe=f.B;ys(K=kl(),new zg(K,O)),ph(f)}else cm(f);else if(3==(Pe=S.s)||0==Pe&&0<S.X||!(1==K&&function sI(f,S){return!(em(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=S.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=ah(he(f.Ga,f,S),hm(f,f.B)),f.B++,0)))}(f,S)||2==K&&np(f)))switch(O&&0<O.length&&(S=f.h,S.i=S.i.concat(O)),Pe){case 1:Wu(f,5);break;case 4:Wu(f,10);break;case 3:Wu(f,6);break;default:Wu(f,2)}}function hm(f,S){let O=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(O*=2),O*S}function Wu(f,S){if(f.j.info("Error code "+S),2==S){var O=he(f.fb,f),K=f.Xa;const Pe=!K;K=new tu(K||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Vl(K,"https"),Zf(K),Pe?function Y_(f,S){const O=new uh;if(T.Image){const K=new Image;K.onload=Ne(iu,O,"TestLoadImage: loaded",!0,S,K),K.onerror=Ne(iu,O,"TestLoadImage: error",!1,S,K),K.onabort=Ne(iu,O,"TestLoadImage: abort",!1,S,K),K.ontimeout=Ne(iu,O,"TestLoadImage: timeout",!1,S,K),T.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=f}else S(!1)}(K.toString(),O):function tT(f,S){new uh;const K=new AbortController,Pe=setTimeout(()=>{K.abort(),iu(0,0,!1,S)},1e4);fetch(f,{signal:K.signal}).then($e=>{clearTimeout(Pe),iu(0,0,!!$e.ok,S)}).catch(()=>{clearTimeout(Pe),iu(0,0,!1,S)})}(K.toString(),O)}else vs(2);f.G=0,f.l&&f.l.sa(S),ny(f),um(f)}function ny(f){if(f.G=0,f.ka=[],f.l){const S=ch(f.h);(0!=S.length||0!=f.i.length)&&(et(f.ka,S),et(f.ka,f.i),f.h.i.length=0,_t(f.i),f.i.length=0),f.l.ra()}}function ry(f,S,O){var K=O instanceof tu?nu(O):new tu(O);if(""!=K.g)S&&(K.g=S+"."+K.g),nm(K,K.s);else{var Pe=T.location;K=Pe.protocol,S=S?S+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;var $e=new tu(null);K&&Vl($e,K),S&&($e.g=S),Pe&&nm($e,Pe),O&&($e.l=O),K=$e}return S=f.ya,(O=f.D)&&S&&Jr(K,O,S),Jr(K,"VER",f.la),Hl(f,K),K}function iy(f,S,O){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(S=new Di(f.Ca&&!f.pa?new dh({eb:O}):f.pa)).Ha(f.J),S}function sy(){}function ip(){}function Eo(f,S){Ns.call(this),this.g=new hh(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!Xt(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!Xt(S)&&(this.g.D=S,null!==(f=this.h)&&S in f&&S in(f=this.h)&&delete f[S]),this.j=new zl(this)}function oy(f){$g.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const O in S){f=O;break e}f=void 0}(this.i=f)&&(f=this.i,S=null!==S&&f in S?S[f]:void 0),this.data=S}else this.data=f}function ay(){Hg.call(this),this.status=1}function zl(f){this.g=f}(a=Di.prototype).Ha=function(f){this.J=f},a.ea=function(f,S,O,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wg.g(),this.v=function Bg(f){return f.h||(f.h=f.i())}(this.o?this.o:Wg),this.g.onreadystatechange=he(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch($e){return void J_(this,$e)}if(f=O||"",O=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var Pe in K)O.set(Pe,K[Pe]);else{if("function"!=typeof K.keys||"function"!=typeof K.get)throw Error("Unknown input type for opt_headers: "+String(K));for(const $e of K.keys())O.set($e,K.get($e))}K=Array.from(O.keys()).find($e=>"content-type"==$e.toLowerCase()),Pe=T.FormData&&f instanceof T.FormData,!(0<=Array.prototype.indexOf.call(iI,S,void 0))||K||Pe||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$e,bt]of O)this.g.setRequestHeader($e,bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{om(this),this.u=!0,this.g.send(f),this.u=!1}catch($e){J_(this,$e)}},a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ys(this,"complete"),ys(this,"abort"),ep(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ep(this,!0)),Di.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?jl(this):this.bb())},a.bb=function(){jl(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<su(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&0==S.indexOf(f)&&(S=S.substring(f.length)),qv(S)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=hh.prototype).la=8,a.G=1,a.connect=function(f,S,O,K){vs(0),this.W=f,this.H=S||{},O&&void 0!==K&&(this.H.OSID=O,this.H.OAID=K),this.F=this.X,this.I=ry(this,null,this.W),ph(this)},a.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Pe=new Xa(this,this.j,f);let $e=this.o;if(this.S&&($e?($e=se($e),we($e,this.S)):$e=this.S),null!==this.m||this.O||(Pe.H=$e,$e=null),this.P)e:{for(var S=0,O=0;O<this.i.length;O++){var K=this.i[O];if(void 0===(K="__data__"in K.map&&"string"==typeof(K=K.map.__data__)?K.length:void 0))break;if(4096<(S+=K)){S=O;break e}if(4096===S||O===this.i.length-1){S=O+1;break e}}S=1e3}else S=1e3;S=tp(this,Pe,S),Jr(O=nu(this.I),"RID",f),Jr(O,"CVER",22),this.D&&Jr(O,"X-HTTP-Session-Id",this.D),Hl(this,O),$e&&(this.O?S="headers="+encodeURIComponent(String(sm($e)))+"&"+S:this.m&&Jf(O,this.m,$e)),Kf(this.h,Pe),this.Ua&&Jr(O,"TYPE","init"),this.P?(Jr(O,"$req",S),Jr(O,"SID","null"),Pe.T=!0,zf(Pe,O,null)):zf(Pe,O,S),this.G=2}}else 3==this.G&&(f?ty(this,f):0==this.i.length||Xg(this.h)||ty(this))},a.Fa=function(){if(this.u=null,lm(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ah(he(this.ab,this),f)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vs(10),fh(this),lm(this))},a.Za=function(){null!=this.C&&(this.C=null,fh(this),np(this),vs(19))},a.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vs(2)):(this.j.info("Failed to ping google.com"),vs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=sy.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},ip.prototype.g=function(f,S){return new Eo(f,S)},Ke(Eo,Ns),Eo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Eo.prototype.close=function(){am(this.g)},Eo.prototype.o=function(f){var S=this.g;if("string"==typeof f){var O={};O.__data__=f,f=O}else this.u&&((O={}).__data__=Uf(f),f=O);S.i.push(new class{constructor(f,S){this.g=f,this.map=S}}(S.Ya++,f)),3==S.G&&ph(S)},Eo.prototype.N=function(){this.g.l=null,delete this.j,am(this.g),delete this.g,Eo.aa.N.call(this)},Ke(oy,$g),Ke(ay,Hg),Ke(zl,sy),zl.prototype.ua=function(){ys(this.g,"a")},zl.prototype.ta=function(f){ys(this.g,new oy(f))},zl.prototype.sa=function(f){ys(this.g,new ay)},zl.prototype.ra=function(){ys(this.g,"b")},ip.prototype.createWebChannel=ip.prototype.g,Eo.prototype.send=Eo.prototype.o,Eo.prototype.open=Eo.prototype.m,Eo.prototype.close=Eo.prototype.close,St=Pt.createWebChannelTransport=function(){return new ip},At=Pt.getStatEventTarget=function(){return kl()},Qe=Pt.Event=bc,ot=Pt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$f.NO_ERROR=0,$f.TIMEOUT=8,$f.HTTP_ERROR=6,Ge=Pt.ErrorCode=$f,z_.COMPLETE="complete",Gn=Pt.EventType=z_,jg.EventType=sh,sh.OPEN="a",sh.CLOSE="b",sh.ERROR="c",sh.MESSAGE="d",Ns.prototype.listen=Ns.prototype.K,vn=Pt.WebChannel=jg,qt=Pt.FetchXmlHttpFactory=dh,Di.prototype.listenOnce=Di.prototype.L,Di.prototype.getLastError=Di.prototype.Ka,Di.prototype.getLastErrorCode=Di.prototype.Ba,Di.prototype.getStatus=Di.prototype.Z,Di.prototype.getResponseJson=Di.prototype.Oa,Di.prototype.getResponseText=Di.prototype.oa,Di.prototype.send=Di.prototype.ea,Di.prototype.setWithCredentials=Di.prototype.Ha,Wt=Pt.XhrIo=Di}).apply(typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{});const vt="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let $t="10.12.1";const In=new qe.Yd("@firebase/firestore");function xr(){return In.logLevel}function Ie(a,...e){if(In.logLevel<=qe.in.DEBUG){const r=e.map(en);In.debug(`Firestore (${$t}): ${a}`,...r)}}function Vt(a,...e){if(In.logLevel<=qe.in.ERROR){const r=e.map(en);In.error(`Firestore (${$t}): ${a}`,...r)}}function pt(a,...e){if(In.logLevel<=qe.in.WARN){const r=e.map(en);In.warn(`Firestore (${$t}): ${a}`,...r)}}function en(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function le(a="Unexpected state"){const e=`FIRESTORE (${$t}) INTERNAL ASSERTION FAILED: `+a;throw Vt(e),new Error(e)}function _e(a,e){a||le()}function oe(a,e){return a}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ce.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Be{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ht{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Et{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Je.UNAUTHENTICATED))}shutdown(){}}class Xe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class tn{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let c=this.i;const h=N=>this.i!==c?(c=this.i,r(N)):Promise.resolve();let g=new Be;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Be,e.enqueueRetryable(()=>h(this.currentUser))};const T=()=>{const N=g;e.enqueueRetryable((0,ae.Z)(function*(){yield N.promise,yield h(s.currentUser)}))},b=N=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=N,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(N=>b(N)),setTimeout(()=>{if(!this.auth){const N=this.t.getImmediate({optional:!0});N?b(N):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Be)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_e("string"==typeof s.accessToken),new ht(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _e(null===e||"string"==typeof e),new Je(e)}}class Qn{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ui{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Qn(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=h=>{null!=h.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,Ie("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const c=h=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>c(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?c(h):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(_e("string"==typeof r.token),this.R=r.token,new Yt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Or(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class or{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=Or(40);for(let h=0;h<c.length;++h)s.length<20&&c[h]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[h]%62))}return s}}function at(a,e){return a<e?-1:a>e?1:0}function Ai(a,e,r){return a.length===e.length&&a.every((s,c)=>r(s,e[c]))}class wn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new X(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new X(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new X(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new wn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mt(e)}static min(){return new mt(new wn(0,0))}static max(){return new mt(new wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yr{constructor(e,r,s){void 0===r?r=0:r>e.length&&le(),void 0===s?s=e.length-r:s>e.length-r&&le(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===yr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let c=0;c<s;c++){const h=e.get(c),g=r.get(c);if(h<g)return-1;if(h>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class wt extends yr{construct(e,r,s){return new wt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new X(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(c=>c.length>0))}return new wt(r)}static emptyPath(){return new wt([])}}const ln=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends yr{construct(e,r,s){return new on(e,r,s)}static isValidIdentifier(e){return ln.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const r=[];let s="",c=0;const h=()=>{if(0===s.length)throw new X(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;c<e.length;){const T=e[c];if("\\"===T){if(c+1===e.length)throw new X(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[c+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new X(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,c+=2}else"`"===T?(g=!g,c++):"."!==T||g?(s+=T,c++):(h(),c++)}if(h(),g)throw new X(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(r)}static emptyPath(){return new on([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(wt.fromString(e))}static fromName(e){return new ft(wt.fromString(e).popFirst(5))}static empty(){return new ft(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return wt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new wt(e.slice()))}}class Nn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Nn(mt.min(),ft.empty(),-1)}static max(){return new Nn(mt.max(),ft.empty(),-1)}}function On(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=ft.comparator(a.documentKey,e.documentKey),0!==r?r:at(a.largestBatchId,e.largestBatchId))}const Dr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ht{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gr(a){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,ae.Z)(function*(a){if(a.code!==Q.FAILED_PRECONDITION||a.message!==Dr)throw a;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((s,c)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,c)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,s)=>{r(e)})}static reject(e){return new pe((r,s)=>{s(e)})}static waitFor(e){return new pe((r,s)=>{let c=0,h=0,g=!1;e.forEach(T=>{++c,T.next(()=>{++h,g&&h===c&&r()},b=>s(b))}),g=!0,h===c&&r()})}static or(e){let r=pe.resolve(!1);for(const s of e)r=r.next(c=>c?pe.resolve(c):s());return r}static forEach(e,r){const s=[];return e.forEach((c,h)=>{s.push(r.call(this,c,h))}),this.waitFor(s)}static mapArray(e,r){return new pe((s,c)=>{const h=e.length,g=new Array(h);let T=0;for(let b=0;b<h;b++){const N=b;r(e[N]).next($=>{g[N]=$,++T,T===h&&s(g)},$=>c($))}})}static doWhile(e,r){return new pe((s,c)=>{const h=()=>{!0===e()?r().next(()=>{h()},c):s()};h()})}}function z(a){return"IndexedDbTransactionError"===a.name}let Nt=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=c=>this.ie(c),this.se=c=>s.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function sn(a){return null==a}function Ut(a){return 0===a&&1/a==-1/0}function Ho(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function _i(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Zr(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ir{constructor(e,r){this.comparator=e,this.root=r||Vn.EMPTY}insert(e,r){return new ir(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return r+s.left.size;c<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mi(this.root,e,this.comparator,!0)}}class Mi{constructor(e,r,s,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?s(e.key,r):1,r&&c&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,r,s,c,h){this.key=e,this.value=r,this.color=s??Vn.RED,this.left=c??Vn.EMPTY,this.right=h??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,c,h){return new Vn(e??this.key,r??this.value,s??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let c=this;const h=s(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,r,s),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return Vn.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1,Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,r,s,c,h){return this}insert(e,r,s){return new Vn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Fr(this.data.getIterator())}getIteratorFrom(e){return new Fr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=s.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pn(this.comparator);return r.data=e,r}}class Fr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new ei([])}unionWith(e){let r=new Pn(on.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new ei(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ai(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Ks extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ks("Invalid base64 string: "+h):h}}(e);return new Vr(r)}static fromUint8Array(e){const r=function(c){let h="";for(let g=0;g<c.length;++g)h+=String.fromCharCode(c[g]);return h}(e);return new Vr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let c=0;c<r.length;c++)s[c]=r.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const Sa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(a){if(_e(!!a),"string"==typeof a){let e=0;const r=Sa.exec(a);if(_e(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ar(a.seconds),nanos:Ar(a.nanos)}}function Ar(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Fi(a){return"string"==typeof a?Vr.fromBase64String(a):Vr.fromUint8Array(a)}function Do(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function co(a){const e=a.mapValue.fields.__previous_value__;return Do(e)?co(e):e}function As(a){const e=Li(a.mapValue.fields.__local_write_time__.timestampValue);return new wn(e.seconds,e.nanos)}class lo{constructor(e,r,s,c,h,g,T,b,N){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=c,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=T,this.longPollingOptions=b,this.useFetchStreams=N}}class Qi{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Qi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qi&&e.projectId===this.projectId&&e.database===this.database}}const Vi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ti(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Do(a)?4:un(a)?9007199254740991:10:le()}function yi(a,e){if(a===e)return!0;const r=ti(a);if(r!==ti(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return As(a).isEqual(As(e));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const g=Li(c.timestampValue),T=Li(h.timestampValue);return g.seconds===T.seconds&&g.nanos===T.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return h=e,Fi(a.bytesValue).isEqual(Fi(h.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(c,h){return Ar(c.geoPointValue.latitude)===Ar(h.geoPointValue.latitude)&&Ar(c.geoPointValue.longitude)===Ar(h.geoPointValue.longitude)}(a,e);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return Ar(c.integerValue)===Ar(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const g=Ar(c.doubleValue),T=Ar(h.doubleValue);return g===T?Ut(g)===Ut(T):isNaN(g)&&isNaN(T)}return!1}(a,e);case 9:return Ai(a.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(c,h){const g=c.mapValue.fields||{},T=h.mapValue.fields||{};if(Ho(g)!==Ho(T))return!1;for(const b in g)if(g.hasOwnProperty(b)&&(void 0===T[b]||!yi(g[b],T[b])))return!1;return!0}(a,e);default:return le()}var h}function Ui(a,e){return void 0!==(a.values||[]).find(r=>yi(r,e))}function dn(a,e){if(a===e)return 0;const r=ti(a),s=ti(e);if(r!==s)return at(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return at(a.booleanValue,e.booleanValue);case 2:return function(h,g){const T=Ar(h.integerValue||h.doubleValue),b=Ar(g.integerValue||g.doubleValue);return T<b?-1:T>b?1:T===b?0:isNaN(T)?isNaN(b)?0:-1:1}(a,e);case 3:return ur(a.timestampValue,e.timestampValue);case 4:return ur(As(a),As(e));case 5:return at(a.stringValue,e.stringValue);case 6:return function(h,g){const T=Fi(h),b=Fi(g);return T.compareTo(b)}(a.bytesValue,e.bytesValue);case 7:return function(h,g){const T=h.split("/"),b=g.split("/");for(let N=0;N<T.length&&N<b.length;N++){const $=at(T[N],b[N]);if(0!==$)return $}return at(T.length,b.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,g){const T=at(Ar(h.latitude),Ar(g.latitude));return 0!==T?T:at(Ar(h.longitude),Ar(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(h,g){const T=h.values||[],b=g.values||[];for(let N=0;N<T.length&&N<b.length;++N){const $=dn(T[N],b[N]);if($)return $}return at(T.length,b.length)}(a.arrayValue,e.arrayValue);case 10:return function(h,g){if(h===Vi.mapValue&&g===Vi.mapValue)return 0;if(h===Vi.mapValue)return 1;if(g===Vi.mapValue)return-1;const T=h.fields||{},b=Object.keys(T),N=g.fields||{},$=Object.keys(N);b.sort(),$.sort();for(let Y=0;Y<b.length&&Y<$.length;++Y){const he=at(b[Y],$[Y]);if(0!==he)return he;const Ne=dn(T[b[Y]],N[$[Y]]);if(0!==Ne)return Ne}return at(b.length,$.length)}(a.mapValue,e.mapValue);default:throw le()}}function ur(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return at(a,e);const r=Li(a),s=Li(e),c=at(r.seconds,s.seconds);return 0!==c?c:at(r.nanos,s.nanos)}function tr(a){return Ci(a)}function Ci(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=Li(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Fi(a.bytesValue).toBase64():"referenceValue"in a?ft.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",c=!0;for(const h of r.values||[])c?c=!1:s+=",",s+=Ci(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const g of s)h?h=!1:c+=",",c+=`${g}:${Ci(r.fields[g])}`;return c+"}"}(a.mapValue):le()}function Cs(a){return!!a&&"integerValue"in a}function Bi(a){return!!a&&"arrayValue"in a}function Ra(a){return!!a&&"nullValue"in a}function Zs(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function pr(a){return!!a&&"mapValue"in a}function Tt(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return _i(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Tt(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Tt(a.arrayValue.values[r]);return e}return Object.assign({},a)}function un(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!pr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tt(r)}setAll(e){let r=on.emptyPath(),s={},c=[];e.forEach((g,T)=>{if(!r.isImmediateParentOf(T)){const b=this.getFieldsMap(r);this.applyChanges(b,s,c),s={},c=[],r=T.popLast()}g?s[T.lastSegment()]=Tt(g):c.push(T.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,s,c)}delete(e){const r=this.field(e.popLast());pr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=r.mapValue.fields[e.get(s)];pr(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,s){_i(r,(c,h)=>e[c]=h);for(const c of s)delete e[c]}clone(){return new Un(Tt(this.value))}}function lr(a){const e=[];return _i(a.fields,(r,s)=>{const c=new on([r]);if(pr(s)){const h=lr(s.mapValue).fields;if(0===h.length)e.push(c);else for(const g of h)e.push(c.child(g))}else e.push(c)}),new ei(e)}class $n{constructor(e,r,s,c,h,g,T){this.key=e,this.documentType=r,this.version=s,this.readTime=c,this.createTime=h,this.data=g,this.documentState=T}static newInvalidDocument(e){return new $n(e,0,mt.min(),mt.min(),mt.min(),Un.empty(),0)}static newFoundDocument(e,r,s,c){return new $n(e,1,r,mt.min(),s,c,0)}static newNoDocument(e,r){return new $n(e,2,r,mt.min(),mt.min(),Un.empty(),0)}static newUnknownDocument(e,r){return new $n(e,3,r,mt.min(),mt.min(),Un.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rr{constructor(e,r){this.position=e,this.inclusive=r}}function cn(a,e,r){let s=0;for(let c=0;c<a.position.length;c++){const h=e[c],g=a.position[c];if(s=h.field.isKeyField()?ft.comparator(ft.fromName(g.referenceValue),r.key):dn(g,r.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function xi(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!yi(a.position[r],e.position[r]))return!1;return!0}class ks{constructor(e,r="asc"){this.field=e,this.dir=r}}function ls(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Ir{}class hn extends Ir{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Xs(e,r,s):"array-contains"===r?new ca(e,s):"in"===r?new Zi(e,s):"not-in"===r?new zo(e,s):"array-contains-any"===r?new jr(e,s):new hn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ua(e,s):new ho(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(dn(r,this.value)):null!==r&&ti(this.value)===ti(r)&&this.matchesComparison(dn(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends Ir{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Tn(e,r)}matches(e){return ni(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ni(a){return"and"===a.op}function Ys(a){return function Fs(a){for(const e of a.filters)if(e instanceof Tn)return!1;return!0}(a)&&ni(a)}function Ss(a){if(a instanceof hn)return a.field.canonicalString()+a.op.toString()+tr(a.value);if(Ys(a))return a.filters.map(e=>Ss(e)).join(",");{const e=a.filters.map(r=>Ss(r)).join(",");return`${a.op}(${e})`}}function Js(a,e){return a instanceof hn?(s=a,(c=e)instanceof hn&&s.op===c.op&&s.field.isEqual(c.field)&&yi(s.value,c.value)):a instanceof Tn?function(s,c){return c instanceof Tn&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((h,g,T)=>h&&Js(g,c.filters[T]),!0)}(a,e):void le();var s,c}function Dn(a){return a instanceof hn?`${(r=a).field.canonicalString()} ${r.op} ${tr(r.value)}`:a instanceof Tn?function(r){return r.op.toString()+" {"+r.getFilters().map(Dn).join(" ,")+"}"}(a):"Filter";var r}class Xs extends hn{constructor(e,r,s){super(e,r,s),this.key=ft.fromName(s.referenceValue)}matches(e){const r=ft.comparator(e.key,this.key);return this.matchesComparison(r)}}class ua extends hn{constructor(e,r){super(e,"in",r),this.keys=Br(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ho extends hn{constructor(e,r){super(e,"not-in",r),this.keys=Br(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Br(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>ft.fromName(s.referenceValue))}class ca extends hn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Bi(r)&&Ui(r.arrayValue,this.value)}}class Zi extends hn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ui(this.value.arrayValue,r)}}class zo extends hn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ui(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ui(this.value.arrayValue,r)}}class jr extends hn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Bi(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Ui(this.value.arrayValue,s))}}class ou{constructor(e,r=null,s=[],c=[],h=null,g=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=c,this.limit=h,this.startAt=g,this.endAt=T,this.ue=null}}function Wr(a,e=null,r=[],s=[],c=null,h=null,g=null){return new ou(a,e,r,s,c,h,g)}function k(a){const e=oe(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Ss(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),sn(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>tr(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>tr(s)).join(",")),e.ue=r}return e.ue}function V(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!ls(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Js(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!xi(a.startAt,e.startAt)&&xi(a.endAt,e.endAt)}function re(a){return ft.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class gt{constructor(e,r=null,s=[],c=[],h=null,g="F",T=null,b=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=c,this.limit=h,this.limitType=g,this.startAt=T,this.endAt=b,this.ce=null,this.le=null,this.he=null}}function xt(a){return new gt(a)}function pn(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function gr(a){const e=oe(a);if(null===e.ce){e.ce=[];const r=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),r.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let T=new Pn(on.comparator);return g.filters.forEach(b=>{b.getFlattenedFilters().forEach(N=>{N.isInequality()&&(T=T.add(N.field))})}),T})(e).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||e.ce.push(new ks(h,s))}),r.has(on.keyField().canonicalString())||e.ce.push(new ks(on.keyField(),s))}return e.ce}function kn(a){const e=oe(a);return e.le||(e.le=function Nr(a,e){if("F"===a.limitType)return Wr(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(c=>new ks(c.field,"desc"===c.dir?"asc":"desc"));const r=a.endAt?new Rr(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Rr(a.startAt.position,a.startAt.inclusive):null;return Wr(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,gr(a))),e.le}function Er(a,e,r){return new gt(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function di(a,e){return V(kn(a),kn(e))&&a.limitType===e.limitType}function hi(a){return`${k(kn(a))}|lt:${a.limitType}`}function qn(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(c=>Dn(c)).join(", ")}]`),sn(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(c=>{return`${(g=c).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(c=>tr(c)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(c=>tr(c)).join(",")),`Target(${s})`}(kn(a))}; limitType=${a.limitType})`}function Pr(a,e){return e.isFoundDocument()&&function(s,c){const h=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,c){for(const h of gr(s))if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(a,e)&&function(s,c){for(const h of s.filters)if(!h.matches(c))return!1;return!0}(a,e)&&(c=e,!((s=a).startAt&&!function(g,T,b){const N=cn(g,T,b);return g.inclusive?N<=0:N<0}(s.startAt,gr(s),c)||s.endAt&&!function(g,T,b){const N=cn(g,T,b);return g.inclusive?N>=0:N>0}(s.endAt,gr(s),c)));var s,c}function Us(a){return(e,r)=>{let s=!1;for(const c of gr(a)){const h=Bs(c,e,r);if(0!==h)return h;s=s||c.field.isKeyField()}return 0}}function Bs(a,e,r){const s=a.field.isKeyField()?ft.comparator(e.key,r.key):function(h,g,T){const b=g.data.field(h),N=T.data.field(h);return null!==b&&null!==N?dn(b,N):le()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return le()}}class bi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[c,h]of s)if(this.equalsFn(c,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,r]],void this.innerSize++;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],e))return void(c[h]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[r]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(r,s)=>{for(const[c,h]of s)e(c,h)})}isEmpty(){return Zr(this.inner)}size(){return this.innerSize}}const Go=new ir(ft.comparator);function $i(){return Go}const la=new ir(ft.comparator);function js(...a){let e=la;for(const r of a)e=e.insert(r.key,r);return e}function ds(a){let e=la;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Rs(){return Mr()}function Wo(){return Mr()}function Mr(){return new bi(a=>a.toString(),(a,e)=>a.isEqual(e))}const hs=new ir(ft.comparator),Ni=new Pn(ft.comparator);function fn(...a){let e=Ni;for(const r of a)e=e.add(r);return e}const qu=new Pn(at);function da(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ut(e)?"-0":e}}function Co(a){return{integerValue:""+a}}function Pa(a,e){return function fr(a){return"number"==typeof a&&Number.isInteger(a)&&!Ut(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?Co(e):da(a,e)}class eo{constructor(){this._=void 0}}function au(a,e,r){return a instanceof to?function(c,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&Do(h)&&(h=co(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(r,e):a instanceof fs?fo(a,e):a instanceof Ps?Qu(a,e):function(c,h){const g=Ku(c,h),T=Wl(g)+Wl(c.Pe);return Cs(g)&&Cs(c.Pe)?Co(T):da(c.serializer,T)}(a,e)}function Ma(a,e,r){return a instanceof fs?fo(a,e):a instanceof Ps?Qu(a,e):r}function Ku(a,e){return a instanceof Ms?Cs(s=e)||(h=s)&&"doubleValue"in h?e:{integerValue:0}:null;var s,h}class to extends eo{}class fs extends eo{constructor(e){super(),this.elements=e}}function fo(a,e){const r=w(e);for(const s of a.elements)r.some(c=>yi(c,s))||r.push(s);return{arrayValue:{values:r}}}class Ps extends eo{constructor(e){super(),this.elements=e}}function Qu(a,e){let r=w(e);for(const s of a.elements)r=r.filter(c=>!yi(c,s));return{arrayValue:{values:r}}}class Ms extends eo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Wl(a){return Ar(a.integerValue||a.doubleValue)}function w(a){return Bi(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class F{constructor(e,r){this.version=e,this.transformResults=r}}class ee{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ee}static exists(e){return new ee(void 0,e)}static updateTime(e){return new ee(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ke(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class Ze{}function kt(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Oi(a.key,ee.none()):new mr(a.key,a.data,ee.none());{const r=a.data,s=Un.empty();let c=new Pn(on.comparator);for(let h of e.fields)if(!c.has(h)){let g=r.field(h);null===g&&h.length>1&&(h=h.popLast(),g=r.field(h)),null===g?s.delete(h):s.set(h,g),c=c.add(h)}return new _n(a.key,s,new ei(c.toArray()),ee.none())}}function Tr(a,e,r){a instanceof mr?function(c,h,g){const T=c.value.clone(),b=no(c.fieldTransforms,h,g.transformResults);T.setAll(b),h.convertToFoundDocument(g.version,T).setHasCommittedMutations()}(a,e,r):a instanceof _n?function(c,h,g){if(!ke(c.precondition,h))return void h.convertToUnknownDocument(g.version);const T=no(c.fieldTransforms,h,g.transformResults),b=h.data;b.setAll(qr(c)),b.setAll(T),h.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Zn(a,e,r,s){return a instanceof mr?function(h,g,T,b){if(!ke(h.precondition,g))return T;const N=h.value.clone(),$=ps(h.fieldTransforms,b,g);return N.setAll($),g.convertToFoundDocument(g.version,N).setHasLocalMutations(),null}(a,e,r,s):a instanceof _n?function(h,g,T,b){if(!ke(h.precondition,g))return T;const N=ps(h.fieldTransforms,b,g),$=g.data;return $.setAll(qr(h)),$.setAll(N),g.convertToFoundDocument(g.version,$).setHasLocalMutations(),null===T?null:T.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Y=>Y.field))}(a,e,r,s):(T=r,ke(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):T);var g,T}function sr(a,e){let r=null;for(const s of a.fieldTransforms){const c=e.data.field(s.field),h=Ku(s.transform,c||null);null!=h&&(null===r&&(r=Un.empty()),r.set(s.field,h))}return r||null}function gn(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===c||s&&c&&Ai(s,c,(h,g)=>function P(a,e){return a.field.isEqual(e.field)&&(c=e.transform,(s=a.transform)instanceof fs&&c instanceof fs||s instanceof Ps&&c instanceof Ps?Ai(s.elements,c.elements,yi):s instanceof Ms&&c instanceof Ms?yi(s.Pe,c.Pe):s instanceof to&&c instanceof to);var s,c}(h,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,c}class mr extends Ze{constructor(e,r,s,c=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class _n extends Ze{constructor(e,r,s,c,h=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=c,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function no(a,e,r){const s=new Map;_e(a.length===r.length);for(let c=0;c<r.length;c++){const h=a[c],g=h.transform,T=e.data.field(h.field);s.set(h.field,Ma(g,T,r[c]))}return s}function ps(a,e,r){const s=new Map;for(const c of a){const h=c.transform,g=r.data.field(c.field);s.set(c.field,au(h,g,e))}return s}class Oi extends Ze{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fi extends Ze{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yi{constructor(e,r,s,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(e.key)&&Tr(h,e,s[c])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Zn(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Zn(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Wo();return this.mutations.forEach(c=>{const h=e.get(c.key),g=h.overlayedDocument;let T=this.applyToLocalView(g,h.mutatedFields);T=r.has(c.key)?null:T;const b=kt(g,T);null!==b&&s.set(c.key,b),g.isValidDocument()||g.convertToNoDocument(mt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),fn())}isEqual(e){return this.batchId===e.batchId&&Ai(this.mutations,e.mutations,(r,s)=>gn(r,s))&&Ai(this.baseMutations,e.baseMutations,(r,s)=>gn(r,s))}}class ro{constructor(e,r,s,c){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=c}static from(e,r,s){_e(e.mutations.length===s.length);let c=hs;const h=e.mutations;for(let g=0;g<h.length;g++)c=c.insert(h[g].key,s[g].version);return new ro(e,r,s,c)}}class io{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nc{constructor(e,r){this.count=e,this.unchangedNames=r}}var ri,zn;function kc(a){if(void 0===a)return Vt("GRPC error has no .code"),Q.UNKNOWN;switch(a){case ri.OK:return Q.OK;case ri.CANCELLED:return Q.CANCELLED;case ri.UNKNOWN:return Q.UNKNOWN;case ri.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ri.INTERNAL:return Q.INTERNAL;case ri.UNAVAILABLE:return Q.UNAVAILABLE;case ri.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ri.NOT_FOUND:return Q.NOT_FOUND;case ri.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ri.ABORTED:return Q.ABORTED;case ri.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ri.DATA_LOSS:return Q.DATA_LOSS;default:return le()}}(zn=ri||(ri={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";const ql=new lt([4294967295,4294967295],0);function $s(a){const e=function Qo(){return new TextEncoder}().encode(a),r=new nt;return r.update(e),new Uint8Array(r.digest())}function Lc(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new lt([r,s],0),new lt([c,h],0)]}class Zu{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new bn(`Invalid padding: ${r}`);if(s<0)throw new bn(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new bn(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new bn(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=lt.fromNumber(this.Ie)}Ee(e,r,s){let c=e.add(r.multiply(lt.fromNumber(s)));return 1===c.compare(ql)&&(c=new lt([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=$s(e),[s,c]=Lc(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,c,h);if(!this.de(g))return!1}return!0}static create(e,r,s){const c=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),g=new Zu(h,c,r);return s.forEach(T=>g.insert(T)),g}insert(e){if(0===this.Ie)return;const r=$s(e),[s,c]=Lc(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,c,h);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class bn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ha{constructor(e,r,s,c,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const c=new Map;return c.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new ha(mt.min(),c,new ir(at),$i(),fn())}}class bo{constructor(e,r,s,c,h){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new bo(s,r,fn(),fn(),fn())}}class pi{constructor(e,r,s,c){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=c}}class cu{constructor(e,r){this.targetId=e,this.me=r}}class po{constructor(e,r,s=Vr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=c}}class so{constructor(){this.fe=0,this.ge=Fc(),this.pe=Vr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fn(),r=fn(),s=fn();return this.ge.forEach((c,h)=>{switch(h){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:s=s.add(c);break;default:le()}}),new bo(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Fc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hs{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=Kl(),this.Qe=new ir(at)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:le()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,c)=>{this.ze(c)&&r(c)})}He(e){const r=e.targetId,s=e.me.count,c=this.Je(r);if(c){const h=c.target;if(re(h))if(0===s){const g=new ft(h.path);this.Ue(r,g,$n.newNoDocument(g,mt.min()))}else _e(1===s);else{const g=this.Ye(r);if(g!==s){const T=this.Ze(e),b=T?this.Xe(T,e,g):1;0!==b&&(this.je(r),this.Qe=this.Qe.insert(r,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=r;let g,T;try{g=Fi(s).toUint8Array()}catch(b){if(b instanceof Ks)return pt("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{T=new Zu(g,c,h)}catch(b){return pt(b instanceof bn?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===T.Ie?null:T}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let c=0;return s.forEach(h=>{const g=this.Le.tt(),T=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;e.mightContain(T)||(this.Ue(r,h,null),c++)}),c}rt(e){const r=new Map;this.Be.forEach((h,g)=>{const T=this.Je(g);if(T){if(h.current&&re(T.target)){const b=new ft(T.target.path);null!==this.ke.get(b)||this.it(g,b)||this.Ue(g,b,$n.newNoDocument(b,e))}h.be&&(r.set(g,h.Ce()),h.ve())}});let s=fn();this.qe.forEach((h,g)=>{let T=!0;g.forEachWhile(b=>{const N=this.Je(b);return!N||"TargetPurposeLimboResolution"===N.purpose||(T=!1,!1)}),T&&(s=s.add(h))}),this.ke.forEach((h,g)=>g.setReadTime(e));const c=new ha(e,r,this.Qe,this.ke,s);return this.ke=$i(),this.qe=Kl(),this.Qe=new ir(at),c}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const c=this.Ge(e);this.it(e,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new so,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Pn(at),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new so),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Kl(){return new ir(ft.comparator)}function Fc(){return new ir(ft.comparator)}const Vc={asc:"ASCENDING",desc:"DESCENDING"},go={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ql={and:"AND",or:"OR"};class lu{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ji(a,e){return a.useProto3Json||sn(e)?e:{value:e}}function fa(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xa(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Zl(a,e){return fa(a,e.toTimestamp())}function Bt(a){return _e(!!a),mt.fromTimestamp(function(r){const s=Li(r);return new wn(s.seconds,s.nanos)}(a))}function Na(a,e){return Yu(a,e).canonicalString()}function Yu(a,e){const r=(c=a,new wt(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function Ju(a){const e=wt.fromString(a);return _e(oo(e)),e}function Oa(a,e){return Na(a.databaseId,e.path)}function mo(a,e){const r=Ju(e);if(r.get(1)!==a.databaseId.projectId)throw new X(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new X(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new ft(tc(r))}function Xu(a,e){return Na(a.databaseId,e)}function ec(a){return new wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function tc(a){return _e(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Yl(a,e,r){return{name:Oa(a,e),fields:r.value.mapValue.fields}}function vi(a,e){return{documents:[Xu(a,e.path)]}}function pa(a,e){const r={structuredQuery:{}},s=e.path;let c;null!==e.collectionGroup?(c=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Xu(a,c);const h=function(N){if(0!==N.length)return Uc(Tn.create(N,"and"))}(e.filters);h&&(r.structuredQuery.where=h);const g=function(N){if(0!==N.length)return N.map($=>{return{field:Kr((he=$).field),direction:La(he.dir)};var he})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const T=Ji(a,e.limit);return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(r.structuredQuery.endAt=function(N){return{before:!N.inclusive,values:N.position}}(e.endAt)),{_t:r,parent:c};var N}function Xi(a){let e=function So(a){const e=Ju(a);return 4===e.length?wt.emptyPath():tc(e)}(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let c=null;if(s>0){_e(1===s);const $=r.from[0];$.allDescendants?c=$.collectionId:e=e.child($.collectionId)}let h=[];r.where&&(h=function(Y){const he=Ro(Y);return he instanceof Tn&&Ys(he)?he.getFilters():[he]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(he=>{return new ks(Hi((Ke=he).field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ke.direction));var Ke}));let T=null;r.limit&&(T=function(Y){let he;return he="object"==typeof Y?Y.value:Y,sn(he)?null:he}(r.limit));let b=null;var Y;r.startAt&&(b=new Rr((Y=r.startAt).values||[],!!Y.before));let N=null;return r.endAt&&(N=function(Y){return new Rr(Y.values||[],!Y.before)}(r.endAt)),function Ot(a,e,r,s,c,h,g,T){return new gt(a,e,r,s,c,h,g,T)}(e,c,g,h,T,"F",b,N)}function Ro(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Hi(r.unaryFilter.field);return hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=Hi(r.unaryFilter.field);return hn.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Hi(r.unaryFilter.field);return hn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Hi(r.unaryFilter.field);return hn.create(g,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(a):void 0!==a.fieldFilter?hn.create(Hi((r=a).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Tn.create(r.compositeFilter.filters.map(s=>Ro(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return le()}}(r.compositeFilter.op))}(a):le();var r}function La(a){return Vc[a]}function Ih(a){return go[a]}function nc(a){return Ql[a]}function Kr(a){return{fieldPath:a.canonicalString()}}function Hi(a){return on.fromServerFormat(a.fieldPath)}function Uc(a){return a instanceof hn?function(r){if("=="===r.op){if(Zs(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NAN"}};if(Ra(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Zs(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NOT_NAN"}};if(Ra(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(r.field),op:Ih(r.op),value:r.value}}}(a):a instanceof Tn?function(r){const s=r.getFilters().map(c=>Uc(c));return 1===s.length?s[0]:{compositeFilter:{op:nc(r.op),filters:s}}}(a):le()}function Zo(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function oo(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class y{constructor(e,r,s,c,h=mt.min(),g=mt.min(),T=Vr.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=T,this.expectedCount=b}withSequenceNumber(e){return new y(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class D{constructor(e){this.ct=e}}function an(a){const e=Xi({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Er(e,e.limit,"L"):e}class zs{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ar(e.integerValue));else if("doubleValue"in e){const s=Ar(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Ut(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=Li(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Fi(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?un(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):le()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const c of Object.keys(s))this.Rt(c,r),this.It(s[c],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const c of s)this.It(c,r)}gt(e,r){this.Et(r,37),ft.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}zs.bt=new zs;class id{constructor(){this._n=new Th}addToCollectionParentIndex(e,r){return this._n.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(Nn.min())}updateCollectionGroup(e,r,s){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class Th{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r]||new Pn(wt.comparator),h=!c.has(s);return this.index[r]=c.add(s),h}has(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Pn(wt.comparator)).toArray()}}new Uint8Array(0);class es{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class ts{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ts(0)}static Ln(){return new ts(-1)}}class Dm{constructor(){this.changes=new bi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?pe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rh{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class ud{constructor(e,r,s,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==s&&Zn(s.mutation,c,ei.empty(),wn.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,fn()).next(()=>s))}getLocalViewOfDocuments(e,r,s=fn()){const c=Rs();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,s).next(h=>{let g=js();return h.forEach((T,b)=>{g=g.insert(T,b.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Rs();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,fn()))}populateOverlays(e,r,s){const c=[];return s.forEach(h=>{r.has(h)||c.push(h)}),this.documentOverlayCache.getOverlays(e,c).next(h=>{h.forEach((g,T)=>{r.set(g,T)})})}computeViews(e,r,s,c){let h=$i();const g=Mr(),T=Mr();return r.forEach((b,N)=>{const $=s.get(N.key);c.has(N.key)&&(void 0===$||$.mutation instanceof _n)?h=h.insert(N.key,N):void 0!==$?(g.set(N.key,$.mutation.getFieldMask()),Zn($.mutation,N,$.mutation.getFieldMask(),wn.now())):g.set(N.key,ei.empty())}),this.recalculateAndSaveOverlays(e,h).next(b=>(b.forEach((N,$)=>g.set(N,$)),r.forEach((N,$)=>{var Y;return T.set(N,new Rh($,null!==(Y=g.get(N))&&void 0!==Y?Y:null))}),T))}recalculateAndSaveOverlays(e,r){const s=Mr();let c=new ir((g,T)=>g-T),h=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const T of g)T.keys().forEach(b=>{const N=r.get(b);if(null===N)return;let $=s.get(b)||ei.empty();$=T.applyToLocalView(N,$),s.set(b,$);const Y=(c.get(T.batchId)||fn()).add(b);c=c.insert(T.batchId,Y)})}).next(()=>{const g=[],T=c.getReverseIterator();for(;T.hasNext();){const b=T.getNext(),N=b.key,$=b.value,Y=Wo();$.forEach(he=>{if(!h.has(he)){const Ne=kt(r.get(he),s.get(he));null!==Ne&&Y.set(he,Ne),h=h.add(he)}}),g.push(this.documentOverlayCache.saveOverlays(e,N,Y))}return pe.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,c){return ft.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):function Hn(a){return null!==a.collectionGroup}(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,c):this.getDocumentsMatchingCollectionQuery(e,r,s,c);var g}getNextDocuments(e,r,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,c).next(h=>{const g=c-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,c-h.size):pe.resolve(Rs());let T=-1,b=h;return g.next(N=>pe.forEach(N,($,Y)=>(T<Y.largestBatchId&&(T=Y.largestBatchId),h.get($)?pe.resolve():this.remoteDocumentCache.getEntry(e,$).next(he=>{b=b.insert($,he)}))).next(()=>this.populateOverlays(e,N,h)).next(()=>this.computeViews(e,b,N,fn())).next($=>({batchId:T,changes:ds($)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ft(r)).next(s=>{let c=js();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,s,c){const h=r.collectionGroup;let g=js();return this.indexManager.getCollectionParents(e,h).next(T=>pe.forEach(T,b=>{const N=(Y=r,he=b.child(h),new gt(he,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,he;return this.getDocumentsMatchingCollectionQuery(e,N,s,c).next($=>{$.forEach((Y,he)=>{g=g.insert(Y,he)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,c){let h;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,h,c))).next(g=>{h.forEach((b,N)=>{const $=N.getKey();null===g.get($)&&(g=g.insert($,$n.newInvalidDocument($)))});let T=js();return g.forEach((b,N)=>{const $=h.get(b);void 0!==$&&Zn($.mutation,N,ei.empty(),wn.now()),Pr(r,N)&&(T=T.insert(b,N))}),T})}}class cd{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return pe.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:Bt(c.createTime)}),pe.resolve();var c}getNamedQuery(e,r){return pe.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(c=r).name,query:an(c.bundledQuery),readTime:Bt(c.readTime)}),pe.resolve();var c}}class ld{constructor(){this.overlays=new ir(ft.comparator),this.hr=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Rs();return pe.forEach(r,c=>this.getOverlay(e,c).next(h=>{null!==h&&s.set(c,h)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((c,h)=>{this.ht(e,r,h)}),pe.resolve()}removeOverlaysForBatchId(e,r,s){const c=this.hr.get(s);return void 0!==c&&(c.forEach(h=>this.overlays=this.overlays.remove(h)),this.hr.delete(s)),pe.resolve()}getOverlaysForCollection(e,r,s){const c=Rs(),h=r.length+1,g=new ft(r.child("")),T=this.overlays.getIteratorFrom(g);for(;T.hasNext();){const b=T.getNext().value,N=b.getKey();if(!r.isPrefixOf(N.path))break;N.path.length===h&&b.largestBatchId>s&&c.set(b.getKey(),b)}return pe.resolve(c)}getOverlaysForCollectionGroup(e,r,s,c){let h=new ir((N,$)=>N-$);const g=this.overlays.getIterator();for(;g.hasNext();){const N=g.getNext().value;if(N.getKey().getCollectionGroup()===r&&N.largestBatchId>s){let $=h.get(N.largestBatchId);null===$&&($=Rs(),h=h.insert(N.largestBatchId,$)),$.set(N.getKey(),N)}}const T=Rs(),b=h.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((N,$)=>T.set(N,$)),!(T.size()>=c)););return pe.resolve(T)}ht(e,r,s){const c=this.overlays.get(s.key);if(null!==c){const g=this.hr.get(c.largestBatchId).delete(s.key);this.hr.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new io(r,s));let h=this.hr.get(r);void 0===h&&(h=fn(),this.hr.set(r,h)),this.hr.set(r,h.add(s.key))}}class Wc{constructor(){this.Pr=new Pn(Ii.Ir),this.Tr=new Pn(Ii.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Ii(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Ii(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new ft(new wt([])),s=new Ii(r,e),c=new Ii(r,e+1),h=[];return this.Tr.forEachInRange([s,c],g=>{this.Ar(g),h.push(g.key)}),h}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new ft(new wt([])),s=new Ii(r,e),c=new Ii(r,e+1);let h=fn();return this.Tr.forEachInRange([s,c],g=>{h=h.add(g.key)}),h}containsKey(e){const r=new Ii(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Ii{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return ft.comparator(e.key,r.key)||at(e.pr,r.pr)}static Er(e,r){return at(e.pr,r.pr)||ft.comparator(e.key,r.key)}}class yu{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Pn(Ii.Ir)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,c){const h=this.yr;this.yr++;const g=new Yi(h,r,s,c);this.mutationQueue.push(g);for(const T of c)this.wr=this.wr.add(new Ii(T.key,h)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return pe.resolve(g)}lookupMutationBatch(e,r){return pe.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.br(r+1),h=c<0?0:c;return pe.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Ii(r,0),c=new Ii(r,Number.POSITIVE_INFINITY),h=[];return this.wr.forEachInRange([s,c],g=>{const T=this.Sr(g.pr);h.push(T)}),pe.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Pn(at);return r.forEach(c=>{const h=new Ii(c,0),g=new Ii(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([h,g],T=>{s=s.add(T.pr)})}),pe.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const g=new Ii(new ft(h),0);let T=new Pn(at);return this.wr.forEachWhile(b=>{const N=b.key.path;return!!s.isPrefixOf(N)&&(N.length===c&&(T=T.add(b.pr)),!0)},g),pe.resolve(this.Dr(T))}Dr(e){const r=[];return e.forEach(s=>{const c=this.Sr(s);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){_e(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return pe.forEach(r.mutations,c=>{const h=new Ii(c.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Ii(r,0),c=this.wr.firstAfterOrEqual(s);return pe.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return pe.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ia{constructor(e){this.vr=e,this.docs=new ir(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,c=this.docs.get(s),h=c?c.size:0,g=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return pe.resolve(s?s.document.mutableCopy():$n.newInvalidDocument(r))}getEntries(e,r){let s=$i();return r.forEach(c=>{const h=this.docs.get(c);s=s.insert(c,h?h.document.mutableCopy():$n.newInvalidDocument(c))}),pe.resolve(s)}getDocumentsMatchingQuery(e,r,s,c){let h=$i();const g=r.path,T=new ft(g.child("")),b=this.docs.getIteratorFrom(T);for(;b.hasNext();){const{key:N,value:{document:$}}=b.getNext();if(!g.isPrefixOf(N.path))break;N.path.length>g.length+1||On(new Nn((a=$).readTime,a.key,-1),s)<=0||(c.has($.key)||Pr(r,$))&&(h=h.insert($.key,$.mutableCopy()))}var a;return pe.resolve(h)}getAllFromCollectionGroup(e,r,s,c){le()}Fr(e,r){return pe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new vu(this)}getSize(e){return pe.resolve(this.size)}}class vu extends Dm{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(e,c)):this.ar.removeEntry(s)}),pe.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Ph{constructor(e){this.persistence=e,this.Mr=new bi(r=>k(r),V),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Wc,this.targetCount=0,this.Lr=ts.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,c)=>r(c)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),pe.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new ts(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.qn(r),pe.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,s){let c=0;const h=[];return this.Mr.forEach((g,T)=>{T.sequenceNumber<=r&&null===s.get(T.targetId)&&(this.Mr.delete(g),h.push(this.removeMatchingKeysForTargetId(e,T.targetId)),c++)}),pe.waitFor(h).next(()=>c)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return pe.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),pe.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const c=this.persistence.referenceDelegate,h=[];return c&&r.forEach(g=>{h.push(c.markPotentiallyOrphaned(e,g))}),pe.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return pe.resolve(s)}containsKey(e,r){return pe.resolve(this.Nr.containsKey(r))}}class Iu{constructor(e,r){this.Br={},this.overlays={},this.kr=new Nt(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ph(this),this.indexManager=new id,this.remoteDocumentCache=new Ia(s=>this.referenceDelegate.Kr(s)),this.serializer=new D(r),this.$r=new cd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ld,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new yu(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ie("MemoryPersistence","Starting transaction:",e);const c=new Eu(this.kr.next());return this.referenceDelegate.Ur(),s(c).next(h=>this.referenceDelegate.Wr(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Gr(e,r){return pe.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Eu extends Ht{constructor(e){super(),this.currentSequenceNumber=e}}class Tu{constructor(e){this.persistence=e,this.zr=new Wc,this.jr=null}static Hr(e){return new Tu(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),pe.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),pe.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(h=>this.Jr.add(h.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Jr,s=>{const c=ft.fromPath(s);return this.Yr(e,c).next(h=>{h||r.removeEntry(c,mt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return pe.or([()=>pe.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class oc{constructor(e,r,s,c){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=c}static Ki(e,r){let s=fn(),c=fn();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new oc(e,r.fromCache,s,c)}}class gp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ei{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ce.G6)()?8:function Ki(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,ce.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,c){const h={result:null};return this.ji(e,r).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.Hi(e,r,c,s).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new gp;return this.Ji(e,r,g).next(T=>{if(h.result=T,this.Ui)return this.Yi(e,r,g,T.size)})}).next(()=>h.result)}Yi(e,r,s,c){return s.documentReadCount<this.Wi?(xr()<=qe.in.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",qn(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),pe.resolve()):(xr()<=qe.in.DEBUG&&Ie("QueryEngine","Query:",qn(r),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Gi*c?(xr()<=qe.in.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",qn(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(r))):pe.resolve())}ji(e,r){if(pn(r))return pe.resolve(null);let s=kn(r);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Er(r,null,"F"),s=kn(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const g=fn(...h);return this.zi.getDocuments(e,g).next(T=>this.indexManager.getMinOffset(e,s).next(b=>{const N=this.Zi(r,T);return this.Xi(r,N,g,b.readTime)?this.ji(e,Er(r,null,"F")):this.es(e,N,r,b)}))})))}Hi(e,r,s,c){return pn(r)||c.isEqual(mt.min())?pe.resolve(null):this.zi.getDocuments(e,s).next(h=>{const g=this.Zi(r,h);return this.Xi(r,g,s,c)?pe.resolve(null):(xr()<=qe.in.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),qn(r)),this.es(e,g,r,function qi(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,c=mt.fromTimestamp(1e9===s?new wn(r+1,0):new wn(r,s));return new Nn(c,ft.empty(),e)}(c,-1)).next(T=>T))})}Zi(e,r){let s=new Pn(Us(e));return r.forEach((c,h)=>{Pr(e,h)&&(s=s.add(h))}),s}Xi(e,r,s,c){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Ji(e,r,s){return xr()<=qe.in.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",qn(r)),this.zi.getDocumentsMatchingQuery(e,r,Nn.min(),s)}es(e,r,s,c){return this.zi.getDocumentsMatchingQuery(e,s,c).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}class mp{constructor(e,r,s,c){this.persistence=e,this.ts=r,this.serializer=c,this.ns=new ir(at),this.rs=new bi(h=>k(h),V),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ud(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Nh(a,e){return ms.apply(this,arguments)}function ms(){return(ms=(0,ae.Z)(function*(a,e){const r=oe(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let c;return r.mutationQueue.getAllMutationBatches(s).next(h=>(c=h,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(h=>{const g=[],T=[];let b=fn();for(const N of c){g.push(N.batchId);for(const $ of N.mutations)b=b.add($.key)}for(const N of h){T.push(N.batchId);for(const $ of N.mutations)b=b.add($.key)}return r.localDocuments.getDocuments(s,b).next(N=>({us:N,removedBatchIds:g,addedBatchIds:T}))})})})).apply(this,arguments)}function hd(a){const e=oe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function _p(a,e){const r=oe(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ta(a,e,r){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,ae.Z)(function*(a,e,r){const s=oe(a),c=s.ns.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",h,g=>s.persistence.referenceDelegate.removeTarget(g,c)))}catch(g){if(!z(g))throw g;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ns=s.ns.remove(e),s.rs.delete(c.target)})).apply(this,arguments)}function ki(a,e,r){const s=oe(a);let c=mt.min(),h=fn();return s.persistence.runTransaction("Execute query","readwrite",g=>function(b,N,$){const Y=oe(b),he=Y.rs.get($);return void 0!==he?pe.resolve(Y.ns.get(he)):Y.Qr.getTargetData(N,$)}(s,g,kn(e)).next(T=>{if(T)return c=T.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(g,T.targetId).next(b=>{h=b})}).next(()=>s.ts.getDocumentsMatchingQuery(g,e,r?c:mt.min(),r?h:fn())).next(T=>(function Cm(a,e,r){let s=a.ss.get(e)||mt.min();r.forEach((c,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.ss.set(e,s)}(s,function Vs(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}(e),T),{documents:T,hs:h})))}class gd{constructor(){this.activeTargetIds=function qo(){return qu}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class md{constructor(){this.no=new gd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new gd,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lh{io(e){}shutdown(){}}class Xc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let za=null;function cc(){return null===za?za=268435456+Math.round(2147483648*Math.random()):za++,"0x"+za.toString(16)}const _d={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fh{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Ti="WebChannelConnection";class Ga extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${c}/databases/${h}`,this.bo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${h}`}get Do(){return!1}Co(r,s,c,h,g){const T=cc(),b=this.vo(r,s.toUriEncodedString());Ie("RestConnection",`Sending RPC '${r}' ${T}:`,b,c);const N={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(N,h,g),this.Mo(r,b,N,c).then($=>(Ie("RestConnection",`Received RPC '${r}' ${T}: `,$),$),$=>{throw pt("RestConnection",`RPC '${r}' ${T} failed with error: `,$,"url: ",b,"request:",c),$})}xo(r,s,c,h,g,T){return this.Co(r,s,c,h,g)}Fo(r,s,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+$t,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((h,g)=>r[g]=h),c&&c.headers.forEach((h,g)=>r[g]=h)}vo(r,s){return`${this.wo}/v1/${s}:${_d[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,c){const h=cc();return new Promise((g,T)=>{const b=new Wt;b.setWithCredentials(!0),b.listenOnce(Gn.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Ge.NO_ERROR:const $=b.getResponseJson();Ie(Ti,`XHR for RPC '${e}' ${h} received:`,JSON.stringify($)),g($);break;case Ge.TIMEOUT:Ie(Ti,`RPC '${e}' ${h} timed out`),T(new X(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ge.HTTP_ERROR:const Y=b.getStatus();if(Ie(Ti,`RPC '${e}' ${h} failed with status:`,Y,"response text:",b.getResponseText()),Y>0){let he=b.getResponseJson();Array.isArray(he)&&(he=he[0]);const Ne=he?.error;if(Ne&&Ne.status&&Ne.message){const Ke=function(et){const jt=et.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(jt)>=0?jt:Q.UNKNOWN}(Ne.status);T(new X(Ke,Ne.message))}else T(new X(Q.UNKNOWN,"Server responded with status "+b.getStatus()))}else T(new X(Q.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Ie(Ti,`RPC '${e}' ${h} completed.`)}});const N=JSON.stringify(c);Ie(Ti,`RPC '${e}' ${h} sending request:`,c),b.send(r,"POST",N,s,15)})}Oo(e,r,s){const c=cc(),h=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=St(),T=At(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},N=this.longPollingOptions.timeoutSeconds;void 0!==N&&(b.longPollingTimeout=Math.round(1e3*N)),this.useFetchStreams&&(b.xmlHttpFactory=new qt({})),this.Fo(b.initMessageHeaders,r,s),b.encodeInitMessageHeaders=!0;const $=h.join("");Ie(Ti,`Creating RPC '${e}' stream ${c}: ${$}`,b);const Y=g.createWebChannel($,b);let he=!1,Ne=!1;const Ke=new Fh({lo:et=>{Ne?Ie(Ti,`Not sending because RPC '${e}' stream ${c} is closed:`,et):(he||(Ie(Ti,`Opening RPC '${e}' stream ${c} transport.`),Y.open(),he=!0),Ie(Ti,`RPC '${e}' stream ${c} sending:`,et),Y.send(et))},ho:()=>Y.close()}),_t=(et,jt,Xt)=>{et.listen(jt,Ft=>{try{Xt(Ft)}catch(yn){setTimeout(()=>{throw yn},0)}})};return _t(Y,vn.EventType.OPEN,()=>{Ne||(Ie(Ti,`RPC '${e}' stream ${c} transport opened.`),Ke.mo())}),_t(Y,vn.EventType.CLOSE,()=>{Ne||(Ne=!0,Ie(Ti,`RPC '${e}' stream ${c} transport closed`),Ke.po())}),_t(Y,vn.EventType.ERROR,et=>{Ne||(Ne=!0,pt(Ti,`RPC '${e}' stream ${c} transport errored:`,et),Ke.po(new X(Q.UNAVAILABLE,"The operation could not be completed")))}),_t(Y,vn.EventType.MESSAGE,et=>{var jt;if(!Ne){const Xt=et.data[0];_e(!!Xt);const yn=Xt.error||(null===(jt=Xt[0])||void 0===jt?void 0:jt.error);if(yn){Ie(Ti,`RPC '${e}' stream ${c} received error:`,yn);const nr=yn.status;let An=function(me){const we=ri[me];if(void 0!==we)return kc(we)}(nr),Te=yn.message;void 0===An&&(An=Q.INTERNAL,Te="Unknown error status: "+nr+" with message "+yn.message),Ne=!0,Ke.po(new X(An,Te)),Y.close()}else Ie(Ti,`RPC '${e}' stream ${c} received:`,Xt),Ke.yo(Xt)}}),_t(T,Qe.STAT_EVENT,et=>{et.stat===ot.PROXY?Ie(Ti,`RPC '${e}' stream ${c} detected buffering proxy`):et.stat===ot.NOPROXY&&Ie(Ti,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Ke.fo()},0),Ke}}function yd(){return typeof document<"u"?document:null}function Ru(a){return new lu(a,!0)}class vd{constructor(e,r,s=1e3,c=1.5,h=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=c,this.Bo=h,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),c=Math.max(0,r-s);c>0&&Ie("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class yp{constructor(e,r,s,c,h,g,T,b){this.oi=e,this.Go=s,this.zo=c,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=T,this.listener=b,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new vd(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,ae.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,ae.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,ae.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Q.RESOURCE_EXHAUSTED?(Vt(r.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Q.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.jo===r&&this.u_(s,c)},s=>{e(()=>{const c=new X(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(c)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(c=>{s(()=>this.c_(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}e_(){var e=this;this.state=5,this.Yo.$o((0,ae.Z)(function*(){e.state=0,e.start()}))}c_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vp extends yp{constructor(e,r,s,c,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,c,g),this.serializer=h}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function it(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:le(),c=e.targetChange.targetIds||[],h=function(N,$){return N.useProto3Json?(_e(void 0===$||"string"==typeof $),Vr.fromBase64String($||"")):(_e(void 0===$||$ instanceof Buffer||$ instanceof Uint8Array),Vr.fromUint8Array($||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,T=g&&function(N){const $=void 0===N.code?Q.UNKNOWN:kc(N.code);return new X($,N.message||"")}(g);r=new po(s,c,h,T||null)}else if("documentChange"in e){const s=e.documentChange,c=mo(a,s.document.name),h=Bt(s.document.updateTime),g=s.document.createTime?Bt(s.document.createTime):mt.min(),T=new Un({mapValue:{fields:s.document.fields}}),b=$n.newFoundDocument(c,h,g,T);r=new pi(s.targetIds||[],s.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const s=e.documentDelete,c=mo(a,s.document),h=s.readTime?Bt(s.readTime):mt.min(),g=$n.newNoDocument(c,h);r=new pi([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,c=mo(a,s.document);r=new pi([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return le();{const s=e.filter,{count:c=0,unchangedNames:h}=s,g=new Nc(c,h);r=new cu(s.targetId,g)}}var N;return r}(this.serializer,e),s=function(h){if(!("targetChange"in h))return mt.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?mt.min():g.readTime?Bt(g.readTime):mt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=ec(this.serializer),r.addTarget=function(h,g){let T;const b=g.target;if(T=re(b)?{documents:vi(h,b)}:{query:pa(h,b)._t},T.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){T.resumeToken=xa(h,g.resumeToken);const N=Ji(h,g.expectedCount);null!==N&&(T.expectedCount=N)}else if(g.snapshotVersion.compareTo(mt.min())>0){T.readTime=fa(h,g.snapshotVersion.toTimestamp());const N=Ji(h,g.expectedCount);null!==N&&(T.expectedCount=N)}return T}(this.serializer,e);const s=function du(a,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=ec(this.serializer),r.removeTarget=e,this.i_(r)}}class Sm extends yp{constructor(e,r,s,c,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,c,g),this.serializer=h,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Xl(a,e){return a&&a.length>0?(_e(void 0!==e),a.map(r=>function(c,h){let g=Bt(c.updateTime?c.updateTime:h);return g.isEqual(mt.min())&&(g=Bt(h)),new F(g,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Bt(e.commitTime);return this.listener.A_(s,r)}return _e(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ec(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>function Mn(a,e){let r;if(e instanceof mr)r={update:Yl(a,e.key,e.value)};else if(e instanceof Oi)r={delete:Oa(a,e.key)};else if(e instanceof _n)r={update:Yl(a,e.key,e.data),updateMask:Zo(e.fieldMask)};else{if(!(e instanceof fi))return le();r={verify:Oa(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(h,g){const T=g.transform;if(T instanceof to)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof fs)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof Ps)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Ms)return{fieldPath:g.field.canonicalString(),increment:T.Pe};throw le()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Zl(a,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:le()),r;var h}(this.serializer,s))};this.i_(r)}}class Rm extends class{}{constructor(e,r,s,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=c,this.m_=!1}f_(){if(this.m_)throw new X(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,Yu(r,s),c,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new X(Q.UNKNOWN,h.toString())})}xo(e,r,s,c,h){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,T])=>this.connection.xo(e,Yu(r,s),c,g,T,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new X(Q.UNKNOWN,g.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Id{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Vt(r),this.y_=!1):Ie("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Ip{constructor(e,r,s,c,h){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=h,this.O_.io(T=>{s.enqueueAndForget((0,ae.Z)(function*(){var b;na(g)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,ae.Z)(function*($){const Y=oe($);Y.M_.add(4),yield tl(Y),Y.N_.set("Unknown"),Y.M_.delete(4),yield el(Y)}),function N($){return b.apply(this,arguments)})(g))}))}),this.N_=new Id(s,c)}}function el(a){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,ae.Z)(function*(a){if(na(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function tl(a){return Td.apply(this,arguments)}function Td(){return(Td=(0,ae.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function Uh(a,e){const r=oe(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Ep(r)?jh(r):xu(r).Xo()&&Bh(r,e))}function lc(a,e){const r=oe(a),s=xu(r);r.F_.delete(e),s.Xo()&&wd(r,e),0===r.F_.size&&(s.Xo()?s.n_():na(r)&&r.N_.set("Unknown"))}function Bh(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}xu(a).P_(e)}function wd(a,e){a.L_.xe(e),xu(a).I_(e)}function jh(a){a.L_=new Hs({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),xu(a).start(),a.N_.w_()}function Ep(a){return na(a)&&!xu(a).Zo()&&a.F_.size>0}function na(a){return 0===oe(a).M_.size}function Pm(a){a.L_=void 0}function wy(a){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,ae.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Dy(a){return wp.apply(this,arguments)}function wp(){return(wp=(0,ae.Z)(function*(a){a.F_.forEach((e,r)=>{Bh(a,e)})})).apply(this,arguments)}function Mm(a,e){return dc.apply(this,arguments)}function dc(){return(dc=(0,ae.Z)(function*(a,e){Pm(a),Ep(a)?(a.N_.D_(e),jh(a)):a.N_.set("Unknown")})).apply(this,arguments)}function Dd(a,e,r){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,ae.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof po&&2===e.state&&e.cause)try{yield(s=(0,ae.Z)(function*(h,g){const T=g.cause;for(const b of g.targetIds)h.F_.has(b)&&(yield h.remoteSyncer.rejectListen(b,T),h.F_.delete(b),h.L_.removeTarget(b))}),function c(h,g){return s.apply(this,arguments)})(a,e)}catch(s){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield nl(a,s)}else if(e instanceof pi?a.L_.Ke(e):e instanceof cu?a.L_.He(e):a.L_.We(e),!r.isEqual(mt.min()))try{const s=yield hd(a.localStore);r.compareTo(s)>=0&&(yield function(h,g){const T=h.L_.rt(g);return T.targetChanges.forEach((b,N)=>{if(b.resumeToken.approximateByteSize()>0){const $=h.F_.get(N);$&&h.F_.set(N,$.withResumeToken(b.resumeToken,g))}}),T.targetMismatches.forEach((b,N)=>{const $=h.F_.get(b);if(!$)return;h.F_.set(b,$.withResumeToken(Vr.EMPTY_BYTE_STRING,$.snapshotVersion)),wd(h,b);const Y=new y($.target,b,N,$.sequenceNumber);Bh(h,Y)}),h.remoteSyncer.applyRemoteEvent(T)}(a,r))}catch(s){Ie("RemoteStore","Failed to raise snapshot:",s),yield nl(a,s)}var s}),Ad.apply(this,arguments)}function nl(a,e,r){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,ae.Z)(function*(a,e,r){if(!z(e))throw e;a.M_.add(1),yield tl(a),a.N_.set("Offline"),r||(r=()=>hd(a.localStore)),a.asyncQueue.enqueueRetryable((0,ae.Z)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield el(a)}))})).apply(this,arguments)}function Pu(a,e){return e().catch(r=>nl(a,r,e))}function Mu(a){return bd.apply(this,arguments)}function bd(){return(bd=(0,ae.Z)(function*(a){const e=oe(a),r=ra(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Sd(e);)try{const c=yield _p(e.localStore,s);if(null===c){0===e.v_.length&&r.n_();break}s=c.batchId,Rd(e,c)}catch(c){yield nl(e,c)}rl(e)&&Dp(e)})).apply(this,arguments)}function Sd(a){return na(a)&&a.v_.length<10}function Rd(a,e){a.v_.push(e);const r=ra(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function rl(a){return na(a)&&!ra(a).Zo()&&a.v_.length>0}function Dp(a){ra(a).start()}function xm(a){return $h.apply(this,arguments)}function $h(){return($h=(0,ae.Z)(function*(a){ra(a).V_()})).apply(this,arguments)}function Ap(a){return il.apply(this,arguments)}function il(){return(il=(0,ae.Z)(function*(a){const e=ra(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function Nm(a,e,r){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,ae.Z)(function*(a,e,r){const s=a.v_.shift(),c=ro.from(s,e,r);yield Pu(a,()=>a.remoteSyncer.applySuccessfulWrite(c)),yield Mu(a)})).apply(this,arguments)}function Om(a,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,ae.Z)(function*(a,e){var r;e&&ra(a).E_&&(yield(r=(0,ae.Z)(function*(c,h){if(function Oc(a){switch(a){default:return le();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}(T=h.code)&&T!==Q.ABORTED){const g=c.v_.shift();ra(c).t_(),yield Pu(c,()=>c.remoteSyncer.rejectFailedWrite(g.batchId,h)),yield Mu(c)}var T}),function s(c,h){return r.apply(this,arguments)})(a,e)),rl(a)&&Dp(a)}),Pd.apply(this,arguments)}function Cp(a,e){return zh.apply(this,arguments)}function zh(){return(zh=(0,ae.Z)(function*(a,e){const r=oe(a);r.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const s=na(r);r.M_.add(3),yield tl(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield el(r)})).apply(this,arguments)}function _s(a,e){return sl.apply(this,arguments)}function sl(){return(sl=(0,ae.Z)(function*(a,e){const r=oe(a);e?(r.M_.delete(2),yield el(r)):e||(r.M_.add(2),yield tl(r),r.N_.set("Unknown"))})).apply(this,arguments)}function xu(a){return a.B_||(a.B_=function(r,s,c){const h=oe(r);return h.f_(),new vp(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(a.datastore,a.asyncQueue,{Po:wy.bind(null,a),To:Dy.bind(null,a),Ao:Mm.bind(null,a),h_:Dd.bind(null,a)}),a.x_.push(function(){var e=(0,ae.Z)(function*(r){r?(a.B_.t_(),Ep(a)?jh(a):a.N_.set("Unknown")):(yield a.B_.stop(),Pm(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function ra(a){return a.k_||(a.k_=function(r,s,c){const h=oe(r);return h.f_(),new Sm(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:xm.bind(null,a),Ao:Om.bind(null,a),R_:Ap.bind(null,a),A_:Nm.bind(null,a)}),a.x_.push(function(){var e=(0,ae.Z)(function*(r){r?(a.k_.t_(),yield Mu(a)):(yield a.k_.stop(),a.v_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class Gi{constructor(e,r,s,c,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=c,this.removalCallback=h,this.deferred=new Be,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,c,h){const g=Date.now()+s,T=new Gi(e,r,g,c,h);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new X(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ia(a,e){if(Vt("AsyncQueue",`${e}: ${a}`),z(a))return new X(Q.UNAVAILABLE,`${e}: ${a}`);throw a}class Nu{constructor(e){this.comparator=e?(r,s)=>e(r,s)||ft.comparator(r.key,s.key):(r,s)=>ft.comparator(r.key,s.key),this.keyedMap=js(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new Nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=s.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Nu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Gh{constructor(){this.q_=new ir(ft.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class hc{constructor(e,r,s,c,h,g,T,b,N){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=T,this.excludesMetadataChanges=b,this.hasCachedResults=N}static fromInitialDocuments(e,r,s,c,h){const g=[];return r.forEach(T=>{g.push({type:0,doc:T})}),new hc(e,r,Nu.emptySet(r),g,s,c,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&di(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==s[c].type||!r[c].doc.isEqual(s[c].doc))return!1;return!0}}class bp{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class km{constructor(){this.queries=new bi(e=>hi(e),di),this.onlineState="Unknown",this.z_=new Set}}function Wh(){return(Wh=(0,ae.Z)(function*(a,e){const r=oe(a);let s=3;const c=e.query;let h=r.queries.get(c);h?!h.W_()&&e.G_()&&(s=2):(h=new bp,s=e.G_()?0:1);try{switch(s){case 0:h.K_=yield r.onListen(c,!0);break;case 1:h.K_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(g){const T=ia(g,`Initialization of query '${qn(e.query)}' failed`);return void e.onError(T)}r.queries.set(c,h),h.U_.push(e),e.j_(r.onlineState),h.K_&&e.H_(h.K_)&&L(r)})).apply(this,arguments)}function l(){return(l=(0,ae.Z)(function*(a,e){const r=oe(a),s=e.query;let c=3;const h=r.queries.get(s);if(h){const g=h.U_.indexOf(e);g>=0&&(h.U_.splice(g,1),0===h.U_.length?c=e.G_()?0:1:!h.W_()&&e.G_()&&(c=2))}switch(c){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function p(a,e){const r=oe(a);let s=!1;for(const c of e){const g=r.queries.get(c.query);if(g){for(const T of g.U_)T.H_(c)&&(s=!0);g.K_=c}}s&&L(r)}function E(a,e,r){const s=oe(a),c=s.queries.get(e);if(c)for(const h of c.U_)h.onError(r);s.queries.delete(e)}function L(a){a.z_.forEach(e=>{e.next()})}var W,ye;(ye=W||(W={})).J_="default",ye.Cache="cache";class Fe{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new hc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==W.Cache}}class wi{constructor(e){this.key=e}}class ao{constructor(e){this.key=e}}class Ou{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fn(),this.mutatedKeys=fn(),this.Ia=Us(e),this.Ta=new Nu(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Gh,c=r?r.Ta:this.Ta;let h=r?r.mutatedKeys:this.mutatedKeys,g=c,T=!1;const b="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,N="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(($,Y)=>{const he=c.get($),Ne=Pr(this.query,Y)?Y:null,Ke=!!he&&this.mutatedKeys.has(he.key),_t=!!Ne&&(Ne.hasLocalMutations||this.mutatedKeys.has(Ne.key)&&Ne.hasCommittedMutations);let et=!1;he&&Ne?he.data.isEqual(Ne.data)?Ke!==_t&&(s.track({type:3,doc:Ne}),et=!0):this.Ra(he,Ne)||(s.track({type:2,doc:Ne}),et=!0,(b&&this.Ia(Ne,b)>0||N&&this.Ia(Ne,N)<0)&&(T=!0)):!he&&Ne?(s.track({type:0,doc:Ne}),et=!0):he&&!Ne&&(s.track({type:1,doc:he}),et=!0,(b||N)&&(T=!0)),et&&(Ne?(g=g.add(Ne),h=_t?h.add($):h.delete($)):(g=g.delete($),h=h.delete($)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const $="F"===this.query.limitType?g.last():g.first();g=g.delete($.key),h=h.delete($.key),s.track({type:1,doc:$})}return{Ta:g,Aa:s,Xi:T,mutatedKeys:h}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,c){const h=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const g=e.Aa.Q_();g.sort(($,Y)=>function(Ne,Ke){const _t=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return _t(Ne)-_t(Ke)}($.type,Y.type)||this.Ia($.doc,Y.doc)),this.Va(s),c=null!=c&&c;const T=r&&!c?this.ma():[],b=0===this.Pa.size&&this.current&&!c?1:0,N=b!==this.ha;return this.ha=b,0!==g.length||N?{snapshot:new hc(this.query,e.Ta,h,g,e.mutatedKeys,0===b,N,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:T}:{fa:T}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Gh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=fn(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new ao(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new wi(s))}),r}pa(e){this.la=e.hs,this.Pa=fn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return hc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class ol{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class ku{constructor(e){this.key=e,this.wa=!1}}class qh{constructor(e,r,s,c,h,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Sa={},this.ba=new bi(T=>hi(T),di),this.Da=new Map,this.Ca=new Set,this.va=new ir(ft.comparator),this.Fa=new Map,this.Ma=new Wc,this.xa={},this.Oa=new Map,this.Na=ts.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Kh(a,e){return fc.apply(this,arguments)}function fc(){return(fc=(0,ae.Z)(function*(a,e,r=!0){const s=kd(a);let c;const h=s.ba.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),c=h.view.ya()):c=yield ul(s,e,r,!0),c})).apply(this,arguments)}function Qh(a,e){return al.apply(this,arguments)}function al(){return(al=(0,ae.Z)(function*(a,e){const r=kd(a);yield ul(r,e,!0,!1)})).apply(this,arguments)}function ul(a,e,r,s){return pc.apply(this,arguments)}function pc(){return(pc=(0,ae.Z)(function*(a,e,r,s){const c=yield function Cu(a,e){const r=oe(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return r.Qr.getTargetData(s,e).next(h=>h?(c=h,pe.resolve(c)):r.Qr.allocateTargetId(s).next(g=>(c=new y(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=r.ns.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}(a.localStore,kn(e)),h=c.targetId,g=r?a.sharedClientState.addLocalQueryTarget(h):"not-current";let T;return s&&(T=yield function Lu(a,e,r,s,c){return Wa.apply(this,arguments)}(a,e,h,"current"===g,c.resumeToken)),a.isPrimaryClient&&r&&Uh(a.remoteStore,c),T})).apply(this,arguments)}function Wa(){return Wa=(0,ae.Z)(function*(a,e,r,s,c){a.Ba=(Y,he,Ne)=>{return(Ke=(0,ae.Z)(function*(et,jt,Xt,Ft){let yn=jt.view.da(Xt);yn.Xi&&(yn=yield ki(et.localStore,jt.query,!1).then(({documents:se})=>jt.view.da(se,yn)));const nr=Ft&&Ft.targetChanges.get(jt.targetId),An=Ft&&null!=Ft.targetMismatches.get(jt.targetId),Te=jt.view.applyChanges(yn,et.isPrimaryClient,nr,An);return dl(et,jt.targetId,Te.fa),Te.snapshot}),function _t(et,jt,Xt,Ft){return Ke.apply(this,arguments)})(a,Y,he,Ne);var Ke};const h=yield ki(a.localStore,e,!0),g=new Ou(e,h.hs),T=g.da(h.documents),b=bo.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,c),N=g.applyChanges(T,a.isPrimaryClient,b);dl(a,r,N.fa);const $=new ol(e,r,g);return a.ba.set(e,$),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),N.snapshot}),Wa.apply(this,arguments)}function xd(a,e,r){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,ae.Z)(function*(a,e,r){const s=oe(a),c=s.ba.get(e),h=s.Da.get(c.targetId);if(h.length>1)return s.Da.set(c.targetId,h.filter(g=>!di(g,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Ta(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),r&&lc(s.remoteStore,c.targetId),mc(s,c.targetId)}).catch(Gr))):(mc(s,c.targetId),yield Ta(s.localStore,c.targetId,!0))})).apply(this,arguments)}function Ay(a,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,ae.Z)(function*(a,e){const r=oe(a),s=r.ba.get(e),c=r.Da.get(s.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),lc(r.remoteStore,s.targetId))})).apply(this,arguments)}function qa(){return(qa=(0,ae.Z)(function*(a,e,r){const s=function sf(a){const e=oe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vm.bind(null,e),e}(a);try{const c=yield function(g,T){const b=oe(g),N=wn.now(),$=T.reduce((Ne,Ke)=>Ne.add(Ke.key),fn());let Y,he;return b.persistence.runTransaction("Locally write mutations","readwrite",Ne=>{let Ke=$i(),_t=fn();return b.os.getEntries(Ne,$).next(et=>{Ke=et,Ke.forEach((jt,Xt)=>{Xt.isValidDocument()||(_t=_t.add(jt))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ne,Ke)).next(et=>{Y=et;const jt=[];for(const Xt of T){const Ft=sr(Xt,Y.get(Xt.key).overlayedDocument);null!=Ft&&jt.push(new _n(Xt.key,Ft,lr(Ft.value.mapValue),ee.exists(!0)))}return b.mutationQueue.addMutationBatch(Ne,N,jt,T)}).next(et=>{he=et;const jt=et.applyToLocalDocumentSet(Y,_t);return b.documentOverlayCache.saveOverlays(Ne,et.batchId,jt)})}).then(()=>({batchId:he.batchId,changes:ds(Y)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(g,T,b){let N=g.xa[g.currentUser.toKey()];N||(N=new ir(at)),N=N.insert(T,b),g.xa[g.currentUser.toKey()]=N}(s,c.batchId,r),yield Io(s,c.changes),yield Mu(s.remoteStore)}catch(c){const h=ia(c,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function Rp(a,e){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,ae.Z)(function*(a,e){const r=oe(a);try{const s=yield function Qc(a,e){const r=oe(a),s=e.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const T=[];e.targetChanges.forEach(($,Y)=>{const he=c.get(Y);if(!he)return;T.push(r.Qr.removeMatchingKeys(h,$.removedDocuments,Y).next(()=>r.Qr.addMatchingKeys(h,$.addedDocuments,Y)));let Ne=he.withSequenceNumber(h.currentSequenceNumber);var _t,et,jt;null!==e.targetMismatches.get(Y)?Ne=Ne.withResumeToken(Vr.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):$.resumeToken.approximateByteSize()>0&&(Ne=Ne.withResumeToken($.resumeToken,s)),c=c.insert(Y,Ne),et=Ne,jt=$,(0===(_t=he).resumeToken.approximateByteSize()||et.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8||jt.addedDocuments.size+jt.modifiedDocuments.size+jt.removedDocuments.size>0)&&T.push(r.Qr.updateTargetData(h,Ne))});let b=$i(),N=fn();if(e.documentUpdates.forEach($=>{e.resolvedLimboDocuments.has($)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(h,$))}),T.push(function Au(a,e,r){let s=fn(),c=fn();return r.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let g=$i();return r.forEach((T,b)=>{const N=h.get(T);b.isFoundDocument()!==N.isFoundDocument()&&(c=c.add(T)),b.isNoDocument()&&b.version.isEqual(mt.min())?(e.removeEntry(T,b.readTime),g=g.insert(T,b)):!N.isValidDocument()||b.version.compareTo(N.version)>0||0===b.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(b),g=g.insert(T,b)):Ie("LocalStore","Ignoring outdated watch update for ",T,". Current version:",N.version," Watch version:",b.version)}),{cs:g,ls:c}})}(h,g,e.documentUpdates).next($=>{b=$.cs,N=$.ls})),!s.isEqual(mt.min())){const $=r.Qr.getLastRemoteSnapshotVersion(h).next(Y=>r.Qr.setTargetsMetadata(h,h.currentSequenceNumber,s));T.push($)}return pe.waitFor(T).next(()=>g.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,b,N)).next(()=>b)}).then(h=>(r.ns=c,h))}(r.localStore,e);e.targetChanges.forEach((c,h)=>{const g=r.Fa.get(h);g&&(_e(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.wa=!0:c.modifiedDocuments.size>0?_e(g.wa):c.removedDocuments.size>0&&(_e(g.wa),g.wa=!1))}),yield Io(r,s,e)}catch(s){yield Gr(s)}})).apply(this,arguments)}function Fm(a,e,r){const s=oe(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const c=[];s.ba.forEach((h,g)=>{const T=g.view.j_(e);T.snapshot&&c.push(T.snapshot)}),function(g,T){const b=oe(g);b.onlineState=T;let N=!1;b.queries.forEach(($,Y)=>{for(const he of Y.U_)he.j_(T)&&(N=!0)}),N&&L(b)}(s.eventManager,e),c.length&&s.Sa.h_(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function HI(a,e,r){return cl.apply(this,arguments)}function cl(){return(cl=(0,ae.Z)(function*(a,e,r){const s=oe(a);s.sharedClientState.updateQueryState(e,"rejected",r);const c=s.Fa.get(e),h=c&&c.key;if(h){let g=new ir(ft.comparator);g=g.insert(h,$n.newNoDocument(h,mt.min()));const T=fn().add(h),b=new ha(mt.min(),new Map,new ir(at),g,T);yield Rp(s,b),s.va=s.va.remove(h),s.Fa.delete(e),Od(s)}else yield Ta(s.localStore,e,!1).then(()=>mc(s,e,r)).catch(Gr)})).apply(this,arguments)}function Cy(a,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,ae.Z)(function*(a,e){const r=oe(a),s=e.batch.batchId;try{const c=yield function Du(a,e){const r=oe(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),h=r.os.newChangeBuffer({trackRemovals:!0});return function(T,b,N,$){const Y=N.batch,he=Y.keys();let Ne=pe.resolve();return he.forEach(Ke=>{Ne=Ne.next(()=>$.getEntry(b,Ke)).next(_t=>{const et=N.docVersions.get(Ke);_e(null!==et),_t.version.compareTo(et)<0&&(Y.applyToRemoteDocument(_t,N),_t.isValidDocument()&&(_t.setReadTime(N.commitVersion),$.addEntry(_t)))})}),Ne.next(()=>T.mutationQueue.removeMutationBatch(b,Y))}(r,s,e,h).next(()=>h.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(T){let b=fn();for(let N=0;N<T.mutationResults.length;++N)T.mutationResults[N].transformResults.length>0&&(b=b.add(T.batch.mutations[N].key));return b}(e))).next(()=>r.localDocuments.getDocuments(s,c))})}(r.localStore,e);gc(r,s,null),ll(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Io(r,c)}catch(c){yield Gr(c)}})).apply(this,arguments)}function Vm(a,e,r){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,ae.Z)(function*(a,e,r){const s=oe(a);try{const c=yield function(g,T){const b=oe(g);return b.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let $;return b.mutationQueue.lookupMutationBatch(N,T).next(Y=>(_e(null!==Y),$=Y.keys(),b.mutationQueue.removeMutationBatch(N,Y))).next(()=>b.mutationQueue.performConsistencyCheck(N)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(N,$,T)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,$)).next(()=>b.localDocuments.getDocuments(N,$))})}(s.localStore,e);gc(s,e,r),ll(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Io(s,c)}catch(c){yield Gr(c)}})).apply(this,arguments)}function ll(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function gc(a,e,r){const s=oe(a);let c=s.xa[s.currentUser.toKey()];if(c){const h=c.get(e);h&&(r?h.reject(r):h.resolve(),c=c.remove(e)),s.xa[s.currentUser.toKey()]=c}}function mc(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Da.get(e))a.ba.delete(s),r&&a.Sa.ka(s,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(s=>{a.Ma.containsKey(s)||ef(a,s)})}function ef(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(lc(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),Od(a))}function dl(a,e,r){for(const s of r)s instanceof wi?(a.Ma.addReference(s.key,e),Um(a,s)):s instanceof ao?(Ie("SyncEngine","Document no longer in limbo: "+s.key),a.Ma.removeReference(s.key,e),a.Ma.containsKey(s.key)||ef(a,s.key)):le()}function Um(a,e){const r=e.key,s=r.path.canonicalString();a.va.get(r)||a.Ca.has(s)||(Ie("SyncEngine","New document in limbo: "+r),a.Ca.add(s),Od(a))}function Od(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new ft(wt.fromString(e)),s=a.Na.next();a.Fa.set(s,new ku(r)),a.va=a.va.insert(r,s),Uh(a.remoteStore,new y(kn(xt(r.path)),s,"TargetPurposeLimboResolution",Nt.oe))}}function Io(a,e,r){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ae.Z)(function*(a,e,r){const s=oe(a),c=[],h=[],g=[];var T;s.ba.isEmpty()||(s.ba.forEach((T,b)=>{g.push(s.Ba(b,e,r).then(N=>{if((N||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(b.targetId,N&&!N.fromCache?"current":"not-current"),N){c.push(N);const $=oc.Ki(b.targetId,N);h.push($)}}))}),yield Promise.all(g),s.Sa.h_(c),yield(T=(0,ae.Z)(function*(N,$){const Y=oe(N);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",he=>pe.forEach($,Ne=>pe.forEach(Ne.qi,Ke=>Y.persistence.referenceDelegate.addReference(he,Ne.targetId,Ke)).next(()=>pe.forEach(Ne.Qi,Ke=>Y.persistence.referenceDelegate.removeReference(he,Ne.targetId,Ke)))))}catch(he){if(!z(he))throw he;Ie("LocalStore","Failed to update sequence numbers: "+he)}for(const he of $){const Ne=he.targetId;if(!he.fromCache){const Ke=Y.ns.get(Ne),et=Ke.withLastLimboFreeSnapshotVersion(Ke.snapshotVersion);Y.ns=Y.ns.insert(Ne,et)}}}),function b(N,$){return T.apply(this,arguments)})(s.localStore,h))}),Mp.apply(this,arguments)}function Bm(a,e){return xp.apply(this,arguments)}function xp(){return(xp=(0,ae.Z)(function*(a,e){const r=oe(a);if(!r.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const s=yield Nh(r.localStore,e);r.currentUser=e,(h=r).Oa.forEach(T=>{T.forEach(b=>{b.reject(new X(Q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Io(r,s.us)}var h})).apply(this,arguments)}function by(a,e){const r=oe(a),s=r.Fa.get(e);if(s&&s.wa)return fn().add(s.key);{let c=fn();const h=r.Da.get(e);if(!h)return c;for(const g of h){const T=r.ba.get(g);c=c.unionWith(T.view.Ea)}return c}}function kd(a){const e=oe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=by.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HI.bind(null,e),e.Sa.h_=p.bind(null,e.eventManager),e.Sa.ka=E.bind(null,e.eventManager),e}class af{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,ae.Z)(function*(){r.serializer=Ru(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return function wu(a,e,r,s){return new mp(a,e,r,s)}(this.persistence,new Ei,e.initialUser,this.serializer)}createPersistence(e){return new Iu(Tu.Hr,this.serializer)}createSharedClientState(e){return new md}terminate(){var e=this;return(0,ae.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gl{initialize(e,r){var s=this;return(0,ae.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>Fm(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=Bm.bind(null,s.syncEngine),yield _s(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new km}createDatastore(e){const r=Ru(e.databaseInfo.databaseId),s=new Ga(e.databaseInfo);return new Rm(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,c=this.datastore,h=e.asyncQueue,g=r=>Fm(this.syncEngine,r,0),T=Xc.D()?new Xc:new Lh,new Ip(s,c,h,g,T);var s,c,h,g,T}createSyncEngine(e,r){return function(c,h,g,T,b,N,$){const Y=new qh(c,h,g,T,b,N);return $&&(Y.La=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,ae.Z)(function*(){var r,s;yield(s=(0,ae.Z)(function*(h){const g=oe(h);Ie("RemoteStore","RemoteStore shutting down."),g.M_.add(5),yield tl(g),g.O_.shutdown(),g.N_.set("Unknown")}),function c(h){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}class Vu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Vt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class WI{constructor(e,r,s,c){var h=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=c,this.user=Je.UNAUTHENTICATED,this.clientId=or.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,ae.Z)(function*(T){Ie("FirestoreClient","Received user=",T.uid),yield h.authCredentialListener(T),h.user=T});return function(T){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Ie("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Be;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const c=ia(s,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Fp(a,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,ae.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var c=(0,ae.Z)(function*(h){s.isEqual(h)||(yield Nh(e.localStore,h),s=h)});return function(h){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Gm.apply(this,arguments)}function uf(a,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,ae.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function Up(a){return Bp.apply(this,arguments)}(a);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>Cp(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,c)=>Cp(e.remoteStore,c)),a._onlineComponents=e})).apply(this,arguments)}function Bp(){return(Bp=(0,ae.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fp(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function Wm(a){return"FirebaseError"===a.name?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}(r))throw r;pt("Error using user provided cache. Falling back to memory cache: "+r),yield Fp(a,new af)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield Fp(a,new af);return a._offlineComponents})).apply(this,arguments)}function ml(a){return sa.apply(this,arguments)}function sa(){return(sa=(0,ae.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield uf(a,a._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield uf(a,new gl))),a._onlineComponents})).apply(this,arguments)}function Ld(a){return qm.apply(this,arguments)}function qm(){return(qm=(0,ae.Z)(function*(a){const e=yield ml(a),r=e.eventManager;return r.onListen=Kh.bind(null,e.syncEngine),r.onUnlisten=xd.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Qh.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Ay.bind(null,e.syncEngine),r})).apply(this,arguments)}function Ym(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const yc=new Map;function Gp(a,e,r){if(!r)throw new X(Q.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Wp(a){if(!ft.isDocumentKey(a))throw new X(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qp(a){if(ft.isDocumentKey(a))throw new X(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function df(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":le()}function Yn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new X(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=df(a);throw new X(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class Xm{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new X(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new X(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function By(a,e,r,s){if(!0===e&&!0===s)throw new X(Q.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ym(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new X(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new X(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new X(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yl{constructor(e,r,s,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new X(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xm(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Et;switch(s.type){case"firstParty":return new ui(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new X(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=yc.get(r);s&&(Ie("ComponentProvider","Removing Datastore"),yc.delete(r),s.terminate())}(this),Promise.resolve()}}class xs{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Yr{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class uo extends xs{constructor(e,r,s){super(e,r,xt(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new ft(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function e_(a,e,...r){if(a=(0,ce.m9)(a),Gp("collection","path",e),a instanceof yl){const s=wt.fromString(e,...r);return qp(s),new uo(a,null,s)}{if(!(a instanceof Yr||a instanceof uo))throw new X(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(wt.fromString(e,...r));return qp(s),new uo(a.firestore,null,s)}}class n_{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new vd(this,"async_queue_retry"),this.hu=()=>{const r=yd();r&&Ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=yd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=yd();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Be;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,ae.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!z(r))throw r;Ie("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Vt("INTERNAL UNHANDLED ERROR: ",function(g){let T=g.message||"";return g.stack&&(T=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),T}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const c=Gi.createAndSchedule(this,e,r,s,h=>this.Eu(h));return this._u.push(c),c}Pu(){this.au&&le()}verifyOperationInProgress(){}du(){var e=this;return(0,ae.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function hf(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(a)}class Cr extends yl{constructor(e,r,s,c){super(e,r,s,c),this.type="firestore",this._queue=new n_,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zp(this),this._firestoreClient.terminate()}}function Qp(a,e){const r="object"==typeof a?a:(0,xe.Mq)(),s="string"==typeof a?a:e||"(default)",c=(0,xe.qX)(r,"firestore").getImmediate({identifier:s});if(!c._initialized){const h=(0,ce.P0)("firestore");h&&function KI(a,e,r,s={}){var c;const h=(a=Yn(a,yl))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&pt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),s.mockUserToken){let T,b;if("string"==typeof s.mockUserToken)T=s.mockUserToken,b=Je.MOCK_USER;else{T=(0,ce.Sg)(s.mockUserToken,null===(c=a._app)||void 0===c?void 0:c.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new X(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(N)}a._authCredentials=new Xe(new ht(T,b))}}(c,...h)}return c}function ai(a){return a._firestoreClient||Zp(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Zp(a){var e,r,s;const c=a._freezeSettings(),h=(b=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new lo(a._databaseId,b,a._persistenceKey,($=c).host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,Ym($.experimentalLongPollingOptions),$.useFetchStreams));var b,$;a._firestoreClient=new WI(a._authCredentials,a._appCheckCredentials,a._queue,h),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(Vr.fromBase64String(e))}catch(r){throw new X(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Lo(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Il{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new X(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class a_{constructor(e){this._methodName=e}}class Ud{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new X(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new X(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}const u_=/^__.*__$/;class Hy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new _n(e,this.data,this.fieldMask,r,this.fieldTransforms):new mr(e,this.data,r,this.fieldTransforms)}}function gf(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class eg{constructor(e,r,s,c,h,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===h&&this.mu(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.gu({path:s,yu:!1});return c.wu(e),c}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.gu({path:s,yu:!1});return c.mu(),c}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return wl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(gf(this.fu)&&u_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class XI{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Ru(e)}Fu(e,r,s,c=!1){return new eg({fu:e,methodName:r,vu:s,path:on.emptyPath(),yu:!1,Cu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function El(a){const e=a._freezeSettings(),r=Ru(a._databaseId);return new XI(a._databaseId,!!e.ignoreUndefinedProperties,r)}function tg(a,e,r,s,c,h={}){const g=a.Fu(h.merge||h.mergeFields?2:0,e,r,c);Hd("Data must be an object, but it was:",g,s);const T=$d(s,g);let b,N;if(h.merge)b=new ei(g.fieldMask),N=g.fieldTransforms;else if(h.mergeFields){const $=[];for(const Y of h.mergeFields){const he=Ec(e,Y,r);if(!g.contains(he))throw new X(Q.INVALID_ARGUMENT,`Field '${he}' is specified in your field mask but missing from your input data.`);Dl($,he)||$.push(he)}b=new ei($),N=g.fieldTransforms.filter(Y=>b.covers(Y.field))}else b=null,N=g.fieldTransforms;return new Hy(new Un(T),b,N)}function oa(a,e){if(Ic(a=(0,ce.m9)(a)))return Hd("Unsupported field value:",e,a),$d(a,e);if(a instanceof a_)return function(s,c){if(!gf(c.fu))throw c.Du(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Du(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,c){const h=[];let g=0;for(const T of s){let b=oa(T,c.bu(g));null==b&&(b={nullValue:"NULL_VALUE"}),h.push(b),g++}return{arrayValue:{values:h}}}(a,e)}return function(s,c){if(null===(s=(0,ce.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Pa(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=wn.fromDate(s);return{timestampValue:fa(c.serializer,h)}}if(s instanceof wn){const h=new wn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fa(c.serializer,h)}}if(s instanceof Ud)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Lo)return{bytesValue:xa(c.serializer,s._byteString)};if(s instanceof Yr){const h=c.databaseId,g=s.firestore._databaseId;if(!g.isEqual(h))throw c.Du(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Na(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.Du(`Unsupported field value: ${df(s)}`)}(a,e)}function $d(a,e){const r={};return Zr(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(a,(s,c)=>{const h=oa(c,e.pu(s));null!=h&&(r[s]=h)}),{mapValue:{fields:r}}}function Ic(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof wn||a instanceof Ud||a instanceof Lo||a instanceof Yr||a instanceof a_)}function Hd(a,e,r){if(!Ic(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=df(r);throw e.Du("an object"===s?a+" a custom object":a+" "+s)}var c}function Ec(a,e,r){if((e=(0,ce.m9)(e))instanceof Il)return e._internalPath;if("string"==typeof e)return rg(a,e);throw wl("Field path arguments must be of type string or ",a,!1,void 0,r)}const vf=new RegExp("[~\\*/\\[\\]]");function rg(a,e,r){if(e.search(vf)>=0)throw wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Il(...e.split("."))._internalPath}catch{throw wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function wl(a,e,r,s,c){const h=s&&!s.isEmpty(),g=void 0!==c;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let b="";return(h||g)&&(b+=" (found",h&&(b+=` in field ${s}`),g&&(b+=` in document ${c}`),b+=")"),new X(Q.INVALID_ARGUMENT,T+a+b)}function Dl(a,e){return a.some(r=>r.isEqual(e))}class ig{constructor(e,r,s,c,h){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new c_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class c_ extends ig{data(){return super.data()}}function If(a,e){return"string"==typeof e?rg(a,e):e instanceof Il?e._internalPath:e._delegate._internalPath}class Ky{convertValue(e,r="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw le()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return _i(e,(c,h)=>{s[c]=this.convertValue(h,r)}),s}convertGeoPoint(e){return new Ud(Ar(e.latitude),Ar(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=co(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(As(e));default:return null}}convertTimestamp(e){const r=Li(e);return new wn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=wt.fromString(e);_e(oo(s));const c=new Qi(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return c.isEqual(r)||Vt(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}class Uu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sl extends ig{constructor(e,r,s,c,h,g){super(e,r,s,c,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Ef extends Sl{data(e={}){return super.data(e)}}class wc{constructor(e,r,s,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new Uu(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Ef(this._firestore,this._userDataWriter,s.key,s,new Uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new X(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map(T=>({type:"added",doc:new Ef(c._firestore,c._userDataWriter,T.doc.key,T.doc,new Uu(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:g++}))}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(T=>h||3!==T.type).map(T=>{const b=new Ef(c._firestore,c._userDataWriter,T.doc.key,T.doc,new Uu(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter);let N=-1,$=-1;return 0!==T.type&&(N=g.indexOf(T.doc.key),g=g.delete(T.doc.key)),1!==T.type&&(g=g.add(T.doc),$=g.indexOf(T.doc.key)),{type:Yy(T.type),doc:b,oldIndex:N,newIndex:$}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Yy(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class Bu extends Ky{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,r)}}function pg(a,e){const r=Yn(a.firestore,Cr),s=function Kp(a,e,...r){if(a=(0,ce.m9)(a),1===arguments.length&&(e=or.newId()),Gp("doc","path",e),a instanceof yl){const s=wt.fromString(e,...r);return Wp(s),new Yr(a,null,new ft(s))}{if(!(a instanceof Yr||a instanceof uo))throw new X(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(wt.fromString(e,...r));return Wp(s),new Yr(a.firestore,a instanceof uo?a.converter:null,new ft(s))}}(a),c=function hg(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}(a.converter,e);return function Wd(a,e){return function(s,c){const h=new Be;return s.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function Lm(a,e,r){return qa.apply(this,arguments)}(yield function cf(a){return ml(a).then(e=>e.syncEngine)}(s),c,h)})),h.promise}(ai(a),e)}(r,[tg(El(a.firestore),"addDoc",s._key,c,null!==a.converter,{}).toMutation(s._key,ee.exists(!1))]).then(()=>s)}!function(e,r=!0){$t=xe.Jn,(0,xe.Xd)(new yt.wA("firestore",(s,{instanceIdentifier:c,options:h})=>{const g=s.getProvider("app").getImmediate(),T=new Cr(new tn(s.getProvider("auth-internal")),new wr(s.getProvider("app-check-internal")),function(N,$){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new X(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qi(N.options.projectId,$)}(g,c),g);return h=Object.assign({useFetchStreams:r},h),T._setSettings(h),T},"PUBLIC").setMultipleInstances(!0)),(0,xe.KN)(vt,"4.6.3",e),(0,xe.KN)(vt,"4.6.3","esm2017")}();var fE=Z(5592),yg=Z(7398),Yd=function(){return Yd=Object.assign||function(e){for(var r,s=1,c=arguments.length;s<c;s++)for(var h in r=arguments[s])Object.prototype.hasOwnProperty.call(r,h)&&(e[h]=r[h]);return e},Yd.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Df={includeMetadataChanges:!1};function Af(a,e){return void 0===e&&(e=Df),new fE.y(function(r){var s=function nv(a,...e){var r,s,c;a=(0,ce.m9)(a);let h={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||hf(e[g])||(h=e[g],g++);const T={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(hf(e[g])){const Y=e[g];e[g]=null===(r=Y.next)||void 0===r?void 0:r.bind(Y),e[g+1]=null===(s=Y.error)||void 0===s?void 0:s.bind(Y),e[g+2]=null===(c=Y.complete)||void 0===c?void 0:c.bind(Y)}let b,N,$;if(a instanceof Yr)N=Yn(a.firestore,Cr),$=xt(a._key.path),b={next:Y=>{e[g]&&e[g](function qd(a,e,r){const s=r.docs.get(e._key),c=new Bu(a);return new Sl(a,c,e._key,s,new Uu(r.hasPendingWrites,r.fromCache),e.converter)}(N,a,Y))},error:e[g+1],complete:e[g+2]};else{const Y=Yn(a,xs);N=Yn(Y.firestore,Cr),$=Y._query;const he=new Bu(N);b={next:Ne=>{e[g]&&e[g](new wc(N,he,Y,Ne))},error:e[g+1],complete:e[g+2]},function l_(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new X(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(a._query)}return function(he,Ne,Ke,_t){const et=new Vu(_t),jt=new Fe(Ne,et,Ke);return he.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function Md(a,e){return Wh.apply(this,arguments)}(yield Ld(he),jt)})),()=>{et.$a(),he.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function v(a,e){return l.apply(this,arguments)}(yield Ld(he),jt)}))}}(ai(N),$,T,b)}(a,e,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return{unsubscribe:s}})}function Dg(a,e){return void 0===e&&(e={}),function wg(a){return Af(a,{includeMetadataChanges:!0}).pipe((0,yg.U)(function(e){return e.docs}))}(a).pipe((0,yg.U)(function(r){return r.map(function(s){return function vg(a,e){var r;void 0===e&&(e={});var s=a.data(e);return a.exists()&&"object"==typeof s&&null!==s&&e.idField?Yd(Yd({},s),((r={})[e.idField]=a.id,r)):s}(s,e)})}))}class Jd{constructor(e){return e}}const Rf="firestore",Cg=new fe.OlP("angularfire2.firestore-instances");function _v(a){return(e,r)=>{const s=e.runOutsideAngular(()=>a(r));return new Jd(s)}}const yv={provide:class mv{constructor(){return(0,R.vb)(Rf)}},deps:[[new fe.FiY,Cg]]},vv={provide:Jd,useFactory:function S_(a,e){const r=(0,R.JM)(Rf,a,e);return r&&new Jd(r)},deps:[[new fe.FiY,Cg],He.Ot]};let Iv=(()=>{class a{constructor(){(0,ie.KN)("angularfire",R.q4.full,"fst")}static \u0275fac=function(s){return new(s||a)};static \u0275mod=fe.oAB({type:a});static \u0275inj=fe.cJS({providers:[vv,yv]})}return a})();function R_(a,...e){return{ngModule:Iv,providers:[{provide:Cg,useFactory:_v(a),multi:!0,deps:[fe.R0b,fe.zs3,R.HU,He.z6,[new fe.FiY,Ue.dh],[new fe.FiY,R.Rf],...e]}]}}const Tv=(0,R.u3)(Dg,!0),Dv=(0,R.u3)(pg,!0),Cv=(0,R.u3)(e_,!0),Xd=(0,R.u3)(Qp,!0)},5017:(Zt,tt,Z)=>{Z.d(tt,{cF:()=>ua,Vq:()=>ni,iH:()=>Zi,Ym:()=>zo,B0:()=>ou});var R=Z(4810),fe=Z(4946),He=Z(721),Ue=Z(90),ie=Z(3182),ae=Z(5861),xe=Z(534),yt=Z(9058),qe=Z(4537);const ce="firebasestorage.googleapis.com",de="storageBucket";class rt extends yt.ZR{constructor(V,re,ne=0){super(Wt(V),`Firebase Storage: ${re} (${Wt(V)})`),this.status_=ne,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(V){this.status_=V}_codeEquals(V){return Wt(V)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(V){this.customData.serverResponse=V,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pt=function(k){return k.UNKNOWN="unknown",k.OBJECT_NOT_FOUND="object-not-found",k.BUCKET_NOT_FOUND="bucket-not-found",k.PROJECT_NOT_FOUND="project-not-found",k.QUOTA_EXCEEDED="quota-exceeded",k.UNAUTHENTICATED="unauthenticated",k.UNAUTHORIZED="unauthorized",k.UNAUTHORIZED_APP="unauthorized-app",k.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",k.INVALID_CHECKSUM="invalid-checksum",k.CANCELED="canceled",k.INVALID_EVENT_NAME="invalid-event-name",k.INVALID_URL="invalid-url",k.INVALID_DEFAULT_BUCKET="invalid-default-bucket",k.NO_DEFAULT_BUCKET="no-default-bucket",k.CANNOT_SLICE_BLOB="cannot-slice-blob",k.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",k.NO_DOWNLOAD_URL="no-download-url",k.INVALID_ARGUMENT="invalid-argument",k.INVALID_ARGUMENT_COUNT="invalid-argument-count",k.APP_DELETED="app-deleted",k.INVALID_ROOT_OPERATION="invalid-root-operation",k.INVALID_FORMAT="invalid-format",k.INTERNAL_ERROR="internal-error",k.UNSUPPORTED_ENVIRONMENT="unsupported-environment",k}(Pt||{});function Wt(k){return"storage/"+k}function qt(){return new rt(Pt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function At(){return new rt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function St(){return new rt(Pt.CANCELED,"User canceled the upload/download.")}function In(){return new rt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vt(k){return new rt(Pt.INVALID_ARGUMENT,k)}function pt(){return new rt(Pt.APP_DELETED,"The Firebase app was deleted.")}function le(k,V){return new rt(Pt.INVALID_FORMAT,"String does not match format '"+k+"': "+V)}function _e(k){throw new rt(Pt.INTERNAL_ERROR,"Internal error: "+k)}class Ve{constructor(V,re){this.bucket=V,this.path_=re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const V=encodeURIComponent;return"/b/"+V(this.bucket)+"/o/"+V(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(V,re){let ne;try{ne=Ve.makeFromUrl(V,re)}catch{return new Ve(V,"")}if(""===ne.path)return ne;throw function Je(k){return new rt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+k+"'.")}(V)}static makeFromUrl(V,re){let ne=null;const Ee="([A-Za-z0-9.\\-_]+)",Ot=new RegExp("^gs://"+Ee+"(/(.*))?$","i");function pn(Pr){Pr.path_=decodeURIComponent(Pr.path)}const gr=re.replace(/[.]/g,"\\."),qn=[{regex:Ot,indices:{bucket:1,path:3},postModify:function ze(Pr){"/"===Pr.path.charAt(Pr.path.length-1)&&(Pr.path_=Pr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${gr}/v[A-Za-z0-9_]+/b/${Ee}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:pn},{regex:new RegExp(`^https?://${re===ce?"(?:storage.googleapis.com|storage.cloud.google.com)":re}/${Ee}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:pn}];for(let Pr=0;Pr<qn.length;Pr++){const Vs=qn[Pr],Us=Vs.regex.exec(V);if(Us){let bi=Us[Vs.indices.path];bi||(bi=""),ne=new Ve(Us[Vs.indices.bucket],bi),Vs.postModify(ne);break}}if(null==ne)throw function vt(k){return new rt(Pt.INVALID_URL,"Invalid URL '"+k+"'.")}(V);return ne}}class oe{constructor(V){this.promise_=Promise.reject(V)}getPromise(){return this.promise_}cancel(V=!1){}}function Xe(k){return"string"==typeof k||k instanceof String}function tn(k){return Qn()&&k instanceof Blob}function Qn(){return typeof Blob<"u"}function ui(k,V,re,ne){if(ne<V)throw Vt(`Invalid value for '${k}'. Expected ${V} or greater.`);if(ne>re)throw Vt(`Invalid value for '${k}'. Expected ${re} or less.`)}function Yt(k,V,re){let ne=V;return null==re&&(ne=`https://${V}`),`${re}://${ne}/v0${k}`}var xn=function(k){return k[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",k}(xn||{});function Or(k,V){const re=k>=500&&k<600,Ee=-1!==[408,429].indexOf(k),ze=-1!==V.indexOf(k);return re||Ee||ze}class or{constructor(V,re,ne,Ee,ze,gt,Ot,xt,pn,Hn,gr,kn=!0){this.url_=V,this.method_=re,this.headers_=ne,this.body_=Ee,this.successCodes_=ze,this.additionalRetryCodes_=gt,this.callback_=Ot,this.errorCallback_=xt,this.timeout_=pn,this.progressCallback_=Hn,this.connectionFactory_=gr,this.retry=kn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($r,Nr)=>{this.resolve_=$r,this.reject_=Nr,this.start_()})}start_(){const re=(ne,Ee)=>{const ze=this.resolve_,gt=this.reject_,Ot=Ee.connection;if(Ee.wasSuccessCode)try{const xt=this.callback_(Ot,Ot.getResponse());!function Be(k){return void 0!==k}(xt)?ze():ze(xt)}catch(xt){gt(xt)}else if(null!==Ot){const xt=qt();xt.serverResponse=Ot.getErrorText(),gt(this.errorCallback_?this.errorCallback_(Ot,xt):xt)}else gt(Ee.canceled?this.appDelete_?pt():St():At())};this.canceled_?re(0,new at(!1,null,!0)):this.backoffId_=function Q(k,V,re){let ne=1,Ee=null,ze=null,gt=!1,Ot=0;function xt(){return 2===Ot}let pn=!1;function Hn(...Er){pn||(pn=!0,V.apply(null,Er))}function gr(Er){Ee=setTimeout(()=>{Ee=null,k($r,xt())},Er)}function kn(){ze&&clearTimeout(ze)}function $r(Er,...di){if(pn)return void kn();if(Er)return kn(),void Hn.call(null,Er,...di);if(xt()||gt)return kn(),void Hn.call(null,Er,...di);let qn;ne<64&&(ne*=2),1===Ot?(Ot=2,qn=0):qn=1e3*(ne+Math.random()),gr(qn)}let Nr=!1;function li(Er){Nr||(Nr=!0,kn(),!pn&&(null!==Ee?(Er||(Ot=2),clearTimeout(Ee),gr(0)):Er||(Ot=1)))}return gr(0),ze=setTimeout(()=>{gt=!0,li(!0)},re),li}((ne,Ee)=>{if(Ee)return void ne(!1,new at(!1,null,!0));const ze=this.connectionFactory_();this.pendingConnection_=ze;const gt=Ot=>{null!==this.progressCallback_&&this.progressCallback_(Ot.loaded,Ot.lengthComputable?Ot.total:-1)};null!==this.progressCallback_&&ze.addUploadProgressListener(gt),ze.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ze.removeUploadProgressListener(gt),this.pendingConnection_=null;const Ot=ze.getErrorCode()===xn.NO_ERROR,xt=ze.getStatus();if(!Ot||Or(xt,this.additionalRetryCodes_)&&this.retry){const Hn=ze.getErrorCode()===xn.ABORT;return void ne(!1,new at(!1,null,Hn))}const pn=-1!==this.successCodes_.indexOf(xt);ne(!0,new at(pn,ze))})},re,this.timeout_)}getPromise(){return this.promise_}cancel(V){this.canceled_=!0,this.appDelete_=V||!1,null!==this.backoffId_&&function X(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class at{constructor(V,re,ne){this.wasSuccessCode=V,this.connection=re,this.canceled=!!ne}}function ln(...k){const V=function wt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==V){const re=new V;for(let ne=0;ne<k.length;ne++)re.append(k[ne]);return re.getBlob()}if(Qn())return new Blob(k);throw new rt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hr{constructor(V,re){this.data=V,this.contentType=re||null}}function gi(k){const V=[];for(let re=0;re<k.length;re++){let ne=k.charCodeAt(re);ne<=127?V.push(ne):ne<=2047?V.push(192|ne>>6,128|63&ne):55296==(64512&ne)?re<k.length-1&&56320==(64512&k.charCodeAt(re+1))?(ne=65536|(1023&ne)<<10|1023&k.charCodeAt(++re),V.push(240|ne>>18,128|ne>>12&63,128|ne>>6&63,128|63&ne)):V.push(239,191,189):56320==(64512&ne)?V.push(239,191,189):V.push(224|ne>>12,128|ne>>6&63,128|63&ne)}return new Uint8Array(V)}function wo(k,V){switch(k){case Ln.BASE64:{const Ee=-1!==V.indexOf("-"),ze=-1!==V.indexOf("_");if(Ee||ze)throw le(k,"Invalid character '"+(Ee?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const Ee=-1!==V.indexOf("+"),ze=-1!==V.indexOf("/");if(Ee||ze)throw le(k,"Invalid character '"+(Ee?"+":"/")+"' found: is it base64 encoded?");V=V.replace(/-/g,"+").replace(/_/g,"/");break}}let re;try{re=function ft(k){if(typeof atob>"u")throw function Ie(k){return new rt(Pt.UNSUPPORTED_ENVIRONMENT,`${k} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(k)}(V)}catch(Ee){throw Ee.message.includes("polyfill")?Ee:le(k,"Invalid character found")}const ne=new Uint8Array(re.length);for(let Ee=0;Ee<re.length;Ee++)ne[Ee]=re.charCodeAt(Ee);return ne}class Rt{constructor(V){this.base64=!1,this.contentType=null;const re=V.match(/^data:([^,]+)?,/);if(null===re)throw le(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ne=re[1]||null;null!=ne&&(this.base64=function Nn(k,V){return k.length>=V.length&&k.substring(k.length-V.length)===V}(ne,";base64"),this.contentType=this.base64?ne.substring(0,ne.length-7):ne),this.rest=V.substring(V.indexOf(",")+1)}}class On{constructor(V,re){let ne=0,Ee="";tn(V)?(this.data_=V,ne=V.size,Ee=V.type):V instanceof ArrayBuffer?(re?this.data_=new Uint8Array(V):(this.data_=new Uint8Array(V.byteLength),this.data_.set(new Uint8Array(V))),ne=this.data_.length):V instanceof Uint8Array&&(re?this.data_=V:(this.data_=new Uint8Array(V.length),this.data_.set(V)),ne=V.length),this.size_=ne,this.type_=Ee}size(){return this.size_}type(){return this.type_}slice(V,re){if(tn(this.data_)){const Ee=function on(k,V,re){return k.webkitSlice?k.webkitSlice(V,re):k.mozSlice?k.mozSlice(V,re):k.slice?k.slice(V,re):null}(this.data_,V,re);return null===Ee?null:new On(Ee)}{const ne=new Uint8Array(this.data_.buffer,V,re-V);return new On(ne,!0)}}static getBlob(...V){if(Qn()){const re=V.map(ne=>ne instanceof On?ne.data_:ne);return new On(ln.apply(null,re))}{const re=V.map(gt=>Xe(gt)?function Xn(k,V){switch(k){case Ln.RAW:return new hr(gi(V));case Ln.BASE64:case Ln.BASE64URL:return new hr(wo(k,V));case Ln.DATA_URL:return new hr(function qi(k){const V=new Rt(k);return V.base64?wo(Ln.BASE64,V.rest):function mn(k){let V;try{V=decodeURIComponent(k)}catch{throw le(Ln.DATA_URL,"Malformed data URL.")}return gi(V)}(V.rest)}(V),function Si(k){return new Rt(k).contentType}(V))}throw qt()}(Ln.RAW,gt).data:gt.data_);let ne=0;re.forEach(gt=>{ne+=gt.byteLength});const Ee=new Uint8Array(ne);let ze=0;return re.forEach(gt=>{for(let Ot=0;Ot<gt.length;Ot++)Ee[ze++]=gt[Ot]}),new On(Ee,!0)}}uploadData(){return this.data_}}function Ri(k){const V=k.lastIndexOf("/",k.length-2);return-1===V?k:k.slice(V+1)}function pe(k,V){return V}class rr{constructor(V,re,ne,Ee){this.server=V,this.local=re||V,this.writable=!!ne,this.xform=Ee||pe}}let ar=null;function ue(){if(ar)return ar;const k=[];k.push(new rr("bucket")),k.push(new rr("generation")),k.push(new rr("metageneration")),k.push(new rr("name","fullPath",!0));const re=new rr("name");re.xform=function V(ze,gt){return function Ki(k){return!Xe(k)||k.length<2?k:Ri(k)}(gt)},k.push(re);const Ee=new rr("size");return Ee.xform=function ne(ze,gt){return void 0!==gt?Number(gt):gt},k.push(Ee),k.push(new rr("timeCreated")),k.push(new rr("updated")),k.push(new rr("md5Hash",null,!0)),k.push(new rr("cacheControl",null,!0)),k.push(new rr("contentDisposition",null,!0)),k.push(new rr("contentEncoding",null,!0)),k.push(new rr("contentLanguage",null,!0)),k.push(new rr("contentType",null,!0)),k.push(new rr("metadata","customMetadata",!0)),ar=k,ar}function G(k,V,re){const ne=function Dr(k){let V;try{V=JSON.parse(k)}catch{return null}return function Et(k){return"object"==typeof k&&!Array.isArray(k)}(V)?V:null}(V);return null===ne?null:function z(k,V,re){const ne={type:"file"},Ee=re.length;for(let ze=0;ze<Ee;ze++){const gt=re[ze];ne[gt.local]=gt.xform(ne,V[gt.server])}return function H(k,V){Object.defineProperty(k,"ref",{get:function re(){const ze=new Ve(k.bucket,k.fullPath);return V._makeStorageReference(ze)}})}(ne,k),ne}(k,ne,re)}function De(k,V){const re={},ne=V.length;for(let Ee=0;Ee<ne;Ee++){const ze=V[Ee];ze.writable&&(re[ze.server]=k[ze.local])}return JSON.stringify(re)}class sn{constructor(V,re,ne,Ee){this.url=V,this.method=re,this.handler=ne,this.timeout=Ee,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ut(k){if(!k)throw qt()}function fr(k,V){return function re(ne,Ee){const ze=G(k,Ee,V);return Ut(null!==ze),ze}}function kr(k){return function V(re,ne){let Ee;return Ee=401===re.getStatus()?re.getErrorText().includes("Firebase App Check token is invalid")?function ot(){return new rt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ge(){return new rt(Pt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===re.getStatus()?function Gn(k){return new rt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+k+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(k.bucket):403===re.getStatus()?function Qe(k){return new rt(Pt.UNAUTHORIZED,"User does not have permission to access '"+k+"'.")}(k.path):ne,Ee.status=re.getStatus(),Ee.serverResponse=ne.serverResponse,Ee}}function Qr(k){const V=kr(k);return function re(ne,Ee){let ze=V(ne,Ee);return 404===ne.getStatus()&&(ze=function vn(k){return new rt(Pt.OBJECT_NOT_FOUND,"Object '"+k+"' does not exist.")}(k.path)),ze.serverResponse=Ee.serverResponse,ze}}function je(k,V,re){const ne=Object.assign({},re);return ne.fullPath=k.path,ne.size=V.size(),ne.contentType||(ne.contentType=function Ae(k,V){return k&&k.contentType||V&&V.type()||"application/octet-stream"}(null,V)),ne}class nn{constructor(V,re,ne,Ee){this.current=V,this.total=re,this.finalized=!!ne,this.metadata=Ee||null}}function rn(k,V){let re=null;try{re=k.getResponseHeader("X-Goog-Upload-Status")}catch{Ut(!1)}return Ut(!!re&&-1!==(V||["active"]).indexOf(re)),re}function ss(k){switch(k){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class $o{constructor(V,re,ne){if(function ht(k){return"function"==typeof k}(V)||null!=re||null!=ne)this.next=V,this.error=re??void 0,this.complete=ne??void 0;else{const ze=V;this.next=ze.next,this.error=ze.error,this.complete=ze.complete}}}function Ds(k){return(...V)=>{Promise.resolve().then(()=>k(...V))}}let Wn=null;class os{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xn.NO_ERROR,this.sendPromise_=new Promise(V=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xn.ABORT,V()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xn.NETWORK_ERROR,V()}),this.xhr_.addEventListener("load",()=>{V()})})}send(V,re,ne,Ee){if(this.sent_)throw _e("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(re,V,!0),void 0!==Ee)for(const ze in Ee)Ee.hasOwnProperty(ze)&&this.xhr_.setRequestHeader(ze,Ee[ze].toString());return void 0!==ne?this.xhr_.send(ne):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _e("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _e("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _e("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _e("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(V){return this.xhr_.getResponseHeader(V)}addUploadProgressListener(V){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",V)}removeUploadProgressListener(V){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",V)}}class Pi extends os{initXhr(){this.xhr_.responseType="text"}}function mi(){return Wn?Wn():new Pi}class Os{constructor(V,re,ne=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=V,this._blob=re,this._metadata=ne,this._mappings=ue(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ee=>{if(this._request=void 0,this._chunkMultiplier=1,Ee._codeEquals(Pt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const ze=this.isExponentialBackoffExpired();if(Or(Ee.status,[])){if(!ze)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ee=At()}this._error=Ee,this._transition("error")}},this._metadataErrorHandler=Ee=>{this._request=void 0,Ee._codeEquals(Pt.CANCELED)?this.completeTransitions_():(this._error=Ee,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ee,ze)=>{this._resolve=Ee,this._reject=ze,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const V=this._transferred;return re=>this._updateProgress(V+re)}_shouldDoResumable(V){return V.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(V){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([re,ne])=>{switch(this._state){case"running":V(re,ne);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((V,re)=>{const ne=function Kt(k,V,re,ne,Ee){const ze=V.bucketOnlyServerUrl(),gt=je(V,ne,Ee),Ot={name:gt.fullPath},xt=Yt(ze,k.host,k._protocol),Hn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ne.size()}`,"X-Goog-Upload-Header-Content-Type":gt.contentType,"Content-Type":"application/json; charset=utf-8"},gr=De(gt,re),Nr=new sn(xt,"POST",function $r(li){let Er;rn(li);try{Er=li.getResponseHeader("X-Goog-Upload-URL")}catch{Ut(!1)}return Ut(Xe(Er)),Er},k.maxUploadRetryTime);return Nr.urlParams=Ot,Nr.headers=Hn,Nr.body=gr,Nr.errorHandler=kr(V),Nr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ee=this._ref.storage._makeRequest(ne,mi,V,re);this._request=Ee,Ee.getPromise().then(ze=>{this._request=void 0,this._uploadUrl=ze,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const V=this._uploadUrl;this._resolveToken((re,ne)=>{const Ee=function jn(k,V,re,ne){const xt=new sn(re,"POST",function ze(pn){const Hn=rn(pn,["active","final"]);let gr=null;try{gr=pn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ut(!1)}gr||Ut(!1);const kn=Number(gr);return Ut(!isNaN(kn)),new nn(kn,ne.size(),"final"===Hn)},k.maxUploadRetryTime);return xt.headers={"X-Goog-Upload-Command":"query"},xt.errorHandler=kr(V),xt}(this._ref.storage,this._ref._location,V,this._blob),ze=this._ref.storage._makeRequest(Ee,mi,re,ne);this._request=ze,ze.getPromise().then(gt=>{this._request=void 0,this._updateProgress(gt.current),this._needToFetchStatus=!1,gt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const V=262144*this._chunkMultiplier,re=new nn(this._transferred,this._blob.size()),ne=this._uploadUrl;this._resolveToken((Ee,ze)=>{let gt;try{gt=function vr(k,V,re,ne,Ee,ze,gt,Ot){const xt=new nn(0,0);if(gt?(xt.current=gt.current,xt.total=gt.total):(xt.current=0,xt.total=ne.size()),ne.size()!==xt.total)throw function xr(){return new rt(Pt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const pn=xt.total-xt.current;let Hn=pn;Ee>0&&(Hn=Math.min(Hn,Ee));const gr=xt.current;let $r="";$r=0===Hn?"finalize":pn===Hn?"upload, finalize":"upload";const Nr={"X-Goog-Upload-Command":$r,"X-Goog-Upload-Offset":`${xt.current}`},li=ne.slice(gr,gr+Hn);if(null===li)throw In();const qn=new sn(re,"POST",function Er(Pr,Vs){const Us=rn(Pr,["active","final"]),Bs=xt.current+Hn,bi=ne.size();let Go;return Go="final"===Us?fr(V,ze)(Pr,Vs):null,new nn(Bs,bi,"final"===Us,Go)},V.maxUploadRetryTime);return qn.headers=Nr,qn.body=li.uploadData(),qn.progressCallback=Ot||null,qn.errorHandler=kr(k),qn}(this._ref._location,this._ref.storage,ne,this._blob,V,this._mappings,re,this._makeProgressCallback())}catch(xt){return this._error=xt,void this._transition("error")}const Ot=this._ref.storage._makeRequest(gt,mi,Ee,ze,!1);this._request=Ot,Ot.getPromise().then(xt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(xt.current),xt.finalized?(this._metadata=xt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((V,re)=>{const ne=function Xr(k,V,re){const Ee=Yt(V.fullServerUrl(),k.host,k._protocol),gt=k.maxOperationRetryTime,Ot=new sn(Ee,"GET",fr(k,re),gt);return Ot.errorHandler=Qr(V),Ot}(this._ref.storage,this._ref._location,this._mappings),Ee=this._ref.storage._makeRequest(ne,mi,V,re);this._request=Ee,Ee.getPromise().then(ze=>{this._request=void 0,this._metadata=ze,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((V,re)=>{const ne=function Ct(k,V,re,ne,Ee){const ze=V.bucketOnlyServerUrl(),gt={"X-Goog-Upload-Protocol":"multipart"},xt=function Ot(){let qn="";for(let Pr=0;Pr<2;Pr++)qn+=Math.random().toString().slice(2);return qn}();gt["Content-Type"]="multipart/related; boundary="+xt;const pn=je(V,ne,Ee),Hn=De(pn,re),$r=On.getBlob("--"+xt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Hn+"\r\n--"+xt+"\r\nContent-Type: "+pn.contentType+"\r\n\r\n",ne,"\r\n--"+xt+"--");if(null===$r)throw In();const Nr={name:pn.fullPath},li=Yt(ze,k.host,k._protocol),di=k.maxUploadRetryTime,hi=new sn(li,"POST",fr(k,re),di);return hi.urlParams=Nr,hi.headers=gt,hi.body=$r.uploadData(),hi.errorHandler=kr(V),hi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ee=this._ref.storage._makeRequest(ne,mi,V,re);this._request=Ee,Ee.getPromise().then(ze=>{this._request=void 0,this._metadata=ze,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(V){const re=this._transferred;this._transferred=V,this._transferred!==re&&this._notifyObservers()}_transition(V){if(this._state!==V)switch(V){case"canceling":case"pausing":this._state=V,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const re="paused"===this._state;this._state=V,re&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=V,this._notifyObservers();break;case"canceled":this._error=St(),this._state=V,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const V=ss(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:V,metadata:this._metadata,task:this,ref:this._ref}}on(V,re,ne,Ee){const ze=new $o(re||void 0,ne||void 0,Ee||void 0);return this._addObserver(ze),()=>{this._removeObserver(ze)}}then(V,re){return this._promise.then(V,re)}catch(V){return this.then(null,V)}_addObserver(V){this._observers.push(V),this._notifyObserver(V)}_removeObserver(V){const re=this._observers.indexOf(V);-1!==re&&this._observers.splice(re,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(re=>{this._notifyObserver(re)})}_finishPromise(){if(void 0!==this._resolve){let V=!0;switch(ss(this._state)){case"success":Ds(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":Ds(this._reject.bind(null,this._error))();break;default:V=!1}V&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(V){switch(ss(this._state)){case"running":case"paused":V.next&&Ds(V.next.bind(V,this.snapshot))();break;case"success":V.complete&&Ds(V.complete.bind(V))();break;default:V.error&&Ds(V.error.bind(V,this._error))()}}resume(){const V="paused"===this._state||"pausing"===this._state;return V&&this._transition("running"),V}pause(){const V="running"===this._state;return V&&this._transition("pausing"),V}cancel(){const V="running"===this._state||"pausing"===this._state;return V&&this._transition("canceling"),V}}class Zr{constructor(V,re){this._service=V,this._location=re instanceof Ve?re:Ve.makeFromUrl(re,V.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(V,re){return new Zr(V,re)}get root(){const V=new Ve(this._location.bucket,"");return this._newRef(this._service,V)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ri(this._location.path)}get storage(){return this._service}get parent(){const V=function Ht(k){if(0===k.length)return null;const V=k.lastIndexOf("/");return-1===V?"":k.slice(0,V)}(this._location.path);if(null===V)return null;const re=new Ve(this._location.bucket,V);return new Zr(this._service,re)}_throwIfRoot(V){if(""===this._location.path)throw function en(k){return new rt(Pt.INVALID_ROOT_OPERATION,"The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(V)}}function As(k,V){if(k instanceof Qs){const re=k;if(null==re._bucket)throw function $t(){return new rt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+de+"' property when initializing the app?")}();const ne=new Zr(re,re._bucket);return null!=V?As(ne,V):ne}return void 0!==V?function Fi(k,V){const re=function Gr(k,V){const re=V.split("/").filter(ne=>ne.length>0).join("/");return 0===k.length?re:k+"/"+re}(k._location.path,V),ne=new Ve(k._location.bucket,re);return new Zr(k.storage,ne)}(k,V):k}function Qi(k,V){const re=V?.[de];return null==re?null:Ve.makeFromBucketSpec(re,k)}class Qs{constructor(V,re,ne,Ee,ze){this.app=V,this._authProvider=re,this._appCheckProvider=ne,this._url=Ee,this._firebaseVersion=ze,this._bucket=null,this._host=ce,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ee?Ve.makeFromBucketSpec(Ee,this._host):Qi(this._host,this.app.options)}get host(){return this._host}set host(V){this._host=V,this._bucket=null!=this._url?Ve.makeFromBucketSpec(this._url,V):Qi(V,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(V){ui("time",0,Number.POSITIVE_INFINITY,V),this._maxUploadRetryTime=V}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(V){ui("time",0,Number.POSITIVE_INFINITY,V),this._maxOperationRetryTime=V}_getAuthToken(){var V=this;return(0,ae.Z)(function*(){if(V._overrideAuthToken)return V._overrideAuthToken;const re=V._authProvider.getImmediate({optional:!0});if(re){const ne=yield re.getToken();if(null!==ne)return ne.accessToken}return null})()}_getAppCheckToken(){var V=this;return(0,ae.Z)(function*(){const re=V._appCheckProvider.getImmediate({optional:!0});return re?(yield re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(V=>V.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(V){return new Zr(this,V)}_makeRequest(V,re,ne,Ee,ze=!0){if(this._deleted)return new oe(pt());{const gt=function yr(k,V,re,ne,Ee,ze,gt=!0){const Ot=function wr(k){const V=encodeURIComponent;let re="?";for(const ne in k)k.hasOwnProperty(ne)&&(re=re+(V(ne)+"=")+V(k[ne])+"&");return re=re.slice(0,-1),re}(k.urlParams),xt=k.url+Ot,pn=Object.assign({},k.headers);return function wn(k,V){V&&(k["X-Firebase-GMPID"]=V)}(pn,V),function Ai(k,V){null!==V&&V.length>0&&(k.Authorization="Firebase "+V)}(pn,re),function Jt(k,V){k["X-Firebase-Storage-Version"]="webjs/"+(V??"AppManager")}(pn,ze),function mt(k,V){null!==V&&(k["X-Firebase-AppCheck"]=V)}(pn,ne),new or(xt,k.method,pn,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,Ee,gt)}(V,this._appId,ne,Ee,re,this._firebaseVersion,ze);return this._requests.add(gt),gt.getPromise().then(()=>this._requests.delete(gt),()=>this._requests.delete(gt)),gt}}makeRequestWithTokens(V,re){var ne=this;return(0,ae.Z)(function*(){const[Ee,ze]=yield Promise.all([ne._getAuthToken(),ne._getAppCheckToken()]);return ne._makeRequest(V,re,Ee,ze).getPromise()})()}}const ti="@firebase/storage",Ui="storage";function Ci(k,V,re){return function Pn(k,V,re){return k._throwIfRoot("uploadBytesResumable"),new Os(k,new On(V),re)}(k=(0,yt.m9)(k),V,re)}function cs(k,V){return function Sa(k,V){k._throwIfRoot("updateMetadata");const re=function Fn(k,V,re,ne){const ze=Yt(V.fullServerUrl(),k.host,k._protocol),Ot=De(re,ne),pn=k.maxOperationRetryTime,Hn=new sn(ze,"PATCH",fr(k,ne),pn);return Hn.headers={"Content-Type":"application/json; charset=utf-8"},Hn.body=Ot,Hn.errorHandler=Qr(V),Hn}(k.storage,k._location,V,ue());return k.storage.makeRequestWithTokens(re,mi)}(k=(0,yt.m9)(k),V)}function pr(k,V){return function lo(k,V){if(V&&function Do(k){return/^[A-Za-z]+:\/\//.test(k)}(V)){if(k instanceof Qs)return function co(k,V){return new Zr(k,V)}(k,V);throw Vt("To use ref(service, url), the first argument must be a Storage instance.")}return As(k,V)}(k=(0,yt.m9)(k),V)}function un(k=(0,xe.Mq)(),V){k=(0,yt.m9)(k);const ne=(0,xe.qX)(k,Ui).getImmediate({identifier:V}),Ee=(0,yt.P0)("storage");return Ee&&function cr(k,V,re,ne={}){!function Vi(k,V,re,ne={}){k.host=`${V}:${re}`,k._protocol="http";const{mockUserToken:Ee}=ne;Ee&&(k._overrideAuthToken="string"==typeof Ee?Ee:(0,yt.Sg)(Ee,k.app.options.projectId))}(k,V,re,ne)}(ne,...Ee),ne}function Ur(k,{instanceIdentifier:V}){const re=k.getProvider("app").getImmediate(),ne=k.getProvider("auth-internal"),Ee=k.getProvider("app-check-internal");return new Qs(re,ne,Ee,V,xe.Jn)}!function Un(){(0,xe.Xd)(new qe.wA(Ui,Ur,"PUBLIC").setMultipleInstances(!0)),(0,xe.KN)(ti,"0.12.5",""),(0,xe.KN)(ti,"0.12.5","esm2017")}();class lr{constructor(V){return V}}const $n="storage",xi=new fe.OlP("angularfire2.storage-instances");function ls(k){return(V,re)=>{const ne=V.runOutsideAngular(()=>k(re));return new lr(ne)}}const Ir={provide:class Rr{constructor(){return(0,R.vb)($n)}},deps:[[new fe.FiY,xi]]},hn={provide:lr,useFactory:function ks(k,V){const re=(0,R.JM)($n,k,V);return re&&new lr(re)},deps:[[new fe.FiY,xi],He.Ot]};let Tn=(()=>{class k{constructor(){(0,ie.KN)("angularfire",R.q4.full,"gcs")}static \u0275fac=function(ne){return new(ne||k)};static \u0275mod=fe.oAB({type:k});static \u0275inj=fe.cJS({providers:[hn,Ir]})}return k})();function ni(k,...V){return{ngModule:Tn,providers:[{provide:xi,useFactory:ls(k),multi:!0,deps:[fe.R0b,fe.zs3,R.HU,He.z6,[new fe.FiY,Ue.dh],[new fe.FiY,R.Rf],...V]}]}}const ua=(0,R.u3)(un,!0),Zi=(0,R.u3)(pr,!0),zo=(0,R.u3)(cs,!0),ou=(0,R.u3)(Ci,!0)},4810:(Zt,tt,Z)=>{Z.d(tt,{q4:()=>Ge,HU:()=>xr,Rf:()=>St,vb:()=>At,JM:()=>Qe,u3:()=>oe});var R=Z(4946),fe=Z(3182),He=Z(7394);class Ue extends He.w0{constructor(X,Be){super()}schedule(X,Be=0){return this}}const ie={setInterval(Q,X,...Be){const{delegate:ht}=ie;return ht?.setInterval?ht.setInterval(Q,X,...Be):setInterval(Q,X,...Be)},clearInterval(Q){const{delegate:X}=ie;return(X?.clearInterval||clearInterval)(Q)},delegate:void 0};var ae=Z(9039);class xe extends Ue{constructor(X,Be){super(X,Be),this.scheduler=X,this.work=Be,this.pending=!1}schedule(X,Be=0){var ht;if(this.closed)return this;this.state=X;const Et=this.id,Xe=this.scheduler;return null!=Et&&(this.id=this.recycleAsyncId(Xe,Et,Be)),this.pending=!0,this.delay=Be,this.id=null!==(ht=this.id)&&void 0!==ht?ht:this.requestAsyncId(Xe,this.id,Be),this}requestAsyncId(X,Be,ht=0){return ie.setInterval(X.flush.bind(X,this),ht)}recycleAsyncId(X,Be,ht=0){if(null!=ht&&this.delay===ht&&!1===this.pending)return Be;null!=Be&&ie.clearInterval(Be)}execute(X,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ht=this._execute(X,Be);if(ht)return ht;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,Be){let Et,ht=!1;try{this.work(X)}catch(Xe){ht=!0,Et=Xe||new Error("Scheduled action threw falsy error")}if(ht)return this.unsubscribe(),Et}unsubscribe(){if(!this.closed){const{id:X,scheduler:Be}=this,{actions:ht}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ht,this),null!=X&&(this.id=this.recycleAsyncId(Be,X,null)),this.delay=null,super.unsubscribe()}}}const qe={now:()=>(qe.delegate||Date).now(),delegate:void 0};class ce{constructor(X,Be=ce.now){this.schedulerActionCtor=X,this.now=Be}schedule(X,Be=0,ht){return new this.schedulerActionCtor(this,X).schedule(ht,Be)}}ce.now=qe.now;class de extends ce{constructor(X,Be=ce.now){super(X,Be),this.actions=[],this._active=!1}flush(X){const{actions:Be}=this;if(this._active)return void Be.push(X);let ht;this._active=!0;do{if(ht=X.execute(X.state,X.delay))break}while(X=Be.shift());if(this._active=!1,ht){for(;X=Be.shift();)X.unsubscribe();throw ht}}}const lt=new class Se extends de{}(class yt extends xe{constructor(X,Be){super(X,Be),this.scheduler=X,this.work=Be}schedule(X,Be=0){return Be>0?super.schedule(X,Be):(this.delay=Be,this.state=X,this.scheduler.flush(this),this)}execute(X,Be){return Be>0||this.closed?super.execute(X,Be):this._execute(X,Be)}requestAsyncId(X,Be,ht=0){return null!=ht&&ht>0||null==ht&&this.delay>0?super.requestAsyncId(X,Be,ht):(X.flush(this),0)}}),rt=new de(xe);var Wt=Z(5592),qt=Z(9397),vn=Z(5137),Gn=Z(3093);const Ge=new R.GfV("ANGULARFIRE2_VERSION");function Qe(Q,X,Be){if(X){if(1===X.length)return X[0];const Xe=X.filter(tn=>tn.app===Be);if(1===Xe.length)return Xe[0]}return Be.container.getProvider(Q).getImmediate({optional:!0})}const At=(Q,X)=>{const Be=X?[X]:(0,fe.C6)(),ht=[];return Be.forEach(Et=>{Et.container.getProvider(Q).instances.forEach(tn=>{ht.includes(tn)||ht.push(tn)})}),ht};class St{constructor(){return At(vt)}}const vt="app-check";function Je(){}class $t{zone;delegate;constructor(X,Be=lt){this.zone=X,this.delegate=Be}now(){return this.delegate.now()}schedule(X,Be,ht){const Et=this.zone;return this.delegate.schedule(function(tn){Et.runGuarded(()=>{X.apply(this,[tn])})},Be,ht)}}class In{zone;task=null;constructor(X){this.zone=X}call(X,Be){const ht=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je)),Be.pipe((0,qt.b)({next:ht,complete:ht,error:ht})).subscribe(X).add(ht)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xr=(()=>{class Q{ngZone;outsideAngular;insideAngular;constructor(Be){this.ngZone=Be,this.outsideAngular=Be.runOutsideAngular(()=>new $t(Zone.current)),this.insideAngular=Be.run(()=>new $t(Zone.current,rt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ht){return new(ht||Q)(R.LFG(R.R0b))};static \u0275prov=R.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})();function ct(){const Q=globalThis.\u0275AngularFireScheduler;if(!Q)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Q}function Vt(Q){return ct().ngZone.run(()=>Q())}function le(Q){return function _e(Q){return function(Be){return(Be=Be.lift(new In(Q.ngZone))).pipe((0,vn.R)(Q.outsideAngular),(0,Gn.Q)(Q.insideAngular))}}(ct())(Q)}const Ve=(Q,X)=>function(){const ht=arguments;return X&&setTimeout(()=>{"scheduled"===X.state&&X.invoke()},10),Vt(()=>Q.apply(void 0,ht))},oe=(Q,X)=>function(){let Be;const ht=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof ht[Xe]&&(X&&(Be||=Vt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je))),ht[Xe]=Ve(ht[Xe],Be));const Et=function Ie(Q){return ct().ngZone.runOutsideAngular(()=>Q())}(()=>Q.apply(this,ht));if(!X){if(Et instanceof Wt.y){const Xe=ct();return Et.pipe((0,vn.R)(Xe.outsideAngular),(0,Gn.Q)(Xe.insideAngular))}return Vt(()=>Et)}return Et instanceof Wt.y?Et.pipe(le):Et instanceof Promise?Vt(()=>new Promise((Xe,tn)=>Et.then(Qn=>Vt(()=>Xe(Qn)),Qn=>Vt(()=>tn(Qn))))):"function"==typeof Et&&Be?function(){return setTimeout(()=>{Be&&"scheduled"===Be.state&&Be.invoke()},10),Et.apply(this,arguments)}:Vt(()=>Et)}},6593:(Zt,tt,Z)=>{Z.d(tt,{Dx:()=>Jt,b2:()=>xn,q6:()=>Qn});var R=Z(4946),fe=Z(6814);class He extends fe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ue extends He{static makeCurrent(){(0,fe.HT)(new Ue)}onAndCancel(z,G,q){return z.addEventListener(G,q),()=>{z.removeEventListener(G,q)}}dispatchEvent(z,G){z.dispatchEvent(G)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,G){return(G=G||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,G){return"window"===G?window:"document"===G?z:"body"===G?z.body:null}getBaseHref(z){const G=function ae(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==G?null:function yt(H){xe=xe||document.createElement("a"),xe.setAttribute("href",H);const z=xe.pathname;return"/"===z.charAt(0)?z:`/${z}`}(G)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,fe.Mx)(document.cookie,z)}}let xe,ie=null,ce=(()=>{class H{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(q){return new(q||H)};static#t=this.\u0275prov=R.Yz7({token:H,factory:H.\u0275fac})}return H})();const de=new R.OlP("EventManagerPlugins");let Se=(()=>{class H{constructor(G,q){this._zone=q,this._eventNameToPlugin=new Map,G.forEach(De=>{De.manager=this}),this._plugins=G.slice().reverse()}addEventListener(G,q,De){return this._findPluginFor(q).addEventListener(G,q,De)}getZone(){return this._zone}_findPluginFor(G){let q=this._eventNameToPlugin.get(G);if(q)return q;if(q=this._plugins.find(Ye=>Ye.supports(G)),!q)throw new R.vHH(5101,!1);return this._eventNameToPlugin.set(G,q),q}static#e=this.\u0275fac=function(q){return new(q||H)(R.LFG(de),R.LFG(R.R0b))};static#t=this.\u0275prov=R.Yz7({token:H,factory:H.\u0275fac})}return H})();class lt{constructor(z){this._doc=z}}const nt="ng-app-id";let rt=(()=>{class H{constructor(G,q,De,Ye={}){this.doc=G,this.appId=q,this.nonce=De,this.platformId=Ye,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,fe.PM)(Ye),this.resetHostNodes()}addStyles(G){for(const q of G)1===this.changeUsageCount(q,1)&&this.onStyleAdded(q)}removeStyles(G){for(const q of G)this.changeUsageCount(q,-1)<=0&&this.onStyleRemoved(q)}ngOnDestroy(){const G=this.styleNodesInDOM;G&&(G.forEach(q=>q.remove()),G.clear());for(const q of this.getAllStyles())this.onStyleRemoved(q);this.resetHostNodes()}addHost(G){this.hostNodes.add(G);for(const q of this.getAllStyles())this.addStyleToHost(G,q)}removeHost(G){this.hostNodes.delete(G)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(G){for(const q of this.hostNodes)this.addStyleToHost(q,G)}onStyleRemoved(G){const q=this.styleRef;q.get(G)?.elements?.forEach(De=>De.remove()),q.delete(G)}collectServerRenderedStyles(){const G=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if(G?.length){const q=new Map;return G.forEach(De=>{null!=De.textContent&&q.set(De.textContent,De)}),q}return null}changeUsageCount(G,q){const De=this.styleRef;if(De.has(G)){const Ye=De.get(G);return Ye.usage+=q,Ye.usage}return De.set(G,{usage:q,elements:[]}),q}getStyleElement(G,q){const De=this.styleNodesInDOM,Ye=De?.get(q);if(Ye?.parentNode===G)return De.delete(q),Ye.removeAttribute(nt),Ye;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=q,this.platformIsServer&&It.setAttribute(nt,this.appId),It}}addStyleToHost(G,q){const De=this.getStyleElement(G,q);G.appendChild(De);const Ye=this.styleRef,It=Ye.get(q)?.elements;It?It.push(De):Ye.set(q,{elements:[De],usage:1})}resetHostNodes(){const G=this.hostNodes;G.clear(),G.add(this.doc.head)}static#e=this.\u0275fac=function(q){return new(q||H)(R.LFG(fe.K0),R.LFG(R.AFp),R.LFG(R.Ojb,8),R.LFG(R.Lbi))};static#t=this.\u0275prov=R.Yz7({token:H,factory:H.\u0275fac})}return H})();const Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wt=/%COMP%/g,ot=new R.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function St(H,z){return z.map(G=>G.replace(Wt,H))}let vt=(()=>{class H{constructor(G,q,De,Ye,It,zt,Nt,sn=null){this.eventManager=G,this.sharedStylesHost=q,this.appId=De,this.removeStylesOnCompDestroy=Ye,this.doc=It,this.platformId=zt,this.ngZone=Nt,this.nonce=sn,this.rendererByCompId=new Map,this.platformIsServer=(0,fe.PM)(zt),this.defaultRenderer=new Je(G,It,Nt,this.platformIsServer)}createRenderer(G,q){if(!G||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===R.ifc.ShadowDom&&(q={...q,encapsulation:R.ifc.Emulated});const De=this.getOrCreateRenderer(G,q);return De instanceof Vt?De.applyToHost(G):De instanceof Ie&&De.applyStyles(),De}getOrCreateRenderer(G,q){const De=this.rendererByCompId;let Ye=De.get(q.id);if(!Ye){const It=this.doc,zt=this.ngZone,Nt=this.eventManager,sn=this.sharedStylesHost,Ut=this.removeStylesOnCompDestroy,fr=this.platformIsServer;switch(q.encapsulation){case R.ifc.Emulated:Ye=new Vt(Nt,sn,q,this.appId,Ut,It,zt,fr);break;case R.ifc.ShadowDom:return new ct(Nt,sn,G,q,It,zt,this.nonce,fr);default:Ye=new Ie(Nt,sn,q,Ut,It,zt,fr)}De.set(q.id,Ye)}return Ye}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(q){return new(q||H)(R.LFG(Se),R.LFG(rt),R.LFG(R.AFp),R.LFG(ot),R.LFG(fe.K0),R.LFG(R.Lbi),R.LFG(R.R0b),R.LFG(R.Ojb))};static#t=this.\u0275prov=R.Yz7({token:H,factory:H.\u0275fac})}return H})();class Je{constructor(z,G,q,De){this.eventManager=z,this.doc=G,this.ngZone=q,this.platformIsServer=De,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,G){return G?this.doc.createElementNS(Pt[G]||G,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,G){(xr(z)?z.content:z).appendChild(G)}insertBefore(z,G,q){z&&(xr(z)?z.content:z).insertBefore(G,q)}removeChild(z,G){z&&z.removeChild(G)}selectRootElement(z,G){let q="string"==typeof z?this.doc.querySelector(z):z;if(!q)throw new R.vHH(-5104,!1);return G||(q.textContent=""),q}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,G,q,De){if(De){G=De+":"+G;const Ye=Pt[De];Ye?z.setAttributeNS(Ye,G,q):z.setAttribute(G,q)}else z.setAttribute(G,q)}removeAttribute(z,G,q){if(q){const De=Pt[q];De?z.removeAttributeNS(De,G):z.removeAttribute(`${q}:${G}`)}else z.removeAttribute(G)}addClass(z,G){z.classList.add(G)}removeClass(z,G){z.classList.remove(G)}setStyle(z,G,q,De){De&(R.JOm.DashCase|R.JOm.Important)?z.style.setProperty(G,q,De&R.JOm.Important?"important":""):z.style[G]=q}removeStyle(z,G,q){q&R.JOm.DashCase?z.style.removeProperty(G):z.style[G]=""}setProperty(z,G,q){z[G]=q}setValue(z,G){z.nodeValue=G}listen(z,G,q){if("string"==typeof z&&!(z=(0,fe.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${G}`);return this.eventManager.addEventListener(z,G,this.decoratePreventDefault(q))}decoratePreventDefault(z){return G=>{if("__ngUnwrap__"===G)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z(G)):z(G))&&G.preventDefault()}}}function xr(H){return"TEMPLATE"===H.tagName&&void 0!==H.content}class ct extends Je{constructor(z,G,q,De,Ye,It,zt,Nt){super(z,Ye,It,Nt),this.sharedStylesHost=G,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=St(De.id,De.styles);for(const Ut of sn){const fr=document.createElement("style");zt&&fr.setAttribute("nonce",zt),fr.textContent=Ut,this.shadowRoot.appendChild(fr)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,G){return super.appendChild(this.nodeOrShadowRoot(z),G)}insertBefore(z,G,q){return super.insertBefore(this.nodeOrShadowRoot(z),G,q)}removeChild(z,G){return super.removeChild(this.nodeOrShadowRoot(z),G)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ie extends Je{constructor(z,G,q,De,Ye,It,zt,Nt){super(z,Ye,It,zt),this.sharedStylesHost=G,this.removeStylesOnCompDestroy=De,this.styles=Nt?St(Nt,q.styles):q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vt extends Ie{constructor(z,G,q,De,Ye,It,zt,Nt){const sn=De+"-"+q.id;super(z,G,q,Ye,It,zt,Nt,sn),this.contentAttr=function Qe(H){return"_ngcontent-%COMP%".replace(Wt,H)}(sn),this.hostAttr=function At(H){return"_nghost-%COMP%".replace(Wt,H)}(sn)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,G){const q=super.createElement(z,G);return super.setAttribute(q,this.contentAttr,""),q}}let pt=(()=>{class H extends lt{constructor(G){super(G)}supports(G){return!0}addEventListener(G,q,De){return G.addEventListener(q,De,!1),()=>this.removeEventListener(G,q,De)}removeEventListener(G,q,De){return G.removeEventListener(q,De)}static#e=this.\u0275fac=function(q){return new(q||H)(R.LFG(fe.K0))};static#t=this.\u0275prov=R.Yz7({token:H,factory:H.\u0275fac})}return H})();const en=["alt","control","meta","shift"],le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={alt:H=>H.altKey,control:H=>H.ctrlKey,meta:H=>H.metaKey,shift:H=>H.shiftKey};let Ve=(()=>{class H extends lt{constructor(G){super(G)}supports(G){return null!=H.parseEventName(G)}addEventListener(G,q,De){const Ye=H.parseEventName(q),It=H.eventCallback(Ye.fullKey,De,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,fe.q)().onAndCancel(G,Ye.domEventName,It))}static parseEventName(G){const q=G.toLowerCase().split("."),De=q.shift();if(0===q.length||"keydown"!==De&&"keyup"!==De)return null;const Ye=H._normalizeKey(q.pop());let It="",zt=q.indexOf("code");if(zt>-1&&(q.splice(zt,1),It="code."),en.forEach(sn=>{const Ut=q.indexOf(sn);Ut>-1&&(q.splice(Ut,1),It+=sn+".")}),It+=Ye,0!=q.length||0===Ye.length)return null;const Nt={};return Nt.domEventName=De,Nt.fullKey=It,Nt}static matchEventFullKeyCode(G,q){let De=le[G.key]||G.key,Ye="";return q.indexOf("code.")>-1&&(De=G.code,Ye="code."),!(null==De||!De)&&(De=De.toLowerCase()," "===De?De="space":"."===De&&(De="dot"),en.forEach(It=>{It!==De&&(0,_e[It])(G)&&(Ye+=It+".")}),Ye+=De,Ye===q)}static eventCallback(G,q,De){return Ye=>{H.matchEventFullKeyCode(Ye,G)&&De.runGuarded(()=>q(Ye))}}static _normalizeKey(G){return"esc"===G?"escape":G}static#e=this.\u0275fac=function(q){return new(q||H)(R.LFG(fe.K0))};static#t=this.\u0275prov=R.Yz7({token:H,factory:H.\u0275fac})}return H})();const Qn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:fe.bD},{provide:R.g9A,useValue:function ht(){Ue.makeCurrent()},multi:!0},{provide:fe.K0,useFactory:function Xe(){return(0,R.RDi)(document),document},deps:[]}]),ui=new R.OlP(""),Yt=[{provide:R.rWj,useClass:class qe{addToWindow(z){R.dqk.getAngularTestability=(q,De=!0)=>{const Ye=z.findTestabilityInTree(q,De);if(null==Ye)throw new R.vHH(5103,!1);return Ye},R.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(q=>{const De=R.dqk.getAllAngularTestabilities();let Ye=De.length,It=!1;const zt=function(Nt){It=It||Nt,Ye--,0==Ye&&q(It)};De.forEach(Nt=>{Nt.whenStable(zt)})})}findTestabilityInTree(z,G,q){return null==G?null:z.getTestability(G)??(q?(0,fe.q)().isShadowRoot(G)?this.findTestabilityInTree(z,G.host,!0):this.findTestabilityInTree(z,G.parentElement,!0):null)}},deps:[]},{provide:R.lri,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]}],wr=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function Et(){return new R.qLn},deps:[]},{provide:de,useClass:pt,multi:!0,deps:[fe.K0,R.R0b,R.Lbi]},{provide:de,useClass:Ve,multi:!0,deps:[fe.K0]},vt,rt,Se,{provide:R.FYo,useExisting:vt},{provide:fe.JF,useClass:ce,deps:[]},[]];let xn=(()=>{class H{constructor(G){}static withServerTransition(G){return{ngModule:H,providers:[{provide:R.AFp,useValue:G.appId}]}}static#e=this.\u0275fac=function(q){return new(q||H)(R.LFG(ui,12))};static#t=this.\u0275mod=R.oAB({type:H});static#n=this.\u0275inj=R.cJS({providers:[...wr,...Yt],imports:[fe.ez,R.hGG]})}return H})(),Jt=(()=>{class H{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}static#e=this.\u0275fac=function(q){return new(q||H)(R.LFG(fe.K0))};static#t=this.\u0275prov=R.Yz7({token:H,factory:function(q){let De=null;return De=q?new q:function Ai(){return new Jt((0,R.LFG)(fe.K0))}(),De},providedIn:"root"})}return H})();typeof window<"u"&&window},5920:(Zt,tt,Z)=>{Z.d(tt,{rH:()=>pi,Bz:()=>vi,lC:()=>bs});var R=Z(4946),fe=Z(5592),He=Z(4674),ie=Z(2459),ae=Z(2096),xe=Z(5619),yt=Z(7453),qe=Z(2737),ce=Z(7400),de=Z(4564),Se=Z(2714),lt=Z(8251),nt=Z(7103);function rt(...y){const D=(0,de.yG)(y),_=(0,de.jO)(y),{args:C,keys:M}=(0,yt.D)(y);if(0===C.length)return(0,ie.D)([],D);const j=new fe.y(function Pt(y,D,_=qe.y){return C=>{Wt(D,()=>{const{length:M}=y,j=new Array(M);let te=M,Me=M;for(let Re=0;Re<M;Re++)Wt(D,()=>{const Dt=(0,ie.D)(y[Re],D);let an=!1;Dt.subscribe((0,lt.x)(C,dr=>{j[Re]=dr,an||(an=!0,Me--),Me||C.next(_(j.slice()))},()=>{--te||C.complete()}))},C)},C)}}(C,D,M?te=>(0,Se.n)(M,te):qe.y));return _?j.pipe((0,ce.Z)(_)):j}function Wt(y,D,_){y?(0,nt.f)(_,y,D):D()}const vn=(0,Z(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Gn=Z(7537);function ot(...y){return function Ge(){return(0,Gn.J)(1)}()((0,ie.D)(y,(0,de.yG)(y)))}var Qe=Z(4829);function At(y){return new fe.y(D=>{(0,Qe.Xf)(y()).subscribe(D)})}var St=Z(8407);function vt(y,D){const _=(0,He.m)(y)?y:()=>y,C=M=>M.error(_());return new fe.y(D?M=>D.schedule(C,0,M):C)}var Je=Z(6232),$t=Z(7394),In=Z(9360);function xr(){return(0,In.e)((y,D)=>{let _=null;y._refCount++;const C=(0,lt.x)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const M=y._connection,j=_;_=null,M&&(!j||M===j)&&M.unsubscribe(),D.unsubscribe()});y.subscribe(C),C.closed||(_=y.connect())})}class ct extends fe.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,In.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new $t.w0;const _=this.getSubject();D.add(this.source.subscribe((0,lt.x)(_,void 0,()=>{this._teardown(),_.complete()},C=>{this._teardown(),_.error(C)},()=>this._teardown()))),D.closed&&(this._connection=null,D=$t.w0.EMPTY)}return D}refCount(){return xr()(this)}}var Ie=Z(8645),Vt=Z(6814),pt=Z(7398),en=Z(4664);function le(y){return y<=0?()=>Je.E:(0,In.e)((D,_)=>{let C=0;D.subscribe((0,lt.x)(_,M=>{++C<=y&&(_.next(M),y<=C&&_.complete())}))})}function Ve(y,D){return(0,In.e)((_,C)=>{let M=0;_.subscribe((0,lt.x)(C,j=>y.call(D,j,M++)&&C.next(j)))})}var oe=Z(1631);function Q(y){return(0,In.e)((D,_)=>{let C=!1;D.subscribe((0,lt.x)(_,M=>{C=!0,_.next(M)},()=>{C||_.next(y),_.complete()}))})}function X(y=Be){return(0,In.e)((D,_)=>{let C=!1;D.subscribe((0,lt.x)(_,M=>{C=!0,_.next(M)},()=>C?_.complete():_.error(y())))})}function Be(){return new vn}function ht(y,D){const _=arguments.length>=2;return C=>C.pipe(y?Ve((M,j)=>y(M,j,C)):qe.y,le(1),_?Q(D):X(()=>new vn))}function Et(y,D){return(0,He.m)(D)?(0,oe.z)(y,D,1):(0,oe.z)(y,1)}var Xe=Z(9397);function tn(y){return(0,In.e)((D,_)=>{let j,C=null,M=!1;C=D.subscribe((0,lt.x)(_,void 0,void 0,te=>{j=(0,Qe.Xf)(y(te,tn(y)(D))),C?(C.unsubscribe(),C=null,j.subscribe(_)):M=!0})),M&&(C.unsubscribe(),C=null,j.subscribe(_))})}function Yt(y){return y<=0?()=>Je.E:(0,In.e)((D,_)=>{let C=[];D.subscribe((0,lt.x)(_,M=>{C.push(M),y<C.length&&C.shift()},()=>{for(const M of C)_.next(M);_.complete()},void 0,()=>{C=null}))})}function Or(y){return(0,In.e)((D,_)=>{try{D.subscribe(_)}finally{_.add(y)}})}var or=Z(2420),Ai=Z(6593);const Jt="primary",wn=Symbol("RouteTitle");class mt{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function yr(y){return new mt(y)}function wt(y,D,_){const C=_.path.split("/");if(C.length>y.length||"full"===_.pathMatch&&(D.hasChildren()||C.length<y.length))return null;const M={};for(let j=0;j<C.length;j++){const te=C[j],Me=y[j];if(te.startsWith(":"))M[te.substring(1)]=Me;else if(te!==Me.path)return null}return{consumed:y.slice(0,C.length),posParams:M}}function on(y,D){const _=y?Object.keys(y):void 0,C=D?Object.keys(D):void 0;if(!_||!C||_.length!=C.length)return!1;let M;for(let j=0;j<_.length;j++)if(M=_[j],!ft(y[M],D[M]))return!1;return!0}function ft(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const _=[...y].sort(),C=[...D].sort();return _.every((M,j)=>C[j]===M)}return y===D}function Ln(y){return y.length>0?y[y.length-1]:null}function hr(y){return function Ue(y){return!!y&&(y instanceof fe.y||(0,He.m)(y.lift)&&(0,He.m)(y.subscribe))}(y)?y:(0,R.QGY)(y)?(0,ie.D)(Promise.resolve(y)):(0,ae.of)(y)}const Xn={exact:function Rt(y,D,_){if(!pe(y.segments,D.segments)||!On(y.segments,D.segments,_)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const C in D.children)if(!y.children[C]||!Rt(y.children[C],D.children[C],_))return!1;return!0},subset:Si},gi={exact:function wo(y,D){return on(y,D)},subset:function qi(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(_=>ft(y[_],D[_]))},ignored:()=>!0};function mn(y,D,_){return Xn[_.paths](y.root,D.root,_.matrixParams)&&gi[_.queryParams](y.queryParams,D.queryParams)&&!("exact"===_.fragment&&y.fragment!==D.fragment)}function Si(y,D,_){return Nn(y,D,D.segments,_)}function Nn(y,D,_,C){if(y.segments.length>_.length){const M=y.segments.slice(0,_.length);return!(!pe(M,_)||D.hasChildren()||!On(M,_,C))}if(y.segments.length===_.length){if(!pe(y.segments,_)||!On(y.segments,_,C))return!1;for(const M in D.children)if(!y.children[M]||!Si(y.children[M],D.children[M],C))return!1;return!0}{const M=_.slice(0,y.segments.length),j=_.slice(y.segments.length);return!!(pe(y.segments,M)&&On(y.segments,M,C)&&y.children[Jt])&&Nn(y.children[Jt],D,j,C)}}function On(y,D,_){return D.every((C,M)=>gi[_](y[M].parameters,C.parameters))}class Dr{constructor(D=new Ht([],{}),_={},C=null){this.root=D,this.queryParams=_,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return ue.serialize(this)}}class Ht{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Object.values(_).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return H(this)}}class Gr{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=yr(this.parameters)),this._parameterMap}toString(){return Nt(this)}}function pe(y,D){return y.length===D.length&&y.every((_,C)=>_.path===D[C].path)}let ar=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:function(){return new Ki},providedIn:"root"})}return y})();class Ki{parse(D){const _=new qs(D);return new Dr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${z(D.root,!0)}`,C=function Ut(y){const D=Object.keys(y).map(_=>{const C=y[_];return Array.isArray(C)?C.map(M=>`${q(_)}=${q(M)}`).join("&"):`${q(_)}=${q(C)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${C}${"string"==typeof D.fragment?`#${function De(y){return encodeURI(y)}(D.fragment)}`:""}`}}const ue=new Ki;function H(y){return y.segments.map(D=>Nt(D)).join("/")}function z(y,D){if(!y.hasChildren())return H(y);if(D){const _=y.children[Jt]?z(y.children[Jt],!1):"",C=[];return Object.entries(y.children).forEach(([M,j])=>{M!==Jt&&C.push(`${M}:${z(j,!1)}`)}),C.length>0?`${_}(${C.join("//")})`:_}{const _=function rr(y,D){let _=[];return Object.entries(y.children).forEach(([C,M])=>{C===Jt&&(_=_.concat(D(M,C)))}),Object.entries(y.children).forEach(([C,M])=>{C!==Jt&&(_=_.concat(D(M,C)))}),_}(y,(C,M)=>M===Jt?[z(y.children[Jt],!1)]:[`${M}:${z(C,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Jt]?`${H(y)}/${_[0]}`:`${H(y)}/(${_.join("//")})`}}function G(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function q(y){return G(y).replace(/%3B/gi,";")}function Ye(y){return G(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function It(y){return decodeURIComponent(y)}function zt(y){return It(y.replace(/\+/g,"%20"))}function Nt(y){return`${Ye(y.path)}${function sn(y){return Object.keys(y).map(D=>`;${Ye(D)}=${Ye(y[D])}`).join("")}(y.parameters)}`}const fr=/^[^\/()?;#]+/;function er(y){const D=y.match(fr);return D?D[0]:""}const is=/^[^\/()?;=#]+/,Qr=/^[^=?&#]+/,ws=/^[^&#]+/;class qs{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(C[Jt]=new Ht(D,_)),C}parseSegment(){const D=er(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new R.vHH(4009,!1);return this.capture(D),new Gr(It(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=function kr(y){const D=y.match(is);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const M=er(this.remaining);M&&(C=M,this.capture(C))}D[It(_)]=It(C)}parseQueryParam(D){const _=function Xr(y){const D=y.match(Qr);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const te=function br(y){const D=y.match(ws);return D?D[0]:""}(this.remaining);te&&(C=te,this.capture(C))}const M=zt(_),j=zt(C);if(D.hasOwnProperty(M)){let te=D[M];Array.isArray(te)||(te=[te],D[M]=te),te.push(j)}else D[M]=j}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=er(this.remaining),M=this.remaining[C.length];if("/"!==M&&")"!==M&&";"!==M)throw new R.vHH(4010,!1);let j;C.indexOf(":")>-1?(j=C.slice(0,C.indexOf(":")),this.capture(j),this.capture(":")):D&&(j=Jt);const te=this.parseChildren();_[j]=1===Object.keys(te).length?te[Jt]:new Ht([],te),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new R.vHH(4011,!1)}}function Fn(y){return y.segments.length>0?new Ht([],{[Jt]:y}):y}function Le(y){const D={};for(const C of Object.keys(y.children)){const j=Le(y.children[C]);if(C===Jt&&0===j.segments.length&&j.hasChildren())for(const[te,Me]of Object.entries(j.children))D[te]=Me;else(j.segments.length>0||j.hasChildren())&&(D[C]=j)}return function Ae(y){if(1===y.numberOfChildren&&y.children[Jt]){const D=y.children[Jt];return new Ht(y.segments.concat(D.segments),D.children)}return y}(new Ht(y.segments,D))}function je(y){return y instanceof Dr}function nn(y){let D;const M=Fn(function _(j){const te={};for(const Re of j.children){const Dt=_(Re);te[Re.outlet]=Dt}const Me=new Ht(j.url,te);return j===y&&(D=Me),Me}(y.root));return D??M}function rn(y,D,_,C){let M=y;for(;M.parent;)M=M.parent;if(0===D.length)return Rn(M,M,M,_,C);const j=function Sr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new En(!0,0,y);let D=0,_=!1;const C=y.reduce((M,j,te)=>{if("object"==typeof j&&null!=j){if(j.outlets){const Me={};return Object.entries(j.outlets).forEach(([Re,Dt])=>{Me[Re]="string"==typeof Dt?Dt.split("/"):Dt}),[...M,{outlets:Me}]}if(j.segmentPath)return[...M,j.segmentPath]}return"string"!=typeof j?[...M,j]:0===te?(j.split("/").forEach((Me,Re)=>{0==Re&&"."===Me||(0==Re&&""===Me?_=!0:".."===Me?D++:""!=Me&&M.push(Me))}),M):[...M,j]},[]);return new En(_,D,C)}(D);if(j.toRoot())return Rn(M,M,new Ht([],{}),_,C);const te=function $o(y,D,_){if(y.isAbsolute)return new ss(D,!0,0);if(!_)return new ss(D,!1,NaN);if(null===_.parent)return new ss(_,!0,0);const C=Kt(y.commands[0])?0:1;return function Ds(y,D,_){let C=y,M=D,j=_;for(;j>M;){if(j-=M,C=C.parent,!C)throw new R.vHH(4005,!1);M=C.segments.length}return new ss(C,!1,M-j)}(_,_.segments.length-1+C,y.numberOfDoubleDots)}(j,M,y),Me=te.processChildren?Pi(te.segmentGroup,te.index,j.commands):os(te.segmentGroup,te.index,j.commands);return Rn(M,te.segmentGroup,Me,_,C)}function Kt(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function jn(y){return"object"==typeof y&&null!=y&&y.outlets}function Rn(y,D,_,C,M){let te,j={};C&&Object.entries(C).forEach(([Re,Dt])=>{j[Re]=Array.isArray(Dt)?Dt.map(an=>`${an}`):`${Dt}`}),te=y===D?_:vr(y,D,_);const Me=Fn(Le(te));return new Dr(Me,j,M)}function vr(y,D,_){const C={};return Object.entries(y.children).forEach(([M,j])=>{C[M]=j===D?_:vr(j,D,_)}),new Ht(y.segments,C)}class En{constructor(D,_,C){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=C,D&&C.length>0&&Kt(C[0]))throw new R.vHH(4003,!1);const M=C.find(jn);if(M&&M!==Ln(C))throw new R.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ss{constructor(D,_,C){this.segmentGroup=D,this.processChildren=_,this.index=C}}function os(y,D,_){if(y||(y=new Ht([],{})),0===y.segments.length&&y.hasChildren())return Pi(y,D,_);const C=function mi(y,D,_){let C=0,M=D;const j={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(C>=_.length)return j;const te=y.segments[M],Me=_[C];if(jn(Me))break;const Re=`${Me}`,Dt=C<_.length-1?_[C+1]:null;if(M>0&&void 0===Re)break;if(Re&&Dt&&"object"==typeof Dt&&void 0===Dt.outlets){if(!_i(Re,Dt,te))return j;C+=2}else{if(!_i(Re,{},te))return j;C++}M++}return{match:!0,pathIndex:M,commandIndex:C}}(y,D,_),M=_.slice(C.commandIndex);if(C.match&&C.pathIndex<y.segments.length){const j=new Ht(y.segments.slice(0,C.pathIndex),{});return j.children[Jt]=new Ht(y.segments.slice(C.pathIndex),y.children),Pi(j,0,M)}return C.match&&0===M.length?new Ht(y.segments,{}):C.match&&!y.hasChildren()?as(y,D,_):C.match?Pi(y,0,M):as(y,D,_)}function Pi(y,D,_){if(0===_.length)return new Ht(y.segments,{});{const C=function Wn(y){return jn(y[0])?y[0].outlets:{[Jt]:y}}(_),M={};if(Object.keys(C).some(j=>j!==Jt)&&y.children[Jt]&&1===y.numberOfChildren&&0===y.children[Jt].segments.length){const j=Pi(y.children[Jt],D,_);return new Ht(y.segments,j.children)}return Object.entries(C).forEach(([j,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(M[j]=os(y.children[j],D,te))}),Object.entries(y.children).forEach(([j,te])=>{void 0===C[j]&&(M[j]=te)}),new Ht(y.segments,M)}}function as(y,D,_){const C=y.segments.slice(0,D);let M=0;for(;M<_.length;){const j=_[M];if(jn(j)){const Re=Lr(j.outlets);return new Ht(C,Re)}if(0===M&&Kt(_[0])){C.push(new Gr(y.segments[D].path,Ho(_[0]))),M++;continue}const te=jn(j)?j.outlets[Jt]:`${j}`,Me=M<_.length-1?_[M+1]:null;te&&Me&&Kt(Me)?(C.push(new Gr(te,Ho(Me))),M+=2):(C.push(new Gr(te,{})),M++)}return new Ht(C,{})}function Lr(y){const D={};return Object.entries(y).forEach(([_,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(D[_]=as(new Ht([],{}),0,C))}),D}function Ho(y){const D={};return Object.entries(y).forEach(([_,C])=>D[_]=`${C}`),D}function _i(y,D,_){return y==_.path&&on(D,_.parameters)}const Os="imperative";class Zr{constructor(D,_){this.id=D,this.url=_}}class ir extends Zr{constructor(D,_,C="imperative",M=null){super(D,_),this.type=0,this.navigationTrigger=C,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mi extends Zr{constructor(D,_,C){super(D,_),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vn extends Zr{constructor(D,_,C,M){super(D,_),this.reason=C,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pn extends Zr{constructor(D,_,C,M){super(D,_),this.reason=C,this.code=M,this.type=16}}class Fr extends Zr{constructor(D,_,C,M){super(D,_),this.error=C,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class us extends Zr{constructor(D,_,C,M){super(D,_),this.urlAfterRedirects=C,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ei extends Zr{constructor(D,_,C,M){super(D,_),this.urlAfterRedirects=C,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ks extends Zr{constructor(D,_,C,M,j){super(D,_),this.urlAfterRedirects=C,this.state=M,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ba extends Zr{constructor(D,_,C,M){super(D,_),this.urlAfterRedirects=C,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends Zr{constructor(D,_,C,M){super(D,_),this.urlAfterRedirects=C,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sa{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Li{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ar{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class co{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(D,_,C){this.routerEvent=D,this.position=_,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lo{}class Qi{constructor(D){this.url=D}}class Qs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ti,this.attachRef=null}}let ti=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,C){const M=this.getOrCreateContext(_);M.outlet=C,this.contexts.set(_,M)}onChildOutletDestroyed(_){const C=this.getContext(_);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let C=this.getContext(_);return C||(C=new Qs,this.contexts.set(_,C)),C}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class yi{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=Ui(D,this._root);return _?_.children.map(C=>C.value):[]}firstChild(D){const _=Ui(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=dn(D,this._root);return _.length<2?[]:_[_.length-2].children.map(M=>M.value).filter(M=>M!==D)}pathFromRoot(D){return dn(D,this._root).map(_=>_.value)}}function Ui(y,D){if(y===D.value)return D;for(const _ of D.children){const C=Ui(y,_);if(C)return C}return null}function dn(y,D){if(y===D.value)return[D];for(const _ of D.children){const C=dn(y,_);if(C.length)return C.unshift(D),C}return[]}class ur{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function tr(y){const D={};return y&&y.children.forEach(_=>D[_.value.outlet]=_),D}class Ci extends yi{constructor(D,_){super(D),this.snapshot=_,Tt(this,D)}toString(){return this.snapshot.toString()}}function ci(y,D){const _=function cs(y,D){const te=new Zs([],{},{},"",{},Jt,D,null,{});return new pr("",new ur(te,[]))}(0,D),C=new xe.X([new Gr("",{})]),M=new xe.X({}),j=new xe.X({}),te=new xe.X({}),Me=new xe.X(""),Re=new Cs(C,M,te,Me,j,Jt,D,_.root);return Re.snapshot=_.root,new Ci(new ur(Re,[]),_)}class Cs{constructor(D,_,C,M,j,te,Me,Re){this.urlSubject=D,this.paramsSubject=_,this.queryParamsSubject=C,this.fragmentSubject=M,this.dataSubject=j,this.outlet=te,this.component=Me,this._futureSnapshot=Re,this.title=this.dataSubject?.pipe((0,pt.U)(Dt=>Dt[wn]))??(0,ae.of)(void 0),this.url=D,this.params=_,this.queryParams=C,this.fragment=M,this.data=j}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(D=>yr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(D=>yr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bi(y,D="emptyOnly"){const _=y.pathFromRoot;let C=0;if("always"!==D)for(C=_.length-1;C>=1;){const M=_[C],j=_[C-1];if(M.routeConfig&&""===M.routeConfig.path)C--;else{if(j.component)break;C--}}return function Ra(y){return y.reduce((D,_)=>({params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(C))}class Zs{get title(){return this.data?.[wn]}constructor(D,_,C,M,j,te,Me,Re,Dt){this.url=D,this.params=_,this.queryParams=C,this.fragment=M,this.data=j,this.outlet=te,this.component=Me,this.routeConfig=Re,this._resolve=Dt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pr extends yi{constructor(D,_){super(_),this.url=D,Tt(this,_)}toString(){return un(this._root)}}function Tt(y,D){D.value._routerState=y,D.children.forEach(_=>Tt(y,_))}function un(y){const D=y.children.length>0?` { ${y.children.map(un).join(", ")} } `:"";return`${y.value}${D}`}function cr(y){if(y.snapshot){const D=y.snapshot,_=y._futureSnapshot;y.snapshot=_,on(D.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),D.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),on(D.params,_.params)||y.paramsSubject.next(_.params),function ln(y,D){if(y.length!==D.length)return!1;for(let _=0;_<y.length;++_)if(!on(y[_],D[_]))return!1;return!0}(D.url,_.url)||y.urlSubject.next(_.url),on(D.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function ji(y,D){const _=on(y.params,D.params)&&function Ri(y,D){return pe(y,D)&&y.every((_,C)=>on(_.parameters,D[C].parameters))}(y.url,D.url);return _&&!(!y.parent!=!D.parent)&&(!y.parent||ji(y.parent,D.parent))}let bs=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.attachEvents=new R.vpe,this.detachEvents=new R.vpe,this.parentContexts=(0,R.f3M)(ti),this.location=(0,R.f3M)(R.s_b),this.changeDetector=(0,R.f3M)(R.sBO),this.environmentInjector=(0,R.f3M)(R.lqb),this.inputBinder=(0,R.f3M)(Un,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:C,previousValue:M}=_.name;if(C)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,C){this.activated=_,this._activatedRoute=C,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,C){if(this.isActivated)throw new R.vHH(4013,!1);this._activatedRoute=_;const M=this.location,te=_.snapshot.component,Me=this.parentContexts.getOrCreateContext(this.name).children,Re=new Ur(_,Me,M.injector);this.activated=M.createComponent(te,{index:M.length,injector:Re,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275dir=R.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[R.TTD]})}return y})();class Ur{constructor(D,_,C){this.route=D,this.childContexts=_,this.parent=C}get(D,_){return D===Cs?this.route:D===ti?this.childContexts:this.parent.get(D,_)}}const Un=new R.OlP("");let lr=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:C}=_,M=rt([C.queryParams,C.params,C.data]).pipe((0,en.w)(([j,te,Me],Re)=>(Me={...j,...te,...Me},0===Re?(0,ae.of)(Me):Promise.resolve(Me)))).subscribe(j=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(_);const te=(0,R.qFp)(C.component);if(te)for(const{templateName:Me}of te.inputs)_.activatedComponentRef.setInput(Me,j[Me]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,M)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac})}return y})();function Rr(y,D,_){if(_&&y.shouldReuseRoute(D.value,_.value.snapshot)){const C=_.value;C._futureSnapshot=D.value;const M=function cn(y,D,_){return D.children.map(C=>{for(const M of _.children)if(y.shouldReuseRoute(C.value,M.value.snapshot))return Rr(y,C,M);return Rr(y,C)})}(y,D,_);return new ur(C,M)}{if(y.shouldAttach(D.value)){const j=y.retrieve(D.value);if(null!==j){const te=j.route;return te.value._futureSnapshot=D.value,te.children=D.children.map(Me=>Rr(y,Me)),te}}const C=function xi(y){return new Cs(new xe.X(y.url),new xe.X(y.params),new xe.X(y.queryParams),new xe.X(y.fragment),new xe.X(y.data),y.outlet,y.component,y)}(D.value),M=D.children.map(j=>Rr(y,j));return new ur(C,M)}}const ks="ngNavigationCancelingError";function ls(y,D){const{redirectTo:_,navigationBehaviorOptions:C}=je(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,M=Ir(!1,0,D);return M.url=_,M.navigationBehaviorOptions=C,M}function Ir(y,D,_){const C=new Error("NavigationCancelingError: "+(y||""));return C[ks]=!0,C.cancellationCode=D,_&&(C.url=_),C}function Tn(y){return y&&y[ks]}let ni=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275cmp=R.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[R.jDz],decls:1,vars:0,template:function(C,M){1&C&&R._UZ(0,"router-outlet")},dependencies:[bs],encapsulation:2})}return y})();function ho(y){const D=y.children&&y.children.map(ho),_=D?{...y,children:D}:{...y};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==Jt&&(_.component=ni),_}function Br(y){return y.outlet||Jt}function Zi(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class ou{constructor(D,_,C,M,j){this.routeReuseStrategy=D,this.futureState=_,this.currState=C,this.forwardEvent=M,this.inputBindingEnabled=j}activate(D){const _=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,C,D),cr(this.futureState.root),this.activateChildRoutes(_,C,D)}deactivateChildRoutes(D,_,C){const M=tr(_);D.children.forEach(j=>{const te=j.value.outlet;this.deactivateRoutes(j,M[te],C),delete M[te]}),Object.values(M).forEach(j=>{this.deactivateRouteAndItsChildren(j,C)})}deactivateRoutes(D,_,C){const M=D.value,j=_?_.value:null;if(M===j)if(M.component){const te=C.getContext(M.outlet);te&&this.deactivateChildRoutes(D,_,te.children)}else this.deactivateChildRoutes(D,_,C);else j&&this.deactivateRouteAndItsChildren(_,C)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const C=_.getContext(D.value.outlet),M=C&&D.value.component?C.children:_,j=tr(D);for(const te of Object.keys(j))this.deactivateRouteAndItsChildren(j[te],M);if(C&&C.outlet){const te=C.outlet.detach(),Me=C.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:te,route:D,contexts:Me})}}deactivateRouteAndOutlet(D,_){const C=_.getContext(D.value.outlet),M=C&&D.value.component?C.children:_,j=tr(D);for(const te of Object.keys(j))this.deactivateRouteAndItsChildren(j[te],M);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(D,_,C){const M=tr(_);D.children.forEach(j=>{this.activateRoutes(j,M[j.value.outlet],C),this.forwardEvent(new co(j.value.snapshot))}),D.children.length&&this.forwardEvent(new Fi(D.value.snapshot))}activateRoutes(D,_,C){const M=D.value,j=_?_.value:null;if(cr(M),M===j)if(M.component){const te=C.getOrCreateContext(M.outlet);this.activateChildRoutes(D,_,te.children)}else this.activateChildRoutes(D,_,C);else if(M.component){const te=C.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Me=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),te.children.onOutletReAttached(Me.contexts),te.attachRef=Me.componentRef,te.route=Me.route.value,te.outlet&&te.outlet.attach(Me.componentRef,Me.route.value),cr(Me.route.value),this.activateChildRoutes(D,null,te.children)}else{const Me=Zi(M.snapshot);te.attachRef=null,te.route=M,te.injector=Me,te.outlet&&te.outlet.activateWith(M,te.injector),this.activateChildRoutes(D,null,te.children)}}else this.activateChildRoutes(D,null,C)}}class Wr{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class k{constructor(D,_){this.component=D,this.route=_}}function V(y,D,_){const C=y._root;return Ee(C,D?D._root:null,_,[C.value])}function ne(y,D){const _=Symbol(),C=D.get(y,_);return C===_?"function"!=typeof y||(0,R.Z0I)(y)?D.get(y):y:C}function Ee(y,D,_,C,M={canDeactivateChecks:[],canActivateChecks:[]}){const j=tr(D);return y.children.forEach(te=>{(function ze(y,D,_,C,M={canDeactivateChecks:[],canActivateChecks:[]}){const j=y.value,te=D?D.value:null,Me=_?_.getContext(y.value.outlet):null;if(te&&j.routeConfig===te.routeConfig){const Re=function gt(y,D,_){if("function"==typeof _)return _(y,D);switch(_){case"pathParamsChange":return!pe(y.url,D.url);case"pathParamsOrQueryParamsChange":return!pe(y.url,D.url)||!on(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(y,D)||!on(y.queryParams,D.queryParams);default:return!ji(y,D)}}(te,j,j.routeConfig.runGuardsAndResolvers);Re?M.canActivateChecks.push(new Wr(C)):(j.data=te.data,j._resolvedData=te._resolvedData),Ee(y,D,j.component?Me?Me.children:null:_,C,M),Re&&Me&&Me.outlet&&Me.outlet.isActivated&&M.canDeactivateChecks.push(new k(Me.outlet.component,te))}else te&&Ot(D,Me,M),M.canActivateChecks.push(new Wr(C)),Ee(y,null,j.component?Me?Me.children:null:_,C,M)})(te,j[te.value.outlet],_,C.concat([te.value]),M),delete j[te.value.outlet]}),Object.entries(j).forEach(([te,Me])=>Ot(Me,_.getContext(te),M)),M}function Ot(y,D,_){const C=tr(y),M=y.value;Object.entries(C).forEach(([j,te])=>{Ot(te,M.component?D?D.children.getContext(j):null:D,_)}),_.canDeactivateChecks.push(new k(M.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,M))}function xt(y){return"function"==typeof y}function di(y){return y instanceof vn||"EmptyError"===y?.name}const hi=Symbol("INITIAL_VALUE");function qn(){return(0,en.w)(y=>rt(y.map(D=>D.pipe(le(1),function _e(...y){const D=(0,de.yG)(y);return(0,In.e)((_,C)=>{(D?ot(y,_,D):ot(y,_)).subscribe(C)})}(hi)))).pipe((0,pt.U)(D=>{for(const _ of D)if(!0!==_){if(_===hi)return hi;if(!1===_||_ instanceof Dr)return _}return!0}),Ve(D=>D!==hi),le(1)))}function ds(y){return(0,St.z)((0,Xe.b)(D=>{if(je(D))throw ls(0,D)}),(0,pt.U)(D=>!0===D))}class Wo{constructor(D){this.segmentGroup=D||null}}class Mr{constructor(D){this.urlTree=D}}function hs(y){return vt(new Wo(y))}function Ni(y){return vt(new Mr(y))}class qo{constructor(D,_){this.urlSerializer=D,this.urlTree=_}noMatchError(D){return new R.vHH(4002,!1)}lineralizeSegments(D,_){let C=[],M=_.root;for(;;){if(C=C.concat(M.segments),0===M.numberOfChildren)return(0,ae.of)(C);if(M.numberOfChildren>1||!M.children[Jt])return vt(new R.vHH(4e3,!1));M=M.children[Jt]}}applyRedirectCommands(D,_,C){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,C)}applyRedirectCreateUrlTree(D,_,C,M){const j=this.createSegmentGroup(D,_.root,C,M);return new Dr(j,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const C={};return Object.entries(D).forEach(([M,j])=>{if("string"==typeof j&&j.startsWith(":")){const Me=j.substring(1);C[M]=_[Me]}else C[M]=j}),C}createSegmentGroup(D,_,C,M){const j=this.createSegments(D,_.segments,C,M);let te={};return Object.entries(_.children).forEach(([Me,Re])=>{te[Me]=this.createSegmentGroup(D,Re,C,M)}),new Ht(j,te)}createSegments(D,_,C,M){return _.map(j=>j.path.startsWith(":")?this.findPosParam(D,j,M):this.findOrReturn(j,C))}findPosParam(D,_,C){const M=C[_.path.substring(1)];if(!M)throw new R.vHH(4001,!1);return M}findOrReturn(D,_){let C=0;for(const M of _){if(M.path===D.path)return _.splice(C),M;C++}return D}}const da={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Co(y,D,_,C,M){const j=Pa(y,D,_);return j.matched?(C=function Ls(y,D){return y.providers&&!y._injector&&(y._injector=(0,R.MMx)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,C),function Rs(y,D,_,C){const M=D.canMatch;if(!M||0===M.length)return(0,ae.of)(!0);const j=M.map(te=>{const Me=ne(te,y);return hr(function Nr(y){return y&&xt(y.canMatch)}(Me)?Me.canMatch(D,_):y.runInContext(()=>Me(D,_)))});return(0,ae.of)(j).pipe(qn(),ds())}(C,D,_).pipe((0,pt.U)(te=>!0===te?j:{...da}))):(0,ae.of)(j)}function Pa(y,D,_){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||_.length>0)?{...da}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const M=(D.matcher||wt)(_,y,D);if(!M)return{...da};const j={};Object.entries(M.posParams??{}).forEach(([Me,Re])=>{j[Me]=Re.path});const te=M.consumed.length>0?{...j,...M.consumed[M.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:M.consumed,remainingSegments:_.slice(M.consumed.length),parameters:te,positionalParamSegments:M.posParams??{}}}function eo(y,D,_,C){return _.length>0&&function Ku(y,D,_){return _.some(C=>fs(y,D,C)&&Br(C)!==Jt)}(y,_,C)?{segmentGroup:new Ht(D,Ma(C,new Ht(_,y.children))),slicedSegments:[]}:0===_.length&&function to(y,D,_){return _.some(C=>fs(y,D,C))}(y,_,C)?{segmentGroup:new Ht(y.segments,au(y,0,_,C,y.children)),slicedSegments:_}:{segmentGroup:new Ht(y.segments,y.children),slicedSegments:_}}function au(y,D,_,C,M){const j={};for(const te of C)if(fs(y,_,te)&&!M[Br(te)]){const Me=new Ht([],{});j[Br(te)]=Me}return{...M,...j}}function Ma(y,D){const _={};_[Jt]=D;for(const C of y)if(""===C.path&&Br(C)!==Jt){const M=new Ht([],{});_[Br(C)]=M}return _}function fs(y,D,_){return(!(y.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}class Ms{constructor(D,_,C,M,j,te,Me){this.injector=D,this.configLoader=_,this.rootComponentType=C,this.config=M,this.urlTree=j,this.paramsInheritanceStrategy=te,this.urlSerializer=Me,this.allowRedirects=!0,this.applyRedirects=new qo(this.urlSerializer,this.urlTree)}noMatchError(D){return new R.vHH(4002,!1)}recognize(){const D=eo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Jt).pipe(tn(_=>{if(_ instanceof Mr)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Wo?this.noMatchError(_):_}),(0,pt.U)(_=>{const C=new Zs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),M=new ur(C,_),j=new pr("",M),te=function Ct(y,D,_=null,C=null){return rn(nn(y),D,_,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return te.queryParams=this.urlTree.queryParams,j.url=this.urlSerializer.serialize(te),this.inheritParamsAndData(j._root),{state:j,tree:te}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,Jt).pipe(tn(C=>{throw C instanceof Wo?this.noMatchError(C):C}))}inheritParamsAndData(D){const _=D.value,C=Bi(_,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data),D.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(D,_,C,M){return 0===C.segments.length&&C.hasChildren()?this.processChildren(D,_,C):this.processSegment(D,_,C,C.segments,M,!0)}processChildren(D,_,C){const M=[];for(const j of Object.keys(C.children))"primary"===j?M.unshift(j):M.push(j);return(0,ie.D)(M).pipe(Et(j=>{const te=C.children[j],Me=function ca(y,D){const _=y.filter(C=>Br(C)===D);return _.push(...y.filter(C=>Br(C)!==D)),_}(_,j);return this.processSegmentGroup(D,Me,te,j)}),function ui(y,D){return(0,In.e)(function Qn(y,D,_,C,M){return(j,te)=>{let Me=_,Re=D,Dt=0;j.subscribe((0,lt.x)(te,an=>{const dr=Dt++;Re=Me?y(Re,an,dr):(Me=!0,an),C&&te.next(Re)},M&&(()=>{Me&&te.next(Re),te.complete()})))}}(y,D,arguments.length>=2,!0))}((j,te)=>(j.push(...te),j)),Q(null),function wr(y,D){const _=arguments.length>=2;return C=>C.pipe(y?Ve((M,j)=>y(M,j,C)):qe.y,Yt(1),_?Q(D):X(()=>new vn))}(),(0,oe.z)(j=>{if(null===j)return hs(C);const te=U(j);return function Wl(y){y.sort((D,_)=>D.value.outlet===Jt?-1:_.value.outlet===Jt?1:D.value.outlet.localeCompare(_.value.outlet))}(te),(0,ae.of)(te)}))}processSegment(D,_,C,M,j,te){return(0,ie.D)(_).pipe(Et(Me=>this.processSegmentAgainstRoute(Me._injector??D,_,Me,C,M,j,te).pipe(tn(Re=>{if(Re instanceof Wo)return(0,ae.of)(null);throw Re}))),ht(Me=>!!Me),tn(Me=>{if(di(Me))return function Ps(y,D,_){return 0===D.length&&!y.children[_]}(C,M,j)?(0,ae.of)([]):hs(C);throw Me}))}processSegmentAgainstRoute(D,_,C,M,j,te,Me){return function fo(y,D,_,C){return!!(Br(y)===C||C!==Jt&&fs(D,_,y))&&("**"===y.path||Pa(D,y,_).matched)}(C,M,j,te)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(D,M,C,j,te,Me):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,M,_,C,j,te):hs(M):hs(M)}expandSegmentAgainstRouteUsingRedirect(D,_,C,M,j,te){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,M,te):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,C,M,j,te)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,C,M){const j=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Ni(j):this.applyRedirects.lineralizeSegments(C,j).pipe((0,oe.z)(te=>{const Me=new Ht(te,{});return this.processSegment(D,_,Me,te,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,C,M,j,te){const{matched:Me,consumedSegments:Re,remainingSegments:Dt,positionalParamSegments:an}=Pa(_,M,j);if(!Me)return hs(_);const dr=this.applyRedirects.applyRedirectCommands(Re,M.redirectTo,an);return M.redirectTo.startsWith("/")?Ni(dr):this.applyRedirects.lineralizeSegments(M,dr).pipe((0,oe.z)(Kn=>this.processSegment(D,C,_,Kn.concat(Dt),te,!1)))}matchSegmentAgainstRoute(D,_,C,M,j,te){let Me;if("**"===C.path){const Re=M.length>0?Ln(M).parameters:{},Dt=new Zs(M,Re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(C),Br(C),C.component??C._loadedComponent??null,C,ee(C));Me=(0,ae.of)({snapshot:Dt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Me=Co(_,C,M,D).pipe((0,pt.U)(({matched:Re,consumedSegments:Dt,remainingSegments:an,parameters:dr})=>Re?{snapshot:new Zs(Dt,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(C),Br(C),C.component??C._loadedComponent??null,C,ee(C)),consumedSegments:Dt,remainingSegments:an}:null));return Me.pipe((0,en.w)(Re=>null===Re?hs(_):this.getChildConfig(D=C._injector??D,C,M).pipe((0,en.w)(({routes:Dt})=>{const an=C._loadedInjector??D,{snapshot:dr,consumedSegments:Kn,remainingSegments:gs}=Re,{segmentGroup:ma,slicedSegments:Po}=eo(_,Kn,gs,Dt);if(0===Po.length&&ma.hasChildren())return this.processChildren(an,Dt,ma).pipe((0,pt.U)(_o=>null===_o?null:[new ur(dr,_o)]));if(0===Dt.length&&0===Po.length)return(0,ae.of)([new ur(dr,[])]);const hu=Br(C)===j;return this.processSegment(an,Dt,ma,Po,hu?Jt:j,!0).pipe((0,pt.U)(_o=>[new ur(dr,_o)]))}))))}getChildConfig(D,_,C){return _.children?(0,ae.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,ae.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function js(y,D,_,C){const M=D.canLoad;if(void 0===M||0===M.length)return(0,ae.of)(!0);const j=M.map(te=>{const Me=ne(te,y);return hr(function Hn(y){return y&&xt(y.canLoad)}(Me)?Me.canLoad(D,_):y.runInContext(()=>Me(D,_)))});return(0,ae.of)(j).pipe(qn(),ds())}(D,_,C).pipe((0,oe.z)(M=>M?this.configLoader.loadChildren(D,_).pipe((0,Xe.b)(j=>{_._loadedRoutes=j.routes,_._loadedInjector=j.injector})):function qu(y){return vt(Ir(!1,3))}())):(0,ae.of)({routes:[],injector:D})}}function w(y){const D=y.value.routeConfig;return D&&""===D.path}function U(y){const D=[],_=new Set;for(const C of y){if(!w(C)){D.push(C);continue}const M=D.find(j=>C.value.routeConfig===j.value.routeConfig);void 0!==M?(M.children.push(...C.children),_.add(M)):D.push(C)}for(const C of _){const M=U(C.children);D.push(new ur(C.value,M))}return D.filter(C=>!_.has(C))}function F(y){return y.data||{}}function ee(y){return y.resolve||{}}function gn(y){return"string"==typeof y.title||null===y.title}function mr(y){return(0,en.w)(D=>{const _=y(D);return _?(0,ie.D)(_).pipe((0,pt.U)(()=>D)):(0,ae.of)(D)})}const _n=new R.OlP("ROUTES");let qr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,R.f3M)(R.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,ae.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const C=hr(_.loadComponent()).pipe((0,pt.U)(Oi),(0,Xe.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=j}),Or(()=>{this.componentLoaders.delete(_)})),M=new ct(C,()=>new Ie.x).pipe(xr());return this.componentLoaders.set(_,M),M}loadChildren(_,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,ae.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const j=function no(y,D,_,C){return hr(y.loadChildren()).pipe((0,pt.U)(Oi),(0,oe.z)(M=>M instanceof R.YKP||Array.isArray(M)?(0,ae.of)(M):(0,ie.D)(D.compileModuleAsync(M))),(0,pt.U)(M=>{C&&C(y);let j,te,Me=!1;return Array.isArray(M)?(te=M,!0):(j=M.create(_).injector,te=j.get(_n,[],{optional:!0,self:!0}).flat()),{routes:te.map(ho),injector:j}}))}(C,this.compiler,_,this.onLoadEndListener).pipe(Or(()=>{this.childrenLoaders.delete(C)})),te=new ct(j,()=>new Ie.x).pipe(xr());return this.childrenLoaders.set(C,te),te}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Oi(y){return function ps(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let fi=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ie.x,this.transitionAbortSubject=new Ie.x,this.configLoader=(0,R.f3M)(qr),this.environmentInjector=(0,R.f3M)(R.lqb),this.urlSerializer=(0,R.f3M)(ar),this.rootContexts=(0,R.f3M)(ti),this.inputBindingEnabled=null!==(0,R.f3M)(Un,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new Li(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new Sa(M))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:C})}setupNavigations(_,C,M){return this.transitions=new xe.X({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:_.urlHandlingStrategy.extract(C),urlAfterRedirects:_.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Os,restoredState:null,currentSnapshot:M.snapshot,targetSnapshot:null,currentRouterState:M,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ve(j=>0!==j.id),(0,pt.U)(j=>({...j,extractedUrl:_.urlHandlingStrategy.extract(j.rawUrl)})),(0,en.w)(j=>{this.currentTransition=j;let te=!1,Me=!1;return(0,ae.of)(j).pipe((0,Xe.b)(Re=>{this.currentNavigation={id:Re.id,initialUrl:Re.rawUrl,extractedUrl:Re.extractedUrl,trigger:Re.source,extras:Re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,en.w)(Re=>{const Dt=Re.currentBrowserUrl.toString(),an=!_.navigated||Re.extractedUrl.toString()!==Dt||Dt!==Re.currentUrlTree.toString();if(!an&&"reload"!==(Re.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Kn="";return this.events.next(new Pn(Re.id,this.urlSerializer.serialize(Re.rawUrl),Kn,0)),Re.resolve(null),Je.E}if(_.urlHandlingStrategy.shouldProcessUrl(Re.rawUrl))return(0,ae.of)(Re).pipe((0,en.w)(Kn=>{const gs=this.transitions?.getValue();return this.events.next(new ir(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),Kn.source,Kn.restoredState)),gs!==this.transitions?.getValue()?Je.E:Promise.resolve(Kn)}),function ke(y,D,_,C,M,j){return(0,oe.z)(te=>function Qu(y,D,_,C,M,j,te="emptyOnly"){return new Ms(y,D,_,C,M,te,j).recognize()}(y,D,_,C,te.extractedUrl,M,j).pipe((0,pt.U)(({state:Me,tree:Re})=>({...te,targetSnapshot:Me,urlAfterRedirects:Re}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Xe.b)(Kn=>{j.targetSnapshot=Kn.targetSnapshot,j.urlAfterRedirects=Kn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Kn.urlAfterRedirects};const gs=new us(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(gs)}));if(an&&_.urlHandlingStrategy.shouldProcessUrl(Re.currentRawUrl)){const{id:Kn,extractedUrl:gs,source:ma,restoredState:Po,extras:hu}=Re,_o=new ir(Kn,this.urlSerializer.serialize(gs),ma,Po);this.events.next(_o);const si=ci(0,this.rootComponentType).snapshot;return this.currentTransition=j={...Re,targetSnapshot:si,urlAfterRedirects:gs,extras:{...hu,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(j)}{const Kn="";return this.events.next(new Pn(Re.id,this.urlSerializer.serialize(Re.extractedUrl),Kn,1)),Re.resolve(null),Je.E}}),(0,Xe.b)(Re=>{const Dt=new ei(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(Dt)}),(0,pt.U)(Re=>(this.currentTransition=j={...Re,guards:V(Re.targetSnapshot,Re.currentSnapshot,this.rootContexts)},j)),function Pr(y,D){return(0,oe.z)(_=>{const{targetSnapshot:C,currentSnapshot:M,guards:{canActivateChecks:j,canDeactivateChecks:te}}=_;return 0===te.length&&0===j.length?(0,ae.of)({..._,guardsResult:!0}):function Vs(y,D,_,C){return(0,ie.D)(y).pipe((0,oe.z)(M=>function la(y,D,_,C,M){const j=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,ae.of)(!0);const te=j.map(Me=>{const Re=Zi(D)??M,Dt=ne(Me,Re);return hr(function $r(y){return y&&xt(y.canDeactivate)}(Dt)?Dt.canDeactivate(y,D,_,C):Re.runInContext(()=>Dt(y,D,_,C))).pipe(ht())});return(0,ae.of)(te).pipe(qn())}(M.component,M.route,_,D,C)),ht(M=>!0!==M,!0))}(te,C,M,y).pipe((0,oe.z)(Me=>Me&&function pn(y){return"boolean"==typeof y}(Me)?function Us(y,D,_,C){return(0,ie.D)(D).pipe(Et(M=>ot(function bi(y,D){return null!==y&&D&&D(new Ar(y)),(0,ae.of)(!0)}(M.route.parent,C),function Bs(y,D){return null!==y&&D&&D(new Do(y)),(0,ae.of)(!0)}(M.route,C),function $i(y,D,_){const C=D[D.length-1],j=D.slice(0,D.length-1).reverse().map(te=>function re(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(te)).filter(te=>null!==te).map(te=>At(()=>{const Me=te.guards.map(Re=>{const Dt=Zi(te.node)??_,an=ne(Re,Dt);return hr(function kn(y){return y&&xt(y.canActivateChild)}(an)?an.canActivateChild(C,y):Dt.runInContext(()=>an(C,y))).pipe(ht())});return(0,ae.of)(Me).pipe(qn())}));return(0,ae.of)(j).pipe(qn())}(y,M.path,_),function Go(y,D,_){const C=D.routeConfig?D.routeConfig.canActivate:null;if(!C||0===C.length)return(0,ae.of)(!0);const M=C.map(j=>At(()=>{const te=Zi(D)??_,Me=ne(j,te);return hr(function gr(y){return y&&xt(y.canActivate)}(Me)?Me.canActivate(D,y):te.runInContext(()=>Me(D,y))).pipe(ht())}));return(0,ae.of)(M).pipe(qn())}(y,M.route,_))),ht(M=>!0!==M,!0))}(C,j,y,D):(0,ae.of)(Me)),(0,pt.U)(Me=>({..._,guardsResult:Me})))})}(this.environmentInjector,Re=>this.events.next(Re)),(0,Xe.b)(Re=>{if(j.guardsResult=Re.guardsResult,je(Re.guardsResult))throw ls(0,Re.guardsResult);const Dt=new Ks(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot,!!Re.guardsResult);this.events.next(Dt)}),Ve(Re=>!!Re.guardsResult||(this.cancelNavigationTransition(Re,"",3),!1)),mr(Re=>{if(Re.guards.canActivateChecks.length)return(0,ae.of)(Re).pipe((0,Xe.b)(Dt=>{const an=new ba(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(an)}),(0,en.w)(Dt=>{let an=!1;return(0,ae.of)(Dt).pipe(function Ze(y,D){return(0,oe.z)(_=>{const{targetSnapshot:C,guards:{canActivateChecks:M}}=_;if(!M.length)return(0,ae.of)(_);let j=0;return(0,ie.D)(M).pipe(Et(te=>function kt(y,D,_,C){const M=y.routeConfig,j=y._resolve;return void 0!==M?.title&&!gn(M)&&(j[wn]=M.title),function Tr(y,D,_,C){const M=function Zn(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===M.length)return(0,ae.of)({});const j={};return(0,ie.D)(M).pipe((0,oe.z)(te=>function sr(y,D,_,C){const M=Zi(D)??C,j=ne(y,M);return hr(j.resolve?j.resolve(D,_):M.runInContext(()=>j(D,_)))}(y[te],D,_,C).pipe(ht(),(0,Xe.b)(Me=>{j[te]=Me}))),Yt(1),function xn(y){return(0,pt.U)(()=>y)}(j),tn(te=>di(te)?Je.E:vt(te)))}(j,y,D,C).pipe((0,pt.U)(te=>(y._resolvedData=te,y.data=Bi(y,_).resolve,M&&gn(M)&&(y.data[wn]=M.title),null)))}(te.route,C,y,D)),(0,Xe.b)(()=>j++),Yt(1),(0,oe.z)(te=>j===M.length?(0,ae.of)(_):Je.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Xe.b)({next:()=>an=!0,complete:()=>{an||this.cancelNavigationTransition(Dt,"",2)}}))}),(0,Xe.b)(Dt=>{const an=new Vr(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(an)}))}),mr(Re=>{const Dt=an=>{const dr=[];an.routeConfig?.loadComponent&&!an.routeConfig._loadedComponent&&dr.push(this.configLoader.loadComponent(an.routeConfig).pipe((0,Xe.b)(Kn=>{an.component=Kn}),(0,pt.U)(()=>{})));for(const Kn of an.children)dr.push(...Dt(Kn));return dr};return rt(Dt(Re.targetSnapshot.root)).pipe(Q(),le(1))}),mr(()=>this.afterPreactivation()),(0,pt.U)(Re=>{const Dt=function $n(y,D,_){const C=Rr(y,D._root,_?_._root:void 0);return new Ci(C,D)}(_.routeReuseStrategy,Re.targetSnapshot,Re.currentRouterState);return this.currentTransition=j={...Re,targetRouterState:Dt},j}),(0,Xe.b)(()=>{this.events.next(new lo)}),((y,D,_,C)=>(0,pt.U)(M=>(new ou(D,M.targetRouterState,M.currentRouterState,_,C).activate(y),M)))(this.rootContexts,_.routeReuseStrategy,Re=>this.events.next(Re),this.inputBindingEnabled),le(1),(0,Xe.b)({next:Re=>{te=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects))),_.titleStrategy?.updateTitle(Re.targetRouterState.snapshot),Re.resolve(!0)},complete:()=>{te=!0}}),function at(y){return(0,In.e)((D,_)=>{(0,Qe.Xf)(y).subscribe((0,lt.x)(_,()=>_.complete(),or.Z)),!_.closed&&D.subscribe(_)})}(this.transitionAbortSubject.pipe((0,Xe.b)(Re=>{throw Re}))),Or(()=>{te||Me||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),tn(Re=>{if(Me=!0,Tn(Re))this.events.next(new Vn(j.id,this.urlSerializer.serialize(j.extractedUrl),Re.message,Re.cancellationCode)),function hn(y){return Tn(y)&&je(y.url)}(Re)?this.events.next(new Qi(Re.url)):j.resolve(!1);else{this.events.next(new Fr(j.id,this.urlSerializer.serialize(j.extractedUrl),Re,j.targetSnapshot??void 0));try{j.resolve(_.errorHandler(Re))}catch(Dt){j.reject(Dt)}}return Je.E}))}))}cancelNavigationTransition(_,C,M){const j=new Vn(_.id,this.urlSerializer.serialize(_.extractedUrl),C,M);this.events.next(j),_.resolve(!1)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Yi(y){return y!==Os}let ro=(()=>{class y{buildTitle(_){let C,M=_.root;for(;void 0!==M;)C=this.getResolvedTitleForRoute(M)??C,M=M.children.find(j=>j.outlet===Jt);return C}getResolvedTitleForRoute(_){return _.data[wn]}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:function(){return(0,R.f3M)(io)},providedIn:"root"})}return y})(),io=(()=>{class y extends ro{constructor(_){super(),this.title=_}updateTitle(_){const C=this.buildTitle(_);void 0!==C&&this.title.setTitle(C)}static#e=this.\u0275fac=function(C){return new(C||y)(R.LFG(Ai.Dx))};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),uu=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:function(){return(0,R.f3M)(ri)},providedIn:"root"})}return y})();class Nc{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let ri=(()=>{class y extends Nc{static#e=this.\u0275fac=function(){let _;return function(M){return(_||(_=R.n5z(y)))(M||y)}}();static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const zn=new R.OlP("",{providedIn:"root",factory:()=>({})});let Oc=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:function(){return(0,R.f3M)(kc)},providedIn:"root"})}return y})(),kc=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,C){return _}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var Ko=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Ko||{});function Qo(y,D){y.events.pipe(Ve(_=>_ instanceof Mi||_ instanceof Vn||_ instanceof Fr||_ instanceof Pn),(0,pt.U)(_=>_ instanceof Mi||_ instanceof Pn?Ko.COMPLETE:_ instanceof Vn&&(0===_.code||1===_.code)?Ko.REDIRECTING:Ko.FAILED),Ve(_=>_!==Ko.REDIRECTING),le(1)).subscribe(()=>{D()})}function ql(y){throw y}function $s(y,D,_){return D.parse("/")}const Lc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bn=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,R.f3M)(R.c2e),this.isNgZoneEnabled=!1,this._events=new Ie.x,this.options=(0,R.f3M)(zn,{optional:!0})||{},this.pendingTasks=(0,R.f3M)(R.HDt),this.errorHandler=this.options.errorHandler||ql,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$s,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,R.f3M)(Oc),this.routeReuseStrategy=(0,R.f3M)(uu),this.titleStrategy=(0,R.f3M)(ro),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,R.f3M)(_n,{optional:!0})?.flat()??[],this.navigationTransitions=(0,R.f3M)(fi),this.urlSerializer=(0,R.f3M)(ar),this.location=(0,R.f3M)(Vt.Ye),this.componentInputBindingEnabled=!!(0,R.f3M)(Un,{optional:!0}),this.eventsSubscription=new $t.w0,this.isNgZoneEnabled=(0,R.f3M)(R.R0b)instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ci(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:M}=this.navigationTransitions;if(null===M)return void(bo(C)&&this._events.next(C));if(C instanceof ir)Yi(M.source)&&(this.browserUrlTree=M.extractedUrl);else if(C instanceof Pn)this.rawUrlTree=M.rawUrl;else if(C instanceof us){if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(j,M)}this.browserUrlTree=M.urlAfterRedirects}}else if(C instanceof lo)this.currentUrlTree=M.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M),this.browserUrlTree=M.urlAfterRedirects);else if(C instanceof Vn)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(M);else if(C instanceof Qi){const j=this.urlHandlingStrategy.merge(C.url,M.currentRawUrl),te={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yi(M.source)};this.scheduleNavigation(j,Os,null,te,{resolve:M.resolve,reject:M.reject,promise:M.promise})}C instanceof Fr&&this.restoreHistory(M,!0),C instanceof Mi&&(this.navigated=!0),bo(C)&&this._events.next(C)}catch(M){this.navigationTransitions.transitionAbortSubject.next(M)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Os,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const C="popstate"===_.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,C,_.state)},0)}))}navigateToSyncWithBrowser(_,C,M){const j={replaceUrl:!0},te=M?.navigationId?M:null;if(M){const Re={...M};delete Re.navigationId,delete Re.\u0275routerPageId,0!==Object.keys(Re).length&&(j.state=Re)}const Me=this.parseUrl(_);this.scheduleNavigation(Me,C,te,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,C={}){const{relativeTo:M,queryParams:j,fragment:te,queryParamsHandling:Me,preserveFragment:Re}=C,Dt=Re?this.currentUrlTree.fragment:te;let dr,an=null;switch(Me){case"merge":an={...this.currentUrlTree.queryParams,...j};break;case"preserve":an=this.currentUrlTree.queryParams;break;default:an=j||null}null!==an&&(an=this.removeEmptyProps(an));try{dr=nn(M?M.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),dr=this.currentUrlTree.root}return rn(dr,_,an,Dt??null)}navigateByUrl(_,C={skipLocationChange:!1}){const M=je(_)?_:this.parseUrl(_),j=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(j,Os,null,C)}navigate(_,C={skipLocationChange:!1}){return function ha(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new R.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,C),C)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let C;try{C=this.urlSerializer.parse(_)}catch(M){C=this.malformedUriErrorHandler(M,this.urlSerializer,_)}return C}isActive(_,C){let M;if(M=!0===C?{...Lc}:!1===C?{...Zu}:C,je(_))return mn(this.currentUrlTree,_,M);const j=this.parseUrl(_);return mn(this.currentUrlTree,j,M)}removeEmptyProps(_){return Object.keys(_).reduce((C,M)=>{const j=_[M];return null!=j&&(C[M]=j),C},{})}scheduleNavigation(_,C,M,j,te){if(this.disposed)return Promise.resolve(!1);let Me,Re,Dt;te?(Me=te.resolve,Re=te.reject,Dt=te.promise):Dt=new Promise((dr,Kn)=>{Me=dr,Re=Kn});const an=this.pendingTasks.add();return Qo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(an))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:j,resolve:Me,reject:Re,promise:Dt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dt.catch(dr=>Promise.reject(dr))}setBrowserUrl(_,C){const M=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(M)||C.extras.replaceUrl){const te={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(M,"",te)}else{const j={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(M,"",j)}}restoreHistory(_,C=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-this.browserPageId;0!==j?this.location.historyGo(j):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,C){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:C}:{navigationId:_}}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function bo(y){return!(y instanceof lo||y instanceof Qi)}let pi=(()=>{class y{constructor(_,C,M,j,te,Me){this.router=_,this.route=C,this.tabIndexAttribute=M,this.renderer=j,this.el=te,this.locationStrategy=Me,this.href=null,this.commands=null,this.onChanges=new Ie.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Re=te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Re||"area"===Re,this.isAnchorElement?this.subscription=_.events.subscribe(Dt=>{Dt instanceof Mi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,C,M,j,te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||C||M||j||te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,R.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,C){const M=this.renderer,j=this.el.nativeElement;null!==C?M.setAttribute(j,_,C):M.removeAttribute(j,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(C){return new(C||y)(R.Y36(bn),R.Y36(Cs),R.$8M("tabindex"),R.Y36(R.Qsj),R.Y36(R.SBq),R.Y36(Vt.S$))};static#t=this.\u0275dir=R.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,M){1&C&&R.NdJ("click",function(te){return M.onClick(te.button,te.ctrlKey,te.shiftKey,te.altKey,te.metaKey)}),2&C&&R.uIk("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",R.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",R.VuI],replaceUrl:["replaceUrl","replaceUrl",R.VuI],routerLink:"routerLink"},standalone:!0,features:[R.Xq5,R.TTD]})}return y})();class so{}let Fc=(()=>{class y{constructor(_,C,M,j,te){this.router=_,this.injector=M,this.preloadingStrategy=j,this.loader=te}setUpPreloading(){this.subscription=this.router.events.pipe(Ve(_=>_ instanceof Mi),Et(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,C){const M=[];for(const j of C){j.providers&&!j._injector&&(j._injector=(0,R.MMx)(j.providers,_,`Route: ${j.path}`));const te=j._injector??_,Me=j._loadedInjector??te;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&M.push(this.preloadConfig(te,j)),(j.children||j._loadedRoutes)&&M.push(this.processRoutes(Me,j.children??j._loadedRoutes))}return(0,ie.D)(M).pipe((0,Gn.J)())}preloadConfig(_,C){return this.preloadingStrategy.preload(C,()=>{let M;M=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(_,C):(0,ae.of)(null);const j=M.pipe((0,oe.z)(te=>null===te?(0,ae.of)(void 0):(C._loadedRoutes=te.routes,C._loadedInjector=te.injector,this.processRoutes(te.injector??_,te.routes))));if(C.loadComponent&&!C._loadedComponent){const te=this.loader.loadComponent(C);return(0,ie.D)([j,te]).pipe((0,Gn.J)())}return j})}static#e=this.\u0275fac=function(C){return new(C||y)(R.LFG(bn),R.LFG(R.Sil),R.LFG(R.lqb),R.LFG(so),R.LFG(qr))};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Vc=new R.OlP("");let go=(()=>{class y{constructor(_,C,M,j,te={}){this.urlSerializer=_,this.transitions=C,this.viewportScroller=M,this.zone=j,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof ir?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Mi?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof Pn&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof As&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new As(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(C){R.$Z()};static#t=this.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac})}return y})();function Ji(y,D){return{\u0275kind:y,\u0275providers:D}}function Na(){const y=(0,R.f3M)(R.zs3);return D=>{const _=y.get(R.z2F);if(D!==_.components[0])return;const C=y.get(bn),M=y.get(Yu);1===y.get(Ju)&&C.initialNavigation(),y.get(So,null,R.XFs.Optional)?.setUpPreloading(),y.get(Vc,null,R.XFs.Optional)?.init(),C.resetRootComponentType(_.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const Yu=new R.OlP("",{factory:()=>new Ie.x}),Ju=new R.OlP("",{providedIn:"root",factory:()=>1}),So=new R.OlP("");function ec(y){return Ji(0,[{provide:So,useExisting:Fc},{provide:so,useExisting:y}])}const Mn=new R.OlP("ROUTER_FORROOT_GUARD"),ka=[Vt.Ye,{provide:ar,useClass:Ki},bn,ti,{provide:Cs,useFactory:function lu(y){return y.routerState.root},deps:[bn]},qr,[]];function Xl(){return new R.PXZ("Router",bn)}let vi=(()=>{class y{constructor(_){}static forRoot(_,C){return{ngModule:y,providers:[ka,[],{provide:_n,multi:!0,useValue:_},{provide:Mn,useFactory:du,deps:[[bn,new R.FiY,new R.tp0]]},{provide:zn,useValue:C||{}},C?.useHash?{provide:Vt.S$,useClass:Vt.Do}:{provide:Vt.S$,useClass:Vt.b0},{provide:Vc,useFactory:()=>{const y=(0,R.f3M)(Vt.EM),D=(0,R.f3M)(R.R0b),_=(0,R.f3M)(zn),C=(0,R.f3M)(fi),M=(0,R.f3M)(ar);return _.scrollOffset&&y.setOffset(_.scrollOffset),new go(M,C,y,D,_)}},C?.preloadingStrategy?ec(C.preloadingStrategy).\u0275providers:[],{provide:R.PXZ,multi:!0,useFactory:Xl},C?.initialNavigation?Ro(C):[],C?.bindToComponentInputs?Ji(8,[lr,{provide:Un,useExisting:lr}]).\u0275providers:[],[{provide:La,useFactory:Na},{provide:R.tb,multi:!0,useExisting:La}]]}}static forChild(_){return{ngModule:y,providers:[{provide:_n,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(C){return new(C||y)(R.LFG(Mn,8))};static#t=this.\u0275mod=R.oAB({type:y});static#n=this.\u0275inj=R.cJS({})}return y})();function du(y){return"guarded"}function Ro(y){return["disabled"===y.initialNavigation?Ji(3,[{provide:R.ip1,multi:!0,useFactory:()=>{const D=(0,R.f3M)(bn);return()=>{D.setUpLocationChangeListener()}}},{provide:Ju,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Ji(2,[{provide:Ju,useValue:0},{provide:R.ip1,multi:!0,deps:[R.zs3],useFactory:D=>{const _=D.get(Vt.V_,Promise.resolve());return()=>_.then(()=>new Promise(C=>{const M=D.get(bn),j=D.get(Yu);Qo(M,()=>{C(!0)}),D.get(fi).afterPreactivation=()=>(C(!0),j.closed?(0,ae.of)(void 0):j),M.initialNavigation()}))}}]).\u0275providers:[]]}const La=new R.OlP("")},534:(Zt,tt,Z)=>{Z.d(tt,{Jn:()=>Gr,qX:()=>mn,rh:()=>qi,Xd:()=>gi,Mq:()=>rr,C6:()=>ar,ZF:()=>Ri,KN:()=>H});var R=Z(5861),fe=Z(4537),He=Z(7879),Ue=Z(9058);const ie=(Le,Ae)=>Ae.some(je=>Le instanceof je);let ae,xe;const ce=new WeakMap,de=new WeakMap,Se=new WeakMap,lt=new WeakMap,nt=new WeakMap;let Wt={get(Le,Ae,je){if(Le instanceof IDBTransaction){if("done"===Ae)return de.get(Le);if("objectStoreNames"===Ae)return Le.objectStoreNames||Se.get(Le);if("store"===Ae)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return Ge(Le[Ae])},set:(Le,Ae,je)=>(Le[Ae]=je,!0),has:(Le,Ae)=>Le instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in Le};function Gn(Le){return"function"==typeof Le?function vn(Le){return Le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qe(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Le)?function(...Ae){return Le.apply(ot(this),Ae),Ge(ce.get(this))}:function(...Ae){return Ge(Le.apply(ot(this),Ae))}:function(Ae,...je){const Ct=Le.call(ot(this),Ae,...je);return Se.set(Ct,Ae.sort?Ae.sort():[Ae]),Ge(Ct)}}(Le):(Le instanceof IDBTransaction&&function Pt(Le){if(de.has(Le))return;const Ae=new Promise((je,Ct)=>{const nn=()=>{Le.removeEventListener("complete",rn),Le.removeEventListener("error",Kt),Le.removeEventListener("abort",Kt)},rn=()=>{je(),nn()},Kt=()=>{Ct(Le.error||new DOMException("AbortError","AbortError")),nn()};Le.addEventListener("complete",rn),Le.addEventListener("error",Kt),Le.addEventListener("abort",Kt)});de.set(Le,Ae)}(Le),ie(Le,function yt(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Le,Wt):Le)}function Ge(Le){if(Le instanceof IDBRequest)return function rt(Le){const Ae=new Promise((je,Ct)=>{const nn=()=>{Le.removeEventListener("success",rn),Le.removeEventListener("error",Kt)},rn=()=>{je(Ge(Le.result)),nn()},Kt=()=>{Ct(Le.error),nn()};Le.addEventListener("success",rn),Le.addEventListener("error",Kt)});return Ae.then(je=>{je instanceof IDBCursor&&ce.set(je,Le)}).catch(()=>{}),nt.set(Ae,Le),Ae}(Le);if(lt.has(Le))return lt.get(Le);const Ae=Gn(Le);return Ae!==Le&&(lt.set(Le,Ae),nt.set(Ae,Le)),Ae}const ot=Le=>nt.get(Le),St=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],Je=new Map;function $t(Le,Ae){if(!(Le instanceof IDBDatabase)||Ae in Le||"string"!=typeof Ae)return;if(Je.get(Ae))return Je.get(Ae);const je=Ae.replace(/FromIndex$/,""),Ct=Ae!==je,nn=vt.includes(je);if(!(je in(Ct?IDBIndex:IDBObjectStore).prototype)||!nn&&!St.includes(je))return;const rn=function(){var Kt=(0,R.Z)(function*(jn,...Rn){const vr=this.transaction(jn,nn?"readwrite":"readonly");let En=vr.store;return Ct&&(En=En.index(Rn.shift())),(yield Promise.all([En[je](...Rn),nn&&vr.done]))[0]});return function(Rn){return Kt.apply(this,arguments)}}();return Je.set(Ae,rn),rn}!function qt(Le){Wt=Le(Wt)}(Le=>({...Le,get:(Ae,je,Ct)=>$t(Ae,je)||Le.get(Ae,je,Ct),has:(Ae,je)=>!!$t(Ae,je)||Le.has(Ae,je)}));class In{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function xr(Le){const Ae=Le.getComponent();return"VERSION"===Ae?.type}(je)){const Ct=je.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(je=>je).join(" ")}}const ct="@firebase/app",Vt=new He.Yd("@firebase/app"),wt="[DEFAULT]",ln={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,ft=new Map,Ln=new Map;function hr(Le,Ae){try{Le.container.addComponent(Ae)}catch(je){Vt.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Le.name}`,je)}}function gi(Le){const Ae=Le.name;if(Ln.has(Ae))return Vt.debug(`There were multiple attempts to register component ${Ae}.`),!1;Ln.set(Ae,Le);for(const je of on.values())hr(je,Le);for(const je of ft.values())hr(je,Le);return!0}function mn(Le,Ae){const je=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Le.container.getProvider(Ae)}function qi(Le){return void 0!==Le.settings}const On=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dr{constructor(Ae,je,Ct){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const Gr="10.12.2";function Ri(Le,Ae={}){let je=Le;"object"!=typeof Ae&&(Ae={name:Ae});const Ct=Object.assign({name:wt,automaticDataCollectionEnabled:!1},Ae),nn=Ct.name;if("string"!=typeof nn||!nn)throw On.create("bad-app-name",{appName:String(nn)});if(je||(je=(0,Ue.aH)()),!je)throw On.create("no-options");const rn=on.get(nn);if(rn){if((0,Ue.vZ)(je,rn.options)&&(0,Ue.vZ)(Ct,rn.config))return rn;throw On.create("duplicate-app",{appName:nn})}const Kt=new fe.H0(nn);for(const Rn of Ln.values())Kt.addComponent(Rn);const jn=new Dr(je,Ct,Kt);return on.set(nn,jn),jn}function rr(Le=wt){const Ae=on.get(Le);if(!Ae&&Le===wt&&(0,Ue.aH)())return Ri();if(!Ae)throw On.create("no-app",{appName:Le});return Ae}function ar(){return Array.from(on.values())}function H(Le,Ae,je){var Ct;let nn=null!==(Ct=ln[Le])&&void 0!==Ct?Ct:Le;je&&(nn+=`-${je}`);const rn=nn.match(/\s|\//),Kt=Ae.match(/\s|\//);if(rn||Kt){const jn=[`Unable to register library "${nn}" with version "${Ae}":`];return rn&&jn.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),rn&&Kt&&jn.push("and"),Kt&&jn.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void Vt.warn(jn.join(" "))}gi(new fe.wA(`${nn}-version`,()=>({library:nn,version:Ae}),"VERSION"))}const q="firebase-heartbeat-database",De=1,Ye="firebase-heartbeat-store";let It=null;function zt(){return It||(It=function Qe(Le,Ae,{blocked:je,upgrade:Ct,blocking:nn,terminated:rn}={}){const Kt=indexedDB.open(Le,Ae),jn=Ge(Kt);return Ct&&Kt.addEventListener("upgradeneeded",Rn=>{Ct(Ge(Kt.result),Rn.oldVersion,Rn.newVersion,Ge(Kt.transaction),Rn)}),je&&Kt.addEventListener("blocked",Rn=>je(Rn.oldVersion,Rn.newVersion,Rn)),jn.then(Rn=>{rn&&Rn.addEventListener("close",()=>rn()),nn&&Rn.addEventListener("versionchange",vr=>nn(vr.oldVersion,vr.newVersion,vr))}).catch(()=>{}),jn}(q,De,{upgrade:(Le,Ae)=>{if(0===Ae)try{Le.createObjectStore(Ye)}catch(je){console.warn(je)}}}).catch(Le=>{throw On.create("idb-open",{originalErrorMessage:Le.message})})),It}function sn(){return(sn=(0,R.Z)(function*(Le){try{const je=(yield zt()).transaction(Ye),Ct=yield je.objectStore(Ye).get(er(Le));return yield je.done,Ct}catch(Ae){if(Ae instanceof Ue.ZR)Vt.warn(Ae.message);else{const je=On.create("idb-get",{originalErrorMessage:Ae?.message});Vt.warn(je.message)}}})).apply(this,arguments)}function Ut(Le,Ae){return fr.apply(this,arguments)}function fr(){return(fr=(0,R.Z)(function*(Le,Ae){try{const Ct=(yield zt()).transaction(Ye,"readwrite");yield Ct.objectStore(Ye).put(Ae,er(Le)),yield Ct.done}catch(je){if(je instanceof Ue.ZR)Vt.warn(je.message);else{const Ct=On.create("idb-set",{originalErrorMessage:je?.message});Vt.warn(Ct.message)}}})).apply(this,arguments)}function er(Le){return`${Le.name}!${Le.options.appId}`}class Qr{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new br(je),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var Ae=this;return(0,R.Z)(function*(){var je,Ct;const rn=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=Xr();if((null!=(null===(je=Ae._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise,null!=(null===(Ct=Ae._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats)))&&Ae._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!Ae._heartbeatsCache.heartbeats.some(jn=>jn.date===Kt))return Ae._heartbeatsCache.heartbeats.push({date:Kt,agent:rn}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(jn=>{const Rn=new Date(jn.date).valueOf();return Date.now()-Rn<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,R.Z)(function*(){var je;if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null==(null===(je=Ae._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||0===Ae._heartbeatsCache.heartbeats.length)return"";const Ct=Xr(),{heartbeatsToSend:nn,unsentEntries:rn}=function ws(Le,Ae=1024){const je=[];let Ct=Le.slice();for(const nn of Le){const rn=je.find(Kt=>Kt.agent===nn.agent);if(rn){if(rn.dates.push(nn.date),qs(je)>Ae){rn.dates.pop();break}}else if(je.push({agent:nn.agent,dates:[nn.date]}),qs(je)>Ae){je.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:je,unsentEntries:Ct}}(Ae._heartbeatsCache.heartbeats),Kt=(0,Ue.L)(JSON.stringify({version:2,heartbeats:nn}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Ct,rn.length>0?(Ae._heartbeatsCache.heartbeats=rn,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Kt})()}}function Xr(){return(new Date).toISOString().substring(0,10)}class br{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,Ue.hl)()&&(0,Ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,R.Z)(function*(){if(yield Ae._canUseIndexedDBPromise){const Ct=yield function Nt(Le){return sn.apply(this,arguments)}(Ae.app);return Ct?.heartbeats?Ct:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ae){var je=this;return(0,R.Z)(function*(){var Ct;if(yield je._canUseIndexedDBPromise){const rn=yield je.read();return Ut(je.app,{lastSentHeartbeatDate:null!==(Ct=Ae.lastSentHeartbeatDate)&&void 0!==Ct?Ct:rn.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var je=this;return(0,R.Z)(function*(){var Ct;if(yield je._canUseIndexedDBPromise){const rn=yield je.read();return Ut(je.app,{lastSentHeartbeatDate:null!==(Ct=Ae.lastSentHeartbeatDate)&&void 0!==Ct?Ct:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...Ae.heartbeats]})}})()}}function qs(Le){return(0,Ue.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function Fn(Le){gi(new fe.wA("platform-logger",Ae=>new In(Ae),"PRIVATE")),gi(new fe.wA("heartbeat",Ae=>new Qr(Ae),"PRIVATE")),H(ct,"0.10.5",Le),H(ct,"0.10.5","esm2017"),H("fire-js","")}("")},4537:(Zt,tt,Z)=>{Z.d(tt,{H0:()=>yt,wA:()=>He});var R=Z(5861),fe=Z(9058);class He{constructor(ce,de,Se){this.name=ce,this.instanceFactory=de,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Ue="[DEFAULT]";class ie{constructor(ce,de){this.name=ce,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const de=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(de)){const Se=new fe.BH;if(this.instancesDeferred.set(de,Se),this.isInitialized(de)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:de});lt&&Se.resolve(lt)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ce){var de;const Se=this.normalizeInstanceIdentifier(ce?.identifier),lt=null!==(de=ce?.optional)&&void 0!==de&&de;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(nt){if(lt)return null;throw nt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function xe(qe){return"EAGER"===qe.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch{}for(const[de,Se]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(de);try{const nt=this.getOrInitializeService({instanceIdentifier:lt});Se.resolve(nt)}catch{}}}}clearInstance(ce=Ue){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,R.Z)(function*(){const de=Array.from(ce.instances.values());yield Promise.all([...de.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...de.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Ue){return this.instances.has(ce)}getOptions(ce=Ue){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:de={}}=ce,Se=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:Se,options:de});for(const[nt,rt]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(nt)&&rt.resolve(lt);return lt}onInit(ce,de){var Se;const lt=this.normalizeInstanceIdentifier(de),nt=null!==(Se=this.onInitCallbacks.get(lt))&&void 0!==Se?Se:new Set;nt.add(ce),this.onInitCallbacks.set(lt,nt);const rt=this.instances.get(lt);return rt&&ce(rt,lt),()=>{nt.delete(ce)}}invokeOnInitCallbacks(ce,de){const Se=this.onInitCallbacks.get(de);if(Se)for(const lt of Se)try{lt(ce,de)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:de={}}){let Se=this.instances.get(ce);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=ce,qe===Ue?void 0:qe),options:de}),this.instances.set(ce,Se),this.instancesOptions.set(ce,de),this.invokeOnInitCallbacks(Se,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Se)}catch{}var qe;return Se||null}normalizeInstanceIdentifier(ce=Ue){return this.component?this.component.multipleInstances?ce:Ue:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yt{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const de=this.getProvider(ce.name);if(de.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);de.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const de=new ie(ce,this);return this.providers.set(ce,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(Zt,tt,Z)=>{Z.d(tt,{Yd:()=>xe,in:()=>fe});const R=[];var fe=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(fe||{});const He={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},Ue=fe.INFO,ie={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ae=(ce,de,...Se)=>{if(de<ce.logLevel)return;const lt=(new Date).toISOString(),nt=ie[de];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[nt](`[${lt}]  ${ce.name}:`,...Se)};class xe{constructor(de){this.name=de,this._logLevel=Ue,this._logHandler=ae,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in fe))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?He[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...de),this._logHandler(this,fe.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...de),this._logHandler(this,fe.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...de),this._logHandler(this,fe.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...de),this._logHandler(this,fe.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...de),this._logHandler(this,fe.ERROR,...de)}}},3182:(Zt,tt,Z)=>{Z.d(tt,{C6:()=>R.C6,KN:()=>R.KN,Mq:()=>R.Mq,ZF:()=>R.ZF});var R=Z(534);(0,R.KN)("firebase","10.12.2","app")},5861:(Zt,tt,Z)=>{function R(He,Ue,ie,ae,xe,yt,qe){try{var ce=He[yt](qe),de=ce.value}catch(Se){return void ie(Se)}ce.done?Ue(de):Promise.resolve(de).then(ae,xe)}function fe(He){return function(){var Ue=this,ie=arguments;return new Promise(function(ae,xe){var yt=He.apply(Ue,ie);function qe(de){R(yt,ae,xe,qe,ce,"next",de)}function ce(de){R(yt,ae,xe,qe,ce,"throw",de)}qe(void 0)})}}Z.d(tt,{Z:()=>fe})},7582:(Zt,tt,Z)=>{function Ue(le,_e){var Ve={};for(var oe in le)Object.prototype.hasOwnProperty.call(le,oe)&&_e.indexOf(oe)<0&&(Ve[oe]=le[oe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(oe=Object.getOwnPropertySymbols(le);Q<oe.length;Q++)_e.indexOf(oe[Q])<0&&Object.prototype.propertyIsEnumerable.call(le,oe[Q])&&(Ve[oe[Q]]=le[oe[Q]])}return Ve}function Se(le,_e,Ve,oe){return new(Ve||(Ve=Promise))(function(X,Be){function ht(tn){try{Xe(oe.next(tn))}catch(Qn){Be(Qn)}}function Et(tn){try{Xe(oe.throw(tn))}catch(Qn){Be(Qn)}}function Xe(tn){tn.done?X(tn.value):function Q(X){return X instanceof Ve?X:new Ve(function(Be){Be(X)})}(tn.value).then(ht,Et)}Xe((oe=oe.apply(le,_e||[])).next())})}function Ge(le){return this instanceof Ge?(this.v=le,this):new Ge(le)}function ot(le,_e,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,oe=Ve.apply(le,_e||[]),X=[];return Q={},ht("next"),ht("throw"),ht("return",function Be(Yt){return function(wr){return Promise.resolve(wr).then(Yt,Qn)}}),Q[Symbol.asyncIterator]=function(){return this},Q;function ht(Yt,wr){oe[Yt]&&(Q[Yt]=function(xn){return new Promise(function(Or,or){X.push([Yt,xn,Or,or])>1||Et(Yt,xn)})},wr&&(Q[Yt]=wr(Q[Yt])))}function Et(Yt,wr){try{!function Xe(Yt){Yt.value instanceof Ge?Promise.resolve(Yt.value.v).then(tn,Qn):ui(X[0][2],Yt)}(oe[Yt](wr))}catch(xn){ui(X[0][3],xn)}}function tn(Yt){Et("next",Yt)}function Qn(Yt){Et("throw",Yt)}function ui(Yt,wr){Yt(wr),X.shift(),X.length&&Et(X[0][0],X[0][1])}}function At(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,_e=le[Symbol.asyncIterator];return _e?_e.call(le):(le=function Pt(le){var _e="function"==typeof Symbol&&Symbol.iterator,Ve=_e&&le[_e],oe=0;if(Ve)return Ve.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&oe>=le.length&&(le=void 0),{value:le&&le[oe++],done:!le}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Ve={},oe("next"),oe("throw"),oe("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function oe(X){Ve[X]=le[X]&&function(Be){return new Promise(function(ht,Et){!function Q(X,Be,ht,Et){Promise.resolve(Et).then(function(Xe){X({value:Xe,done:ht})},Be)}(ht,Et,(Be=le[X](Be)).done,Be.value)})}}}Z.d(tt,{FC:()=>ot,KL:()=>At,_T:()=>Ue,mG:()=>Se,qq:()=>Ge}),"function"==typeof SuppressedError&&SuppressedError}},Zt=>{Zt(Zt.s=7035)}]);