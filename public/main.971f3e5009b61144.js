(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{5588:(In,yt,Y)=>{"use strict";Y.d(yt,{ET:()=>Ca,vr:()=>P_,hJ:()=>gm,JU:()=>e_,QT:()=>__,ad:()=>ym,cf:()=>Pm,pl:()=>pw,r7:()=>Rm});var At,vt,S=Y(5861),we=Y(534),Ce=Y(4537),ze=Y(7879),ue=Y(9058),Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l(Be,ve,Pe){Pe||(Pe=0);var $e=Array(16);if("string"==typeof ve)for(var Ke=0;16>Ke;++Ke)$e[Ke]=ve.charCodeAt(Pe++)|ve.charCodeAt(Pe++)<<8|ve.charCodeAt(Pe++)<<16|ve.charCodeAt(Pe++)<<24;else for(Ke=0;16>Ke;++Ke)$e[Ke]=ve[Pe++]|ve[Pe++]<<8|ve[Pe++]<<16|ve[Pe++]<<24;var ot=Be.g[3],De=(ve=Be.g[0])+(ot^(Pe=Be.g[1])&((Ke=Be.g[2])^ot))+$e[0]+3614090360&4294967295;De=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=(Pe=(Ke=(ot=(ve=Pe+(De<<7&4294967295|De>>>25))+((De=ot+(Ke^ve&(Pe^Ke))+$e[1]+3905402710&4294967295)<<12&4294967295|De>>>20))+((De=Ke+(Pe^ot&(ve^Pe))+$e[2]+606105819&4294967295)<<17&4294967295|De>>>15))+((De=Pe+(ve^Ke&(ot^ve))+$e[3]+3250441966&4294967295)<<22&4294967295|De>>>10))+((De=ve+(ot^Pe&(Ke^ot))+$e[4]+4118548399&4294967295)<<7&4294967295|De>>>25))+((De=ot+(Ke^ve&(Pe^Ke))+$e[5]+1200080426&4294967295)<<12&4294967295|De>>>20))+((De=Ke+(Pe^ot&(ve^Pe))+$e[6]+2821735955&4294967295)<<17&4294967295|De>>>15))+((De=Pe+(ve^Ke&(ot^ve))+$e[7]+4249261313&4294967295)<<22&4294967295|De>>>10))+((De=ve+(ot^Pe&(Ke^ot))+$e[8]+1770035416&4294967295)<<7&4294967295|De>>>25))+((De=ot+(Ke^ve&(Pe^Ke))+$e[9]+2336552879&4294967295)<<12&4294967295|De>>>20))+((De=Ke+(Pe^ot&(ve^Pe))+$e[10]+4294925233&4294967295)<<17&4294967295|De>>>15))+((De=Pe+(ve^Ke&(ot^ve))+$e[11]+2304563134&4294967295)<<22&4294967295|De>>>10))+((De=ve+(ot^Pe&(Ke^ot))+$e[12]+1804603682&4294967295)<<7&4294967295|De>>>25))+((De=ot+(Ke^ve&(Pe^Ke))+$e[13]+4254626195&4294967295)<<12&4294967295|De>>>20))+((De=Ke+(Pe^ot&(ve^Pe))+$e[14]+2792965006&4294967295)<<17&4294967295|De>>>15))+((De=Pe+(ve^Ke&(ot^ve))+$e[15]+1236535329&4294967295)<<22&4294967295|De>>>10))+((De=ve+(Ke^ot&(Pe^Ke))+$e[1]+4129170786&4294967295)<<5&4294967295|De>>>27))+((De=ot+(Pe^Ke&(ve^Pe))+$e[6]+3225465664&4294967295)<<9&4294967295|De>>>23))+((De=Ke+(ve^Pe&(ot^ve))+$e[11]+643717713&4294967295)<<14&4294967295|De>>>18))+((De=Pe+(ot^ve&(Ke^ot))+$e[0]+3921069994&4294967295)<<20&4294967295|De>>>12))+((De=ve+(Ke^ot&(Pe^Ke))+$e[5]+3593408605&4294967295)<<5&4294967295|De>>>27))+((De=ot+(Pe^Ke&(ve^Pe))+$e[10]+38016083&4294967295)<<9&4294967295|De>>>23))+((De=Ke+(ve^Pe&(ot^ve))+$e[15]+3634488961&4294967295)<<14&4294967295|De>>>18))+((De=Pe+(ot^ve&(Ke^ot))+$e[4]+3889429448&4294967295)<<20&4294967295|De>>>12))+((De=ve+(Ke^ot&(Pe^Ke))+$e[9]+568446438&4294967295)<<5&4294967295|De>>>27))+((De=ot+(Pe^Ke&(ve^Pe))+$e[14]+3275163606&4294967295)<<9&4294967295|De>>>23))+((De=Ke+(ve^Pe&(ot^ve))+$e[3]+4107603335&4294967295)<<14&4294967295|De>>>18))+((De=Pe+(ot^ve&(Ke^ot))+$e[8]+1163531501&4294967295)<<20&4294967295|De>>>12))+((De=ve+(Ke^ot&(Pe^Ke))+$e[13]+2850285829&4294967295)<<5&4294967295|De>>>27))+((De=ot+(Pe^Ke&(ve^Pe))+$e[2]+4243563512&4294967295)<<9&4294967295|De>>>23))+((De=Ke+(ve^Pe&(ot^ve))+$e[7]+1735328473&4294967295)<<14&4294967295|De>>>18))+((De=Pe+(ot^ve&(Ke^ot))+$e[12]+2368359562&4294967295)<<20&4294967295|De>>>12))+((De=ve+(Pe^Ke^ot)+$e[5]+4294588738&4294967295)<<4&4294967295|De>>>28))+((De=ot+(ve^Pe^Ke)+$e[8]+2272392833&4294967295)<<11&4294967295|De>>>21))+((De=Ke+(ot^ve^Pe)+$e[11]+1839030562&4294967295)<<16&4294967295|De>>>16))+((De=Pe+(Ke^ot^ve)+$e[14]+4259657740&4294967295)<<23&4294967295|De>>>9))+((De=ve+(Pe^Ke^ot)+$e[1]+2763975236&4294967295)<<4&4294967295|De>>>28))+((De=ot+(ve^Pe^Ke)+$e[4]+1272893353&4294967295)<<11&4294967295|De>>>21))+((De=Ke+(ot^ve^Pe)+$e[7]+4139469664&4294967295)<<16&4294967295|De>>>16))+((De=Pe+(Ke^ot^ve)+$e[10]+3200236656&4294967295)<<23&4294967295|De>>>9))+((De=ve+(Pe^Ke^ot)+$e[13]+681279174&4294967295)<<4&4294967295|De>>>28))+((De=ot+(ve^Pe^Ke)+$e[0]+3936430074&4294967295)<<11&4294967295|De>>>21))+((De=Ke+(ot^ve^Pe)+$e[3]+3572445317&4294967295)<<16&4294967295|De>>>16))+((De=Pe+(Ke^ot^ve)+$e[6]+76029189&4294967295)<<23&4294967295|De>>>9))+((De=ve+(Pe^Ke^ot)+$e[9]+3654602809&4294967295)<<4&4294967295|De>>>28))+((De=ot+(ve^Pe^Ke)+$e[12]+3873151461&4294967295)<<11&4294967295|De>>>21))+((De=Ke+(ot^ve^Pe)+$e[15]+530742520&4294967295)<<16&4294967295|De>>>16))+((De=Pe+(Ke^ot^ve)+$e[2]+3299628645&4294967295)<<23&4294967295|De>>>9))+((De=ve+(Ke^(Pe|~ot))+$e[0]+4096336452&4294967295)<<6&4294967295|De>>>26))+((De=ot+(Pe^(ve|~Ke))+$e[7]+1126891415&4294967295)<<10&4294967295|De>>>22))+((De=Ke+(ve^(ot|~Pe))+$e[14]+2878612391&4294967295)<<15&4294967295|De>>>17))+((De=Pe+(ot^(Ke|~ve))+$e[5]+4237533241&4294967295)<<21&4294967295|De>>>11))+((De=ve+(Ke^(Pe|~ot))+$e[12]+1700485571&4294967295)<<6&4294967295|De>>>26))+((De=ot+(Pe^(ve|~Ke))+$e[3]+2399980690&4294967295)<<10&4294967295|De>>>22))+((De=Ke+(ve^(ot|~Pe))+$e[10]+4293915773&4294967295)<<15&4294967295|De>>>17))+((De=Pe+(ot^(Ke|~ve))+$e[1]+2240044497&4294967295)<<21&4294967295|De>>>11))+((De=ve+(Ke^(Pe|~ot))+$e[8]+1873313359&4294967295)<<6&4294967295|De>>>26))+((De=ot+(Pe^(ve|~Ke))+$e[15]+4264355552&4294967295)<<10&4294967295|De>>>22))+((De=Ke+(ve^(ot|~Pe))+$e[6]+2734768916&4294967295)<<15&4294967295|De>>>17))+((De=Pe+(ot^(Ke|~ve))+$e[13]+1309151649&4294967295)<<21&4294967295|De>>>11))+((ot=(ve=Pe+((De=ve+(Ke^(Pe|~ot))+$e[4]+4149444226&4294967295)<<6&4294967295|De>>>26))+((De=ot+(Pe^(ve|~Ke))+$e[11]+3174756917&4294967295)<<10&4294967295|De>>>22))^((Ke=ot+((De=Ke+(ve^(ot|~Pe))+$e[2]+718787259&4294967295)<<15&4294967295|De>>>17))|~ve))+$e[9]+3951481745&4294967295,Be.g[0]=Be.g[0]+ve&4294967295,Be.g[1]=Be.g[1]+(Ke+(De<<21&4294967295|De>>>11))&4294967295,Be.g[2]=Be.g[2]+Ke&4294967295,Be.g[3]=Be.g[3]+ot&4294967295}function g(Be,ve){this.h=ve;for(var Pe=[],$e=!0,Ke=Be.length-1;0<=Ke;Ke--){var ot=0|Be[Ke];$e&&ot==ve||(Pe[Ke]=ot,$e=!1)}this.g=Pe}(function e(Be,ve){function Pe(){}Pe.prototype=ve.prototype,Be.D=ve.prototype,Be.prototype=new Pe,Be.prototype.constructor=Be,Be.C=function($e,Ke,ot){for(var De=Array(arguments.length-2),Sa=2;Sa<arguments.length;Sa++)De[Sa-2]=arguments[Sa];return ve.prototype[Ke].apply($e,De)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Be,ve){void 0===ve&&(ve=Be.length);for(var Pe=ve-this.blockSize,$e=this.B,Ke=this.h,ot=0;ot<ve;){if(0==Ke)for(;ot<=Pe;)l(this,Be,ot),ot+=this.blockSize;if("string"==typeof Be){for(;ot<ve;)if($e[Ke++]=Be.charCodeAt(ot++),Ke==this.blockSize){l(this,$e),Ke=0;break}}else for(;ot<ve;)if($e[Ke++]=Be[ot++],Ke==this.blockSize){l(this,$e),Ke=0;break}}this.h=Ke,this.o+=ve},s.prototype.v=function(){var Be=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Be[0]=128;for(var ve=1;ve<Be.length-8;++ve)Be[ve]=0;var Pe=8*this.o;for(ve=Be.length-8;ve<Be.length;++ve)Be[ve]=255&Pe,Pe/=256;for(this.u(Be),Be=Array(16),ve=Pe=0;4>ve;++ve)for(var $e=0;32>$e;$e+=8)Be[Pe++]=this.g[ve]>>>$e&255;return Be};var D={};function x(Be){return-128<=Be&&128>Be?function h(Be,ve){var Pe=D;return Object.prototype.hasOwnProperty.call(Pe,Be)?Pe[Be]:Pe[Be]=ve(Be)}(Be,function(ve){return new g([0|ve],0>ve?-1:0)}):new g([0|Be],0>Be?-1:0)}function U(Be){if(isNaN(Be)||!isFinite(Be))return le;if(0>Be)return Ut(U(-Be));for(var ve=[],Pe=1,$e=0;Be>=Pe;$e++)ve[$e]=Be/Pe|0,Pe*=4294967296;return new g(ve,0)}var le=x(0),Te=x(1),tt=x(16777216);function St(Be){if(0!=Be.h)return!1;for(var ve=0;ve<Be.g.length;ve++)if(0!=Be.g[ve])return!1;return!0}function mt(Be){return-1==Be.h}function Ut(Be){for(var ve=Be.g.length,Pe=[],$e=0;$e<ve;$e++)Pe[$e]=~Be.g[$e];return new g(Pe,~Be.h).add(Te)}function Cn(Be,ve){return Be.add(Ut(ve))}function kn(Be,ve){for(;(65535&Be[ve])!=Be[ve];)Be[ve+1]+=Be[ve]>>>16,Be[ve]&=65535,ve++}function xn(Be,ve){this.g=Be,this.h=ve}function Ar(Be,ve){if(St(ve))throw Error("division by zero");if(St(Be))return new xn(le,le);if(mt(Be))return ve=Ar(Ut(Be),ve),new xn(Ut(ve.g),Ut(ve.h));if(mt(ve))return ve=Ar(Be,Ut(ve)),new xn(Ut(ve.g),ve.h);if(30<Be.g.length){if(mt(Be)||mt(ve))throw Error("slowDivide_ only works with positive integers.");for(var Pe=Te,$e=ve;0>=$e.l(Be);)Pe=fi(Pe),$e=fi($e);var Ke=Dr(Pe,1),ot=Dr($e,1);for($e=Dr($e,2),Pe=Dr(Pe,2);!St($e);){var De=ot.add($e);0>=De.l(Be)&&(Ke=Ke.add(Pe),ot=De),$e=Dr($e,1),Pe=Dr(Pe,1)}return ve=Cn(Be,Ke.j(ve)),new xn(Ke,ve)}for(Ke=le;0<=Be.l(ve);){for(Pe=Math.max(1,Math.floor(Be.m()/ve.m())),$e=48>=($e=Math.ceil(Math.log(Pe)/Math.LN2))?1:Math.pow(2,$e-48),De=(ot=U(Pe)).j(ve);mt(De)||0<De.l(Be);)De=(ot=U(Pe-=$e)).j(ve);St(ot)&&(ot=Te),Ke=Ke.add(ot),Be=Cn(Be,De)}return new xn(Ke,Be)}function fi(Be){for(var ve=Be.g.length+1,Pe=[],$e=0;$e<ve;$e++)Pe[$e]=Be.i($e)<<1|Be.i($e-1)>>>31;return new g(Pe,Be.h)}function Dr(Be,ve){var Pe=ve>>5;ve%=32;for(var $e=Be.g.length-Pe,Ke=[],ot=0;ot<$e;ot++)Ke[ot]=0<ve?Be.i(ot+Pe)>>>ve|Be.i(ot+Pe+1)<<32-ve:Be.i(ot+Pe);return new g(Ke,Be.h)}(a=g.prototype).m=function(){if(mt(this))return-Ut(this).m();for(var Be=0,ve=1,Pe=0;Pe<this.g.length;Pe++){var $e=this.i(Pe);Be+=(0<=$e?$e:4294967296+$e)*ve,ve*=4294967296}return Be},a.toString=function(Be){if(2>(Be=Be||10)||36<Be)throw Error("radix out of range: "+Be);if(St(this))return"0";if(mt(this))return"-"+Ut(this).toString(Be);for(var ve=U(Math.pow(Be,6)),Pe=this,$e="";;){var Ke=Ar(Pe,ve).g,ot=((0<(Pe=Cn(Pe,Ke.j(ve))).g.length?Pe.g[0]:Pe.h)>>>0).toString(Be);if(St(Pe=Ke))return ot+$e;for(;6>ot.length;)ot="0"+ot;$e=ot+$e}},a.i=function(Be){return 0>Be?0:Be<this.g.length?this.g[Be]:this.h},a.l=function(Be){return mt(Be=Cn(this,Be))?-1:St(Be)?0:1},a.abs=function(){return mt(this)?Ut(this):this},a.add=function(Be){for(var ve=Math.max(this.g.length,Be.g.length),Pe=[],$e=0,Ke=0;Ke<=ve;Ke++){var ot=$e+(65535&this.i(Ke))+(65535&Be.i(Ke)),De=(ot>>>16)+(this.i(Ke)>>>16)+(Be.i(Ke)>>>16);$e=De>>>16,Pe[Ke]=(De&=65535)<<16|(ot&=65535)}return new g(Pe,-2147483648&Pe[Pe.length-1]?-1:0)},a.j=function(Be){if(St(this)||St(Be))return le;if(mt(this))return mt(Be)?Ut(this).j(Ut(Be)):Ut(Ut(this).j(Be));if(mt(Be))return Ut(this.j(Ut(Be)));if(0>this.l(tt)&&0>Be.l(tt))return U(this.m()*Be.m());for(var ve=this.g.length+Be.g.length,Pe=[],$e=0;$e<2*ve;$e++)Pe[$e]=0;for($e=0;$e<this.g.length;$e++)for(var Ke=0;Ke<Be.g.length;Ke++){var ot=this.i($e)>>>16,De=65535&this.i($e),Sa=Be.i(Ke)>>>16,rh=65535&Be.i(Ke);Pe[2*$e+2*Ke]+=De*rh,kn(Pe,2*$e+2*Ke),Pe[2*$e+2*Ke+1]+=ot*rh,kn(Pe,2*$e+2*Ke+1),Pe[2*$e+2*Ke+1]+=De*Sa,kn(Pe,2*$e+2*Ke+1),Pe[2*$e+2*Ke+2]+=ot*Sa,kn(Pe,2*$e+2*Ke+2)}for($e=0;$e<ve;$e++)Pe[$e]=Pe[2*$e+1]<<16|Pe[2*$e];for($e=ve;$e<2*ve;$e++)Pe[$e]=0;return new g(Pe,0)},a.A=function(Be){return Ar(this,Be).h},a.and=function(Be){for(var ve=Math.max(this.g.length,Be.g.length),Pe=[],$e=0;$e<ve;$e++)Pe[$e]=this.i($e)&Be.i($e);return new g(Pe,this.h&Be.h)},a.or=function(Be){for(var ve=Math.max(this.g.length,Be.g.length),Pe=[],$e=0;$e<ve;$e++)Pe[$e]=this.i($e)|Be.i($e);return new g(Pe,this.h|Be.h)},a.xor=function(Be){for(var ve=Math.max(this.g.length,Be.g.length),Pe=[],$e=0;$e<ve;$e++)Pe[$e]=this.i($e)^Be.i($e);return new g(Pe,this.h^Be.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vt=Ve.Md5=s,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=U,g.fromString=function ne(Be,ve){if(0==Be.length)throw Error("number format error: empty string");if(2>(ve=ve||10)||36<ve)throw Error("radix out of range: "+ve);if("-"==Be.charAt(0))return Ut(ne(Be.substring(1),ve));if(0<=Be.indexOf("-"))throw Error('number format error: interior "-" character');for(var Pe=U(Math.pow(ve,8)),$e=le,Ke=0;Ke<Be.length;Ke+=8){var ot=Math.min(8,Be.length-Ke),De=parseInt(Be.substring(Ke,Ke+ot),ve);8>ot?(ot=U(Math.pow(ve,ot)),$e=$e.j(ot).add(U(De))):$e=($e=$e.j(Pe)).add(U(De))}return $e},At=Ve.Integer=g}).apply(typeof Le<"u"?Le:typeof self<"u"?self:typeof window<"u"?window:{});var We,Rt,ct,Mt,Xt,mn,gn,qn,cn,ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,N,B){return f==Array.prototype||f==Object.prototype||(f[N]=B.value),f},s=function r(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ge&&ge];for(var N=0;N<f.length;++N){var B=f[N];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}(this);!function l(f,N){if(N)e:{var B=s;f=f.split(".");for(var oe=0;oe<f.length-1;oe++){var Qe=f[oe];if(!(Qe in B))break e;B=B[Qe]}(N=N(oe=B[f=f[f.length-1]]))!=oe&&null!=N&&e(B,f,{configurable:!0,writable:!0,value:N})}}("Array.prototype.values",function(f){return f||function(){return function h(f,N){f instanceof String&&(f+="");var B=0,oe=!1,Qe={next:function(){if(!oe&&B<f.length){var ft=B++;return{value:N(ft,f[ft]),done:!1}}return oe=!0,{done:!0,value:void 0}}};return Qe[Symbol.iterator]=function(){return Qe},Qe}(this,function(N,B){return B})}});var g=g||{},D=this||self;function x(f){var N=typeof f;return"array"==(N="object"!=N?N:f?Array.isArray(f)?"array":N:"null")||"object"==N&&"number"==typeof f.length}function U(f){var N=typeof f;return"object"==N&&null!=f||"function"==N}function ne(f,N,B){return f.call.apply(f.bind,arguments)}function le(f,N,B){if(!f)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var Qe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Qe,oe),f.apply(N,Qe)}}return function(){return f.apply(N,arguments)}}function Te(f,N,B){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ne:le).apply(null,arguments)}function tt(f,N){var B=Array.prototype.slice.call(arguments,1);return function(){var oe=B.slice();return oe.push.apply(oe,arguments),f.apply(this,oe)}}function St(f,N){function B(){}B.prototype=N.prototype,f.aa=N.prototype,f.prototype=new B,f.prototype.constructor=f,f.Qb=function(oe,Qe,ft){for(var nn=Array(arguments.length-2),Ui=2;Ui<arguments.length;Ui++)nn[Ui-2]=arguments[Ui];return N.prototype[Qe].apply(oe,nn)}}function mt(f){const N=f.length;if(0<N){const B=Array(N);for(let oe=0;oe<N;oe++)B[oe]=f[oe];return B}return[]}function Ut(f,N){for(let B=1;B<arguments.length;B++){const oe=arguments[B];if(x(oe)){const Qe=f.length||0,ft=oe.length||0;f.length=Qe+ft;for(let nn=0;nn<ft;nn++)f[Qe+nn]=oe[nn]}else f.push(oe)}}function kn(f){return/^[\s\xa0]*$/.test(f)}function xn(){var f=D.navigator;return f&&(f=f.userAgent)?f:""}function Ar(f){return Ar[" "](f),f}Ar[" "]=function(){};var fi=!(-1==xn().indexOf("Gecko")||-1!=xn().toLowerCase().indexOf("webkit")&&-1==xn().indexOf("Edge")||-1!=xn().indexOf("Trident")||-1!=xn().indexOf("MSIE")||-1!=xn().indexOf("Edge"));function Dr(f,N,B){for(const oe in f)N.call(B,f[oe],oe,f)}function ve(f){const N={};for(const B in f)N[B]=f[B];return N}const Pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(f,N){let B,oe;for(let Qe=1;Qe<arguments.length;Qe++){for(B in oe=arguments[Qe],oe)f[B]=oe[B];for(let ft=0;ft<Pe.length;ft++)B=Pe[ft],Object.prototype.hasOwnProperty.call(oe,B)&&(f[B]=oe[B])}}function Ke(f){var N=1;f=f.split(":");const B=[];for(;0<N&&f.length;)B.push(f.shift()),N--;return f.length&&B.push(f.join(":")),B}function ot(f){D.setTimeout(()=>{throw f},0)}function De(){var f=tg;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}var rh=new class Cn{constructor(N,B){this.i=N,this.j=B,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}(()=>new F_,f=>f.reset());class F_{constructor(){this.next=this.g=this.h=null}set(N,B){this.h=N,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ih,Jc=!1,tg=new class Sa{constructor(){this.h=this.g=null}add(N,B){const oe=rh.get();oe.set(N,B),this.h?this.h.next=oe:this.g=oe,this.h=oe}},Om=()=>{const f=D.Promise.resolve(void 0);ih=()=>{f.then(V_)}};var V_=()=>{for(var f;f=De();){try{f.h.call(f.g)}catch(B){ot(B)}var N=rh;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}Jc=!1};function ul(){this.s=this.s,this.C=this.C}function Io(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}ul.prototype.s=!1,ul.prototype.ma=function(){this.s||(this.s=!0,this.N())},ul.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Io.prototype.h=function(){this.defaultPrevented=!0};var km=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const B=()=>{};D.addEventListener("test",B,N),D.removeEventListener("test",B,N)}catch{}return f}();function sh(f,N){if(Io.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var B=this.type=f.type,oe=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(fi){e:{try{Ar(N.nodeName);var Qe=!0;break e}catch{}Qe=!1}Qe||(N=null)}}else"mouseover"==B?N=f.fromElement:"mouseout"==B&&(N=f.toElement);this.relatedTarget=N,oe?(this.clientX=void 0!==oe.clientX?oe.clientX:oe.pageX,this.clientY=void 0!==oe.clientY?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:U_[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&sh.aa.h.call(this)}}St(sh,Io);var U_={2:"touch",3:"pen",4:"mouse"};sh.prototype.h=function(){sh.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var To="closure_listenable_"+(1e6*Math.random()|0),B_=0;function j_(f,N,B,oe,Qe){this.listener=f,this.proxy=null,this.src=N,this.type=B,this.capture=!!oe,this.ha=Qe,this.key=++B_,this.da=this.fa=!1}function ng(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Xc(f){this.src=f,this.g={},this.h=0}function Hf(f,N){var B=N.type;if(B in f.g){var ft,oe=f.g[B],Qe=Array.prototype.indexOf.call(oe,N,void 0);(ft=0<=Qe)&&Array.prototype.splice.call(oe,Qe,1),ft&&(ng(N),0==f.g[B].length&&(delete f.g[B],f.h--))}}function rg(f,N,B,oe){for(var Qe=0;Qe<f.length;++Qe){var ft=f[Qe];if(!ft.da&&ft.listener==N&&ft.capture==!!B&&ft.ha==oe)return Qe}return-1}Xc.prototype.add=function(f,N,B,oe,Qe){var ft=f.toString();(f=this.g[ft])||(f=this.g[ft]=[],this.h++);var nn=rg(f,N,oe,Qe);return-1<nn?(N=f[nn],B||(N.fa=!1)):((N=new j_(N,this.src,ft,!!oe,Qe)).fa=B,f.push(N)),N};var ig="closure_lm_"+(1e6*Math.random()|0),sg={};function og(f,N,B,oe,Qe){if(oe&&oe.once)return zf(f,N,B,oe,Qe);if(Array.isArray(N)){for(var ft=0;ft<N.length;ft++)og(f,N[ft],B,oe,Qe);return null}return B=oh(B),f&&f[To]?f.K(N,B,U(oe)?!!oe.capture:!!oe,Qe):Lm(f,N,B,!1,oe,Qe)}function Lm(f,N,B,oe,Qe,ft){if(!N)throw Error("Invalid event type");var nn=U(Qe)?!!Qe.capture:!!Qe,Ui=ug(f);if(Ui||(f[ig]=Ui=new Xc(f)),(B=Ui.add(N,B,oe,nn,ft)).proxy)return B;if(oe=function $_(){const N=H_;return function f(B){return N.call(f.src,f.listener,B)}}(),B.proxy=oe,oe.src=f,oe.listener=B,f.addEventListener)km||(Qe=nn),void 0===Qe&&(Qe=!1),f.addEventListener(N.toString(),oe,Qe);else if(f.attachEvent)f.attachEvent(Vm(N.toString()),oe);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(oe)}return B}function zf(f,N,B,oe,Qe){if(Array.isArray(N)){for(var ft=0;ft<N.length;ft++)zf(f,N[ft],B,oe,Qe);return null}return B=oh(B),f&&f[To]?f.L(N,B,U(oe)?!!oe.capture:!!oe,Qe):Lm(f,N,B,!0,oe,Qe)}function Fm(f,N,B,oe,Qe){if(Array.isArray(N))for(var ft=0;ft<N.length;ft++)Fm(f,N[ft],B,oe,Qe);else oe=U(oe)?!!oe.capture:!!oe,B=oh(B),f&&f[To]?(f=f.i,(N=String(N).toString())in f.g&&-1<(B=rg(ft=f.g[N],B,oe,Qe))&&(ng(ft[B]),Array.prototype.splice.call(ft,B,1),0==ft.length&&(delete f.g[N],f.h--))):f&&(f=ug(f))&&(N=f.g[N.toString()],f=-1,N&&(f=rg(N,B,oe,Qe)),(B=-1<f?N[f]:null)&&ag(B))}function ag(f){if("number"!=typeof f&&f&&!f.da){var N=f.src;if(N&&N[To])Hf(N.i,f);else{var B=f.type,oe=f.proxy;N.removeEventListener?N.removeEventListener(B,oe,f.capture):N.detachEvent?N.detachEvent(Vm(B),oe):N.addListener&&N.removeListener&&N.removeListener(oe),(B=ug(N))?(Hf(B,f),0==B.h&&(B.src=null,N[ig]=null)):ng(f)}}}function Vm(f){return f in sg?sg[f]:sg[f]="on"+f}function H_(f,N){if(f.da)f=!0;else{N=new sh(N,this);var B=f.listener,oe=f.ha||f.src;f.fa&&ag(f),f=B.call(oe,N)}return f}function ug(f){return(f=f[ig])instanceof Xc?f:null}var ga="__closure_events_fn_"+(1e9*Math.random()>>>0);function oh(f){return"function"==typeof f?f:(f[ga]||(f[ga]=function(N){return f.handleEvent(N)}),f[ga])}function Lo(){ul.call(this),this.i=new Xc(this),this.M=this,this.F=null}function Fo(f,N){var B,oe=f.F;if(oe)for(B=[];oe;oe=oe.F)B.push(oe);if(f=f.M,oe=N.type||N,"string"==typeof N)N=new Io(N,f);else if(N instanceof Io)N.target=N.target||f;else{var Qe=N;$e(N=new Io(oe,f),Qe)}if(Qe=!0,B)for(var ft=B.length-1;0<=ft;ft--){var nn=N.g=B[ft];Qe=Gf(nn,oe,!0,N)&&Qe}if(Qe=Gf(nn=N.g=f,oe,!0,N)&&Qe,Qe=Gf(nn,oe,!1,N)&&Qe,B)for(ft=0;ft<B.length;ft++)Qe=Gf(nn=N.g=B[ft],oe,!1,N)&&Qe}function Gf(f,N,B,oe){if(!(N=f.i.g[String(N)]))return!0;N=N.concat();for(var Qe=!0,ft=0;ft<N.length;++ft){var nn=N[ft];if(nn&&!nn.da&&nn.capture==B){var Ui=nn.listener,uo=nn.ha||nn.src;nn.fa&&Hf(f.i,nn),Qe=!1!==Ui.call(uo,oe)&&Qe}}return Qe&&!oe.defaultPrevented}function lg(f,N,B){if("function"==typeof f)B&&(f=Te(f,B));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=Te(f.handleEvent,f)}return 2147483647<Number(N)?-1:D.setTimeout(f,N||0)}function cg(f){f.g=lg(()=>{f.g=null,f.i&&(f.i=!1,cg(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}St(Lo,ul),Lo.prototype[To]=!0,Lo.prototype.removeEventListener=function(f,N,B,oe){Fm(this,f,N,B,oe)},Lo.prototype.N=function(){if(Lo.aa.N.call(this),this.i){var N,f=this.i;for(N in f.g){for(var B=f.g[N],oe=0;oe<B.length;oe++)ng(B[oe]);delete f.g[N],f.h--}}this.F=null},Lo.prototype.K=function(f,N,B,oe){return this.i.add(String(f),N,!1,B,oe)},Lo.prototype.L=function(f,N,B,oe){return this.i.add(String(f),N,!0,B,oe)};class Wf extends ul{constructor(N,B){super(),this.m=N,this.l=B,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:cg(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tc(f){ul.call(this),this.h=f,this.g={}}St(tc,ul);var z_=[];function dg(f){Dr(f.g,function(N,B){this.g.hasOwnProperty(B)&&ag(N)},f),f.g={}}tc.prototype.N=function(){tc.aa.N.call(this),dg(this)},tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qf=D.JSON.stringify,Um=D.JSON.parse,Bm=class{stringify(f){return D.JSON.stringify(f,void 0)}parse(f){return D.JSON.parse(f,void 0)}};function ah(){}function jm(){}ah.prototype.h=null;var uh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lh(){Io.call(this,"d")}function hg(){Io.call(this,"c")}St(lh,Io),St(hg,Io);var ll={},$m=null;function nc(){return $m=$m||new Lo}function ed(f){Io.call(this,ll.La,f)}function td(f){const N=nc();Fo(N,new ed(N))}function ch(f,N){Io.call(this,ll.STAT_EVENT,f),this.stat=N}function Zo(f){const N=nc();Fo(N,new ch(N,f))}function Hm(f,N){Io.call(this,ll.Ma,f),this.size=N}function nd(f,N){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){f()},N)}function rd(){this.g=!0}function rc(f,N,B,oe){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+function dh(f,N){if(!f.g)return N;if(!N)return null;try{var B=JSON.parse(N);if(B)for(f=0;f<B.length;f++)if(Array.isArray(B[f])){var oe=B[f];if(!(2>oe.length)){var Qe=oe[1];if(Array.isArray(Qe)&&!(1>Qe.length)){var ft=Qe[0];if("noop"!=ft&&"stop"!=ft&&"close"!=ft)for(var nn=1;nn<Qe.length;nn++)Qe[nn]=""}}}return qf(B)}catch{return N}}(f,B)+(oe?" "+oe:"")})}ll.La="serverreachability",St(ed,Io),ll.STAT_EVENT="statevent",St(ch,Io),ll.Ma="timingevent",St(Hm,Io),rd.prototype.xa=function(){this.g=!1},rd.prototype.info=function(){};var Qf,Kf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Zf(){}function cl(f,N,B,oe){this.j=f,this.i=N,this.l=B,this.R=oe||1,this.U=new tc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new id}function id(){this.i=null,this.g="",this.h=!1}St(Zf,ah),Zf.prototype.g=function(){return new XMLHttpRequest},Zf.prototype.i=function(){return{}},Qf=new Zf;var Gm={},pg={};function gg(f,N,B){f.L=1,f.v=ra(ma(N)),f.m=B,f.P=!0,Wm(f,null)}function Wm(f,N){f.F=Date.now(),Yf(f),f.A=ma(f.v);var B=f.A,oe=f.R;Array.isArray(oe)||(oe=[String(oe)]),lc(B.i,"t",oe),f.C=0,B=f.j.J,f.h=new id,f.g=gy(f.j,B?N:null,!f.m),0<f.O&&(f.M=new Wf(Te(f.Y,f,f.g),f.O)),N=f.U,B=f.g,oe=f.ca;var Qe="readystatechange";Array.isArray(Qe)||(Qe&&(z_[0]=Qe.toString()),Qe=z_);for(var ft=0;ft<Qe.length;ft++){var nn=og(B,Qe[ft],oe||N.handleEvent,!1,N.h||N);if(!nn)break;N.g[nn.key]=nn}N=f.H?ve(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),td(),function G_(f,N,B,oe,Qe,ft){f.info(function(){if(f.g)if(ft)for(var nn="",Ui=ft.split("&"),uo=0;uo<Ui.length;uo++){var Ti=Ui[uo].split("=");if(1<Ti.length){var Vo=Ti[0];Ti=Ti[1];var Uo=Vo.split("_");nn=2<=Uo.length&&"type"==Uo[1]?nn+(Vo+"=")+Ti+"&":nn+(Vo+"=redacted&")}}else nn=null;else nn=ft;return"XMLHTTP REQ ("+oe+") [attempt "+Qe+"]: "+N+"\n"+B+"\n"+nn})}(f.i,f.u,f.A,f.l,f.R,f.m)}function qm(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function q_(f,N){var B=f.C,oe=N.indexOf("\n",B);return-1==oe?pg:(B=Number(N.substring(B,oe)),isNaN(B)?Gm:(oe+=1)+B>N.length?pg:(N=N.slice(oe,oe+B),f.C=oe+B,N))}function Yf(f){f.S=Date.now()+f.I,Km(f,f.I)}function Km(f,N){if(null!=f.B)throw Error("WatchDog timer not null");f.B=nd(Te(f.ba,f),N)}function Jf(f){f.B&&(D.clearTimeout(f.B),f.B=null)}function ic(f){0==f.j.G||f.J||hy(f.j,f)}function sc(f){Jf(f);var N=f.M;N&&"function"==typeof N.ma&&N.ma(),f.M=null,dg(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function sd(f,N){try{var B=f.j;if(0!=B.G&&(B.g==f||mg(B.h,f)))if(!f.K&&mg(B.h,f)&&3==B.G){try{var oe=B.Da.g.parse(N)}catch{oe=null}if(Array.isArray(oe)&&3==oe.length){var Qe=oe;if(0==Qe[0]){e:if(!B.u){if(B.g){if(!(B.g.F+3e3<f.F))break e;Tg(B),dl(B)}_h(B),Zo(18)}}else B.za=Qe[1],0<B.za-B.T&&37500>Qe[2]&&B.F&&0==B.v&&!B.C&&(B.C=nd(Te(B.Za,B),6e3));if(1>=Ym(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else Su(B,11)}else if((f.K||B.g==f)&&Tg(B),!kn(N))for(Qe=B.Da.g.parse(N),N=0;N<Qe.length;N++){let Ti=Qe[N];if(B.T=Ti[0],Ti=Ti[1],2==B.G)if("c"==Ti[0]){B.K=Ti[1],B.ia=Ti[2];const Vo=Ti[3];null!=Vo&&(B.la=Vo,B.j.info("VER="+B.la));const Uo=Ti[4];null!=Uo&&(B.Aa=Uo,B.j.info("SVER="+B.Aa));const hl=Ti[5];null!=hl&&"number"==typeof hl&&0<hl&&(B.L=oe=1.5*hl,B.j.info("backChannelRequestTimeoutMs_="+oe)),oe=B;const sa=f.g;if(sa){const Eh=sa.g?sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eh){var ft=oe.h;ft.g||-1==Eh.indexOf("spdy")&&-1==Eh.indexOf("quic")&&-1==Eh.indexOf("h2")||(ft.j=ft.l,ft.g=new Set,ft.h&&(yg(ft,ft.h),ft.h=null))}if(oe.D){const op=sa.g?sa.g.getResponseHeader("X-HTTP-Session-Id"):null;op&&(oe.ya=op,ps(oe.I,oe.D,op))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-f.F,B.j.info("Handshake RTT: "+B.R+"ms"));var nn=f;if((oe=B).qa=bg(oe,oe.J?oe.ia:null,oe.W),nn.K){Jm(oe.h,nn);var Ui=nn,uo=oe.L;uo&&(Ui.I=uo),Ui.B&&(Jf(Ui),Yf(Ui)),oe.g=nn}else dy(oe);0<B.i.length&&sp(B)}else"stop"!=Ti[0]&&"close"!=Ti[0]||Su(B,7);else 3==B.G&&("stop"==Ti[0]||"close"==Ti[0]?"stop"==Ti[0]?Su(B,7):ip(B):"noop"!=Ti[0]&&B.l&&B.l.ta(Ti),B.v=0)}td()}catch{}}function Qm(f){this.l=f||10,f=D.PerformanceNavigationTiming?0<(f=D.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zm(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Ym(f){return f.h?1:f.g?f.g.size:0}function mg(f,N){return f.h?f.h==N:!!f.g&&f.g.has(N)}function yg(f,N){f.g?f.g.add(N):f.h=N}function Jm(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}function _g(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let N=f.i;for(const B of f.g.values())N=N.concat(B.D);return N}return mt(f.i)}function Z_(f,N){if(f.forEach&&"function"==typeof f.forEach)f.forEach(N,void 0);else if(x(f)||"string"==typeof f)Array.prototype.forEach.call(f,N,void 0);else for(var B=function Q_(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(x(f)||"string"==typeof f){var N=[];f=f.length;for(var B=0;B<f;B++)N.push(B);return N}N=[],B=0;for(const oe in f)N[B++]=oe;return N}}}(f),oe=function Xm(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(x(f)){for(var N=[],B=f.length,oe=0;oe<B;oe++)N.push(f[oe]);return N}for(oe in N=[],B=0,f)N[B++]=f[oe];return N}(f),Qe=oe.length,ft=0;ft<Qe;ft++)N.call(void 0,oe[ft],B&&B[ft],f)}cl.prototype.ca=function(f){f=f.target;const N=this.M;N&&3==Cu(f)?N.j():this.Y(f)},cl.prototype.Y=function(f){try{if(f==this.g)e:{const Uo=Cu(this.g);var N=this.g.Ba();if(this.g.Z(),!(3>Uo)&&(3!=Uo||this.g&&(this.h.h||this.g.oa()||rp(this.g)))){this.J||4!=Uo||7==N||td(),Jf(this);var B=this.g.Z();this.X=B;t:if(qm(this)){var oe=rp(this.g);f="";var Qe=oe.length,ft=4==Cu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sc(this),ic(this);var nn="";break t}this.h.i=new D.TextDecoder}for(N=0;N<Qe;N++)this.h.h=!0,f+=this.h.i.decode(oe[N],{stream:!(ft&&N==Qe-1)});oe.length=0,this.h.g+=f,this.C=0,nn=this.h.g}else nn=this.g.oa();if(this.o=200==B,function W_(f,N,B,oe,Qe,ft,nn){f.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+Qe+"]: "+N+"\n"+B+"\n"+ft+" "+nn})}(this.i,this.u,this.A,this.l,this.R,Uo,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Ui,uo=this.g;if((Ui=uo.g?uo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kn(Ui)){var Ti=Ui;break t}}Ti=null}if(!(B=Ti)){this.o=!1,this.s=3,Zo(12),sc(this),ic(this);break e}rc(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sd(this,B)}if(this.P){let sa;for(B=!0;!this.J&&this.C<nn.length;){if(sa=q_(this,nn),sa==pg){4==Uo&&(this.s=4,Zo(14),B=!1),rc(this.i,this.l,null,"[Incomplete Response]");break}if(sa==Gm){this.s=4,Zo(15),rc(this.i,this.l,nn,"[Invalid Chunk]"),B=!1;break}rc(this.i,this.l,sa,null),sd(this,sa)}if(qm(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Uo||0!=nn.length||this.h.h||(this.s=1,Zo(16),B=!1),this.o=this.o&&B,B){if(0<nn.length&&!this.W){this.W=!0;var Vo=this.j;Vo.g==this&&Vo.ba&&!Vo.M&&(Vo.j.info("Great, no buffering proxy detected. Bytes received: "+nn.length),hd(Vo),Vo.M=!0,Zo(11))}}else rc(this.i,this.l,nn,"[Invalid Chunked Response]"),sc(this),ic(this)}else rc(this.i,this.l,nn,null),sd(this,nn);4==Uo&&sc(this),this.o&&!this.J&&(4==Uo?hy(this.j,this):(this.o=!1,Yf(this)))}else(function ph(f){const N={};f=(f.g&&2<=Cu(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let oe=0;oe<f.length;oe++){if(kn(f[oe]))continue;var B=Ke(f[oe]);const Qe=B[0];if("string"!=typeof(B=B[1]))continue;B=B.trim();const ft=N[Qe]||[];N[Qe]=ft,ft.push(B)}!function Be(f,N){for(const B in f)N.call(void 0,f[B],B,f)}(N,function(oe){return oe.join(", ")})})(this.g),400==B&&0<nn.indexOf("Unknown SID")?(this.s=3,Zo(12)):(this.s=0,Zo(13)),sc(this),ic(this)}}}catch{}},cl.prototype.cancel=function(){this.J=!0,sc(this)},cl.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function zm(f,N){f.info(function(){return"TIMEOUT: "+N})}(this.i,this.A),2!=this.L&&(td(),Zo(17)),sc(this),this.s=2,ic(this)):Km(this,this.S-f)},Qm.prototype.cancel=function(){if(this.i=_g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof od){this.h=f.h,Xf(this,f.j),this.o=f.o,this.g=f.g,ep(this,f.s),this.l=f.l;var N=f.i,B=new iu;B.i=N.i,N.g&&(B.g=new Map(N.g),B.h=N.h),tp(this,B),this.m=f.m}else f&&(N=String(f).match(vg))?(this.h=!1,Xf(this,N[1]||"",!0),this.o=Au(N[2]||""),this.g=Au(N[3]||"",!0),ep(this,N[4]),this.l=Au(N[5]||"",!0),tp(this,N[6]||"",!0),this.m=Au(N[7]||"")):(this.h=!1,this.i=new iu(null,this.h))}function ma(f){return new od(f)}function Xf(f,N,B){f.j=B?Au(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function ep(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function tp(f,N,B){N instanceof iu?(f.i=N,function ld(f,N){N&&!f.j&&(ia(f),f.i=null,f.g.forEach(function(B,oe){var Qe=oe.toLowerCase();oe!=Qe&&(ac(this,oe),lc(this,Qe,B))},f)),f.j=N}(f.i,f.h)):(B||(N=Qs(N,ad)),f.i=new iu(N,f.h))}function ps(f,N,B){f.i.set(N,B)}function ra(f){return ps(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Au(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qs(f,N,B){return"string"==typeof f?(f=encodeURI(f).replace(N,oc),B&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function oc(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}od.prototype.toString=function(){var f=[],N=this.j;N&&f.push(Qs(N,hh,!0),":");var B=this.g;return(B||"file"==N)&&(f.push("//"),(N=this.o)&&f.push(Qs(N,hh,!0),"@"),f.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(B=this.s)&&f.push(":",String(B))),(B=this.l)&&(this.g&&"/"!=B.charAt(0)&&f.push("/"),f.push(Qs(B,"/"==B.charAt(0)?wg:ya,!0))),(B=this.i.toString())&&f.push("?",B),(B=this.m)&&f.push("#",Qs(B,ud)),f.join("")};var f,hh=/[#\/\?@]/g,ya=/[#\?:]/g,wg=/[#\?]/g,ad=/[#\?@]/g,ud=/#/g;function iu(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function ia(f){f.g||(f.g=new Map,f.h=0,f.i&&function ey(f,N){if(f){f=f.split("&");for(var B=0;B<f.length;B++){var oe=f[B].indexOf("="),Qe=null;if(0<=oe){var ft=f[B].substring(0,oe);Qe=f[B].substring(oe+1)}else ft=f[B];N(ft,Qe?decodeURIComponent(Qe.replace(/\+/g," ")):"")}}}(f.i,function(N,B){f.add(decodeURIComponent(N.replace(/\+/g," ")),B)}))}function ac(f,N){ia(f),N=Ra(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function uc(f,N){return ia(f),N=Ra(f,N),f.g.has(N)}function lc(f,N,B){ac(f,N),0<B.length&&(f.i=null,f.g.set(Ra(f,N),mt(B)),f.h+=B.length)}function Ra(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function Du(f,N,B,oe,Qe){try{Qe&&(Qe.onload=null,Qe.onerror=null,Qe.onabort=null,Qe.ontimeout=null),oe(B)}catch{}}function ry(){this.g=new Bm}function iy(f,N,B){const oe=B||"";try{Z_(f,function(Qe,ft){let nn=Qe;U(Qe)&&(nn=qf(Qe)),N.push(oe+ft+"="+encodeURIComponent(nn))})}catch(Qe){throw N.push(oe+"type="+encodeURIComponent("_badmap")),Qe}}function cd(f){this.l=f.Ub||null,this.j=f.eb||!1}function fh(f,N){Lo.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Eg(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function dd(f){f.readyState=4,f.l=null,f.j=null,f.v=null,cc(f)}function cc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function sy(f){let N="";return Dr(f,function(B,oe){N+=oe,N+=":",N+=B,N+="\r\n"}),N}function oy(f,N,B){e:{for(oe in B){var oe=!1;break e}oe=!0}oe||(B=sy(B),"string"==typeof f?null!=B&&encodeURIComponent(String(B)):ps(f,N,B))}function Vs(f){Lo.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=iu.prototype).add=function(f,N){ia(this),this.i=null,f=Ra(this,f);var B=this.g.get(f);return B||this.g.set(f,B=[]),B.push(N),this.h+=1,this},a.forEach=function(f,N){ia(this),this.g.forEach(function(B,oe){B.forEach(function(Qe){f.call(N,Qe,oe,this)},this)},this)},a.na=function(){ia(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),B=[];for(let oe=0;oe<N.length;oe++){const Qe=f[oe];for(let ft=0;ft<Qe.length;ft++)B.push(N[oe])}return B},a.V=function(f){ia(this);let N=[];if("string"==typeof f)uc(this,f)&&(N=N.concat(this.g.get(Ra(this,f))));else{f=Array.from(this.g.values());for(let B=0;B<f.length;B++)N=N.concat(f[B])}return N},a.set=function(f,N){return ia(this),this.i=null,uc(this,f=Ra(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},a.get=function(f,N){return f&&0<(f=this.V(f)).length?String(f[0]):N},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var B=0;B<N.length;B++){var oe=N[B];const ft=encodeURIComponent(String(oe)),nn=this.V(oe);for(oe=0;oe<nn.length;oe++){var Qe=ft;""!==nn[oe]&&(Qe+="="+encodeURIComponent(String(nn[oe]))),f.push(Qe)}}return this.i=f.join("&")},St(cd,ah),cd.prototype.g=function(){return new fh(this.l,this.j)},cd.prototype.i=(f={},function(){return f}),St(fh,Lo),(a=fh.prototype).open=function(f,N){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,cc(this)},a.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||D).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dd(this)),this.readyState=0},a.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,cc(this)),this.g&&(this.readyState=3,cc(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eg(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?dd(this):cc(this),3==this.readyState&&Eg(this)}},a.Ra=function(f){this.g&&(this.response=this.responseText=f,dd(this))},a.Qa=function(f){this.g&&(this.response=f,dd(this))},a.ga=function(){this.g&&dd(this)},a.setRequestHeader=function(f,N){this.u.append(f,N)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var B=N.next();!B.done;)f.push((B=B.value)[0]+": "+B[1]),B=N.next();return f.join("\r\n")},Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),St(Vs,Lo);var Y_=/^https?$/i,J_=["POST","PUT"];function X_(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,ay(f),np(f)}function ay(f){f.A||(f.A=!0,Fo(f,"complete"),Fo(f,"error"))}function ev(f){if(f.h&&typeof g<"u"&&(!f.v[1]||4!=Cu(f)||2!=f.Z()))if(f.u&&4==Cu(f))lg(f.Ea,0,f);else if(Fo(f,"readystatechange"),4==Cu(f)){f.h=!1;try{const nn=f.Z();e:switch(nn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var B;if(!(B=N)){var oe;if(oe=0===nn){var Qe=String(f.D).match(vg)[1]||null;!Qe&&D.self&&D.self.location&&(Qe=D.self.location.protocol.slice(0,-1)),oe=!Y_.test(Qe?Qe.toLowerCase():"")}B=oe}if(B)Fo(f,"complete"),Fo(f,"success");else{f.m=6;try{var ft=2<Cu(f)?f.g.statusText:""}catch{ft=""}f.l=ft+" ["+f.Z()+"]",ay(f)}}finally{np(f)}}}function np(f,N){if(f.g){uy(f);const B=f.g,oe=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||Fo(f,"ready");try{B.onreadystatechange=oe}catch{}}}function uy(f){f.I&&(D.clearTimeout(f.I),f.I=null)}function Cu(f){return f.g?f.g.readyState:0}function rp(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function dc(f,N,B){return B&&B.internalChannelParams&&B.internalChannelParams[f]||N}function gh(f){this.Aa=0,this.i=[],this.j=new rd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dc("baseRetryDelayMs",5e3,f),this.cb=dc("retryDelaySeedMs",1e4,f),this.Wa=dc("forwardChannelMaxRetries",2,f),this.wa=dc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Qm(f&&f.concurrentRequestLimit),this.Da=new ry,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ip(f){if(Ig(f),3==f.G){var N=f.U++,B=ma(f.I);if(ps(B,"SID",f.K),ps(B,"RID",N),ps(B,"TYPE","terminate"),yh(f,B),(N=new cl(f,f.j,N)).L=2,N.v=ra(ma(B)),B=!1,D.navigator&&D.navigator.sendBeacon)try{B=D.navigator.sendBeacon(N.v.toString(),"")}catch{}!B&&D.Image&&((new Image).src=N.v,B=!0),B||(N.g=gy(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Yf(N)}py(f)}function dl(f){f.g&&(hd(f),f.g.cancel(),f.g=null)}function Ig(f){dl(f),f.u&&(D.clearTimeout(f.u),f.u=null),Tg(f),f.h.cancel(),f.s&&("number"==typeof f.s&&D.clearTimeout(f.s),f.s=null)}function sp(f){if(!Zm(f.h)&&!f.s){f.s=!0;var N=f.Ga;ih||Om(),Jc||(ih(),Jc=!0),tg.add(N,f),f.B=0}}function ly(f,N){var B;B=N?N.l:f.U++;const oe=ma(f.I);ps(oe,"SID",f.K),ps(oe,"RID",B),ps(oe,"AID",f.T),yh(f,oe),f.m&&f.o&&oy(oe,f.m,f.o),B=new cl(f,f.j,B,f.B+1),null===f.m&&(B.H=f.o),N&&(f.i=N.D.concat(f.i)),N=cy(f,B,1e3),B.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),yg(f.h,B),gg(B,oe,N)}function yh(f,N){f.H&&Dr(f.H,function(B,oe){ps(N,oe,B)}),f.l&&Z_({},function(B,oe){ps(N,oe,B)})}function cy(f,N,B){B=Math.min(f.i.length,B);var oe=f.l?Te(f.l.Na,f.l,f):null;e:{var Qe=f.i;let ft=-1;for(;;){const nn=["count="+B];-1==ft?0<B?(ft=Qe[0].g,nn.push("ofs="+ft)):ft=0:nn.push("ofs="+ft);let Ui=!0;for(let uo=0;uo<B;uo++){let Ti=Qe[uo].g;const Vo=Qe[uo].map;if(Ti-=ft,0>Ti)ft=Math.max(0,Qe[uo].g-100),Ui=!1;else try{iy(Vo,nn,"req"+Ti+"_")}catch{oe&&oe(Vo)}}if(Ui){oe=nn.join("&");break e}}}return f=f.i.splice(0,B),N.D=f,oe}function dy(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;ih||Om(),Jc||(ih(),Jc=!0),tg.add(N,f),f.v=0}}function _h(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=nd(Te(f.Fa,f),fy(f,f.v)),f.v++,0))}function hd(f){null!=f.A&&(D.clearTimeout(f.A),f.A=null)}function vh(f){f.g=new cl(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var N=ma(f.qa);ps(N,"RID","rpc"),ps(N,"SID",f.K),ps(N,"AID",f.T),ps(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&ps(N,"TO",f.ja),ps(N,"TYPE","xmlhttp"),yh(f,N),f.m&&f.o&&oy(N,f.m,f.o),f.L&&(f.g.I=f.L);var B=f.g;f=f.ia,B.L=1,B.v=ra(ma(N)),B.m=null,B.P=!0,Wm(B,f)}function Tg(f){null!=f.C&&(D.clearTimeout(f.C),f.C=null)}function hy(f,N){var B=null;if(f.g==N){Tg(f),hd(f),f.g=null;var oe=2}else{if(!mg(f.h,N))return;B=N.D,Jm(f.h,N),oe=1}if(0!=f.G)if(N.o)if(1==oe){B=N.m?N.m.length:0,N=Date.now()-N.F;var Qe=f.B;Fo(oe=nc(),new Hm(oe,B)),sp(f)}else dy(f);else if(3==(Qe=N.s)||0==Qe&&0<N.X||!(1==oe&&function mh(f,N){return!(Ym(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=N.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=nd(Te(f.Ga,f,N),fy(f,f.B)),f.B++,0)))}(f,N)||2==oe&&_h(f)))switch(B&&0<B.length&&(N=f.h,N.i=N.i.concat(B)),Qe){case 1:Su(f,5);break;case 4:Su(f,10);break;case 3:Su(f,6);break;default:Su(f,2)}}function fy(f,N){let B=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(B*=2),B*N}function Su(f,N){if(f.j.info("Error code "+N),2==N){var B=Te(f.fb,f),oe=f.Xa;const Qe=!oe;oe=new od(oe||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||Xf(oe,"https"),ra(oe),Qe?function ty(f,N){const B=new rd;if(D.Image){const oe=new Image;oe.onload=tt(Du,B,"TestLoadImage: loaded",!0,N,oe),oe.onerror=tt(Du,B,"TestLoadImage: error",!1,N,oe),oe.onabort=tt(Du,B,"TestLoadImage: abort",!1,N,oe),oe.ontimeout=tt(Du,B,"TestLoadImage: timeout",!1,N,oe),D.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=f}else N(!1)}(oe.toString(),B):function ny(f,N){new rd;const oe=new AbortController,Qe=setTimeout(()=>{oe.abort(),Du(0,0,!1,N)},1e4);fetch(f,{signal:oe.signal}).then(ft=>{clearTimeout(Qe),Du(0,0,!!ft.ok,N)}).catch(()=>{clearTimeout(Qe),Du(0,0,!1,N)})}(oe.toString(),B)}else Zo(2);f.G=0,f.l&&f.l.sa(N),py(f),Ig(f)}function py(f){if(f.G=0,f.ka=[],f.l){const N=_g(f.h);(0!=N.length||0!=f.i.length)&&(Ut(f.ka,N),Ut(f.ka,f.i),f.h.i.length=0,mt(f.i),f.i.length=0),f.l.ra()}}function bg(f,N,B){var oe=B instanceof od?ma(B):new od(B);if(""!=oe.g)N&&(oe.g=N+"."+oe.g),ep(oe,oe.s);else{var Qe=D.location;oe=Qe.protocol,N=N?N+"."+Qe.hostname:Qe.hostname,Qe=+Qe.port;var ft=new od(null);oe&&Xf(ft,oe),N&&(ft.g=N),Qe&&ep(ft,Qe),B&&(ft.l=B),oe=ft}return N=f.ya,(B=f.D)&&N&&ps(oe,B,N),ps(oe,"VER",f.la),yh(f,oe),oe}function gy(f,N,B){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new Vs(f.Ca&&!f.pa?new cd({eb:B}):f.pa)).Ha(f.J),N}function my(){}function wh(){}function Yo(f,N){Lo.call(this),this.g=new gh(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!kn(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!kn(N)&&(this.g.D=N,null!==(f=this.h)&&N in f&&N in(f=this.h)&&delete f[N]),this.j=new fd(this)}function Ag(f){lh.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const B in N){f=B;break e}f=void 0}(this.i=f)&&(f=this.i,N=null!==N&&f in N?N[f]:void 0),this.data=N}else this.data=f}function yy(){hg.call(this),this.status=1}function fd(f){this.g=f}(a=Vs.prototype).Ha=function(f){this.J=f},a.ea=function(f,N,B,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qf.g(),this.v=function ru(f){return f.h||(f.h=f.i())}(this.o?this.o:Qf),this.g.onreadystatechange=Te(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(ft){return void X_(this,ft)}if(f=B||"",B=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var Qe in oe)B.set(Qe,oe[Qe]);else{if("function"!=typeof oe.keys||"function"!=typeof oe.get)throw Error("Unknown input type for opt_headers: "+String(oe));for(const ft of oe.keys())B.set(ft,oe.get(ft))}oe=Array.from(B.keys()).find(ft=>"content-type"==ft.toLowerCase()),Qe=D.FormData&&f instanceof D.FormData,!(0<=Array.prototype.indexOf.call(J_,N,void 0))||oe||Qe||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,nn]of B)this.g.setRequestHeader(ft,nn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uy(this),this.u=!0,this.g.send(f),this.u=!1}catch(ft){X_(this,ft)}},a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Fo(this,"complete"),Fo(this,"abort"),np(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),np(this,!0)),Vs.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ev(this):this.bb())},a.bb=function(){ev(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Cu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&0==N.indexOf(f)&&(N=N.substring(f.length)),Um(N)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=gh.prototype).la=8,a.G=1,a.connect=function(f,N,B,oe){Zo(0),this.W=f,this.H=N||{},B&&void 0!==oe&&(this.H.OSID=B,this.H.OAID=oe),this.F=this.X,this.I=bg(this,null,this.W),sp(this)},a.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Qe=new cl(this,this.j,f);let ft=this.o;if(this.S&&(ft?(ft=ve(ft),$e(ft,this.S)):ft=this.S),null!==this.m||this.O||(Qe.H=ft,ft=null),this.P)e:{for(var N=0,B=0;B<this.i.length;B++){var oe=this.i[B];if(void 0===(oe="__data__"in oe.map&&"string"==typeof(oe=oe.map.__data__)?oe.length:void 0))break;if(4096<(N+=oe)){N=B;break e}if(4096===N||B===this.i.length-1){N=B+1;break e}}N=1e3}else N=1e3;N=cy(this,Qe,N),ps(B=ma(this.I),"RID",f),ps(B,"CVER",22),this.D&&ps(B,"X-HTTP-Session-Id",this.D),yh(this,B),ft&&(this.O?N="headers="+encodeURIComponent(String(sy(ft)))+"&"+N:this.m&&oy(B,this.m,ft)),yg(this.h,Qe),this.Ua&&ps(B,"TYPE","init"),this.P?(ps(B,"$req",N),ps(B,"SID","null"),Qe.T=!0,gg(Qe,B,null)):gg(Qe,B,N),this.G=2}}else 3==this.G&&(f?ly(this,f):0==this.i.length||Zm(this.h)||ly(this))},a.Fa=function(){if(this.u=null,vh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=nd(Te(this.ab,this),f)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zo(10),dl(this),vh(this))},a.Za=function(){null!=this.C&&(this.C=null,dl(this),_h(this),Zo(19))},a.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Zo(2)):(this.j.info("Failed to ping google.com"),Zo(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=my.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},wh.prototype.g=function(f,N){return new Yo(f,N)},St(Yo,Lo),Yo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yo.prototype.close=function(){ip(this.g)},Yo.prototype.o=function(f){var N=this.g;if("string"==typeof f){var B={};B.__data__=f,f=B}else this.u&&((B={}).__data__=qf(f),f=B);N.i.push(new class{constructor(f,N){this.g=f,this.map=N}}(N.Ya++,f)),3==N.G&&sp(N)},Yo.prototype.N=function(){this.g.l=null,delete this.j,ip(this.g),delete this.g,Yo.aa.N.call(this)},St(Ag,lh),St(yy,hg),St(fd,my),fd.prototype.ua=function(){Fo(this.g,"a")},fd.prototype.ta=function(f){Fo(this.g,new Ag(f))},fd.prototype.sa=function(f){Fo(this.g,new yy)},fd.prototype.ra=function(){Fo(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,Yo.prototype.send=Yo.prototype.o,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,cn=ye.createWebChannelTransport=function(){return new wh},qn=ye.getStatEventTarget=function(){return nc()},gn=ye.Event=ll,mn=ye.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kf.NO_ERROR=0,Kf.TIMEOUT=8,Kf.HTTP_ERROR=6,Xt=ye.ErrorCode=Kf,fg.COMPLETE="complete",Mt=ye.EventType=fg,jm.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",Lo.prototype.listen=Lo.prototype.K,ct=ye.WebChannel=jm,Rt=ye.FetchXmlHttpFactory=cd,Vs.prototype.listenOnce=Vs.prototype.L,Vs.prototype.getLastError=Vs.prototype.Ka,Vs.prototype.getLastErrorCode=Vs.prototype.Ba,Vs.prototype.getStatus=Vs.prototype.Z,Vs.prototype.getResponseJson=Vs.prototype.Oa,Vs.prototype.getResponseText=Vs.prototype.oa,Vs.prototype.send=Vs.prototype.ea,Vs.prototype.setWithCredentials=Vs.prototype.Ha,We=ye.XhrIo=Vs}).apply(typeof ge<"u"?ge:typeof self<"u"?self:typeof window<"u"?window:{});const Ae="@firebase/firestore";class rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");let lt="10.12.1";const Ft=new ze.Yd("@firebase/firestore");function Ht(){return Ft.logLevel}function be(a,...e){if(Ft.logLevel<=ze.in.DEBUG){const r=e.map(xi);Ft.debug(`Firestore (${lt}): ${a}`,...r)}}function kt(a,...e){if(Ft.logLevel<=ze.in.ERROR){const r=e.map(xi);Ft.error(`Firestore (${lt}): ${a}`,...r)}}function jn(a,...e){if(Ft.logLevel<=ze.in.WARN){const r=e.map(xi);Ft.warn(`Firestore (${lt}): ${a}`,...r)}}function xi(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Ie(a="Unexpected state"){const e=`FIRESTORE (${lt}) INTERNAL ASSERTION FAILED: `+a;throw kt(e),new Error(e)}function Ye(a,e){a||Ie()}function qe(a,e){return a}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends ue.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ge{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Xe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(rt.UNAUTHENTICATED))}shutdown(){}}class je{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ke{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const h=U=>this.i!==l?(l=this.i,r(U)):Promise.resolve();let g=new Ge;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ge,e.enqueueRetryable(()=>h(this.currentUser))};const D=()=>{const U=g;e.enqueueRetryable((0,S.Z)(function*(){yield U.promise,yield h(s.currentUser)}))},x=U=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(U=>x(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?x(U):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ge)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye("string"==typeof s.accessToken),new Xe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(null===e||"string"==typeof e),new rt(e)}}class pt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new pt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=h=>{null!=h.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,be("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const l=h=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?l(h):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ye("string"==typeof r.token),this.R=r.token,new qt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Er(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class yi{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Er(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[h]%62))}return s}}function Ot(a,e){return a<e?-1:a>e?1:0}function Jn(a,e,r){return a.length===e.length&&a.every((s,l)=>r(s,e[l]))}class bn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Q(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Q(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Q(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new bn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new bn(0,0))}static max(){return new wt(new bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sn{constructor(e,r,s){void 0===r?r=0:r>e.length&&Ie(),void 0===s?s=e.length-r:s>e.length-r&&Ie(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===sn.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof sn?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const h=e.get(l),g=r.get(l);if(h<g)return-1;if(h>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Un extends sn{construct(e,r,s){return new Un(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Q(Ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new Un(r)}static emptyPath(){return new Un([])}}const An=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends sn{construct(e,r,s){return new Hn(e,r,s)}static isValidIdentifier(e){return An.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const h=()=>{if(0===s.length)throw new Q(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new Q(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[l+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Q(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=x,l+=2}else"`"===D?(g=!g,l++):"."!==D||g?(s+=D,l++):(h(),l++)}if(h(),g)throw new Q(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(r)}static emptyPath(){return new Hn([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Un.fromString(e))}static fromName(e){return new gt(Un.fromString(e).popFirst(5))}static empty(){return new gt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Un.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Un(e.slice()))}}class Rn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Rn(wt.min(),gt.empty(),-1)}static max(){return new Rn(wt.max(),gt.empty(),-1)}}function Ts(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=gt.comparator(a.documentKey,e.documentKey),0!==r?r:Ot(a.largestBatchId,e.largestBatchId))}const on="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class us{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ci(a){return Br.apply(this,arguments)}function Br(){return(Br=(0,S.Z)(function*(a){if(a.code!==Ne.FAILED_PRECONDITION||a.message!==on)throw a;be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Se((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.reject(r)}static resolve(e){return new Se((r,s)=>{r(e)})}static reject(e){return new Se((r,s)=>{s(e)})}static waitFor(e){return new Se((r,s)=>{let l=0,h=0,g=!1;e.forEach(D=>{++l,D.next(()=>{++h,g&&h===l&&r()},x=>s(x))}),g=!0,h===l&&r()})}static or(e){let r=Se.resolve(!1);for(const s of e)r=r.next(l=>l?Se.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,h)=>{s.push(r.call(this,l,h))}),this.waitFor(s)}static mapArray(e,r){return new Se((s,l)=>{const h=e.length,g=new Array(h);let D=0;for(let x=0;x<h;x++){const U=x;r(e[U]).next(ne=>{g[U]=ne,++D,D===h&&s(g)},ne=>l(ne))}})}static doWhile(e,r){return new Se((s,l)=>{const h=()=>{!0===e()?r().next(()=>{h()},l):s()};h()})}}function cr(a){return"IndexedDbTransactionError"===a.name}let te=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Fe(a){return null==a}function Et(a){return 0===a&&1/a==-1/0}function Kt(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Dt(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function vn(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Gn{constructor(e,r){this.comparator=e,this.root=r||Ir.EMPTY}insert(e,r){return new Gn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ri(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ri(this.root,e,this.comparator,!1)}getReverseIterator(){return new ri(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ri(this.root,e,this.comparator,!0)}}class ri{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?s(e.key,r):1,r&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,r,s,l,h){this.key=e,this.value=r,this.color=s??Ir.RED,this.left=l??Ir.EMPTY,this.right=h??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,h){return new Ir(e??this.key,r??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===h?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Ir.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1,Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,r,s,l,h){return this}insert(e,r,s){return new Ir(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Lr(this.data.getIterator())}getIteratorFrom(e){return new Lr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=s.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new or(this.comparator);return r.data=e,r}}class Lr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jr{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new jr([])}unionWith(e){let r=new or(Hn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new jr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Jn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class vi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new vi("Invalid base64 string: "+h):h}}(e);return new ar(r)}static fromUint8Array(e){const r=function(l){let h="";for(let g=0;g<l.length;++g)h+=String.fromCharCode(l[g]);return h}(e);return new ar(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const Do=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(a){if(Ye(!!a),"string"==typeof a){let e=0;const r=Do.exec(a);if(Ye(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qr(a.seconds),nanos:Qr(a.nanos)}}function Qr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function ls(a){return"string"==typeof a?ar.fromBase64String(a):ar.fromUint8Array(a)}function Co(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Us(a){const e=a.mapValue.fields.__previous_value__;return Co(e)?Us(e):e}function Ps(a){const e=_s(a.mapValue.fields.__local_write_time__.timestampValue);return new bn(e.seconds,e.nanos)}class So{constructor(e,r,s,l,h,g,D,x,U){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=D,this.longPollingOptions=x,this.useFetchStreams=U}}class Ms{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}const xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Co(a)?4:Ds(a)?9007199254740991:10:Ie()}function $i(a,e){if(a===e)return!0;const r=bs(a);if(r!==bs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ps(a).isEqual(Ps(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const g=_s(l.timestampValue),D=_s(h.timestampValue);return g.seconds===D.seconds&&g.nanos===D.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return h=e,ls(a.bytesValue).isEqual(ls(h.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(l,h){return Qr(l.geoPointValue.latitude)===Qr(h.geoPointValue.latitude)&&Qr(l.geoPointValue.longitude)===Qr(h.geoPointValue.longitude)}(a,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Qr(l.integerValue)===Qr(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const g=Qr(l.doubleValue),D=Qr(h.doubleValue);return g===D?Et(g)===Et(D):isNaN(g)&&isNaN(D)}return!1}(a,e);case 9:return Jn(a.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:return function(l,h){const g=l.mapValue.fields||{},D=h.mapValue.fields||{};if(Kt(g)!==Kt(D))return!1;for(const x in g)if(g.hasOwnProperty(x)&&(void 0===D[x]||!$i(g[x],D[x])))return!1;return!0}(a,e);default:return Ie()}var h}function Bs(a,e){return void 0!==(a.values||[]).find(r=>$i(r,e))}function vs(a,e){if(a===e)return 0;const r=bs(a),s=bs(e);if(r!==s)return Ot(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return function(h,g){const D=Qr(h.integerValue||h.doubleValue),x=Qr(g.integerValue||g.doubleValue);return D<x?-1:D>x?1:D===x?0:isNaN(D)?isNaN(x)?0:-1:1}(a,e);case 3:return co(a.timestampValue,e.timestampValue);case 4:return co(Ps(a),Ps(e));case 5:return Ot(a.stringValue,e.stringValue);case 6:return function(h,g){const D=ls(h),x=ls(g);return D.compareTo(x)}(a.bytesValue,e.bytesValue);case 7:return function(h,g){const D=h.split("/"),x=g.split("/");for(let U=0;U<D.length&&U<x.length;U++){const ne=Ot(D[U],x[U]);if(0!==ne)return ne}return Ot(D.length,x.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,g){const D=Ot(Qr(h.latitude),Qr(g.latitude));return 0!==D?D:Ot(Qr(h.longitude),Qr(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(h,g){const D=h.values||[],x=g.values||[];for(let U=0;U<D.length&&U<x.length;++U){const ne=vs(D[U],x[U]);if(ne)return ne}return Ot(D.length,x.length)}(a.arrayValue,e.arrayValue);case 10:return function(h,g){if(h===xs.mapValue&&g===xs.mapValue)return 0;if(h===xs.mapValue)return 1;if(g===xs.mapValue)return-1;const D=h.fields||{},x=Object.keys(D),U=g.fields||{},ne=Object.keys(U);x.sort(),ne.sort();for(let le=0;le<x.length&&le<ne.length;++le){const Te=Ot(x[le],ne[le]);if(0!==Te)return Te;const tt=vs(D[x[le]],U[ne[le]]);if(0!==tt)return tt}return Ot(x.length,ne.length)}(a.mapValue,e.mapValue);default:throw Ie()}}function co(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Ot(a,e);const r=_s(a),s=_s(e),l=Ot(r.seconds,s.seconds);return 0!==l?l:Ot(r.nanos,s.nanos)}function qi(a){return Ns(a)}function Ns(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=_s(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?ls(a.bytesValue).toBase64():"referenceValue"in a?gt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",l=!0;for(const h of r.values||[])l?l=!1:s+=",",s+=Ns(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const g of s)h?h=!1:l+=",",l+=`${g}:${Ns(r.fields[g])}`;return l+"}"}(a.mapValue):Ie()}function $r(a){return!!a&&"integerValue"in a}function Nr(a){return!!a&&"arrayValue"in a}function cs(a){return!!a&&"nullValue"in a}function ds(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function oo(a){return!!a&&"mapValue"in a}function As(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Dt(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=As(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=As(a.arrayValue.values[r]);return e}return Object.assign({},a)}function Ds(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!oo(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(r)}setAll(e){let r=Hn.emptyPath(),s={},l=[];e.forEach((g,D)=>{if(!r.isImmediateParentOf(D)){const x=this.getFieldsMap(r);this.applyChanges(x,s,l),s={},l=[],r=D.popLast()}g?s[D.lastSegment()]=As(g):l.push(D.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,s,l)}delete(e){const r=this.field(e.popLast());oo(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];oo(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){Dt(r,(l,h)=>e[l]=h);for(const l of s)delete e[l]}clone(){return new dn(As(this.value))}}function Fr(a){const e=[];return Dt(a.fields,(r,s)=>{const l=new Hn([r]);if(oo(s)){const h=Fr(s.mapValue).fields;if(0===h.length)e.push(l);else for(const g of h)e.push(l.child(g))}else e.push(l)}),new jr(e)}class pr{constructor(e,r,s,l,h,g,D){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=h,this.data=g,this.documentState=D}static newInvalidDocument(e){return new pr(e,0,wt.min(),wt.min(),wt.min(),dn.empty(),0)}static newFoundDocument(e,r,s,l){return new pr(e,1,r,wt.min(),s,l,0)}static newNoDocument(e,r){return new pr(e,2,r,wt.min(),wt.min(),dn.empty(),0)}static newUnknownDocument(e,r){return new pr(e,3,r,wt.min(),wt.min(),dn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class is{constructor(e,r){this.position=e,this.inclusive=r}}function wi(a,e,r){let s=0;for(let l=0;l<a.position.length;l++){const h=e[l],g=a.position[l];if(s=h.field.isKeyField()?gt.comparator(gt.fromName(g.referenceValue),r.key):vs(g,r.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function Ai(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!$i(a.position[r],e.position[r]))return!1;return!0}class kr{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ni(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Li{}class zt extends Li{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Js(e,r,s):"array-contains"===r?new ur(e,s):"in"===r?new eo(e,s):"not-in"===r?new Bo(e,s):"array-contains-any"===r?new fo(e,s):new zt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Xs(e,s):new Oi(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(vs(r,this.value)):null!==r&&bs(this.value)===bs(r)&&this.matchesComparison(vs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Li{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Zn(e,r)}matches(e){return js(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function js(a){return"and"===a.op}function Zr(a){return function Ki(a){for(const e of a.filters)if(e instanceof Zn)return!1;return!0}(a)&&js(a)}function ms(a){if(a instanceof zt)return a.field.canonicalString()+a.op.toString()+qi(a.value);if(Zr(a))return a.filters.map(e=>ms(e)).join(",");{const e=a.filters.map(r=>ms(r)).join(",");return`${a.op}(${e})`}}function zi(a,e){return a instanceof zt?(s=a,(l=e)instanceof zt&&s.op===l.op&&s.field.isEqual(l.field)&&$i(s.value,l.value)):a instanceof Zn?function(s,l){return l instanceof Zn&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((h,g,D)=>h&&zi(g,l.filters[D]),!0)}(a,e):void Ie();var s,l}function ao(a){return a instanceof zt?`${(r=a).field.canonicalString()} ${r.op} ${qi(r.value)}`:a instanceof Zn?function(r){return r.op.toString()+" {"+r.getFilters().map(ao).join(" ,")+"}"}(a):"Filter";var r}class Js extends zt{constructor(e,r,s){super(e,r,s),this.key=gt.fromName(s.referenceValue)}matches(e){const r=gt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Xs extends zt{constructor(e,r){super(e,"in",r),this.keys=ss(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Oi extends zt{constructor(e,r){super(e,"not-in",r),this.keys=ss(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ss(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>gt.fromName(s.referenceValue))}class ur extends zt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Nr(r)&&Bs(r.arrayValue,this.value)}}class eo extends zt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Bs(this.value.arrayValue,r)}}class Bo extends zt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Bs(this.value.arrayValue,r)}}class fo extends zt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Nr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Bs(this.value.arrayValue,s))}}class Di{constructor(e,r=null,s=[],l=[],h=null,g=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=g,this.endAt=D,this.ue=null}}function $s(a,e=null,r=[],s=[],l=null,h=null,g=null){return new Di(a,e,r,s,l,h,g)}function Qi(a){const e=qe(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>ms(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),Fe(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>qi(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>qi(s)).join(",")),e.ue=r}return e.ue}function to(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Ni(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!zi(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Ai(a.startAt,e.startAt)&&Ai(a.endAt,e.endAt)}function ai(a){return gt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class z{constructor(e,r=null,s=[],l=[],h=null,g="F",D=null,x=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=g,this.startAt=D,this.endAt=x,this.ce=null,this.le=null,this.he=null}}function de(a){return new z(a)}function Oe(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function $t(a){const e=qe(a);if(null===e.ce){e.ce=[];const r=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),r.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let D=new or(Hn.comparator);return g.filters.forEach(x=>{x.getFlattenedFilters().forEach(U=>{U.isInequality()&&(D=D.add(U.field))})}),D})(e).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||e.ce.push(new kr(h,s))}),r.has(Hn.keyField().canonicalString())||e.ce.push(new kr(Hn.keyField(),s))}return e.ce}function Qt(a){const e=qe(a);return e.le||(e.le=function Wn(a,e){if("F"===a.limitType)return $s(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(l=>new kr(l.field,"desc"===l.dir?"asc":"desc"));const r=a.endAt?new is(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new is(a.startAt.position,a.startAt.inclusive):null;return $s(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,$t(a))),e.le}function qr(a,e,r){return new z(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function di(a,e){return to(Qt(a),Qt(e))&&a.limitType===e.limitType}function Ii(a){return`${Qi(Qt(a))}|lt:${a.limitType}`}function ii(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>ao(l)).join(", ")}]`),Fe(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>qi(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>qi(l)).join(",")),`Target(${s})`}(Qt(a))}; limitType=${a.limitType})`}function Si(a,e){return e.isFoundDocument()&&function(s,l){const h=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,l){for(const h of $t(s))if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(a,e)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(a,e)&&(l=e,!((s=a).startAt&&!function(g,D,x){const U=wi(g,D,x);return g.inclusive?U<=0:U<0}(s.startAt,$t(s),l)||s.endAt&&!function(g,D,x){const U=wi(g,D,x);return g.inclusive?U>=0:U>0}(s.endAt,$t(s),l)));var s,l}function os(a){return(e,r)=>{let s=!1;for(const l of $t(a)){const h=Zi(l,e,r);if(0!==h)return h;s=s||l.field.isKeyField()}return 0}}function Zi(a,e,r){const s=a.field.isKeyField()?gt.comparator(e.key,r.key):function(h,g,D){const x=g.data.field(h),U=D.data.field(h);return null!==x&&null!==U?vs(x,U):Ie()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ie()}}class vr{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,h]of s)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Dt(this.inner,(r,s)=>{for(const[l,h]of s)e(l,h)})}isEmpty(){return vn(this.inner)}size(){return this.innerSize}}const Fi=new Gn(gt.comparator);function Ri(){return Fi}const ys=new Gn(gt.comparator);function W(...a){let e=ys;for(const r of a)e=e.insert(r.key,r);return e}function _(a){let e=ys;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function T(){return q()}function O(){return q()}function q(){return new vr(a=>a.toString(),(a,e)=>a.isEqual(e))}const se=new Gn(gt.comparator),Ee=new or(gt.comparator);function pe(...a){let e=Ee;for(const r of a)e=e.add(r);return e}const Ze=new or(Ot);function Wt(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Et(e)?"-0":e}}function Zt(a){return{integerValue:""+a}}function rr(a,e){return function Lt(a){return"number"==typeof a&&Number.isInteger(a)&&!Et(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?Zt(e):Wt(a,e)}class zn{constructor(){this._=void 0}}function Dn(a,e,r){return a instanceof hi?function(l,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Co(h)&&(h=Us(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(r,e):a instanceof Yr?Yi(a,e):a instanceof Jr?Ro(a,e):function(l,h){const g=Kr(l,h),D=Pi(g)+Pi(l.Pe);return $r(g)&&$r(l.Pe)?Zt(D):Wt(l.serializer,D)}(a,e)}function Vn(a,e,r){return a instanceof Yr?Yi(a,e):a instanceof Jr?Ro(a,e):r}function Kr(a,e){return a instanceof Ji?$r(s=e)||(h=s)&&"doubleValue"in h?e:{integerValue:0}:null;var s,h}class hi extends zn{}class Yr extends zn{constructor(e){super(),this.elements=e}}function Yi(a,e){const r=hs(e);for(const s of a.elements)r.some(l=>$i(l,s))||r.push(s);return{arrayValue:{values:r}}}class Jr extends zn{constructor(e){super(),this.elements=e}}function Ro(a,e){let r=hs(e);for(const s of a.elements)r=r.filter(l=>!$i(l,s));return{arrayValue:{values:r}}}class Ji extends zn{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Pi(a){return Qr(a.integerValue||a.doubleValue)}function hs(a){return Nr(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Xi{constructor(e,r){this.field=e,this.transform=r}}class Po{constructor(e,r){this.version=e,this.transformResults=r}}class li{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class K{}function k(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Hr(a.key,li.none()):new Gt(a.key,a.data,li.none());{const r=a.data,s=dn.empty();let l=new or(Hn.comparator);for(let h of e.fields)if(!l.has(h)){let g=r.field(h);null===g&&h.length>1&&(h=h.popLast(),g=r.field(h)),null===g?s.delete(h):s.set(h,g),l=l.add(h)}return new er(a.key,s,new jr(l.toArray()),li.none())}}function V(a,e,r){a instanceof Gt?function(l,h,g){const D=l.value.clone(),x=hr(l.fieldTransforms,h,g.transformResults);D.setAll(x),h.convertToFoundDocument(g.version,D).setHasCommittedMutations()}(a,e,r):a instanceof er?function(l,h,g){if(!A(l.precondition,h))return void h.convertToUnknownDocument(g.version);const D=hr(l.fieldTransforms,h,g.transformResults),x=h.data;x.setAll(nr(l)),x.setAll(D),h.convertToFoundDocument(g.version,x).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ae(a,e,r,s){return a instanceof Gt?function(h,g,D,x){if(!A(h.precondition,g))return D;const U=h.value.clone(),ne=hn(h.fieldTransforms,x,g);return U.setAll(ne),g.convertToFoundDocument(g.version,U).setHasLocalMutations(),null}(a,e,r,s):a instanceof er?function(h,g,D,x){if(!A(h.precondition,g))return D;const U=hn(h.fieldTransforms,x,g),ne=g.data;return ne.setAll(nr(h)),ne.setAll(U),g.convertToFoundDocument(g.version,ne).setHasLocalMutations(),null===D?null:D.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(le=>le.field))}(a,e,r,s):(D=r,A(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):D);var g,D}function Me(a,e){let r=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),h=Kr(s.transform,l||null);null!=h&&(null===r&&(r=dn.empty()),r.set(s.field,h))}return r||null}function st(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===l||s&&l&&Jn(s,l,(h,g)=>function no(a,e){return a.field.isEqual(e.field)&&(l=e.transform,(s=a.transform)instanceof Yr&&l instanceof Yr||s instanceof Jr&&l instanceof Jr?Jn(s.elements,l.elements,$i):s instanceof Ji&&l instanceof Ji?$i(s.Pe,l.Pe):s instanceof hi&&l instanceof hi);var s,l}(h,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,l}class Gt extends K{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class er extends K{constructor(e,r,s,l,h=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function nr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function hr(a,e,r){const s=new Map;Ye(a.length===r.length);for(let l=0;l<r.length;l++){const h=a[l],g=h.transform,D=e.data.field(h.field);s.set(h.field,Vn(g,D,r[l]))}return s}function hn(a,e,r){const s=new Map;for(const l of a){const h=l.transform,g=r.data.field(l.field);s.set(l.field,Dn(h,g,e))}return s}class Hr extends K{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class br extends K{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wr{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&V(h,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=ae(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=ae(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=O();return this.mutations.forEach(l=>{const h=e.get(l.key),g=h.overlayedDocument;let D=this.applyToLocalView(g,h.mutatedFields);D=r.has(l.key)?null:D;const x=k(g,D);null!==x&&s.set(l.key,x),g.isValidDocument()||g.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),pe())}isEqual(e){return this.batchId===e.batchId&&Jn(this.mutations,e.mutations,(r,s)=>st(r,s))&&Jn(this.baseMutations,e.baseMutations,(r,s)=>st(r,s))}}class fs{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Ye(e.mutations.length===s.length);let l=se;const h=e.mutations;for(let g=0;g<h.length;g++)l=l.insert(h[g].key,s[g].version);return new fs(e,r,s,l)}}class Ei{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class es{constructor(e,r){this.count=e,this.unchangedNames=r}}var si,gr;function Mo(a){if(void 0===a)return kt("GRPC error has no .code"),Ne.UNKNOWN;switch(a){case si.OK:return Ne.OK;case si.CANCELLED:return Ne.CANCELLED;case si.UNKNOWN:return Ne.UNKNOWN;case si.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case si.INTERNAL:return Ne.INTERNAL;case si.UNAVAILABLE:return Ne.UNAVAILABLE;case si.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case si.NOT_FOUND:return Ne.NOT_FOUND;case si.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case si.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case si.ABORTED:return Ne.ABORTED;case si.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case si.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case si.DATA_LOSS:return Ne.DATA_LOSS;default:return Ie()}}(gr=si||(si={}))[gr.OK=0]="OK",gr[gr.CANCELLED=1]="CANCELLED",gr[gr.UNKNOWN=2]="UNKNOWN",gr[gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gr[gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gr[gr.NOT_FOUND=5]="NOT_FOUND",gr[gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",gr[gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",gr[gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",gr[gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gr[gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gr[gr.ABORTED=10]="ABORTED",gr[gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",gr[gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",gr[gr.INTERNAL=13]="INTERNAL",gr[gr.UNAVAILABLE=14]="UNAVAILABLE",gr[gr.DATA_LOSS=15]="DATA_LOSS";const su=new At([4294967295,4294967295],0);function xu(a){const e=function Mu(){return new TextEncoder}().encode(a),r=new vt;return r.update(e),new Uint8Array(r.digest())}function Nu(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new At([r,s],0),new At([l,h],0)]}class ua{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new po(`Invalid padding: ${r}`);if(s<0)throw new po(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new po(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new po(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=At.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(At.fromNumber(s)));return 1===l.compare(su)&&(l=new At([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=xu(e),[s,l]=Nu(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,l,h);if(!this.de(g))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),g=new ua(h,l,r);return s.forEach(D=>g.insert(D)),g}insert(e){if(0===this.Ie)return;const r=xu(e),[s,l]=Nu(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,l,h);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ea{constructor(e,r,s,l,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Hs.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ea(wt.min(),l,new Gn(Ot),Ri(),pe())}}class Hs{constructor(e,r,s,l,h){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Hs(s,r,pe(),pe(),pe())}}class Pa{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class go{constructor(e,r){this.targetId=e,this.me=r}}class mr{constructor(e,r,s=ar.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class Vi{constructor(){this.fe=0,this.ge=xa(),this.pe=ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=pe(),r=pe(),s=pe();return this.ge.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Ie()}}),new Hs(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=xa()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ma{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ri(),this.qe=Es(),this.Qe=new Gn(Ot)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const h=l.target;if(ai(h))if(0===s){const g=new gt(h.path);this.Ue(r,g,pr.newNoDocument(g,wt.min()))}else Ye(1===s);else{const g=this.Ye(r);if(g!==s){const D=this.Ze(e),x=D?this.Xe(D,e,g):1;0!==x&&(this.je(r),this.Qe=this.Qe.insert(r,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=r;let g,D;try{g=ls(s).toUint8Array()}catch(x){if(x instanceof vi)return jn("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{D=new ua(g,l,h)}catch(x){return jn(x instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(h=>{const g=this.Le.tt(),D=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,h,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((h,g)=>{const D=this.Je(g);if(D){if(h.current&&ai(D.target)){const x=new gt(D.target.path);null!==this.ke.get(x)||this.it(g,x)||this.Ue(g,x,pr.newNoDocument(x,e))}h.be&&(r.set(g,h.Ce()),h.ve())}});let s=pe();this.qe.forEach((h,g)=>{let D=!0;g.forEachWhile(x=>{const U=this.Je(x);return!U||"TargetPurposeLimboResolution"===U.purpose||(D=!1,!1)}),D&&(s=s.add(h))}),this.ke.forEach((h,g)=>g.setReadTime(e));const l=new Ea(e,r,this.Qe,this.ke,s);return this.ke=Ri(),this.qe=Es(),this.Qe=new Gn(Ot),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Vi,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new or(Ot),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||be("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vi),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Es(){return new Gn(gt.comparator)}function xa(){return new Gn(gt.comparator)}const qo={asc:"ASCENDING",desc:"DESCENDING"},Ho={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mo={and:"AND",or:"OR"};class fc{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Na(a,e){return a.useProto3Json||Fe(e)?e:{value:e}}function Ko(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ro(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function G(a,e){return Ko(a,e.toTimestamp())}function E(a){return Ye(!!a),wt.fromTimestamp(function(r){const s=_s(r);return new bn(s.seconds,s.nanos)}(a))}function M(a,e){return j(a,e).canonicalString()}function j(a,e){const r=(l=a,new Un(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function _e(a){const e=Un.fromString(a);return Ye(Ou(e)),e}function _t(a,e){return M(a.databaseId,e.path)}function It(a,e){const r=_e(e);if(r.get(1)!==a.databaseId.projectId)throw new Q(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new Q(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new gt(la(r))}function yr(a,e){return M(a.databaseId,e)}function Mi(a){return new Un(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function la(a){return Ye(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function md(a,e,r){return{name:_t(a,e),fields:r.value.mapValue.fields}}function gc(a,e){return{documents:[yr(a,e.path)]}}function Ct(a,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=yr(a,l);const h=function(U){if(0!==U.length)return ka(Zn.create(U,"and"))}(e.filters);h&&(r.structuredQuery.where=h);const g=function(U){if(0!==U.length)return U.map(ne=>{return{field:zo((Te=ne).field),direction:ml(Te.dir)};var Te})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const D=Na(a,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(r.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(e.endAt)),{_t:r,parent:l};var U}function ou(a){let e=function Rr(a){const e=_e(a);return 4===e.length?Un.emptyPath():la(e)}(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Ye(1===s);const ne=r.from[0];ne.allDescendants?l=ne.collectionId:e=e.child(ne.collectionId)}let h=[];r.where&&(h=function(le){const Te=Ss(le);return Te instanceof Zn&&Zr(Te)?Te.getFilters():[Te]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(Te=>{return new kr(xo((St=Te).field),function(Ut){switch(Ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(St.direction));var St}));let D=null;r.limit&&(D=function(le){let Te;return Te="object"==typeof le?le.value:le,Fe(Te)?null:Te}(r.limit));let x=null;var le;r.startAt&&(x=new is((le=r.startAt).values||[],!!le.before));let U=null;return r.endAt&&(U=function(le){return new is(le.values||[],!le.before)}(r.endAt)),function he(a,e,r,s,l,h,g,D){return new z(a,e,r,s,l,h,g,D)}(e,l,g,h,D,"F",x,U)}function Ss(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=xo(r.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=xo(r.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=xo(r.unaryFilter.field);return zt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=xo(r.unaryFilter.field);return zt.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(a):void 0!==a.fieldFilter?zt.create(xo((r=a).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Zn.create(r.compositeFilter.filters.map(s=>Ss(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ie()}}(r.compositeFilter.op))}(a):Ie();var r}function ml(a){return qo[a]}function au(a){return Ho[a]}function yo(a){return mo[a]}function zo(a){return{fieldPath:a.canonicalString()}}function xo(a){return Hn.fromServerFormat(a.fieldPath)}function ka(a){return a instanceof zt?function(r){if("=="===r.op){if(ds(r.value))return{unaryFilter:{field:zo(r.field),op:"IS_NAN"}};if(cs(r.value))return{unaryFilter:{field:zo(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ds(r.value))return{unaryFilter:{field:zo(r.field),op:"IS_NOT_NAN"}};if(cs(r.value))return{unaryFilter:{field:zo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(r.field),op:au(r.op),value:r.value}}}(a):a instanceof Zn?function(r){const s=r.getFilters().map(l=>ka(l));return 1===s.length?s[0]:{compositeFilter:{op:yo(r.op),filters:s}}}(a):Ie()}function Dh(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ou(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class ts{constructor(e,r,s,l,h=wt.min(),g=wt.min(),D=ar.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=D,this.expectedCount=x}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Go{constructor(e){this.ct=e}}function X(a){const e=ou({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?qr(e,e.limit,"L"):e}class Oo{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Qr(e.integerValue));else if("doubleValue"in e){const s=Qr(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Et(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=_s(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(ls(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Ds(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Ie()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),gt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}Oo.bt=new Oo;class Va{constructor(){this._n=new Lu}addToCollectionParentIndex(e,r){return this._n.add(r),Se.resolve()}getCollectionParents(e,r){return Se.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Se.resolve()}deleteFieldIndex(e,r){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,r){return Se.resolve()}getDocumentsMatchingTarget(e,r){return Se.resolve(null)}getIndexType(e,r){return Se.resolve(0)}getFieldIndexes(e,r){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,r){return Se.resolve(Rn.min())}getMinOffsetFromCollectionGroup(e,r){return Se.resolve(Rn.min())}updateCollectionGroup(e,r,s){return Se.resolve()}updateIndexEntries(e,r){return Se.resolve()}}class Lu{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new or(Un.comparator),h=!l.has(s);return this.index[r]=l.add(s),h}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new or(Un.comparator)).toArray()}}new Uint8Array(0);class _o{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class ha{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ha(0)}static Ln(){return new ha(-1)}}class mp{constructor(){this.changes=new vr(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Se.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ed{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Tl{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&ae(s.mutation,l,jr.empty(),bn.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,pe()).next(()=>s))}getLocalViewOfDocuments(e,r,s=pe()){const l=T();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(h=>{let g=W();return h.forEach((D,x)=>{g=g.insert(D,x.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=T();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,pe()))}populateOverlays(e,r,s){const l=[];return s.forEach(h=>{r.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((g,D)=>{r.set(g,D)})})}computeViews(e,r,s,l){let h=Ri();const g=q(),D=q();return r.forEach((x,U)=>{const ne=s.get(U.key);l.has(U.key)&&(void 0===ne||ne.mutation instanceof er)?h=h.insert(U.key,U):void 0!==ne?(g.set(U.key,ne.mutation.getFieldMask()),ae(ne.mutation,U,ne.mutation.getFieldMask(),bn.now())):g.set(U.key,jr.empty())}),this.recalculateAndSaveOverlays(e,h).next(x=>(x.forEach((U,ne)=>g.set(U,ne)),r.forEach((U,ne)=>{var le;return D.set(U,new Ed(ne,null!==(le=g.get(U))&&void 0!==le?le:null))}),D))}recalculateAndSaveOverlays(e,r){const s=q();let l=new Gn((g,D)=>g-D),h=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const D of g)D.keys().forEach(x=>{const U=r.get(x);if(null===U)return;let ne=s.get(x)||jr.empty();ne=D.applyToLocalView(U,ne),s.set(x,ne);const le=(l.get(D.batchId)||pe()).add(x);l=l.insert(D.batchId,le)})}).next(()=>{const g=[],D=l.getReverseIterator();for(;D.hasNext();){const x=D.getNext(),U=x.key,ne=x.value,le=O();ne.forEach(Te=>{if(!h.has(Te)){const tt=k(r.get(Te),s.get(Te));null!==tt&&le.set(Te,tt),h=h.add(Te)}}),g.push(this.documentOverlayCache.saveOverlays(e,U,le))}return Se.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return gt.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):function ht(a){return null!==a.collectionGroup}(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var g}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(h=>{const g=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-h.size):Se.resolve(T());let D=-1,x=h;return g.next(U=>Se.forEach(U,(ne,le)=>(D<le.largestBatchId&&(D=le.largestBatchId),h.get(ne)?Se.resolve():this.remoteDocumentCache.getEntry(e,ne).next(Te=>{x=x.insert(ne,Te)}))).next(()=>this.populateOverlays(e,U,h)).next(()=>this.computeViews(e,x,U,pe())).next(ne=>({batchId:D,changes:_(ne)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new gt(r)).next(s=>{let l=W();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const h=r.collectionGroup;let g=W();return this.indexManager.getCollectionParents(e,h).next(D=>Se.forEach(D,x=>{const U=(le=r,Te=x.child(h),new z(Te,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));var le,Te;return this.getDocumentsMatchingCollectionQuery(e,U,s,l).next(ne=>{ne.forEach((le,Te)=>{g=g.insert(le,Te)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,h,l))).next(g=>{h.forEach((x,U)=>{const ne=U.getKey();null===g.get(ne)&&(g=g.insert(ne,pr.newInvalidDocument(ne)))});let D=W();return g.forEach((x,U)=>{const ne=h.get(x);void 0!==ne&&ae(ne.mutation,U,jr.empty(),bn.now()),Si(r,U)&&(D=D.insert(x,U))}),D})}}class bl{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Se.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:E(l.createTime)}),Se.resolve();var l}getNamedQuery(e,r){return Se.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:X(l.bundledQuery),readTime:E(l.readTime)}),Se.resolve();var l}}class yp{constructor(){this.overlays=new Gn(gt.comparator),this.hr=new Map}getOverlay(e,r){return Se.resolve(this.overlays.get(r))}getOverlays(e,r){const s=T();return Se.forEach(r,l=>this.getOverlay(e,l).next(h=>{null!==h&&s.set(l,h)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,h)=>{this.ht(e,r,h)}),Se.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.hr.delete(s)),Se.resolve()}getOverlaysForCollection(e,r,s){const l=T(),h=r.length+1,g=new gt(r.child("")),D=this.overlays.getIteratorFrom(g);for(;D.hasNext();){const x=D.getNext().value,U=x.getKey();if(!r.isPrefixOf(U.path))break;U.path.length===h&&x.largestBatchId>s&&l.set(x.getKey(),x)}return Se.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let h=new Gn((U,ne)=>U-ne);const g=this.overlays.getIterator();for(;g.hasNext();){const U=g.getNext().value;if(U.getKey().getCollectionGroup()===r&&U.largestBatchId>s){let ne=h.get(U.largestBatchId);null===ne&&(ne=T(),h=h.insert(U.largestBatchId,ne)),ne.set(U.getKey(),U)}}const D=T(),x=h.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((U,ne)=>D.set(U,ne)),!(D.size()>=l)););return Se.resolve(D)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new Ei(r,s));let h=this.hr.get(r);void 0===h&&(h=pe(),this.hr.set(r,h)),this.hr.set(r,h.add(s.key))}}class Ws{constructor(){this.Pr=new or(Os.Ir),this.Tr=new or(Os.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Os(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Os(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new gt(new Un([])),s=new Os(r,e),l=new Os(r,e+1),h=[];return this.Tr.forEachInRange([s,l],g=>{this.Ar(g),h.push(g.key)}),h}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new gt(new Un([])),s=new Os(r,e),l=new Os(r,e+1);let h=pe();return this.Tr.forEachInRange([s,l],g=>{h=h.add(g.key)}),h}containsKey(e){const r=new Os(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Os{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return gt.comparator(e.key,r.key)||Ot(e.pr,r.pr)}static Er(e,r){return Ot(e.pr,r.pr)||gt.comparator(e.key,r.key)}}class Oh{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new or(Os.Ir)}checkEmpty(e){return Se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const h=this.yr;this.yr++;const g=new wr(h,r,s,l);this.mutationQueue.push(g);for(const D of l)this.wr=this.wr.add(new Os(D.key,h)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Se.resolve(g)}lookupMutationBatch(e,r){return Se.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),h=l<0?0:l;return Se.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Os(r,0),l=new Os(r,Number.POSITIVE_INFINITY),h=[];return this.wr.forEachInRange([s,l],g=>{const D=this.Sr(g.pr);h.push(D)}),Se.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new or(Ot);return r.forEach(l=>{const h=new Os(l,0),g=new Os(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([h,g],D=>{s=s.add(D.pr)})}),Se.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const g=new Os(new gt(h),0);let D=new or(Ot);return this.wr.forEachWhile(x=>{const U=x.key.path;return!!s.isPrefixOf(U)&&(U.length===l&&(D=D.add(x.pr)),!0)},g),Se.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Ye(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Se.forEach(r.mutations,l=>{const h=new Os(l.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Os(r,0),l=this.wr.firstAfterOrEqual(s);return Se.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return Se.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Id{constructor(e){this.vr=e,this.docs=new Gn(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),h=l?l.size:0,g=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Se.resolve(s?s.document.mutableCopy():pr.newInvalidDocument(r))}getEntries(e,r){let s=Ri();return r.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():pr.newInvalidDocument(l))}),Se.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let h=Ri();const g=r.path,D=new gt(g.child("")),x=this.docs.getIteratorFrom(D);for(;x.hasNext();){const{key:U,value:{document:ne}}=x.getNext();if(!g.isPrefixOf(U.path))break;U.path.length>g.length+1||Ts(new Rn((a=ne).readTime,a.key,-1),s)<=0||(l.has(ne.key)||Si(r,ne))&&(h=h.insert(ne.key,ne.mutableCopy()))}var a;return Se.resolve(h)}getAllFromCollectionGroup(e,r,s,l){Ie()}Fr(e,r){return Se.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Td(this)}getSize(e){return Se.resolve(this.size)}}class Td extends mp{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),Se.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class kh{constructor(e){this.persistence=e,this.Mr=new vr(r=>Qi(r),to),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ws,this.targetCount=0,this.Lr=ha.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),Se.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new ha(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Se.resolve()}updateTargetData(e,r){return this.qn(r),Se.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,r,s){let l=0;const h=[];return this.Mr.forEach((g,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Mr.delete(g),h.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),Se.waitFor(h).next(()=>l)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return Se.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),Se.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,h=[];return l&&r.forEach(g=>{h.push(l.markPotentiallyOrphaned(e,g))}),Se.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Se.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return Se.resolve(s)}containsKey(e,r){return Se.resolve(this.Nr.containsKey(r))}}class Al{constructor(e,r){this.Br={},this.overlays={},this.kr=new te(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new kh(this),this.indexManager=new Va,this.remoteDocumentCache=new Id(s=>this.referenceDelegate.Kr(s)),this.serializer=new Go(r),this.$r=new bl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new yp,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Oh(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const l=new $u(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(h=>this.referenceDelegate.Wr(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Gr(e,r){return Se.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class $u extends us{constructor(e){super(),this.currentSequenceNumber=e}}class ea{constructor(e){this.persistence=e,this.zr=new Ws,this.jr=null}static Hr(e){return new ea(e)}get Jr(){if(this.jr)return this.jr;throw Ie()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),Se.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Se.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(h=>this.Jr.add(h.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Jr,s=>{const l=gt.fromPath(s);return this.Yr(e,l).next(h=>{h||r.removeEntry(l,wt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Se.or([()=>Se.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Vh{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=pe(),l=pe();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Vh(e,r.fromCache,s,l)}}class Vg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _p{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ue.G6)()?8:function Bi(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,ue.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const h={result:null};return this.ji(e,r).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.Hi(e,r,l,s).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new Vg;return this.Ji(e,r,g).next(D=>{if(h.result=D,this.Ui)return this.Yi(e,r,g,D.size)})}).next(()=>h.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(Ht()<=ze.in.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",ii(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Se.resolve()):(Ht()<=ze.in.DEBUG&&be("QueryEngine","Query:",ii(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(Ht()<=ze.in.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",ii(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qt(r))):Se.resolve())}ji(e,r){if(Oe(r))return Se.resolve(null);let s=Qt(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=qr(r,null,"F"),s=Qt(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const g=pe(...h);return this.zi.getDocuments(e,g).next(D=>this.indexManager.getMinOffset(e,s).next(x=>{const U=this.Zi(r,D);return this.Xi(r,U,g,x.readTime)?this.ji(e,qr(r,null,"F")):this.es(e,U,r,x)}))})))}Hi(e,r,s,l){return Oe(r)||l.isEqual(wt.min())?Se.resolve(null):this.zi.getDocuments(e,s).next(h=>{const g=this.Zi(r,h);return this.Xi(r,g,s,l)?Se.resolve(null):(Ht()<=ze.in.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ii(r)),this.es(e,g,r,function Ur(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=wt.fromTimestamp(1e9===s?new bn(r+1,0):new bn(r,s));return new Rn(l,gt.empty(),e)}(l,-1)).next(D=>D))})}Zi(e,r){let s=new or(os(e));return r.forEach((l,h)=>{Si(e,h)&&(s=s.add(h))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ji(e,r,s){return Ht()<=ze.in.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",ii(r)),this.zi.getDocumentsMatchingQuery(e,r,Rn.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}class Ug{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new Gn(Ot),this.rs=new vr(h=>Qi(h),to),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tl(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Dc(a,e){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,S.Z)(function*(a,e){const r=qe(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(h=>{const g=[],D=[];let x=pe();for(const U of l){g.push(U.batchId);for(const ne of U.mutations)x=x.add(ne.key)}for(const U of h){D.push(U.batchId);for(const ne of U.mutations)x=x.add(ne.key)}return r.localDocuments.getDocuments(s,x).next(U=>({us:U,removedBatchIds:g,addedBatchIds:D}))})})})).apply(this,arguments)}function Uh(a){const e=qe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Wo(a,e){const r=qe(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pu(a,e,r){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,S.Z)(function*(a,e,r){const s=qe(a),l=s.ns.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",h,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!cr(g))throw g;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)})).apply(this,arguments)}function za(a,e,r){const s=qe(a);let l=wt.min(),h=pe();return s.persistence.runTransaction("Execute query","readwrite",g=>function(x,U,ne){const le=qe(x),Te=le.rs.get(ne);return void 0!==Te?Se.resolve(le.ns.get(Te)):le.Qr.getTargetData(U,ne)}(s,g,Qt(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(g,D.targetId).next(x=>{h=x})}).next(()=>s.ts.getDocumentsMatchingQuery(g,e,r?l:wt.min(),r?h:pe())).next(D=>(function Cc(a,e,r){let s=a.ss.get(e)||wt.min();r.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.ss.set(e,s)}(s,function ui(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}(e),D),{documents:D,hs:h})))}class Rc{constructor(){this.activeTargetIds=function at(){return Ze}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ml{constructor(){this.no=new Rc,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Rc,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vp{io(e){}shutdown(){}}class xl{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pc=null;function Wu(){return null===Pc?Pc=268435456+Math.round(2147483648*Math.random()):Pc++,"0x"+Pc.toString(16)}const zh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gh{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const qs="WebChannelConnection";class Mc extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${l}/databases/${h}`,this.bo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${h}`}get Do(){return!1}Co(r,s,l,h,g){const D=Wu(),x=this.vo(r,s.toUriEncodedString());be("RestConnection",`Sending RPC '${r}' ${D}:`,x,l);const U={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(U,h,g),this.Mo(r,x,U,l).then(ne=>(be("RestConnection",`Received RPC '${r}' ${D}: `,ne),ne),ne=>{throw jn("RestConnection",`RPC '${r}' ${D} failed with error: `,ne,"url: ",x,"request:",l),ne})}xo(r,s,l,h,g,D){return this.Co(r,s,l,h,g)}Fo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+lt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((h,g)=>r[g]=h),l&&l.headers.forEach((h,g)=>r[g]=h)}vo(r,s){return`${this.wo}/v1/${s}:${zh[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,l){const h=Wu();return new Promise((g,D)=>{const x=new We;x.setWithCredentials(!0),x.listenOnce(Mt.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Xt.NO_ERROR:const ne=x.getResponseJson();be(qs,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(ne)),g(ne);break;case Xt.TIMEOUT:be(qs,`RPC '${e}' ${h} timed out`),D(new Q(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case Xt.HTTP_ERROR:const le=x.getStatus();if(be(qs,`RPC '${e}' ${h} failed with status:`,le,"response text:",x.getResponseText()),le>0){let Te=x.getResponseJson();Array.isArray(Te)&&(Te=Te[0]);const tt=Te?.error;if(tt&&tt.status&&tt.message){const St=function(Ut){const Cn=Ut.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(Cn)>=0?Cn:Ne.UNKNOWN}(tt.status);D(new Q(St,tt.message))}else D(new Q(Ne.UNKNOWN,"Server responded with status "+x.getStatus()))}else D(new Q(Ne.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{be(qs,`RPC '${e}' ${h} completed.`)}});const U=JSON.stringify(l);be(qs,`RPC '${e}' ${h} sending request:`,l),x.send(r,"POST",U,s,15)})}Oo(e,r,s){const l=Wu(),h=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=cn(),D=qn(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(x.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(x.xmlHttpFactory=new Rt({})),this.Fo(x.initMessageHeaders,r,s),x.encodeInitMessageHeaders=!0;const ne=h.join("");be(qs,`Creating RPC '${e}' stream ${l}: ${ne}`,x);const le=g.createWebChannel(ne,x);let Te=!1,tt=!1;const St=new Gh({lo:Ut=>{tt?be(qs,`Not sending because RPC '${e}' stream ${l} is closed:`,Ut):(Te||(be(qs,`Opening RPC '${e}' stream ${l} transport.`),le.open(),Te=!0),be(qs,`RPC '${e}' stream ${l} sending:`,Ut),le.send(Ut))},ho:()=>le.close()}),mt=(Ut,Cn,kn)=>{Ut.listen(Cn,xn=>{try{kn(xn)}catch(Ar){setTimeout(()=>{throw Ar},0)}})};return mt(le,ct.EventType.OPEN,()=>{tt||(be(qs,`RPC '${e}' stream ${l} transport opened.`),St.mo())}),mt(le,ct.EventType.CLOSE,()=>{tt||(tt=!0,be(qs,`RPC '${e}' stream ${l} transport closed`),St.po())}),mt(le,ct.EventType.ERROR,Ut=>{tt||(tt=!0,jn(qs,`RPC '${e}' stream ${l} transport errored:`,Ut),St.po(new Q(Ne.UNAVAILABLE,"The operation could not be completed")))}),mt(le,ct.EventType.MESSAGE,Ut=>{var Cn;if(!tt){const kn=Ut.data[0];Ye(!!kn);const Ar=kn.error||(null===(Cn=kn[0])||void 0===Cn?void 0:Cn.error);if(Ar){be(qs,`RPC '${e}' stream ${l} received error:`,Ar);const fi=Ar.status;let Dr=function(Pe){const $e=si[Pe];if(void 0!==$e)return Mo($e)}(fi),Be=Ar.message;void 0===Dr&&(Dr=Ne.INTERNAL,Be="Unknown error status: "+fi+" with message "+Ar.message),tt=!0,St.po(new Q(Dr,Be)),le.close()}else be(qs,`RPC '${e}' stream ${l} received:`,kn),St.yo(kn)}}),mt(D,gn.STAT_EVENT,Ut=>{Ut.stat===mn.PROXY?be(qs,`RPC '${e}' stream ${l} detected buffering proxy`):Ut.stat===mn.NOPROXY&&be(qs,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{St.fo()},0),St}}function qu(){return typeof document<"u"?document:null}function Ku(a){return new fc(a,!0)}class mu{constructor(e,r,s=1e3,l=1.5,h=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=l,this.Bo=h,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),l=Math.max(0,r-s);l>0&&be("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Wa{constructor(e,r,s,l,h,g,D,x){this.oi=e,this.Go=s,this.zo=l,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=D,this.listener=x,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new mu(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,S.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,S.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,S.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Ne.RESOURCE_EXHAUSTED?(kt(r.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Ne.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.jo===r&&this.u_(s,l)},s=>{e(()=>{const l=new Q(Ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(l)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(l=>{s(()=>this.c_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}e_(){var e=this;this.state=5,this.Yo.$o((0,S.Z)(function*(){e.state=0,e.start()}))}c_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wp extends Wa{constructor(e,r,s,l,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,g),this.serializer=h}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function yd(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:Ie(),l=e.targetChange.targetIds||[],h=function(U,ne){return U.useProto3Json?(Ye(void 0===ne||"string"==typeof ne),ar.fromBase64String(ne||"")):(Ye(void 0===ne||ne instanceof Buffer||ne instanceof Uint8Array),ar.fromUint8Array(ne||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,D=g&&function(U){const ne=void 0===U.code?Ne.UNKNOWN:Mo(U.code);return new Q(ne,U.message||"")}(g);r=new mr(s,l,h,D||null)}else if("documentChange"in e){const s=e.documentChange,l=It(a,s.document.name),h=E(s.document.updateTime),g=s.document.createTime?E(s.document.createTime):wt.min(),D=new dn({mapValue:{fields:s.document.fields}}),x=pr.newFoundDocument(l,h,g,D);r=new Pa(s.targetIds||[],s.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const s=e.documentDelete,l=It(a,s.document),h=s.readTime?E(s.readTime):wt.min(),g=pr.newNoDocument(l,h);r=new Pa([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=It(a,s.document);r=new Pa([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Ie();{const s=e.filter,{count:l=0,unchangedNames:h}=s,g=new es(l,h);r=new go(s.targetId,g)}}var U;return r}(this.serializer,e),s=function(h){if(!("targetChange"in h))return wt.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?wt.min():g.readTime?E(g.readTime):wt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=Mi(this.serializer),r.addTarget=function(h,g){let D;const x=g.target;if(D=ai(x)?{documents:gc(h,x)}:{query:Ct(h,x)._t},D.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){D.resumeToken=ro(h,g.resumeToken);const U=Na(h,g.expectedCount);null!==U&&(D.expectedCount=U)}else if(g.snapshotVersion.compareTo(wt.min())>0){D.readTime=Ko(h,g.snapshotVersion.toTimestamp());const U=Na(h,g.expectedCount);null!==U&&(D.expectedCount=U)}return D}(this.serializer,e);const s=function mc(a,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=Mi(this.serializer),r.removeTarget=e,this.i_(r)}}class $g extends Wa{constructor(e,r,s,l,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,g),this.serializer=h,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Is(a,e){return a&&a.length>0?(Ye(void 0!==e),a.map(r=>function(l,h){let g=E(l.updateTime?l.updateTime:h);return g.isEqual(wt.min())&&(g=E(h)),new Po(g,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=E(e.commitTime);return this.listener.A_(s,r)}return Ye(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Mi(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>function Oa(a,e){let r;if(e instanceof Gt)r={update:md(a,e.key,e.value)};else if(e instanceof Hr)r={delete:_t(a,e.key)};else if(e instanceof er)r={update:md(a,e.key,e.data),updateMask:Dh(e.fieldMask)};else{if(!(e instanceof br))return Ie();r={verify:_t(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(h,g){const D=g.transform;if(D instanceof hi)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Yr)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Jr)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Ji)return{fieldPath:g.field.canonicalString(),increment:D.Pe};throw Ie()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:G(a,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Ie()),r;var h}(this.serializer,s))};this.i_(r)}}class Wh extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.m_=!1}f_(){if(this.m_)throw new Q(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,j(r,s),l,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Q(Ne.UNKNOWN,h.toString())})}xo(e,r,s,l,h){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,D])=>this.connection.xo(e,j(r,s),l,g,D,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Q(Ne.UNKNOWN,g.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Ep{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(kt(r),this.y_=!1):be("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Hg{constructor(e,r,s,l,h){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=h,this.O_.io(D=>{s.enqueueAndForget((0,S.Z)(function*(){var x;yu(g)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,S.Z)(function*(ne){const le=qe(ne);le.M_.add(4),yield Ol(le),le.N_.set("Unknown"),le.M_.delete(4),yield Nl(le)}),function U(ne){return x.apply(this,arguments)})(g))}))}),this.N_=new Ep(s,l)}}function Nl(a){return qh.apply(this,arguments)}function qh(){return(qh=(0,S.Z)(function*(a){if(yu(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function Ol(a){return kl.apply(this,arguments)}function kl(){return(kl=(0,S.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function Nc(a,e){const r=qe(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Kh(r)?Rd(r):Zu(r).Xo()&&Sd(r,e))}function Ll(a,e){const r=qe(a),s=Zu(r);r.F_.delete(e),s.Xo()&&zg(r,e),0===r.F_.size&&(s.Xo()?s.n_():yu(r)&&r.N_.set("Unknown"))}function Sd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zu(a).P_(e)}function zg(a,e){a.L_.xe(e),Zu(a).I_(e)}function Rd(a){a.L_=new Ma({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Zu(a).start(),a.N_.w_()}function Kh(a){return yu(a)&&!Zu(a).Zo()&&a.F_.size>0}function yu(a){return 0===qe(a).M_.size}function Ip(a){a.L_=void 0}function Qh(a){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,S.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Ly(a){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,S.Z)(function*(a){a.F_.forEach((e,r)=>{Sd(a,e)})})).apply(this,arguments)}function Fy(a,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,S.Z)(function*(a,e){Ip(a),Kh(a)?(a.N_.D_(e),Rd(a)):a.N_.set("Unknown")})).apply(this,arguments)}function Vy(a,e,r){return bp.apply(this,arguments)}function bp(){return bp=(0,S.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof mr&&2===e.state&&e.cause)try{yield(s=(0,S.Z)(function*(h,g){const D=g.cause;for(const x of g.targetIds)h.F_.has(x)&&(yield h.remoteSyncer.rejectListen(x,D),h.F_.delete(x),h.L_.removeTarget(x))}),function l(h,g){return s.apply(this,arguments)})(a,e)}catch(s){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Pd(a,s)}else if(e instanceof Pa?a.L_.Ke(e):e instanceof go?a.L_.He(e):a.L_.We(e),!r.isEqual(wt.min()))try{const s=yield Uh(a.localStore);r.compareTo(s)>=0&&(yield function(h,g){const D=h.L_.rt(g);return D.targetChanges.forEach((x,U)=>{if(x.resumeToken.approximateByteSize()>0){const ne=h.F_.get(U);ne&&h.F_.set(U,ne.withResumeToken(x.resumeToken,g))}}),D.targetMismatches.forEach((x,U)=>{const ne=h.F_.get(x);if(!ne)return;h.F_.set(x,ne.withResumeToken(ar.EMPTY_BYTE_STRING,ne.snapshotVersion)),zg(h,x);const le=new ts(ne.target,x,U,ne.sequenceNumber);Sd(h,le)}),h.remoteSyncer.applyRemoteEvent(D)}(a,r))}catch(s){be("RemoteStore","Failed to raise snapshot:",s),yield Pd(a,s)}var s}),bp.apply(this,arguments)}function Pd(a,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,S.Z)(function*(a,e,r){if(!cr(e))throw e;a.M_.add(1),yield Ol(a),a.N_.set("Offline"),r||(r=()=>Uh(a.localStore)),a.asyncQueue.enqueueRetryable((0,S.Z)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Nl(a)}))})).apply(this,arguments)}function kc(a,e){return e().catch(r=>Pd(a,r,e))}function qa(a){return Md.apply(this,arguments)}function Md(){return(Md=(0,S.Z)(function*(a){const e=qe(a),r=Ka(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Ap(e);)try{const l=yield Wo(e.localStore,s);if(null===l){0===e.v_.length&&r.n_();break}s=l.batchId,Dp(e,l)}catch(l){yield Pd(e,l)}Qu(e)&&Jh(e)})).apply(this,arguments)}function Ap(a){return yu(a)&&a.v_.length<10}function Dp(a,e){a.v_.push(e);const r=Ka(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function Qu(a){return yu(a)&&!Ka(a).Zo()&&a.v_.length>0}function Jh(a){Ka(a).start()}function Cp(a){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,S.Z)(function*(a){Ka(a).V_()})).apply(this,arguments)}function xd(a){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,S.Z)(function*(a){const e=Ka(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function Gg(a,e,r){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,S.Z)(function*(a,e,r){const s=a.v_.shift(),l=fs.from(s,e,r);yield kc(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),yield qa(a)})).apply(this,arguments)}function Wg(a,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,S.Z)(function*(a,e){var r;e&&Ka(a).E_&&(yield(r=(0,S.Z)(function*(l,h){if(function $o(a){switch(a){default:return Ie();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}(D=h.code)&&D!==Ne.ABORTED){const g=l.v_.shift();Ka(l).t_(),yield kc(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,h)),yield qa(l)}var D}),function s(l,h){return r.apply(this,arguments)})(a,e)),Qu(a)&&Jh(a)}),Lc.apply(this,arguments)}function Nd(a,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,S.Z)(function*(a,e){const r=qe(a);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const s=yu(r);r.M_.add(3),yield Ol(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Nl(r)})).apply(this,arguments)}function tf(a,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,S.Z)(function*(a,e){const r=qe(a);e?(r.M_.delete(2),yield Nl(r)):e||(r.M_.add(2),yield Ol(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Zu(a){return a.B_||(a.B_=function(r,s,l){const h=qe(r);return h.f_(),new wp(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{Po:Qh.bind(null,a),To:Ly.bind(null,a),Ao:Fy.bind(null,a),h_:Vy.bind(null,a)}),a.x_.push(function(){var e=(0,S.Z)(function*(r){r?(a.B_.t_(),Kh(a)?Rd(a):a.N_.set("Unknown")):(yield a.B_.stop(),Ip(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Ka(a){return a.k_||(a.k_=function(r,s,l){const h=qe(r);return h.f_(),new $g(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:Cp.bind(null,a),Ao:Wg.bind(null,a),R_:xd.bind(null,a),A_:Gg.bind(null,a)}),a.x_.push(function(){var e=(0,S.Z)(function*(r){r?(a.k_.t_(),yield qa(a)):(yield a.k_.stop(),a.v_.length>0&&(be("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class rf{constructor(e,r,s,l,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Ge,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,h){const g=Date.now()+s,D=new rf(e,r,g,l,h);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Q(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ks(a,e){if(kt("AsyncQueue",`${e}: ${a}`),cr(a))return new Q(Ne.UNAVAILABLE,`${e}: ${a}`);throw a}class _u{constructor(e){this.comparator=e?(r,s)=>e(r,s)||gt.comparator(r.key,s.key):(r,s)=>gt.comparator(r.key,s.key),this.keyedMap=W(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new _u(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _u)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new _u;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class sf{constructor(){this.q_=new Gn(gt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Ie():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class vu{constructor(e,r,s,l,h,g,D,x,U){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=D,this.excludesMetadataChanges=x,this.hasCachedResults=U}static fromInitialDocuments(e,r,s,l,h){const g=[];return r.forEach(D=>{g.push({type:0,doc:D})}),new vu(e,r,_u.emptySet(r),g,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&di(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class vo{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Fc{constructor(){this.queries=new vr(e=>Ii(e),di),this.onlineState="Unknown",this.z_=new Set}}function Od(a,e){return kd.apply(this,arguments)}function kd(){return(kd=(0,S.Z)(function*(a,e){const r=qe(a);let s=3;const l=e.query;let h=r.queries.get(l);h?!h.W_()&&e.G_()&&(s=2):(h=new vo,s=e.G_()?0:1);try{switch(s){case 0:h.K_=yield r.onListen(l,!0);break;case 1:h.K_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(g){const D=Ks(g,`Initialization of query '${ii(e.query)}' failed`);return void e.onError(D)}r.queries.set(l,h),h.U_.push(e),e.j_(r.onlineState),h.K_&&e.H_(h.K_)&&uf(r)})).apply(this,arguments)}function af(a,e){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,S.Z)(function*(a,e){const r=qe(a),s=e.query;let l=3;const h=r.queries.get(s);if(h){const g=h.U_.indexOf(e);g>=0&&(h.U_.splice(g,1),0===h.U_.length?l=e.G_()?0:1:!h.W_()&&e.G_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function qg(a,e){const r=qe(a);let s=!1;for(const l of e){const g=r.queries.get(l.query);if(g){for(const D of g.U_)D.H_(l)&&(s=!0);g.K_=l}}s&&uf(r)}function Sp(a,e,r){const s=qe(a),l=s.queries.get(e);if(l)for(const h of l.U_)h.onError(r);s.queries.delete(e)}function uf(a){a.z_.forEach(e=>{e.next()})}var w,d;(d=w||(w={})).J_="default",d.Cache="cache";class p{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new vu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==w.Cache}}class ut{constructor(e){this.key=e}}class xt{constructor(e){this.key=e}}class yn{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=pe(),this.mutatedKeys=pe(),this.Ia=os(e),this.Ta=new _u(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new sf,l=r?r.Ta:this.Ta;let h=r?r.mutatedKeys:this.mutatedKeys,g=l,D=!1;const x="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,U="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ne,le)=>{const Te=l.get(ne),tt=Si(this.query,le)?le:null,St=!!Te&&this.mutatedKeys.has(Te.key),mt=!!tt&&(tt.hasLocalMutations||this.mutatedKeys.has(tt.key)&&tt.hasCommittedMutations);let Ut=!1;Te&&tt?Te.data.isEqual(tt.data)?St!==mt&&(s.track({type:3,doc:tt}),Ut=!0):this.Ra(Te,tt)||(s.track({type:2,doc:tt}),Ut=!0,(x&&this.Ia(tt,x)>0||U&&this.Ia(tt,U)<0)&&(D=!0)):!Te&&tt?(s.track({type:0,doc:tt}),Ut=!0):Te&&!tt&&(s.track({type:1,doc:Te}),Ut=!0,(x||U)&&(D=!0)),Ut&&(tt?(g=g.add(tt),h=mt?h.add(ne):h.delete(ne)):(g=g.delete(ne),h=h.delete(ne)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ne="F"===this.query.limitType?g.last():g.first();g=g.delete(ne.key),h=h.delete(ne.key),s.track({type:1,doc:ne})}return{Ta:g,Aa:s,Xi:D,mutatedKeys:h}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const h=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const g=e.Aa.Q_();g.sort((ne,le)=>function(tt,St){const mt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return mt(tt)-mt(St)}(ne.type,le.type)||this.Ia(ne.doc,le.doc)),this.Va(s),l=null!=l&&l;const D=r&&!l?this.ma():[],x=0===this.Pa.size&&this.current&&!l?1:0,U=x!==this.ha;return this.ha=x,0!==g.length||U?{snapshot:new vu(this.query,e.Ta,h,g,e.mutatedKeys,0===x,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new sf,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=pe(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new xt(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new ut(s))}),r}pa(e){this.la=e.hs,this.Pa=pe();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return vu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Fn{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Gr{constructor(e){this.key=e,this.wa=!1}}class Ls{constructor(e,r,s,l,h,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Sa={},this.ba=new vr(D=>Ii(D),di),this.Da=new Map,this.Ca=new Set,this.va=new Gn(gt.comparator),this.Fa=new Map,this.Ma=new Ws,this.xa={},this.Oa=new Map,this.Na=ha.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function na(a,e){return wu.apply(this,arguments)}function wu(){return(wu=(0,S.Z)(function*(a,e,r=!0){const s=Ef(a);let l;const h=s.ba.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.ya()):l=yield Fd(s,e,r,!0),l})).apply(this,arguments)}function Vc(a,e){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,S.Z)(function*(a,e){const r=Ef(a);yield Fd(r,e,!0,!1)})).apply(this,arguments)}function Fd(a,e,r,s){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,S.Z)(function*(a,e,r,s){const l=yield function ta(a,e){const r=qe(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(h=>h?(l=h,Se.resolve(l)):r.Qr.allocateTargetId(s).next(g=>(l=new ts(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}(a.localStore,Qt(e)),h=l.targetId,g=r?a.sharedClientState.addLocalQueryTarget(h):"not-current";let D;return s&&(D=yield function Ul(a,e,r,s,l){return Bc.apply(this,arguments)}(a,e,h,"current"===g,l.resumeToken)),a.isPrimaryClient&&r&&Nc(a.remoteStore,l),D})).apply(this,arguments)}function Bc(){return Bc=(0,S.Z)(function*(a,e,r,s,l){a.Ba=(le,Te,tt)=>{return(St=(0,S.Z)(function*(Ut,Cn,kn,xn){let Ar=Cn.view.da(kn);Ar.Xi&&(Ar=yield za(Ut.localStore,Cn.query,!1).then(({documents:ve})=>Cn.view.da(ve,Ar)));const fi=xn&&xn.targetChanges.get(Cn.targetId),Dr=xn&&null!=xn.targetMismatches.get(Cn.targetId),Be=Cn.view.applyChanges(Ar,Ut.isPrimaryClient,fi,Dr);return mf(Ut,Cn.targetId,Be.fa),Be.snapshot}),function mt(Ut,Cn,kn,xn){return St.apply(this,arguments)})(a,le,Te,tt);var St};const h=yield za(a.localStore,e,!0),g=new yn(e,h.hs),D=g.da(h.documents),x=Hs.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,l),U=g.applyChanges(D,a.isPrimaryClient,x);mf(a,r,U.fa);const ne=new Fn(e,r,g);return a.ba.set(e,ne),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),U.snapshot}),Bc.apply(this,arguments)}function lf(a,e,r){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,S.Z)(function*(a,e,r){const s=qe(a),l=s.ba.get(e),h=s.Da.get(l.targetId);if(h.length>1)return s.Da.set(l.targetId,h.filter(g=>!di(g,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield pu(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&Ll(s.remoteStore,l.targetId),Hl(s,l.targetId)}).catch(ci))):(Hl(s,l.targetId),yield pu(s.localStore,l.targetId,!0))})).apply(this,arguments)}function Vd(a,e){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,S.Z)(function*(a,e){const r=qe(a),s=r.ba.get(e),l=r.Da.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Ll(r.remoteStore,s.targetId))})).apply(this,arguments)}function $l(){return($l=(0,S.Z)(function*(a,e,r){const s=function Ju(a){const e=qe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uy.bind(null,e),e}(a);try{const l=yield function(g,D){const x=qe(g),U=bn.now(),ne=D.reduce((tt,St)=>tt.add(St.key),pe());let le,Te;return x.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let St=Ri(),mt=pe();return x.os.getEntries(tt,ne).next(Ut=>{St=Ut,St.forEach((Cn,kn)=>{kn.isValidDocument()||(mt=mt.add(Cn))})}).next(()=>x.localDocuments.getOverlayedDocuments(tt,St)).next(Ut=>{le=Ut;const Cn=[];for(const kn of D){const xn=Me(kn,le.get(kn.key).overlayedDocument);null!=xn&&Cn.push(new er(kn.key,xn,Fr(xn.value.mapValue),li.exists(!0)))}return x.mutationQueue.addMutationBatch(tt,U,Cn,D)}).next(Ut=>{Te=Ut;const Cn=Ut.applyToLocalDocumentSet(le,mt);return x.documentOverlayCache.saveOverlays(tt,Ut.batchId,Cn)})}).then(()=>({batchId:Te.batchId,changes:_(le)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(g,D,x){let U=g.xa[g.currentUser.toKey()];U||(U=new Gn(Ot)),U=U.insert(D,x),g.xa[g.currentUser.toKey()]=U}(s,l.batchId,r),yield Za(s,l.changes),yield qa(s.remoteStore)}catch(l){const h=Ks(l,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function Kg(a,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,S.Z)(function*(a,e){const r=qe(a);try{const s=yield function Rl(a,e){const r=qe(a),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const D=[];e.targetChanges.forEach((ne,le)=>{const Te=l.get(le);if(!Te)return;D.push(r.Qr.removeMatchingKeys(h,ne.removedDocuments,le).next(()=>r.Qr.addMatchingKeys(h,ne.addedDocuments,le)));let tt=Te.withSequenceNumber(h.currentSequenceNumber);var mt,Ut,Cn;null!==e.targetMismatches.get(le)?tt=tt.withResumeToken(ar.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):ne.resumeToken.approximateByteSize()>0&&(tt=tt.withResumeToken(ne.resumeToken,s)),l=l.insert(le,tt),Ut=tt,Cn=ne,(0===(mt=Te).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-mt.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(h,tt))});let x=Ri(),U=pe();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(h,ne))}),D.push(function Bh(a,e,r){let s=pe(),l=pe();return r.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let g=Ri();return r.forEach((D,x)=>{const U=h.get(D);x.isFoundDocument()!==U.isFoundDocument()&&(l=l.add(D)),x.isNoDocument()&&x.version.isEqual(wt.min())?(e.removeEntry(D,x.readTime),g=g.insert(D,x)):!U.isValidDocument()||x.version.compareTo(U.version)>0||0===x.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(x),g=g.insert(D,x)):be("LocalStore","Ignoring outdated watch update for ",D,". Current version:",U.version," Watch version:",x.version)}),{cs:g,ls:l}})}(h,g,e.documentUpdates).next(ne=>{x=ne.cs,U=ne.ls})),!s.isEqual(wt.min())){const ne=r.Qr.getLastRemoteSnapshotVersion(h).next(le=>r.Qr.setTargetsMetadata(h,h.currentSequenceNumber,s));D.push(ne)}return Se.waitFor(D).next(()=>g.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,x,U)).next(()=>x)}).then(h=>(r.ns=l,h))}(r.localStore,e);e.targetChanges.forEach((l,h)=>{const g=r.Fa.get(h);g&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.wa=!0:l.modifiedDocuments.size>0?Ye(g.wa):l.removedDocuments.size>0&&(Ye(g.wa),g.wa=!1))}),yield Za(r,s,e)}catch(s){yield ci(s)}})).apply(this,arguments)}function cf(a,e,r){const s=qe(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ba.forEach((h,g)=>{const D=g.view.j_(e);D.snapshot&&l.push(D.snapshot)}),function(g,D){const x=qe(g);x.onlineState=D;let U=!1;x.queries.forEach((ne,le)=>{for(const Te of le.U_)Te.j_(D)&&(U=!0)}),U&&uf(x)}(s.eventManager,e),l.length&&s.Sa.h_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Qg(a,e,r){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,S.Z)(function*(a,e,r){const s=qe(a);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Fa.get(e),h=l&&l.key;if(h){let g=new Gn(gt.comparator);g=g.insert(h,pr.newNoDocument(h,wt.min()));const D=pe().add(h),x=new Ea(wt.min(),new Map,new Gn(Ot),g,D);yield Kg(s,x),s.va=s.va.remove(h),s.Fa.delete(e),zl(s)}else yield pu(s.localStore,e,!1).then(()=>Hl(s,e,r)).catch(ci)})).apply(this,arguments)}function Zg(a,e){return df.apply(this,arguments)}function df(){return(df=(0,S.Z)(function*(a,e){const r=qe(a),s=e.batch.batchId;try{const l=yield function ks(a,e){const r=qe(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),h=r.os.newChangeBuffer({trackRemovals:!0});return function(D,x,U,ne){const le=U.batch,Te=le.keys();let tt=Se.resolve();return Te.forEach(St=>{tt=tt.next(()=>ne.getEntry(x,St)).next(mt=>{const Ut=U.docVersions.get(St);Ye(null!==Ut),mt.version.compareTo(Ut)<0&&(le.applyToRemoteDocument(mt,U),mt.isValidDocument()&&(mt.setReadTime(U.commitVersion),ne.addEntry(mt)))})}),tt.next(()=>D.mutationQueue.removeMutationBatch(x,le))}(r,s,e,h).next(()=>h.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let x=pe();for(let U=0;U<D.mutationResults.length;++U)D.mutationResults[U].transformResults.length>0&&(x=x.add(D.batch.mutations[U].key));return x}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);pf(r,s,null),ff(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Za(r,l)}catch(l){yield ci(l)}})).apply(this,arguments)}function Uy(a,e,r){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,S.Z)(function*(a,e,r){const s=qe(a);try{const l=yield function(g,D){const x=qe(g);return x.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let ne;return x.mutationQueue.lookupMutationBatch(U,D).next(le=>(Ye(null!==le),ne=le.keys(),x.mutationQueue.removeMutationBatch(U,le))).next(()=>x.mutationQueue.performConsistencyCheck(U)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(U,ne,D)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,ne)).next(()=>x.localDocuments.getDocuments(U,ne))})}(s.localStore,e);pf(s,e,r),ff(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Za(s,l)}catch(l){yield ci(l)}})).apply(this,arguments)}function ff(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function pf(a,e,r){const s=qe(a);let l=s.xa[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(r?h.reject(r):h.resolve(),l=l.remove(e)),s.xa[s.currentUser.toKey()]=l}}function Hl(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Da.get(e))a.ba.delete(s),r&&a.Sa.ka(s,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(s=>{a.Ma.containsKey(s)||gf(a,s)})}function gf(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Ll(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),zl(a))}function mf(a,e,r){for(const s of r)s instanceof ut?(a.Ma.addReference(s.key,e),yf(a,s)):s instanceof xt?(be("SyncEngine","Document no longer in limbo: "+s.key),a.Ma.removeReference(s.key,e),a.Ma.containsKey(s.key)||gf(a,s.key)):Ie()}function yf(a,e){const r=e.key,s=r.path.canonicalString();a.va.get(r)||a.Ca.has(s)||(be("SyncEngine","New document in limbo: "+r),a.Ca.add(s),zl(a))}function zl(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new gt(Un.fromString(e)),s=a.Na.next();a.Fa.set(s,new Gr(r)),a.va=a.va.insert(r,s),Nc(a.remoteStore,new ts(Qt(de(r.path)),s,"TargetPurposeLimboResolution",te.oe))}}function Za(a,e,r){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,S.Z)(function*(a,e,r){const s=qe(a),l=[],h=[],g=[];var D;s.ba.isEmpty()||(s.ba.forEach((D,x)=>{g.push(s.Ba(x,e,r).then(U=>{if((U||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(x.targetId,U&&!U.fromCache?"current":"not-current"),U){l.push(U);const ne=Vh.Ki(x.targetId,U);h.push(ne)}}))}),yield Promise.all(g),s.Sa.h_(l),yield(D=(0,S.Z)(function*(U,ne){const le=qe(U);try{yield le.persistence.runTransaction("notifyLocalViewChanges","readwrite",Te=>Se.forEach(ne,tt=>Se.forEach(tt.qi,St=>le.persistence.referenceDelegate.addReference(Te,tt.targetId,St)).next(()=>Se.forEach(tt.Qi,St=>le.persistence.referenceDelegate.removeReference(Te,tt.targetId,St)))))}catch(Te){if(!cr(Te))throw Te;be("LocalStore","Failed to update sequence numbers: "+Te)}for(const Te of ne){const tt=Te.targetId;if(!Te.fromCache){const St=le.ns.get(tt),Ut=St.withLastLimboFreeSnapshotVersion(St.snapshotVersion);le.ns=le.ns.insert(tt,Ut)}}}),function x(U,ne){return D.apply(this,arguments)})(s.localStore,h))}),Ud.apply(this,arguments)}function _f(a,e){return vf.apply(this,arguments)}function vf(){return(vf=(0,S.Z)(function*(a,e){const r=qe(a);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const s=yield Dc(r.localStore,e);r.currentUser=e,(h=r).Oa.forEach(D=>{D.forEach(x=>{x.reject(new Q(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Za(r,s.us)}var h})).apply(this,arguments)}function Mp(a,e){const r=qe(a),s=r.Fa.get(e);if(s&&s.wa)return pe().add(s.key);{let l=pe();const h=r.Da.get(e);if(!h)return l;for(const g of h){const D=r.ba.get(g);l=l.unionWith(D.view.Ea)}return l}}function Ef(a){const e=qe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qg.bind(null,e),e.Sa.h_=qg.bind(null,e.eventManager),e.Sa.ka=Sp.bind(null,e.eventManager),e}class jc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,S.Z)(function*(){r.serializer=Ku(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return function fu(a,e,r,s){return new Ug(a,e,r,s)}(this.persistence,new _p,e.initialUser,this.serializer)}createPersistence(e){return new Al(ea.Hr,this.serializer)}createSharedClientState(e){return new Ml}terminate(){var e=this;return(0,S.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wl{initialize(e,r){var s=this;return(0,S.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>cf(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=_f.bind(null,s.syncEngine),yield tf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fc}createDatastore(e){const r=Ku(e.databaseInfo.databaseId),s=new Mc(e.databaseInfo);return new Wh(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,h=e.asyncQueue,g=r=>cf(this.syncEngine,r,0),D=xl.D()?new xl:new vp,new Hg(s,l,h,g,D);var s,l,h,g,D}createSyncEngine(e,r){return function(l,h,g,D,x,U,ne){const le=new Ls(l,h,g,D,x,U);return ne&&(le.La=!0),le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,S.Z)(function*(){var r,s;yield(s=(0,S.Z)(function*(h){const g=qe(h);be("RemoteStore","RemoteStore shutting down."),g.M_.add(5),yield Ol(g),g.O_.shutdown(),g.N_.set("Unknown")}),function l(h){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Xu{constructor(e,r,s,l){var h=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=rt.UNAUTHENTICATED,this.clientId=yi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,S.Z)(function*(D){be("FirestoreClient","Received user=",D.uid),yield h.authCredentialListener(D),h.user=D});return function(D){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(be("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ge;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,S.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=Ks(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function el(a,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,S.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var l=(0,S.Z)(function*(h){s.isEqual(h)||(yield Dc(e.localStore,h),s=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Fp.apply(this,arguments)}function rm(a,e){return im.apply(this,arguments)}function im(){return(im=(0,S.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function sm(a){return om.apply(this,arguments)}(a);be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>Nd(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>Nd(e.remoteStore,l)),a._onlineComponents=e})).apply(this,arguments)}function om(){return(om=(0,S.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield el(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function qy(a){return"FirebaseError"===a.name?a.code===Ne.FAILED_PRECONDITION||a.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}(r))throw r;jn("Error using user provided cache. Falling back to memory cache: "+r),yield el(a,new jc)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield el(a,new jc);return a._offlineComponents})).apply(this,arguments)}function zd(a){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,S.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield rm(a,a._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield rm(a,new Wl))),a._onlineComponents})).apply(this,arguments)}function Ja(a){return bf.apply(this,arguments)}function bf(){return(bf=(0,S.Z)(function*(a){const e=yield zd(a),r=e.eventManager;return r.onListen=na.bind(null,e.syncEngine),r.onUnlisten=lf.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Vc.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Vd.bind(null,e.syncEngine),r})).apply(this,arguments)}function hm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Bp=new Map;function Hc(a,e,r){if(!r)throw new Q(Ne.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Df(a){if(!gt.isDocumentKey(a))throw new Q(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function fm(a){if(gt.isDocumentKey(a))throw new Q(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Iu(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":Ie()}function Xr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Q(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Iu(a);throw new Q(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class Cf{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Q(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Q(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Jy(a,e,r,s){if(!0===e&&!0===s)throw new Q(Ne.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Q(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Q(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Q(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Q(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cf(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new nt;switch(s.type){case"firstParty":return new Vt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Q(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Bp.get(r);s&&(be("ComponentProvider","Removing Datastore"),Bp.delete(r),s.terminate())}(this),Promise.resolve()}}class wo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Fs{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fs(this.firestore,e,this._key)}}class Xa extends wo{constructor(e,r,s){super(e,r,de(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fs(this.firestore,null,new gt(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function gm(a,e,...r){if(a=(0,ue.m9)(a),Hc("collection","path",e),a instanceof zc){const s=Un.fromString(e,...r);return fm(s),new Xa(a,null,s)}{if(!(a instanceof Fs||a instanceof Xa))throw new Q(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Un.fromString(e,...r));return fm(s),new Xa(a.firestore,null,s)}}function e_(a,e,...r){if(a=(0,ue.m9)(a),1===arguments.length&&(e=yi.newId()),Hc("doc","path",e),a instanceof zc){const s=Un.fromString(e,...r);return Df(s),new Fs(a,null,new gt(s))}{if(!(a instanceof Fs||a instanceof Xa))throw new Q(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Un.fromString(e,...r));return Df(s),new Fs(a.firestore,a instanceof Xa?a.converter:null,new gt(s))}}class mm{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new mu(this,"async_queue_retry"),this.hu=()=>{const r=qu();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=qu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=qu();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ge;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,S.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!cr(r))throw r;be("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,kt("INTERNAL UNHANDLED ERROR: ",function(g){let D=g.message||"";return g.stack&&(D=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),D}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const l=rf.createAndSchedule(this,e,r,s,h=>this.Eu(h));return this._u.push(l),l}Pu(){this.au&&Ie()}verifyOperationInProgress(){}du(){var e=this;return(0,S.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Rf(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(a)}class Wi extends zc{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new mm,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||r_(this),this._firestoreClient.terminate()}}function ym(a,e){const r="object"==typeof a?a:(0,we.Mq)(),s="string"==typeof a?a:e||"(default)",l=(0,we.qX)(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=(0,ue.P0)("firestore");h&&function Xy(a,e,r,s={}){var l;const h=(a=Xr(a,zc))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&jn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),s.mockUserToken){let D,x;if("string"==typeof s.mockUserToken)D=s.mockUserToken,x=rt.MOCK_USER;else{D=(0,ue.Sg)(s.mockUserToken,null===(l=a._app)||void 0===l?void 0:l.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Q(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new rt(U)}a._authCredentials=new je(new Xe(D,x))}}(l,...h)}return l}function as(a){return a._firestoreClient||r_(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function r_(a){var e,r,s;const l=a._freezeSettings(),h=(x=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new So(a._databaseId,x,a._persistenceKey,(ne=l).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,hm(ne.experimentalLongPollingOptions),ne.useFetchStreams));var x,ne;a._firestoreClient=new Xu(a._authCredentials,a._appCheckCredentials,a._queue,h),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(ar.fromBase64String(e))}catch(r){throw new Q(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new pa(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Q(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xf{constructor(e){this._methodName=e}}class Nf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Q(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Q(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const qc=/^__.*__$/;class o_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new er(e,this.data,this.fieldMask,r,this.fieldTransforms):new Gt(e,this.data,r,this.fieldTransforms)}}class wm{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new er(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Em(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class Kc{constructor(e,r,s,l,h,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===h&&this.mu(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Kc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.wu(e),l}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.mu(),l}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return bu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Em(this.fu)&&qc.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Im{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Ku(e)}Fu(e,r,s,l=!1){return new Kc({fu:e,methodName:r,vu:s,path:Hn.emptyPath(),yu:!1,Cu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qc(a){const e=a._freezeSettings(),r=Ku(a._databaseId);return new Im(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Of(a,e,r,s,l,h={}){const g=a.Fu(h.merge||h.mergeFields?2:0,e,r,l);qd("Data must be an object, but it was:",g,s);const D=kf(s,g);let x,U;if(h.merge)x=new jr(g.fieldMask),U=g.fieldTransforms;else if(h.mergeFields){const ne=[];for(const le of h.mergeFields){const Te=Ql(e,le,r);if(!g.contains(Te))throw new Q(Ne.INVALID_ARGUMENT,`Field '${Te}' is specified in your field mask but missing from your input data.`);Lf(ne,Te)||ne.push(Te)}x=new jr(ne),U=g.fieldTransforms.filter(le=>x.covers(le.field))}else x=null,U=g.fieldTransforms;return new o_(new dn(D),x,U)}class ql extends xf{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ql}}class zp extends xf{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=function a_(a,e,r){return new Kc({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}(this,e,!0),s=this.Mu.map(h=>Tu(h,r)),l=new Yr(s);return new Xi(e.path,l)}isEqual(e){return e instanceof zp&&(0,ue.vZ)(this.Mu,e.Mu)}}function Tu(a,e){if(Kl(a=(0,ue.m9)(a)))return qd("Unsupported field value:",e,a),kf(a,e);if(a instanceof xf)return function(s,l){if(!Em(l.fu))throw l.Du(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Du(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,l){const h=[];let g=0;for(const D of s){let x=Tu(D,l.bu(g));null==x&&(x={nullValue:"NULL_VALUE"}),h.push(x),g++}return{arrayValue:{values:h}}}(a,e)}return function(s,l){if(null===(s=(0,ue.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return rr(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=bn.fromDate(s);return{timestampValue:Ko(l.serializer,h)}}if(s instanceof bn){const h=new bn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ko(l.serializer,h)}}if(s instanceof Nf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pa)return{bytesValue:ro(l.serializer,s._byteString)};if(s instanceof Fs){const h=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(h))throw l.Du(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:M(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Du(`Unsupported field value: ${Iu(s)}`)}(a,e)}function kf(a,e){const r={};return vn(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dt(a,(s,l)=>{const h=Tu(l,e.pu(s));null!=h&&(r[s]=h)}),{mapValue:{fields:r}}}function Kl(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof bn||a instanceof Nf||a instanceof pa||a instanceof Fs||a instanceof xf)}function qd(a,e,r){if(!Kl(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Iu(r);throw e.Du("an object"===s?a+" a custom object":a+" "+s)}var l}function Ql(a,e,r){if((e=(0,ue.m9)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return Zl(a,e);throw bu("Field path arguments must be of type string or ",a,!1,void 0,r)}const Kd=new RegExp("[~\\*/\\[\\]]");function Zl(a,e,r){if(e.search(Kd)>=0)throw bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new nl(...e.split("."))._internalPath}catch{throw bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function bu(a,e,r,s,l){const h=s&&!s.isEmpty(),g=void 0!==l;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let x="";return(h||g)&&(x+=" (found",h&&(x+=` in field ${s}`),g&&(x+=` in document ${l}`),x+=")"),new Q(Ne.INVALID_ARGUMENT,D+a+x)}function Lf(a,e){return a.some(r=>r.isEqual(e))}class Qd{constructor(e,r,s,l,h){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ff(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Ff extends Qd{data(){return super.data()}}function Wp(a,e){return"string"==typeof e?Zl(a,e):e instanceof nl?e._internalPath:e._delegate._internalPath}class p_{convertValue(e,r="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Ie()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Dt(e,(l,h)=>{s[l]=this.convertValue(h,r)}),s}convertGeoPoint(e){return new Nf(Qr(e.latitude),Qr(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Us(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ps(e));default:return null}}convertTimestamp(e){const r=_s(e);return new bn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Un.fromString(e);Ye(Ou(s));const l=new Ms(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return l.isEqual(r)||kt(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function il(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}class sl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jl extends Qd{constructor(e,r,s,l,h,g){super(e,r,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Wp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Zc extends Jl{data(e={}){return super.data(e)}}class Xd{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new sl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Zc(this._firestore,this._userDataWriter,s.key,s,new sl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Q(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new Zc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new sl(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>h||3!==D.type).map(D=>{const x=new Zc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new sl(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let U=-1,ne=-1;return 0!==D.type&&(U=g.indexOf(D.doc.key),g=g.delete(D.doc.key)),1!==D.type&&(g=g.add(D.doc),ne=g.indexOf(D.doc.key)),{type:Zp(D.type),doc:x,oldIndex:U,newIndex:ne}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Zp(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function __(a){a=Xr(a,Fs);const e=Xr(a.firestore,Wi);return function Ky(a,e,r={}){const s=new Ge;return a.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function(h,g,D,x,U){const ne=new Tf({next:Te=>{g.enqueueAndForget(()=>af(h,le));const tt=Te.docs.has(D);!tt&&Te.fromCache?U.reject(new Q(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&Te.fromCache&&x&&"server"===x.source?U.reject(new Q(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Te)},error:Te=>U.reject(Te)}),le=new p(de(D.path),ne,{includeMetadataChanges:!0,ra:!0});return Od(h,le)}(yield Ja(a),a.asyncQueue,e,r,s)})),s.promise}(as(e),a._key).then(r=>tu(e,a,r))}class ol extends p_{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,r)}}function pw(a,e,r){a=Xr(a,Fs);const s=Xr(a.firestore,Wi),l=il(a.converter,e,r);return Xl(s,[Of(Qc(s),"setDoc",a._key,l,null!==a.converter,r).toMutation(a._key,li.none())])}function Rm(a,e,r,...s){a=Xr(a,Fs);const l=Xr(a.firestore,Wi),h=Qc(l);let g;return g="string"==typeof(e=(0,ue.m9)(e))||e instanceof nl?function Wd(a,e,r,s,l,h){const g=a.Fu(1,e,r),D=[Ql(e,s,r)],x=[l];if(h.length%2!=0)throw new Q(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Te=0;Te<h.length;Te+=2)D.push(Ql(e,h[Te])),x.push(h[Te+1]);const U=[],ne=dn.empty();for(let Te=D.length-1;Te>=0;--Te)if(!Lf(U,D[Te])){const tt=D[Te];let St=x[Te];St=(0,ue.m9)(St);const mt=g.Su(tt);if(St instanceof ql)U.push(tt);else{const Ut=Tu(St,mt);null!=Ut&&(U.push(tt),ne.set(tt,Ut))}}const le=new jr(U);return new wm(ne,le,g.fieldTransforms)}(h,"updateDoc",a._key,e,r,s):function u_(a,e,r,s){const l=a.Fu(1,e,r);qd("Data must be an object, but it was:",l,s);const h=[],g=dn.empty();Dt(s,(x,U)=>{const ne=Zl(e,x,r);U=(0,ue.m9)(U);const le=l.Su(ne);if(U instanceof ql)h.push(ne);else{const Te=Tu(U,le);null!=Te&&(h.push(ne),g.set(ne,Te))}});const D=new jr(h);return new wm(g,D,l.fieldTransforms)}(h,"updateDoc",a._key,e),Xl(l,[g.toMutation(a._key,li.exists(!0))])}function Ca(a,e){const r=Xr(a.firestore,Wi),s=e_(a),l=il(a.converter,e);return Xl(r,[Of(Qc(a.firestore),"addDoc",s._key,l,null!==a.converter,{}).toMutation(s._key,li.exists(!1))]).then(()=>s)}function Pm(a,...e){var r,s,l;a=(0,ue.m9)(a);let h={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||Rf(e[g])||(h=e[g],g++);const D={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Rf(e[g])){const le=e[g];e[g]=null===(r=le.next)||void 0===r?void 0:r.bind(le),e[g+1]=null===(s=le.error)||void 0===s?void 0:s.bind(le),e[g+2]=null===(l=le.complete)||void 0===l?void 0:l.bind(le)}let x,U,ne;if(a instanceof Fs)U=Xr(a.firestore,Wi),ne=de(a._key.path),x={next:le=>{e[g]&&e[g](tu(U,a,le))},error:e[g+1],complete:e[g+2]};else{const le=Xr(a,wo);U=Xr(le.firestore,Wi),ne=le._query;const Te=new ol(U);x={next:tt=>{e[g]&&e[g](new Xd(U,Te,le,tt))},error:e[g+1],complete:e[g+2]},function Vf(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Q(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(a._query)}return function(Te,tt,St,mt){const Ut=new Tf(mt),Cn=new p(tt,Ut,St);return Te.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return Od(yield Ja(Te),Cn)})),()=>{Ut.$a(),Te.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return af(yield Ja(Te),Cn)}))}}(as(U),ne,D,x)}function Xl(a,e){return function(s,l){const h=new Ge;return s.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function jl(a,e,r){return $l.apply(this,arguments)}(yield function Gd(a){return zd(a).then(e=>e.syncEngine)}(s),l,h)})),h.promise}(as(a),e)}function tu(a,e,r){const s=r.docs.get(e._key),l=new ol(a);return new Jl(a,l,e._key,s,new sl(r.hasPendingWrites,r.fromCache),e.converter)}function P_(...a){return new zp("arrayUnion",a)}!function(e,r=!0){lt=we.Jn,(0,we.Xd)(new Ce.wA("firestore",(s,{instanceIdentifier:l,options:h})=>{const g=s.getProvider("app").getImmediate(),D=new Wi(new ke(s.getProvider("auth-internal")),new bt(s.getProvider("app-check-internal")),function(U,ne){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Q(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(U.options.projectId,ne)}(g,l),g);return h=Object.assign({useFetchStreams:r},h),D._setSettings(h),D},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Ae,"4.6.3",e),(0,we.KN)(Ae,"4.6.3","esm2017")}()},9058:(In,yt,Y)=>{"use strict";Y.d(yt,{BH:()=>lt,G6:()=>Ne,L:()=>vt,LL:()=>ke,P0:()=>cn,Pz:()=>rt,Sg:()=>Ft,ZR:()=>je,aH:()=>Ae,b$:()=>xi,eu:()=>Ge,hl:()=>Q,m9:()=>wn,ne:()=>Mr,pd:()=>Mn,q4:()=>qn,ru:()=>jn,tV:()=>ge,uI:()=>Nt,vZ:()=>Un,w1:()=>Ye,xO:()=>gt,xb:()=>wt,z$:()=>Ht,zd:()=>Pr});const ze=function(me){const ee=[];let re=0;for(let J=0;J<me.length;J++){let te=me.charCodeAt(J);te<128?ee[re++]=te:te<2048?(ee[re++]=te>>6|192,ee[re++]=63&te|128):55296==(64512&te)&&J+1<me.length&&56320==(64512&me.charCodeAt(J+1))?(te=65536+((1023&te)<<10)+(1023&me.charCodeAt(++J)),ee[re++]=te>>18|240,ee[re++]=te>>12&63|128,ee[re++]=te>>6&63|128,ee[re++]=63&te|128):(ee[re++]=te>>12|224,ee[re++]=te>>6&63|128,ee[re++]=63&te|128)}return ee},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,ee){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let te=0;te<me.length;te+=3){const Fe=me[te],Et=te+1<me.length,Lt=Et?me[te+1]:0,jt=te+2<me.length,pn=jt?me[te+2]:0;let Sr=(15&Lt)<<2|pn>>6,bi=63&pn;jt||(bi=64,Et||(Sr=64)),J.push(re[Fe>>2],re[(3&Fe)<<4|Lt>>4],re[Sr],re[bi])}return J.join("")},encodeString(me,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(me):this.encodeByteArray(ze(me),ee)},decodeString(me,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(me):function(me){const ee=[];let re=0,J=0;for(;re<me.length;){const te=me[re++];if(te<128)ee[J++]=String.fromCharCode(te);else if(te>191&&te<224){const Fe=me[re++];ee[J++]=String.fromCharCode((31&te)<<6|63&Fe)}else if(te>239&&te<365){const jt=((7&te)<<18|(63&me[re++])<<12|(63&me[re++])<<6|63&me[re++])-65536;ee[J++]=String.fromCharCode(55296+(jt>>10)),ee[J++]=String.fromCharCode(56320+(1023&jt))}else{const Fe=me[re++],Et=me[re++];ee[J++]=String.fromCharCode((15&te)<<12|(63&Fe)<<6|63&Et)}}return ee.join("")}(this.decodeStringToByteArray(me,ee))},decodeStringToByteArray(me,ee){this.init_();const re=ee?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let te=0;te<me.length;){const Fe=re[me.charAt(te++)],Lt=te<me.length?re[me.charAt(te)]:0;++te;const pn=te<me.length?re[me.charAt(te)]:64;++te;const rn=te<me.length?re[me.charAt(te)]:64;if(++te,null==Fe||null==Lt||null==pn||null==rn)throw new Ve;J.push(Fe<<2|Lt>>4),64!==pn&&(J.push(Lt<<4&240|pn>>2),64!==rn&&J.push(pn<<6&192|rn))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vt=function(me){return function(me){const ee=ze(me);return Le.encodeByteArray(ee,!0)}(me).replace(/\./g,"")},ge=function(me){try{return Le.decodeString(me,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null},gn=()=>{try{return function ct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const me=process.env.__FIREBASE_DEFAULTS__;return me?JSON.parse(me):void 0})()||(()=>{if(typeof document>"u")return;let me;try{me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=me&&ge(me[1]);return ee&&JSON.parse(ee)})()}catch(me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${me}`)}},qn=me=>{var ee,re;return null===(re=null===(ee=gn())||void 0===ee?void 0:ee.emulatorHosts)||void 0===re?void 0:re[me]},cn=me=>{const ee=qn(me);if(!ee)return;const re=ee.lastIndexOf(":");if(re<=0||re+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const J=parseInt(ee.substring(re+1),10);return"["===ee[0]?[ee.substring(1,re-1),J]:[ee.substring(0,re),J]},Ae=()=>{var me;return null===(me=gn())||void 0===me?void 0:me.config},rt=me=>{var ee;return null===(ee=gn())||void 0===ee?void 0:ee[`_${me}`]};class lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,re)=>{this.resolve=ee,this.reject=re})}wrapCallback(ee){return(re,J)=>{re?this.reject(re):this.resolve(J),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(re):ee(re,J))}}}function Ft(me,ee){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=ee||"demo-project",te=me.iat||0,Fe=me.sub||me.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:te,exp:te+3600,auth_time:te,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},me);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(Et)),""].join(".")}function Ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function jn(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function xi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const me=Ht();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function Ne(){return!function be(){var me;const ee=null===(me=gn())||void 0===me?void 0:me.forceEnvironment;if("node"===ee)return!0;if("browser"===ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((me,ee)=>{try{let re=!0;const J="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(J);te.onsuccess=()=>{te.result.close(),re||self.indexedDB.deleteDatabase(J),me(!0)},te.onupgradeneeded=()=>{re=!1},te.onerror=()=>{var Fe;ee((null===(Fe=te.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(re){ee(re)}})}class je extends Error{constructor(ee,re,J){super(re),this.code=ee,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(ee,re,J){this.service=ee,this.serviceName=re,this.errors=J}create(ee,...re){const J=re[0]||{},te=`${this.service}/${ee}`,Fe=this.errors[ee],Et=Fe?function pt(me,ee){return me.replace(Vt,(re,J)=>{const te=ee[J];return null!=te?String(te):`<${J}?>`})}(Fe,J):"Error";return new je(te,`${this.serviceName}: ${Et} (${te}).`,J)}}const Vt=/\{\$([^}]+)}/g;function wt(me){for(const ee in me)if(Object.prototype.hasOwnProperty.call(me,ee))return!1;return!0}function Un(me,ee){if(me===ee)return!0;const re=Object.keys(me),J=Object.keys(ee);for(const te of re){if(!J.includes(te))return!1;const Fe=me[te],Et=ee[te];if(An(Fe)&&An(Et)){if(!Un(Fe,Et))return!1}else if(Fe!==Et)return!1}for(const te of J)if(!re.includes(te))return!1;return!0}function An(me){return null!==me&&"object"==typeof me}function gt(me){const ee=[];for(const[re,J]of Object.entries(me))Array.isArray(J)?J.forEach(te=>{ee.push(encodeURIComponent(re)+"="+encodeURIComponent(te))}):ee.push(encodeURIComponent(re)+"="+encodeURIComponent(J));return ee.length?"&"+ee.join("&"):""}function Pr(me){const ee={};return me.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[te,Fe]=J.split("=");ee[decodeURIComponent(te)]=decodeURIComponent(Fe)}}),ee}function Mn(me){const ee=me.indexOf("?");if(!ee)return"";const re=me.indexOf("#",ee);return me.substring(ee,re>0?re:void 0)}function Mr(me,ee){const re=new lr(me,ee);return re.subscribe.bind(re)}class lr{constructor(ee,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{ee(this)}).catch(J=>{this.error(J)})}next(ee){this.forEachObserver(re=>{re.next(ee)})}error(ee){this.forEachObserver(re=>{re.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,re,J){let te;if(void 0===ee&&void 0===re&&void 0===J)throw new Error("Missing Observer.");te=function fr(me,ee){if("object"!=typeof me||null===me)return!1;for(const re of ee)if(re in me&&"function"==typeof me[re])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:re,complete:J},void 0===te.next&&(te.next=Ur),void 0===te.error&&(te.error=Ur),void 0===te.complete&&(te.complete=Ur);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Fe}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,ee)}sendOne(ee,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{re(this.observers[ee])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ur(){}function wn(me){return me&&me._delegate?me._delegate:me}},1382:(In,yt,Y)=>{"use strict";Y.d(yt,{BX:()=>Ce,JN:()=>we});var S=Y(6825);const we=(0,S.X$)("routeAnimations",[(0,S.eR)("* <=> *",[(0,S.oB)({transform:"translateX(100%)",opacity:0}),(0,S.jt)("300ms ease-in-out",(0,S.oB)({transform:"translateX(0%)",opacity:1}))])]),Ce=(0,S.X$)("routeAnimations",[(0,S.eR)("* <=> *",[(0,S.oB)({opacity:0}),(0,S.jt)("500ms ease-in-out",(0,S.oB)({opacity:1}))])])},2333:(In,yt,Y)=>{"use strict";Y.d(yt,{e:()=>Ve});var S=Y(3960),we=Y(5619),Ce=Y(3519),ze=Y.n(Ce),ue=Y(4946),Le=Y(2271);let Ve=(()=>{class At{constructor(ge,ye){this.router=ge,this.fire=ye;const We=localStorage.getItem("currentUser"),Rt=We?JSON.parse(We):null;this.currentUserSubject=new we.X(Rt||{user:"",pass:""}),this.currentUser=this.currentUserSubject.asObservable()}getPacientes(){const ge=(0,S.hJ)(this.fire,"pacientes");return(0,S.BS)(ge,{idField:"idDoc"})}getEspecialistas(){const ge=(0,S.hJ)(this.fire,"especialistas");return(0,S.BS)(ge,{idField:"idDoc"})}getAdmins(){const ge=(0,S.hJ)(this.fire,"admin");return(0,S.BS)(ge,{idField:"idDoc"})}login(ge,ye){this.getAdmins().subscribe(rt=>{const lt=rt.find(Ft=>Ft.dni==ge&&Ft.contrase\u00f1a==ye);lt?(lt.perfil="admin",this.currentUserSubject.next(lt),console.log(lt),localStorage.setItem("currentUser",JSON.stringify(lt)),ze().fire({title:"admin",text:"En unos segundos ser\xe1s redirigido",icon:"success"}),this.router.navigateByUrl("/usuarios")):this.getPacientes().subscribe(Ft=>{const Ht=Ft.find(Nt=>Nt.dni==ge&&Nt.contrase\u00f1a==ye);Ht?Ht.validado?(Ht.perfil="paciente",this.currentUserSubject.next(Ht),localStorage.setItem("currentUser",JSON.stringify(Ht)),ze().fire({title:"Paciente encontrado!",text:"En unos segundos ser\xe1s redirigido",icon:"success"}),this.router.navigateByUrl("/mi-perfil")):ze().fire({title:"Tu mail no fue validado a\xfan!",text:"Debes validar tu mail primero.",icon:"warning"}):(console.log("test"),this.getEspecialistas().subscribe(Nt=>{const be=Nt.find(kt=>kt.dni==ge&&kt.contrase\u00f1a==ye);be?be.validado?(this.currentUserSubject.next(be),be.perfil="especialista",localStorage.setItem("currentUser",JSON.stringify(be)),console.log(this.currentUser),ze().fire({title:"Especialista encontrado!",text:"En unos segundos ser\xe1s redirigido",icon:"success"}),this.router.navigateByUrl("/mi-perfil")):ze().fire({title:"Todav\xeda no fuiste validado por el administrador!",text:"Debes esperar a validaci\xf3n del administrador.",icon:"warning"}):ze().fire({title:"El usuario no fue encontrado!",text:"Reescrib\xed tu usuario o contrase\xf1a, por favor.",icon:"error"})}))})});const We=new Date,qn=`${String(We.getDate()).padStart(2,"0")}/${String(We.getMonth()+1).padStart(2,"0")}/${We.getFullYear()}`,cn=`${String(We.getHours()).padStart(2,"0")}:${String(We.getMinutes()).padStart(2,"0")}:${String(We.getSeconds()).padStart(2,"0")}`,Ae=(0,S.hJ)(this.fire,"login");(0,S.ET)(Ae,{dni:ge,dia:qn,tiempo:cn})}esAdmin(){const ge=this.currentUserSubject.value;return ge&&"admin"==ge.perfil}esEspecialista(){const ge=this.currentUserSubject.value;return ge&&"especialista"==ge.perfil}esPaciente(){const ge=this.currentUserSubject.value;return ge&&"paciente"==ge.perfil}static#e=this.\u0275fac=function(ye){return new(ye||At)(ue.LFG(Le.F0),ue.LFG(S.gg))};static#t=this.\u0275prov=ue.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"})}return At})()},6842:(In,yt,Y)=>{"use strict";var S=Y(6593),we=Y(2271),Ce=Y(4946);const ze=[{path:"",loadChildren:()=>Y.e(519).then(Y.bind(Y,1519)).then(W=>W.BienvenidaModule)},{path:"login",loadChildren:()=>Promise.all([Y.e(223),Y.e(560)]).then(Y.bind(Y,3560)).then(W=>W.LoginModule)},{path:"registro",loadChildren:()=>Promise.all([Y.e(223),Y.e(592),Y.e(87)]).then(Y.bind(Y,4087)).then(W=>W.RegistroModule)},{path:"usuarios",loadChildren:()=>Promise.all([Y.e(223),Y.e(403),Y.e(592),Y.e(248)]).then(Y.bind(Y,5248)).then(W=>W.UsuariosModule)},{path:"mail-activacion",loadChildren:()=>Y.e(886).then(Y.bind(Y,2886)).then(W=>W.MailActivacionModule)},{path:"mi-perfil",loadChildren:()=>Promise.all([Y.e(223),Y.e(403),Y.e(462)]).then(Y.bind(Y,5462)).then(W=>W.MiPerfilModule)},{path:"solicitar-turno",loadChildren:()=>Promise.all([Y.e(223),Y.e(784)]).then(Y.bind(Y,666)).then(W=>W.SolicitarTurnoModule)},{path:"turnos",loadChildren:()=>Promise.all([Y.e(223),Y.e(593)]).then(Y.bind(Y,593)).then(W=>W.TurnosModule)},{path:"mis-turnos",loadChildren:()=>Promise.all([Y.e(223),Y.e(957)]).then(Y.bind(Y,9957)).then(W=>W.MisTurnosModule)},{path:"pacientes",loadChildren:()=>Promise.all([Y.e(223),Y.e(394)]).then(Y.bind(Y,8394)).then(W=>W.PacientesModule)},{path:"grafico1",loadChildren:()=>Promise.all([Y.e(223),Y.e(988)]).then(Y.bind(Y,988)).then(W=>W.Grafico1Module)}];let ue=(()=>{class W{static#e=this.\u0275fac=function(O){return new(O||W)};static#t=this.\u0275mod=Ce.oAB({type:W});static#n=this.\u0275inj=Ce.cJS({imports:[we.Bz.forRoot(ze),we.Bz]})}return W})();var Le=Y(1382),Ve=Y(2333);let At=(()=>{class W{prepareRoute(T){return T&&T.activatedRouteData&&T.activatedRouteData.animation?Le.BX:""}constructor(T){this.authService=T,this.title="clinica-online"}ngOnInit(){this.authService.currentUser.subscribe(T=>{this.usuarioActivo=T,console.log(this.usuarioActivo)})}static#e=this.\u0275fac=function(O){return new(O||W)(Ce.Y36(Ve.e))};static#t=this.\u0275cmp=Ce.Xpm({type:W,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(O,q){if(1&O&&(Ce.TgZ(0,"div"),Ce._UZ(1,"router-outlet",null,0),Ce.qZA()),2&O){const se=Ce.MAs(2);Ce.Q6J("@routeAnimations",q.prepareRoute(se))}},dependencies:[we.lC],data:{animation:[Le.JN]}})}return W})();var vt=Y(721),ge=Y(90),ye=Y(3960),We=Y(5017),Rt=Y(6814),ct=Y(6825);function Xt(W){return new Ce.vHH(3e3,!1)}function wt(W){switch(W.length){case 0:return new ct.ZN;case 1:return W[0];default:return new ct.ZE(W)}}function sn(W,_,T=new Map,O=new Map){const q=[],se=[];let Ee=-1,pe=null;if(_.forEach(Ze=>{const at=Ze.get("offset"),Wt=at==Ee,Zt=Wt&&pe||new Map;Ze.forEach((rr,zn)=>{let Dn=zn,Vn=rr;if("offset"!==zn)switch(Dn=W.normalizePropertyName(Dn,q),Vn){case ct.k1:Vn=T.get(zn);break;case ct.l3:Vn=O.get(zn);break;default:Vn=W.normalizeStyleValue(zn,Dn,Vn,q)}Zt.set(Dn,Vn)}),Wt||se.push(Zt),pe=Zt,Ee=at}),q.length)throw function je(W){return new Ce.vHH(3502,!1)}();return se}function Un(W,_,T,O){switch(_){case"start":W.onStart(()=>O(T&&An(T,"start",W)));break;case"done":W.onDone(()=>O(T&&An(T,"done",W)));break;case"destroy":W.onDestroy(()=>O(T&&An(T,"destroy",W)))}}function An(W,_,T){const se=Hn(W.element,W.triggerName,W.fromState,W.toState,_||W.phaseName,T.totalTime??W.totalTime,!!T.disabled),Ee=W._data;return null!=Ee&&(se._data=Ee),se}function Hn(W,_,T,O,q="",se=0,Ee){return{element:W,triggerName:_,fromState:T,toState:O,phaseName:q,totalTime:se,disabled:!!Ee}}function gt(W,_,T){let O=W.get(_);return O||W.set(_,O=T),O}function Pr(W){const _=W.indexOf(":");return[W.substring(1,_),W.slice(_+1)]}const Mn=(()=>typeof document>"u"?null:document.documentElement)();function fn(W){const _=W.parentNode||W.host||null;return _===Mn?null:_}let lr=null,xr=!1;function Rn(W,_){for(;_;){if(_===W)return!0;_=fn(_)}return!1}function Ts(W,_,T){if(T)return Array.from(W.querySelectorAll(_));const O=W.querySelector(_);return O?[O]:[]}let us=(()=>{class W{validateStyleProperty(T){return function fr(W){lr||(lr=function ki(){return typeof document<"u"?document.body:null}()||{},xr=!!lr.style&&"WebkitAppearance"in lr.style);let _=!0;return lr.style&&!function Mr(W){return"ebkit"==W.substring(1,6)}(W)&&(_=W in lr.style,!_&&xr&&(_="Webkit"+W.charAt(0).toUpperCase()+W.slice(1)in lr.style)),_}(T)}matchesElement(T,O){return!1}containsElement(T,O){return Rn(T,O)}getParentElement(T){return fn(T)}query(T,O,q){return Ts(T,O,q)}computeStyle(T,O,q){return q||""}animate(T,O,q,se,Ee,pe=[],Ze){return new ct.ZN(q,se)}static#e=this.\u0275fac=function(O){return new(O||W)};static#t=this.\u0275prov=Ce.Yz7({token:W,factory:W.\u0275fac})}return W})(),ci=(()=>{class W{static#e=this.NOOP=new us}return W})();const Br=1e3,Yt="ng-enter",Bi="ng-leave",ti="ng-trigger",_n=".ng-trigger",cr="ng-animating",pi=".ng-animating";function wn(W){if("number"==typeof W)return W;const _=W.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:me(parseFloat(_[1]),_[2])}function me(W,_){return"s"===_?W*Br:W}function ee(W,_,T){return W.hasOwnProperty("duration")?W:function re(W,_,T){let q,se=0,Ee="";if("string"==typeof W){const pe=W.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return _.push(Xt()),{duration:0,delay:0,easing:""};q=me(parseFloat(pe[1]),pe[2]);const Ze=pe[3];null!=Ze&&(se=me(parseFloat(Ze),pe[4]));const at=pe[5];at&&(Ee=at)}else q=W;if(!T){let pe=!1,Ze=_.length;q<0&&(_.push(function mn(){return new Ce.vHH(3100,!1)}()),pe=!0),se<0&&(_.push(function gn(){return new Ce.vHH(3101,!1)}()),pe=!0),pe&&_.splice(Ze,0,Xt())}return{duration:q,delay:se,easing:Ee}}(W,_,T)}function J(W,_={}){return Object.keys(W).forEach(T=>{_[T]=W[T]}),_}function te(W){const _=new Map;return Object.keys(W).forEach(T=>{_.set(T,W[T])}),_}function Lt(W,_=new Map,T){if(T)for(let[O,q]of T)_.set(O,q);for(let[O,q]of W)_.set(O,q);return _}function jt(W,_,T){_.forEach((O,q)=>{const se=oi(q);T&&!T.has(q)&&T.set(q,W.style[se]),W.style[se]=O})}function pn(W,_){_.forEach((T,O)=>{const q=oi(O);W.style[q]=""})}function Pn(W){return Array.isArray(W)?1==W.length?W[0]:(0,ct.vP)(W):W}const Sr=new RegExp("{{\\s*(.+?)\\s*}}","g");function bi(W){let _=[];if("string"==typeof W){let T;for(;T=Sr.exec(W);)_.push(T[1]);Sr.lastIndex=0}return _}function ji(W,_,T){const O=W.toString(),q=O.replace(Sr,(se,Ee)=>{let pe=_[Ee];return null==pe&&(T.push(function cn(W){return new Ce.vHH(3003,!1)}()),pe=""),pe.toString()});return q==O?W:q}function gi(W){const _=[];let T=W.next();for(;!T.done;)_.push(T.value),T=W.next();return _}const Rs=/-+([a-z0-9])/g;function oi(W){return W.replace(Rs,(..._)=>_[1].toUpperCase())}function Bn(W,_,T){switch(_.type){case 7:return W.visitTrigger(_,T);case 0:return W.visitState(_,T);case 1:return W.visitTransition(_,T);case 2:return W.visitSequence(_,T);case 3:return W.visitGroup(_,T);case 4:return W.visitAnimate(_,T);case 5:return W.visitKeyframes(_,T);case 6:return W.visitStyle(_,T);case 8:return W.visitReference(_,T);case 9:return W.visitAnimateChild(_,T);case 10:return W.visitAnimateRef(_,T);case 11:return W.visitQuery(_,T);case 12:return W.visitStagger(_,T);default:throw function Ae(W){return new Ce.vHH(3004,!1)}()}}function et(W,_){return window.getComputedStyle(W)[_]}const dr="*";function tr(W,_){const T=[];return"string"==typeof W?W.split(/\s*,\s*/).forEach(O=>function ni(W,_,T){if(":"==W[0]){const Ze=function Xn(W,_){switch(W){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,O)=>parseFloat(O)>parseFloat(T);case":decrement":return(T,O)=>parseFloat(O)<parseFloat(T);default:return _.push(function Q(W){return new Ce.vHH(3016,!1)}()),"* => *"}}(W,T);if("function"==typeof Ze)return void _.push(Ze);W=Ze}const O=W.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return T.push(function Ne(W){return new Ce.vHH(3015,!1)}()),_;const q=O[1],se=O[2],Ee=O[3];_.push(Ao(q,Ee));"<"==se[0]&&!(q==dr&&Ee==dr)&&_.push(Ao(Ee,q))}(O,T,_)):T.push(W),T}const Wr=new Set(["true","1"]),rs=new Set(["false","0"]);function Ao(W,_){const T=Wr.has(W)||rs.has(W),O=Wr.has(_)||rs.has(_);return(q,se)=>{let Ee=W==dr||W==q,pe=_==dr||_==se;return!Ee&&T&&"boolean"==typeof q&&(Ee=q?Wr.has(W):rs.has(W)),!pe&&O&&"boolean"==typeof se&&(pe=se?Wr.has(_):rs.has(_)),Ee&&pe}}const Ln=new RegExp("s*:selfs*,?","g");function Kt(W,_,T,O){return new an(W).build(_,T,O)}class an{constructor(_){this._driver=_}build(_,T,O){const q=new ri(T);return this._resetContextStyleTimingState(q),Bn(this,Pn(_),q)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,T){let O=T.queryCount=0,q=T.depCount=0;const se=[],Ee=[];return"@"==_.name.charAt(0)&&T.errors.push(function lt(){return new Ce.vHH(3006,!1)}()),_.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(T),0==pe.type){const Ze=pe,at=Ze.name;at.toString().split(/\s*,\s*/).forEach(Wt=>{Ze.name=Wt,se.push(this.visitState(Ze,T))}),Ze.name=at}else if(1==pe.type){const Ze=this.visitTransition(pe,T);O+=Ze.queryCount,q+=Ze.depCount,Ee.push(Ze)}else T.errors.push(function Ft(){return new Ce.vHH(3007,!1)}())}),{type:7,name:_.name,states:se,transitions:Ee,queryCount:O,depCount:q,options:null}}visitState(_,T){const O=this.visitStyle(_.styles,T),q=_.options&&_.options.params||null;if(O.containsDynamicStyles){const se=new Set,Ee=q||{};O.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(Ze=>{bi(Ze).forEach(at=>{Ee.hasOwnProperty(at)||se.add(at)})})}),se.size&&(gi(se.values()),T.errors.push(function Ht(W,_){return new Ce.vHH(3008,!1)}()))}return{type:0,name:_.name,style:O,options:q?{params:q}:null}}visitTransition(_,T){T.queryCount=0,T.depCount=0;const O=Bn(this,Pn(_.animation),T);return{type:1,matchers:tr(_.expr,T.errors),animation:O,queryCount:T.queryCount,depCount:T.depCount,options:Lr(_.options)}}visitSequence(_,T){return{type:2,steps:_.steps.map(O=>Bn(this,O,T)),options:Lr(_.options)}}visitGroup(_,T){const O=T.currentTime;let q=0;const se=_.steps.map(Ee=>{T.currentTime=O;const pe=Bn(this,Ee,T);return q=Math.max(q,T.currentTime),pe});return T.currentTime=q,{type:3,steps:se,options:Lr(_.options)}}visitAnimate(_,T){const O=function or(W,_){if(W.hasOwnProperty("duration"))return W;if("number"==typeof W)return Tr(ee(W,_).duration,0,"");const T=W;if(T.split(/\s+/).some(se=>"{"==se.charAt(0)&&"{"==se.charAt(1))){const se=Tr(0,0,"");return se.dynamic=!0,se.strValue=T,se}const q=ee(T,_);return Tr(q.duration,q.delay,q.easing)}(_.timings,T.errors);T.currentAnimateTimings=O;let q,se=_.styles?_.styles:(0,ct.oB)({});if(5==se.type)q=this.visitKeyframes(se,T);else{let Ee=_.styles,pe=!1;if(!Ee){pe=!0;const at={};O.easing&&(at.easing=O.easing),Ee=(0,ct.oB)(at)}T.currentTime+=O.duration+O.delay;const Ze=this.visitStyle(Ee,T);Ze.isEmptyStep=pe,q=Ze}return T.currentAnimateTimings=null,{type:4,timings:O,style:q,options:null}}visitStyle(_,T){const O=this._makeStyleAst(_,T);return this._validateStyleAst(O,T),O}_makeStyleAst(_,T){const O=[],q=Array.isArray(_.styles)?_.styles:[_.styles];for(let pe of q)"string"==typeof pe?pe===ct.l3?O.push(pe):T.errors.push(new Ce.vHH(3002,!1)):O.push(te(pe));let se=!1,Ee=null;return O.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(Ee=pe.get("easing"),pe.delete("easing")),!se))for(let Ze of pe.values())if(Ze.toString().indexOf("{{")>=0){se=!0;break}}),{type:6,styles:O,easing:Ee,offset:_.offset,containsDynamicStyles:se,options:null}}_validateStyleAst(_,T){const O=T.currentAnimateTimings;let q=T.currentTime,se=T.currentTime;O&&se>0&&(se-=O.duration+O.delay),_.styles.forEach(Ee=>{"string"!=typeof Ee&&Ee.forEach((pe,Ze)=>{const at=T.collectedStyles.get(T.currentQuerySelector),Wt=at.get(Ze);let Zt=!0;Wt&&(se!=q&&se>=Wt.startTime&&q<=Wt.endTime&&(T.errors.push(function kt(W,_,T,O,q){return new Ce.vHH(3010,!1)}()),Zt=!1),se=Wt.startTime),Zt&&at.set(Ze,{startTime:se,endTime:q}),T.options&&function rn(W,_,T){const O=_.params||{},q=bi(W);q.length&&q.forEach(se=>{O.hasOwnProperty(se)||T.push(function qn(W){return new Ce.vHH(3001,!1)}())})}(pe,T.options,T.errors)})})}visitKeyframes(_,T){const O={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function jn(){return new Ce.vHH(3011,!1)}()),O;let se=0;const Ee=[];let pe=!1,Ze=!1,at=0;const Wt=_.steps.map(hi=>{const Yr=this._makeStyleAst(hi,T);let Yi=null!=Yr.offset?Yr.offset:function Ir(W){if("string"==typeof W)return null;let _=null;if(Array.isArray(W))W.forEach(T=>{if(T instanceof Map&&T.has("offset")){const O=T;_=parseFloat(O.get("offset")),O.delete("offset")}});else if(W instanceof Map&&W.has("offset")){const T=W;_=parseFloat(T.get("offset")),T.delete("offset")}return _}(Yr.styles),Jr=0;return null!=Yi&&(se++,Jr=Yr.offset=Yi),Ze=Ze||Jr<0||Jr>1,pe=pe||Jr<at,at=Jr,Ee.push(Jr),Yr});Ze&&T.errors.push(function xi(){return new Ce.vHH(3012,!1)}()),pe&&T.errors.push(function Ie(){return new Ce.vHH(3200,!1)}());const Zt=_.steps.length;let rr=0;se>0&&se<Zt?T.errors.push(function Ye(){return new Ce.vHH(3202,!1)}()):0==se&&(rr=1/(Zt-1));const zn=Zt-1,Dn=T.currentTime,Vn=T.currentAnimateTimings,Kr=Vn.duration;return Wt.forEach((hi,Yr)=>{const Yi=rr>0?Yr==zn?1:rr*Yr:Ee[Yr],Jr=Yi*Kr;T.currentTime=Dn+Vn.delay+Jr,Vn.duration=Jr,this._validateStyleAst(hi,T),hi.offset=Yi,O.styles.push(hi)}),O}visitReference(_,T){return{type:8,animation:Bn(this,Pn(_.animation),T),options:Lr(_.options)}}visitAnimateChild(_,T){return T.depCount++,{type:9,options:Lr(_.options)}}visitAnimateRef(_,T){return{type:10,animation:this.visitReference(_.animation,T),options:Lr(_.options)}}visitQuery(_,T){const O=T.currentQuerySelector,q=_.options||{};T.queryCount++,T.currentQuery=_;const[se,Ee]=function vn(W){const _=!!W.split(/\s*,\s*/).find(T=>":self"==T);return _&&(W=W.replace(Ln,"")),W=W.replace(/@\*/g,_n).replace(/@\w+/g,T=>_n+"-"+T.slice(1)).replace(/:animating/g,pi),[W,_]}(_.selector);T.currentQuerySelector=O.length?O+" "+se:se,gt(T.collectedStyles,T.currentQuerySelector,new Map);const pe=Bn(this,Pn(_.animation),T);return T.currentQuery=null,T.currentQuerySelector=O,{type:11,selector:se,limit:q.limit||0,optional:!!q.optional,includeSelf:Ee,animation:pe,originalSelector:_.selector,options:Lr(_.options)}}visitStagger(_,T){T.currentQuery||T.errors.push(function $n(){return new Ce.vHH(3013,!1)}());const O="full"===_.timings?{duration:0,delay:0,easing:"full"}:ee(_.timings,T.errors,!0);return{type:12,animation:Bn(this,Pn(_.animation),T),timings:O,options:null}}}class ri{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(W){return W?(W=J(W)).params&&(W.params=function Gn(W){return W?J(W):null}(W.params)):W={},W}function Tr(W,_,T){return{duration:W,delay:_,easing:T}}function jr(W,_,T,O,q,se,Ee=null,pe=!1){return{type:1,element:W,keyframes:_,preStyleProps:T,postStyleProps:O,duration:q,delay:se,totalTime:q+se,easing:Ee,subTimeline:pe}}class vi{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,T){let O=this._map.get(_);O||this._map.set(_,O=[]),O.push(...T)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Do=new RegExp(":enter","g"),Qr=new RegExp(":leave","g");function ls(W,_,T,O,q,se=new Map,Ee=new Map,pe,Ze,at=[]){return(new Co).buildKeyframes(W,_,T,O,q,se,Ee,pe,Ze,at)}class Co{buildKeyframes(_,T,O,q,se,Ee,pe,Ze,at,Wt=[]){at=at||new vi;const Zt=new Ps(_,T,at,q,se,Wt,[]);Zt.options=Ze;const rr=Ze.delay?wn(Ze.delay):0;Zt.currentTimeline.delayNextStep(rr),Zt.currentTimeline.setStyles([Ee],null,Zt.errors,Ze),Bn(this,O,Zt);const zn=Zt.timelines.filter(Dn=>Dn.containsAnimation());if(zn.length&&pe.size){let Dn;for(let Vn=zn.length-1;Vn>=0;Vn--){const Kr=zn[Vn];if(Kr.element===T){Dn=Kr;break}}Dn&&!Dn.allowOnlyTimelineStyles()&&Dn.setStyles([pe],null,Zt.errors,Ze)}return zn.length?zn.map(Dn=>Dn.buildKeyframes()):[jr(T,[],[],[],0,rr,"",!1)]}visitTrigger(_,T){}visitState(_,T){}visitTransition(_,T){}visitAnimateChild(_,T){const O=T.subInstructions.get(T.element);if(O){const q=T.createSubContext(_.options),se=T.currentTimeline.currentTime,Ee=this._visitSubInstructions(O,q,q.options);se!=Ee&&T.transformIntoNewTimeline(Ee)}T.previousNode=_}visitAnimateRef(_,T){const O=T.createSubContext(_.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],T,O),this.visitReference(_.animation,O),T.transformIntoNewTimeline(O.currentTimeline.currentTime),T.previousNode=_}_applyAnimationRefDelays(_,T,O){for(const q of _){const se=q?.delay;if(se){const Ee="number"==typeof se?se:wn(ji(se,q?.params??{},T.errors));O.delayNextStep(Ee)}}}_visitSubInstructions(_,T,O){let se=T.currentTimeline.currentTime;const Ee=null!=O.duration?wn(O.duration):null,pe=null!=O.delay?wn(O.delay):null;return 0!==Ee&&_.forEach(Ze=>{const at=T.appendInstructionToTimeline(Ze,Ee,pe);se=Math.max(se,at.duration+at.delay)}),se}visitReference(_,T){T.updateOptions(_.options,!0),Bn(this,_.animation,T),T.previousNode=_}visitSequence(_,T){const O=T.subContextCount;let q=T;const se=_.options;if(se&&(se.params||se.delay)&&(q=T.createSubContext(se),q.transformIntoNewTimeline(),null!=se.delay)){6==q.previousNode.type&&(q.currentTimeline.snapshotCurrentStyles(),q.previousNode=Us);const Ee=wn(se.delay);q.delayNextStep(Ee)}_.steps.length&&(_.steps.forEach(Ee=>Bn(this,Ee,q)),q.currentTimeline.applyStylesToKeyframe(),q.subContextCount>O&&q.transformIntoNewTimeline()),T.previousNode=_}visitGroup(_,T){const O=[];let q=T.currentTimeline.currentTime;const se=_.options&&_.options.delay?wn(_.options.delay):0;_.steps.forEach(Ee=>{const pe=T.createSubContext(_.options);se&&pe.delayNextStep(se),Bn(this,Ee,pe),q=Math.max(q,pe.currentTimeline.currentTime),O.push(pe.currentTimeline)}),O.forEach(Ee=>T.currentTimeline.mergeTimelineCollectedStyles(Ee)),T.transformIntoNewTimeline(q),T.previousNode=_}_visitTiming(_,T){if(_.dynamic){const O=_.strValue;return ee(T.params?ji(O,T.params,T.errors):O,T.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,T){const O=T.currentAnimateTimings=this._visitTiming(_.timings,T),q=T.currentTimeline;O.delay&&(T.incrementTime(O.delay),q.snapshotCurrentStyles());const se=_.style;5==se.type?this.visitKeyframes(se,T):(T.incrementTime(O.duration),this.visitStyle(se,T),q.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=_}visitStyle(_,T){const O=T.currentTimeline,q=T.currentAnimateTimings;!q&&O.hasCurrentStyleProperties()&&O.forwardFrame();const se=q&&q.easing||_.easing;_.isEmptyStep?O.applyEmptyStep(se):O.setStyles(_.styles,se,T.errors,T.options),T.previousNode=_}visitKeyframes(_,T){const O=T.currentAnimateTimings,q=T.currentTimeline.duration,se=O.duration,pe=T.createSubContext().currentTimeline;pe.easing=O.easing,_.styles.forEach(Ze=>{pe.forwardTime((Ze.offset||0)*se),pe.setStyles(Ze.styles,Ze.easing,T.errors,T.options),pe.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(pe),T.transformIntoNewTimeline(q+se),T.previousNode=_}visitQuery(_,T){const O=T.currentTimeline.currentTime,q=_.options||{},se=q.delay?wn(q.delay):0;se&&(6===T.previousNode.type||0==O&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Us);let Ee=O;const pe=T.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!q.optional,T.errors);T.currentQueryTotal=pe.length;let Ze=null;pe.forEach((at,Wt)=>{T.currentQueryIndex=Wt;const Zt=T.createSubContext(_.options,at);se&&Zt.delayNextStep(se),at===T.element&&(Ze=Zt.currentTimeline),Bn(this,_.animation,Zt),Zt.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,Zt.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(Ee),Ze&&(T.currentTimeline.mergeTimelineCollectedStyles(Ze),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=_}visitStagger(_,T){const O=T.parentContext,q=T.currentTimeline,se=_.timings,Ee=Math.abs(se.duration),pe=Ee*(T.currentQueryTotal-1);let Ze=Ee*T.currentQueryIndex;switch(se.duration<0?"reverse":se.easing){case"reverse":Ze=pe-Ze;break;case"full":Ze=O.currentStaggerTime}const Wt=T.currentTimeline;Ze&&Wt.delayNextStep(Ze);const Zt=Wt.currentTime;Bn(this,_.animation,T),T.previousNode=_,O.currentStaggerTime=q.currentTime-Zt+(q.startTime-O.currentTimeline.startTime)}}const Us={};class Ps{constructor(_,T,O,q,se,Ee,pe,Ze){this._driver=_,this.element=T,this.subInstructions=O,this._enterClassName=q,this._leaveClassName=se,this.errors=Ee,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Us,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ze||new So(this._driver,T,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,T){if(!_)return;const O=_;let q=this.options;null!=O.duration&&(q.duration=wn(O.duration)),null!=O.delay&&(q.delay=wn(O.delay));const se=O.params;if(se){let Ee=q.params;Ee||(Ee=this.options.params={}),Object.keys(se).forEach(pe=>{(!T||!Ee.hasOwnProperty(pe))&&(Ee[pe]=ji(se[pe],Ee,this.errors))})}}_copyOptions(){const _={};if(this.options){const T=this.options.params;if(T){const O=_.params={};Object.keys(T).forEach(q=>{O[q]=T[q]})}}return _}createSubContext(_=null,T,O){const q=T||this.element,se=new Ps(this._driver,q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(q,O||0));return se.previousNode=this.previousNode,se.currentAnimateTimings=this.currentAnimateTimings,se.options=this._copyOptions(),se.updateOptions(_),se.currentQueryIndex=this.currentQueryIndex,se.currentQueryTotal=this.currentQueryTotal,se.parentContext=this,this.subContextCount++,se}transformIntoNewTimeline(_){return this.previousNode=Us,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,T,O){const q={duration:T??_.duration,delay:this.currentTimeline.currentTime+(O??0)+_.delay,easing:""},se=new Ms(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,q,_.stretchStartingKeyframe);return this.timelines.push(se),q}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,T,O,q,se,Ee){let pe=[];if(q&&pe.push(this.element),_.length>0){_=(_=_.replace(Do,"."+this._enterClassName)).replace(Qr,"."+this._leaveClassName);let at=this._driver.query(this.element,_,1!=O);0!==O&&(at=O<0?at.slice(at.length+O,at.length):at.slice(0,O)),pe.push(...at)}return!se&&0==pe.length&&Ee.push(function qe(W){return new Ce.vHH(3014,!1)}()),pe}}class So{constructor(_,T,O,q){this._driver=_,this.element=T,this.startTime=O,this._elementTimelineStylesLookup=q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+_),T&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,T){return this.applyStylesToKeyframe(),new So(this._driver,_,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,T){this._localTimelineStyles.set(_,T),this._globalTimelineStyles.set(_,T),this._styleSummary.set(_,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[T,O]of this._globalTimelineStyles)this._backFill.set(T,O||ct.l3),this._currentKeyframe.set(T,ct.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,T,O,q){T&&this._previousKeyframe.set("easing",T);const se=q&&q.params||{},Ee=function so(W,_){const T=new Map;let O;return W.forEach(q=>{if("*"===q){O=O||_.keys();for(let se of O)T.set(se,ct.l3)}else Lt(q,T)}),T}(_,this._globalTimelineStyles);for(let[pe,Ze]of Ee){const at=ji(Ze,se,O);this._pendingStyles.set(pe,at),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??ct.l3),this._updateStyle(pe,at)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,T)=>{this._currentKeyframe.set(T,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,_)}))}snapshotCurrentStyles(){for(let[_,T]of this._localTimelineStyles)this._pendingStyles.set(_,T),this._updateStyle(_,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let T in this._currentKeyframe)_.push(T);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((T,O)=>{const q=this._styleSummary.get(O);(!q||T.time>q.time)&&this._updateStyle(O,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,T=new Set,O=1===this._keyframes.size&&0===this.duration;let q=[];this._keyframes.forEach((pe,Ze)=>{const at=Lt(pe,new Map,this._backFill);at.forEach((Wt,Zt)=>{Wt===ct.k1?_.add(Zt):Wt===ct.l3&&T.add(Zt)}),O||at.set("offset",Ze/this.duration),q.push(at)});const se=_.size?gi(_.values()):[],Ee=T.size?gi(T.values()):[];if(O){const pe=q[0],Ze=new Map(pe);pe.set("offset",0),Ze.set("offset",1),q=[pe,Ze]}return jr(this.element,q,se,Ee,this.duration,this.startTime,this.easing,!1)}}class Ms extends So{constructor(_,T,O,q,se,Ee,pe=!1){super(_,T,Ee.delay),this.keyframes=O,this.preStyleProps=q,this.postStyleProps=se,this._stretchStartingKeyframe=pe,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:T,duration:O,easing:q}=this.timings;if(this._stretchStartingKeyframe&&T){const se=[],Ee=O+T,pe=T/Ee,Ze=Lt(_[0]);Ze.set("offset",0),se.push(Ze);const at=Lt(_[0]);at.set("offset",xs(pe)),se.push(at);const Wt=_.length-1;for(let Zt=1;Zt<=Wt;Zt++){let rr=Lt(_[Zt]);const zn=rr.get("offset");rr.set("offset",xs((T+zn*O)/Ee)),se.push(rr)}O=Ee,T=0,q="",_=se}return jr(this.element,_,this.preStyleProps,this.postStyleProps,O,T,q,!0)}}function xs(W,_=3){const T=Math.pow(10,_-1);return Math.round(W*T)/T}class $i{}const vs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class co extends $i{normalizePropertyName(_,T){return oi(_)}normalizeStyleValue(_,T,O,q){let se="";const Ee=O.toString().trim();if(vs.has(T)&&0!==O&&"0"!==O)if("number"==typeof O)se="px";else{const pe=O.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&q.push(function rt(W,_){return new Ce.vHH(3005,!1)}())}return Ee+se}}function qi(W,_,T,O,q,se,Ee,pe,Ze,at,Wt,Zt,rr){return{type:0,element:W,triggerName:_,isRemovalTransition:q,fromState:T,fromStyles:se,toState:O,toStyles:Ee,timelines:pe,queriedElements:Ze,preStyleProps:at,postStyleProps:Wt,totalTime:Zt,errors:rr}}const Ns={};class Hi{constructor(_,T,O){this._triggerName=_,this.ast=T,this._stateStyles=O}match(_,T,O,q){return function $r(W,_,T,O,q){return W.some(se=>se(_,T,O,q))}(this.ast.matchers,_,T,O,q)}buildStyles(_,T,O){let q=this._stateStyles.get("*");return void 0!==_&&(q=this._stateStyles.get(_?.toString())||q),q?q.buildStyles(T,O):new Map}build(_,T,O,q,se,Ee,pe,Ze,at,Wt){const Zt=[],rr=this.ast.options&&this.ast.options.params||Ns,Dn=this.buildStyles(O,pe&&pe.params||Ns,Zt),Vn=Ze&&Ze.params||Ns,Kr=this.buildStyles(q,Vn,Zt),hi=new Set,Yr=new Map,Yi=new Map,Jr="void"===q,Ro={params:Nr(Vn,rr),delay:this.ast.options?.delay},Ji=Wt?[]:ls(_,T,this.ast.animation,se,Ee,Dn,Kr,Ro,at,Zt);let Pi=0;if(Ji.forEach(Xi=>{Pi=Math.max(Xi.duration+Xi.delay,Pi)}),Zt.length)return qi(T,this._triggerName,O,q,Jr,Dn,Kr,[],[],Yr,Yi,Pi,Zt);Ji.forEach(Xi=>{const no=Xi.element,Po=gt(Yr,no,new Set);Xi.preStyleProps.forEach(A=>Po.add(A));const li=gt(Yi,no,new Set);Xi.postStyleProps.forEach(A=>li.add(A)),no!==T&&hi.add(no)});const hs=gi(hi.values());return qi(T,this._triggerName,O,q,Jr,Dn,Kr,Ji,hs,Yr,Yi,Pi)}}function Nr(W,_){const T=J(_);for(const O in W)W.hasOwnProperty(O)&&null!=W[O]&&(T[O]=W[O]);return T}class cs{constructor(_,T,O){this.styles=_,this.defaultParams=T,this.normalizer=O}buildStyles(_,T){const O=new Map,q=J(this.defaultParams);return Object.keys(_).forEach(se=>{const Ee=_[se];null!==Ee&&(q[se]=Ee)}),this.styles.styles.forEach(se=>{"string"!=typeof se&&se.forEach((Ee,pe)=>{Ee&&(Ee=ji(Ee,q,T));const Ze=this.normalizer.normalizePropertyName(pe,T);Ee=this.normalizer.normalizeStyleValue(pe,Ze,Ee,T),O.set(pe,Ee)})}),O}}class oo{constructor(_,T,O){this.name=_,this.ast=T,this._normalizer=O,this.transitionFactories=[],this.states=new Map,T.states.forEach(q=>{this.states.set(q.name,new cs(q.style,q.options&&q.options.params||{},O))}),Ds(this.states,"true","1"),Ds(this.states,"false","0"),T.transitions.forEach(q=>{this.transitionFactories.push(new Hi(_,q,this.states))}),this.fallbackTransition=function As(W,_,T){return new Hi(W,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ee,pe)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,T,O,q){return this.transitionFactories.find(Ee=>Ee.match(_,T,O,q))||null}matchStyles(_,T,O){return this.fallbackTransition.buildStyles(_,T,O)}}function Ds(W,_,T){W.has(_)?W.has(T)||W.set(T,W.get(_)):W.has(T)&&W.set(_,W.get(T))}const Jo=new vi;class ho{constructor(_,T,O){this.bodyNode=_,this._driver=T,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,T){const O=[],se=Kt(this._driver,T,O,[]);if(O.length)throw function ke(W){return new Ce.vHH(3503,!1)}();this._animations.set(_,se)}_buildPlayer(_,T,O){const q=_.element,se=sn(this._normalizer,_.keyframes,T,O);return this._driver.animate(q,se,_.duration,_.delay,_.easing,[],!0)}create(_,T,O={}){const q=[],se=this._animations.get(_);let Ee;const pe=new Map;if(se?(Ee=ls(this._driver,T,se,Yt,Bi,new Map,new Map,O,Jo,q),Ee.forEach(Wt=>{const Zt=gt(pe,Wt.element,new Map);Wt.postStyleProps.forEach(rr=>Zt.set(rr,null))})):(q.push(function pt(){return new Ce.vHH(3300,!1)}()),Ee=[]),q.length)throw function Vt(W){return new Ce.vHH(3504,!1)}();pe.forEach((Wt,Zt)=>{Wt.forEach((rr,zn)=>{Wt.set(zn,this._driver.computeStyle(Zt,zn,ct.l3))})});const at=wt(Ee.map(Wt=>{const Zt=pe.get(Wt.element);return this._buildPlayer(Wt,new Map,Zt)}));return this._playersById.set(_,at),at.onDestroy(()=>this.destroy(_)),this.players.push(at),at}destroy(_){const T=this._getPlayer(_);T.destroy(),this._playersById.delete(_);const O=this.players.indexOf(T);O>=0&&this.players.splice(O,1)}_getPlayer(_){const T=this._playersById.get(_);if(!T)throw function qt(W){return new Ce.vHH(3301,!1)}();return T}listen(_,T,O,q){const se=Hn(T,"","","");return Un(this._getPlayer(_),O,se,q),()=>{}}command(_,T,O,q){if("register"==O)return void this.register(_,q[0]);if("create"==O)return void this.create(_,T,q[0]||{});const se=this._getPlayer(_);switch(O){case"play":se.play();break;case"pause":se.pause();break;case"reset":se.reset();break;case"restart":se.restart();break;case"finish":se.finish();break;case"init":se.init();break;case"setPosition":se.setPosition(parseFloat(q[0]));break;case"destroy":this.destroy(_)}}}const Or="ng-animate-queued",dn="ng-animate-disabled",wi=[],Ai={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ni="__ng_removed";class Li{get params(){return this.options.params}constructor(_,T=""){this.namespaceId=T;const O=_&&_.hasOwnProperty("value");if(this.value=function ms(W){return W??null}(O?_.value:_),O){const se=J(_);delete se.value,this.options=se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const T=_.params;if(T){const O=this.options.params;Object.keys(T).forEach(q=>{null==O[q]&&(O[q]=T[q])})}}}const zt="void",Zn=new Li(zt);class js{constructor(_,T,O){this.id=_,this.hostElement=T,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Oi(T,this._hostClassName)}listen(_,T,O,q){if(!this._triggers.has(T))throw function bt(W,_){return new Ce.vHH(3302,!1)}();if(null==O||0==O.length)throw function Tn(W){return new Ce.vHH(3303,!1)}();if(!function Cs(W){return"start"==W||"done"==W}(O))throw function Er(W,_){return new Ce.vHH(3400,!1)}();const se=gt(this._elementListeners,_,[]),Ee={name:T,phase:O,callback:q};se.push(Ee);const pe=gt(this._engine.statesByElement,_,new Map);return pe.has(T)||(Oi(_,ti),Oi(_,ti+"-"+T),pe.set(T,Zn)),()=>{this._engine.afterFlush(()=>{const Ze=se.indexOf(Ee);Ze>=0&&se.splice(Ze,1),this._triggers.has(T)||pe.delete(T)})}}register(_,T){return!this._triggers.has(_)&&(this._triggers.set(_,T),!0)}_getTrigger(_){const T=this._triggers.get(_);if(!T)throw function yi(W){return new Ce.vHH(3401,!1)}();return T}trigger(_,T,O,q=!0){const se=this._getTrigger(T),Ee=new Zr(this.id,T,_);let pe=this._engine.statesByElement.get(_);pe||(Oi(_,ti),Oi(_,ti+"-"+T),this._engine.statesByElement.set(_,pe=new Map));let Ze=pe.get(T);const at=new Li(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&Ze&&at.absorbOptions(Ze.options),pe.set(T,at),Ze||(Ze=Zn),at.value!==zt&&Ze.value===at.value){if(!function fo(W,_){const T=Object.keys(W),O=Object.keys(_);if(T.length!=O.length)return!1;for(let q=0;q<T.length;q++){const se=T[q];if(!_.hasOwnProperty(se)||W[se]!==_[se])return!1}return!0}(Ze.params,at.params)){const Vn=[],Kr=se.matchStyles(Ze.value,Ze.params,Vn),hi=se.matchStyles(at.value,at.params,Vn);Vn.length?this._engine.reportError(Vn):this._engine.afterFlush(()=>{pn(_,Kr),jt(_,hi)})}return}const rr=gt(this._engine.playersByElement,_,[]);rr.forEach(Vn=>{Vn.namespaceId==this.id&&Vn.triggerName==T&&Vn.queued&&Vn.destroy()});let zn=se.matchTransition(Ze.value,at.value,_,at.params),Dn=!1;if(!zn){if(!q)return;zn=se.fallbackTransition,Dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:T,transition:zn,fromState:Ze,toState:at,player:Ee,isFallbackTransition:Dn}),Dn||(Oi(_,Or),Ee.onStart(()=>{ss(_,Or)})),Ee.onDone(()=>{let Vn=this.players.indexOf(Ee);Vn>=0&&this.players.splice(Vn,1);const Kr=this._engine.playersByElement.get(_);if(Kr){let hi=Kr.indexOf(Ee);hi>=0&&Kr.splice(hi,1)}}),this.players.push(Ee),rr.push(Ee),Ee}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(T=>T.delete(_)),this._elementListeners.forEach((T,O)=>{this._elementListeners.set(O,T.filter(q=>q.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const T=this._engine.playersByElement.get(_);T&&(T.forEach(O=>O.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,T){const O=this._engine.driver.query(_,_n,!0);O.forEach(q=>{if(q[Ni])return;const se=this._engine.fetchNamespacesByElement(q);se.size?se.forEach(Ee=>Ee.triggerLeaveAnimation(q,T,!1,!0)):this.clearElementCache(q)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(q=>this.clearElementCache(q)))}triggerLeaveAnimation(_,T,O,q){const se=this._engine.statesByElement.get(_),Ee=new Map;if(se){const pe=[];if(se.forEach((Ze,at)=>{if(Ee.set(at,Ze.value),this._triggers.has(at)){const Wt=this.trigger(_,at,zt,q);Wt&&pe.push(Wt)}}),pe.length)return this._engine.markElementAsRemoved(this.id,_,!0,T,Ee),O&&wt(pe).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const T=this._elementListeners.get(_),O=this._engine.statesByElement.get(_);if(T&&O){const q=new Set;T.forEach(se=>{const Ee=se.name;if(q.has(Ee))return;q.add(Ee);const Ze=this._triggers.get(Ee).fallbackTransition,at=O.get(Ee)||Zn,Wt=new Li(zt),Zt=new Zr(this.id,Ee,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:Ee,transition:Ze,fromState:at,toState:Wt,player:Zt,isFallbackTransition:!0})})}}removeNode(_,T){const O=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,T),this.triggerLeaveAnimation(_,T,!0))return;let q=!1;if(O.totalAnimations){const se=O.players.length?O.playersByQueriedElement.get(_):[];if(se&&se.length)q=!0;else{let Ee=_;for(;Ee=Ee.parentNode;)if(O.statesByElement.get(Ee)){q=!0;break}}}if(this.prepareLeaveAnimationListeners(_),q)O.markElementAsRemoved(this.id,_,!1,T);else{const se=_[Ni];(!se||se===Ai)&&(O.afterFlush(()=>this.clearElementCache(_)),O.destroyInnerAnimations(_),O._onRemovalComplete(_,T))}}insertNode(_,T){Oi(_,this._hostClassName)}drainQueuedTransitions(_){const T=[];return this._queue.forEach(O=>{const q=O.player;if(q.destroyed)return;const se=O.element,Ee=this._elementListeners.get(se);Ee&&Ee.forEach(pe=>{if(pe.name==O.triggerName){const Ze=Hn(se,O.triggerName,O.fromState.value,O.toState.value);Ze._data=_,Un(O.player,pe.phase,Ze,pe.callback)}}),q.markedForDestroy?this._engine.afterFlush(()=>{q.destroy()}):T.push(O)}),this._queue=[],T.sort((O,q)=>{const se=O.transition.ast.depCount,Ee=q.transition.ast.depCount;return 0==se||0==Ee?se-Ee:this._engine.driver.containsElement(O.element,q.element)?1:-1})}destroy(_){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class gs{_onRemovalComplete(_,T){this.onRemovalComplete(_,T)}constructor(_,T,O){this.bodyNode=_,this.driver=T,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(q,se)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(T=>{T.players.forEach(O=>{O.queued&&_.push(O)})}),_}createNamespace(_,T){const O=new js(_,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(O,T):(this.newHostElements.set(T,O),this.collectEnterElement(T)),this._namespaceLookup[_]=O}_balanceNamespaceList(_,T){const O=this._namespaceList,q=this.namespacesByHostElement;if(O.length-1>=0){let Ee=!1,pe=this.driver.getParentElement(T);for(;pe;){const Ze=q.get(pe);if(Ze){const at=O.indexOf(Ze);O.splice(at+1,0,_),Ee=!0;break}pe=this.driver.getParentElement(pe)}Ee||O.unshift(_)}else O.push(_);return q.set(T,_),_}register(_,T){let O=this._namespaceLookup[_];return O||(O=this.createNamespace(_,T)),O}registerTrigger(_,T,O){let q=this._namespaceLookup[_];q&&q.register(T,O)&&this.totalAnimations++}destroy(_,T){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const O=this._fetchNamespace(_);this.namespacesByHostElement.delete(O.hostElement);const q=this._namespaceList.indexOf(O);q>=0&&this._namespaceList.splice(q,1),O.destroy(T),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const T=new Set,O=this.statesByElement.get(_);if(O)for(let q of O.values())if(q.namespaceId){const se=this._fetchNamespace(q.namespaceId);se&&T.add(se)}return T}trigger(_,T,O,q){if(zi(T)){const se=this._fetchNamespace(_);if(se)return se.trigger(T,O,q),!0}return!1}insertNode(_,T,O,q){if(!zi(T))return;const se=T[Ni];if(se&&se.setForRemoval){se.setForRemoval=!1,se.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(T);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(_){const Ee=this._fetchNamespace(_);Ee&&Ee.insertNode(T,O)}q&&this.collectEnterElement(T)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,T){T?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Oi(_,dn)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),ss(_,dn))}removeNode(_,T,O){if(zi(T)){const q=_?this._fetchNamespace(_):null;q?q.removeNode(T,O):this.markElementAsRemoved(_,T,!1,O);const se=this.namespacesByHostElement.get(T);se&&se.id!==_&&se.removeNode(T,O)}else this._onRemovalComplete(T,O)}markElementAsRemoved(_,T,O,q,se){this.collectedLeaveElements.push(T),T[Ni]={namespaceId:_,setForRemoval:q,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:se}}listen(_,T,O,q,se){return zi(T)?this._fetchNamespace(_).listen(T,O,q,se):()=>{}}_buildInstruction(_,T,O,q,se){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,O,q,_.fromState.options,_.toState.options,T,se)}destroyInnerAnimations(_){let T=this.driver.query(_,_n,!0);T.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(_,pi,!0),T.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(_){const T=this.playersByElement.get(_);T&&T.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(_){const T=this.playersByQueriedElement.get(_);T&&T.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return wt(this.players).onDone(()=>_());_()})}processLeaveNode(_){const T=_[Ni];if(T&&T.setForRemoval){if(_[Ni]=Ai,T.namespaceId){this.destroyInnerAnimations(_);const O=this._fetchNamespace(T.namespaceId);O&&O.clearElementCache(_)}this._onRemovalComplete(_,T.setForRemoval)}_.classList?.contains(dn)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(_=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,q)=>this._balanceNamespaceList(O,q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)Oi(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{T=this._flushAnimations(O,_)}finally{for(let q=0;q<O.length;q++)O[q]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],T.length?wt(T).onDone(()=>{O.forEach(q=>q())}):O.forEach(q=>q())}}reportError(_){throw function Ot(W){return new Ce.vHH(3402,!1)}()}_flushAnimations(_,T){const O=new vi,q=[],se=new Map,Ee=[],pe=new Map,Ze=new Map,at=new Map,Wt=new Set;this.disabledNodes.forEach(V=>{Wt.add(V);const ae=this.driver.query(V,".ng-animate-queued",!0);for(let Me=0;Me<ae.length;Me++)Wt.add(ae[Me])});const Zt=this.bodyNode,rr=Array.from(this.statesByElement.keys()),zn=Xs(rr,this.collectedEnterElements),Dn=new Map;let Vn=0;zn.forEach((V,ae)=>{const Me=Yt+Vn++;Dn.set(ae,Me),V.forEach(st=>Oi(st,Me))});const Kr=[],hi=new Set,Yr=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){const ae=this.collectedLeaveElements[V],Me=ae[Ni];Me&&Me.setForRemoval&&(Kr.push(ae),hi.add(ae),Me.hasAnimation?this.driver.query(ae,".ng-star-inserted",!0).forEach(st=>hi.add(st)):Yr.add(ae))}const Yi=new Map,Jr=Xs(rr,Array.from(hi));Jr.forEach((V,ae)=>{const Me=Bi+Vn++;Yi.set(ae,Me),V.forEach(st=>Oi(st,Me))}),_.push(()=>{zn.forEach((V,ae)=>{const Me=Dn.get(ae);V.forEach(st=>ss(st,Me))}),Jr.forEach((V,ae)=>{const Me=Yi.get(ae);V.forEach(st=>ss(st,Me))}),Kr.forEach(V=>{this.processLeaveNode(V)})});const Ro=[],Ji=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(T).forEach(Me=>{const st=Me.player,Gt=Me.element;if(Ro.push(st),this.collectedEnterElements.length){const wr=Gt[Ni];if(wr&&wr.setForMove){if(wr.previousTriggersValues&&wr.previousTriggersValues.has(Me.triggerName)){const fs=wr.previousTriggersValues.get(Me.triggerName),Ei=this.statesByElement.get(Me.element);if(Ei&&Ei.has(Me.triggerName)){const ws=Ei.get(Me.triggerName);ws.value=fs,Ei.set(Me.triggerName,ws)}}return void st.destroy()}}const er=!Zt||!this.driver.containsElement(Zt,Gt),nr=Yi.get(Gt),hr=Dn.get(Gt),hn=this._buildInstruction(Me,O,hr,nr,er);if(hn.errors&&hn.errors.length)return void Ji.push(hn);if(er)return st.onStart(()=>pn(Gt,hn.fromStyles)),st.onDestroy(()=>jt(Gt,hn.toStyles)),void q.push(st);if(Me.isFallbackTransition)return st.onStart(()=>pn(Gt,hn.fromStyles)),st.onDestroy(()=>jt(Gt,hn.toStyles)),void q.push(st);const Hr=[];hn.timelines.forEach(wr=>{wr.stretchStartingKeyframe=!0,this.disabledNodes.has(wr.element)||Hr.push(wr)}),hn.timelines=Hr,O.append(Gt,hn.timelines),Ee.push({instruction:hn,player:st,element:Gt}),hn.queriedElements.forEach(wr=>gt(pe,wr,[]).push(st)),hn.preStyleProps.forEach((wr,fs)=>{if(wr.size){let Ei=Ze.get(fs);Ei||Ze.set(fs,Ei=new Set),wr.forEach((ws,es)=>Ei.add(es))}}),hn.postStyleProps.forEach((wr,fs)=>{let Ei=at.get(fs);Ei||at.set(fs,Ei=new Set),wr.forEach((ws,es)=>Ei.add(es))})});if(Ji.length){const V=[];Ji.forEach(ae=>{V.push(function Kn(W,_){return new Ce.vHH(3505,!1)}())}),Ro.forEach(ae=>ae.destroy()),this.reportError(V)}const Pi=new Map,hs=new Map;Ee.forEach(V=>{const ae=V.element;O.has(ae)&&(hs.set(ae,ae),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,Pi))}),q.forEach(V=>{const ae=V.element;this._getPreviousPlayers(ae,!1,V.namespaceId,V.triggerName,null).forEach(st=>{gt(Pi,ae,[]).push(st),st.destroy()})});const Xi=Kr.filter(V=>Di(V,Ze,at)),no=new Map;Js(no,this.driver,Yr,at,ct.l3).forEach(V=>{Di(V,Ze,at)&&Xi.push(V)});const li=new Map;zn.forEach((V,ae)=>{Js(li,this.driver,new Set(V),Ze,ct.k1)}),Xi.forEach(V=>{const ae=no.get(V),Me=li.get(V);no.set(V,new Map([...ae?.entries()??[],...Me?.entries()??[]]))});const A=[],K=[],k={};Ee.forEach(V=>{const{element:ae,player:Me,instruction:st}=V;if(O.has(ae)){if(Wt.has(ae))return Me.onDestroy(()=>jt(ae,st.toStyles)),Me.disabled=!0,Me.overrideTotalTime(st.totalTime),void q.push(Me);let Gt=k;if(hs.size>1){let nr=ae;const hr=[];for(;nr=nr.parentNode;){const hn=hs.get(nr);if(hn){Gt=hn;break}hr.push(nr)}hr.forEach(hn=>hs.set(hn,Gt))}const er=this._buildAnimation(Me.namespaceId,st,Pi,se,li,no);if(Me.setRealPlayer(er),Gt===k)A.push(Me);else{const nr=this.playersByElement.get(Gt);nr&&nr.length&&(Me.parentPlayer=wt(nr)),q.push(Me)}}else pn(ae,st.fromStyles),Me.onDestroy(()=>jt(ae,st.toStyles)),K.push(Me),Wt.has(ae)&&q.push(Me)}),K.forEach(V=>{const ae=se.get(V.element);if(ae&&ae.length){const Me=wt(ae);V.setRealPlayer(Me)}}),q.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<Kr.length;V++){const ae=Kr[V],Me=ae[Ni];if(ss(ae,Bi),Me&&Me.hasAnimation)continue;let st=[];if(pe.size){let er=pe.get(ae);er&&er.length&&st.push(...er);let nr=this.driver.query(ae,pi,!0);for(let hr=0;hr<nr.length;hr++){let hn=pe.get(nr[hr]);hn&&hn.length&&st.push(...hn)}}const Gt=st.filter(er=>!er.destroyed);Gt.length?ur(this,ae,Gt):this.processLeaveNode(ae)}return Kr.length=0,A.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();const ae=this.players.indexOf(V);this.players.splice(ae,1)}),V.play()}),A}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,T,O,q,se){let Ee=[];if(T){const pe=this.playersByQueriedElement.get(_);pe&&(Ee=pe)}else{const pe=this.playersByElement.get(_);if(pe){const Ze=!se||se==zt;pe.forEach(at=>{at.queued||!Ze&&at.triggerName!=q||Ee.push(at)})}}return(O||q)&&(Ee=Ee.filter(pe=>!(O&&O!=pe.namespaceId||q&&q!=pe.triggerName))),Ee}_beforeAnimationBuild(_,T,O){const se=T.element,Ee=T.isRemovalTransition?void 0:_,pe=T.isRemovalTransition?void 0:T.triggerName;for(const Ze of T.timelines){const at=Ze.element,Wt=at!==se,Zt=gt(O,at,[]);this._getPreviousPlayers(at,Wt,Ee,pe,T.toState).forEach(zn=>{const Dn=zn.getRealPlayer();Dn.beforeDestroy&&Dn.beforeDestroy(),zn.destroy(),Zt.push(zn)})}pn(se,T.fromStyles)}_buildAnimation(_,T,O,q,se,Ee){const pe=T.triggerName,Ze=T.element,at=[],Wt=new Set,Zt=new Set,rr=T.timelines.map(Dn=>{const Vn=Dn.element;Wt.add(Vn);const Kr=Vn[Ni];if(Kr&&Kr.removedBeforeQueried)return new ct.ZN(Dn.duration,Dn.delay);const hi=Vn!==Ze,Yr=function eo(W){const _=[];return Bo(W,_),_}((O.get(Vn)||wi).map(Pi=>Pi.getRealPlayer())).filter(Pi=>!!Pi.element&&Pi.element===Vn),Yi=se.get(Vn),Jr=Ee.get(Vn),Ro=sn(this._normalizer,Dn.keyframes,Yi,Jr),Ji=this._buildPlayer(Dn,Ro,Yr);if(Dn.subTimeline&&q&&Zt.add(Vn),hi){const Pi=new Zr(_,pe,Vn);Pi.setRealPlayer(Ji),at.push(Pi)}return Ji});at.forEach(Dn=>{gt(this.playersByQueriedElement,Dn.element,[]).push(Dn),Dn.onDone(()=>function Ki(W,_,T){let O=W.get(_);if(O){if(O.length){const q=O.indexOf(T);O.splice(q,1)}0==O.length&&W.delete(_)}return O}(this.playersByQueriedElement,Dn.element,Dn))}),Wt.forEach(Dn=>Oi(Dn,cr));const zn=wt(rr);return zn.onDestroy(()=>{Wt.forEach(Dn=>ss(Dn,cr)),jt(Ze,T.toStyles)}),Zt.forEach(Dn=>{gt(q,Dn,[]).push(zn)}),zn}_buildPlayer(_,T,O){return T.length>0?this.driver.animate(_.element,T,_.duration,_.delay,_.easing,O):new ct.ZN(_.duration,_.delay)}}class Zr{constructor(_,T,O){this.namespaceId=_,this.triggerName=T,this.element=O,this._player=new ct.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((T,O)=>{T.forEach(q=>Un(_,O,void 0,q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const T=this._player;T.triggerCallback&&_.onStart(()=>T.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,T){gt(this._queuedCallbacks,_,[]).push(T)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const T=this._player;T.triggerCallback&&T.triggerCallback(_)}}function zi(W){return W&&1===W.nodeType}function ao(W,_){const T=W.style.display;return W.style.display=_??"none",T}function Js(W,_,T,O,q){const se=[];T.forEach(Ze=>se.push(ao(Ze)));const Ee=[];O.forEach((Ze,at)=>{const Wt=new Map;Ze.forEach(Zt=>{const rr=_.computeStyle(at,Zt,q);Wt.set(Zt,rr),(!rr||0==rr.length)&&(at[Ni]=kr,Ee.push(at))}),W.set(at,Wt)});let pe=0;return T.forEach(Ze=>ao(Ze,se[pe++])),Ee}function Xs(W,_){const T=new Map;if(W.forEach(pe=>T.set(pe,[])),0==_.length)return T;const q=new Set(_),se=new Map;function Ee(pe){if(!pe)return 1;let Ze=se.get(pe);if(Ze)return Ze;const at=pe.parentNode;return Ze=T.has(at)?at:q.has(at)?1:Ee(at),se.set(pe,Ze),Ze}return _.forEach(pe=>{const Ze=Ee(pe);1!==Ze&&T.get(Ze).push(pe)}),T}function Oi(W,_){W.classList?.add(_)}function ss(W,_){W.classList?.remove(_)}function ur(W,_,T){wt(T).onDone(()=>W.processLeaveNode(_))}function Bo(W,_){for(let T=0;T<W.length;T++){const O=W[T];O instanceof ct.ZE?Bo(O.players,_):_.push(O)}}function Di(W,_,T){const O=T.get(W);if(!O)return!1;let q=_.get(W);return q?O.forEach(se=>q.add(se)):_.set(W,O),T.delete(W),!0}class $s{constructor(_,T,O){this.bodyNode=_,this._driver=T,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(q,se)=>{},this._transitionEngine=new gs(_,T,O),this._timelineEngine=new ho(_,T,O),this._transitionEngine.onRemovalComplete=(q,se)=>this.onRemovalComplete(q,se)}registerTrigger(_,T,O,q,se){const Ee=_+"-"+q;let pe=this._triggerCache[Ee];if(!pe){const Ze=[],Wt=Kt(this._driver,se,Ze,[]);if(Ze.length)throw function nt(W,_){return new Ce.vHH(3404,!1)}();pe=function ds(W,_,T){return new oo(W,_,T)}(q,Wt,this._normalizer),this._triggerCache[Ee]=pe}this._transitionEngine.registerTrigger(T,q,pe)}register(_,T){this._transitionEngine.register(_,T)}destroy(_,T){this._transitionEngine.destroy(_,T)}onInsert(_,T,O,q){this._transitionEngine.insertNode(_,T,O,q)}onRemove(_,T,O){this._transitionEngine.removeNode(_,T,O)}disableAnimations(_,T){this._transitionEngine.markElementAsDisabled(_,T)}process(_,T,O,q){if("@"==O.charAt(0)){const[se,Ee]=Pr(O);this._timelineEngine.command(se,T,Ee,q)}else this._transitionEngine.trigger(_,T,O,q)}listen(_,T,O,q,se){if("@"==O.charAt(0)){const[Ee,pe]=Pr(O);return this._timelineEngine.listen(Ee,T,pe,se)}return this._transitionEngine.listen(_,T,O,q,se)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}let to=(()=>{class W{static#e=this.initialStylesByElement=new WeakMap;constructor(T,O,q){this._element=T,this._startStyles=O,this._endStyles=q,this._state=0;let se=W.initialStylesByElement.get(T);se||W.initialStylesByElement.set(T,se=new Map),this._initialStyles=se}start(){this._state<1&&(this._startStyles&&jt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jt(this._element,this._initialStyles),this._endStyles&&(jt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(W.initialStylesByElement.delete(this._element),this._startStyles&&(pn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pn(this._element,this._endStyles),this._endStyles=null),jt(this._element,this._initialStyles),this._state=3)}}return W})();function ai(W){let _=null;return W.forEach((T,O)=>{(function jo(W){return"display"===W||"position"===W})(O)&&(_=_||new Map,_.set(O,T))}),_}class Ci{constructor(_,T,O,q){this.element=_,this.keyframes=T,this.options=O,this._specialStyles=q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const T=()=>this._onFinish();this.domPlayer.addEventListener("finish",T),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",T)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const T=[];return _.forEach(O=>{T.push(Object.fromEntries(O))}),T}_triggerWebAnimation(_,T,O){return _.animate(this._convertKeyframesToObject(T),O)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,q)=>{"offset"!==q&&_.set(q,this._finished?O:et(this.element,q))}),this.currentSnapshot=_}triggerCallback(_){const T="start"===_?this._onStartFns:this._onDoneFns;T.forEach(O=>O()),T.length=0}}class H{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,T){return!1}containsElement(_,T){return Rn(_,T)}getParentElement(_){return fn(_)}query(_,T,O){return Ts(_,T,O)}computeStyle(_,T,O){return window.getComputedStyle(_)[T]}animate(_,T,O,q,se,Ee=[]){const Ze={duration:O,delay:q,fill:0==q?"both":"forwards"};se&&(Ze.easing=se);const at=new Map,Wt=Ee.filter(zn=>zn instanceof Ci);(function _i(W,_){return 0===W||0===_})(O,q)&&Wt.forEach(zn=>{zn.currentSnapshot.forEach((Dn,Vn)=>at.set(Vn,Dn))});let Zt=function Fe(W){return W.length?W[0]instanceof Map?W:W.map(_=>te(_)):[]}(T).map(zn=>Lt(zn));Zt=function Zs(W,_,T){if(T.size&&_.length){let O=_[0],q=[];if(T.forEach((se,Ee)=>{O.has(Ee)||q.push(Ee),O.set(Ee,se)}),q.length)for(let se=1;se<_.length;se++){let Ee=_[se];q.forEach(pe=>Ee.set(pe,et(W,pe)))}}return _}(_,Zt,at);const rr=function Qi(W,_){let T=null,O=null;return Array.isArray(_)&&_.length?(T=ai(_[0]),_.length>1&&(O=ai(_[_.length-1]))):_ instanceof Map&&(T=ai(_)),T||O?new to(W,T,O):null}(_,Zt);return new Ci(_,Zt,Ze,rr)}}let z=(()=>{class W extends ct._j{constructor(T,O){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(O.body,{id:"0",encapsulation:Ce.ifc.None,styles:[],data:{animation:[]}})}build(T){const O=this._nextAnimationId.toString();this._nextAnimationId++;const q=Array.isArray(T)?(0,ct.vP)(T):T;return Oe(this._renderer,null,O,"register",[q]),new he(O,this._renderer)}static#e=this.\u0275fac=function(O){return new(O||W)(Ce.LFG(Ce.FYo),Ce.LFG(Rt.K0))};static#t=this.\u0275prov=Ce.Yz7({token:W,factory:W.\u0275fac})}return W})();class he extends ct.LC{constructor(_,T){super(),this._id=_,this._renderer=T}create(_,T){return new de(this._id,_,T||{},this._renderer)}}class de{constructor(_,T,O,q){this.id=_,this.element=T,this._renderer=q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",O)}_listen(_,T){return this._renderer.listen(this.element,`@@${this.id}:${_}`,T)}_command(_,...T){return Oe(this._renderer,this.element,this.id,_,T)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Oe(W,_,T,O,q){return W.setProperty(_,`@@${T}:${O}`,q)}const $t="@.disabled";let Qt=(()=>{class W{constructor(T,O,q){this.delegate=T,this.engine=O,this._zone=q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,O.onRemovalComplete=(se,Ee)=>{const pe=Ee?.parentNode(se);pe&&Ee.removeChild(pe,se)}}createRenderer(T,O){const se=this.delegate.createRenderer(T,O);if(!(T&&O&&O.data&&O.data.animation)){let Wt=this._rendererCache.get(se);return Wt||(Wt=new un("",se,this.engine,()=>this._rendererCache.delete(se)),this._rendererCache.set(se,Wt)),Wt}const Ee=O.id,pe=O.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,T);const Ze=Wt=>{Array.isArray(Wt)?Wt.forEach(Ze):this.engine.registerTrigger(Ee,pe,T,Wt.name,Wt)};return O.data.animation.forEach(Ze),new Wn(this,pe,se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(T,O,q){T>=0&&T<this._microtaskId?this._zone.run(()=>O(q)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(se=>{const[Ee,pe]=se;Ee(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([O,q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(O){return new(O||W)(Ce.LFG(Ce.FYo),Ce.LFG($s),Ce.LFG(Ce.R0b))};static#t=this.\u0275prov=Ce.Yz7({token:W,factory:W.\u0275fac})}return W})();class un{constructor(_,T,O,q){this.namespaceId=_,this.delegate=T,this.engine=O,this._onDestroy=q}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,T){return this.delegate.createElement(_,T)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,T){this.delegate.appendChild(_,T),this.engine.onInsert(this.namespaceId,T,_,!1)}insertBefore(_,T,O,q=!0){this.delegate.insertBefore(_,T,O),this.engine.onInsert(this.namespaceId,T,_,q)}removeChild(_,T,O){this.engine.onRemove(this.namespaceId,T,this.delegate)}selectRootElement(_,T){return this.delegate.selectRootElement(_,T)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,T,O,q){this.delegate.setAttribute(_,T,O,q)}removeAttribute(_,T,O){this.delegate.removeAttribute(_,T,O)}addClass(_,T){this.delegate.addClass(_,T)}removeClass(_,T){this.delegate.removeClass(_,T)}setStyle(_,T,O,q){this.delegate.setStyle(_,T,O,q)}removeStyle(_,T,O){this.delegate.removeStyle(_,T,O)}setProperty(_,T,O){"@"==T.charAt(0)&&T==$t?this.disableAnimations(_,!!O):this.delegate.setProperty(_,T,O)}setValue(_,T){this.delegate.setValue(_,T)}listen(_,T,O){return this.delegate.listen(_,T,O)}disableAnimations(_,T){this.engine.disableAnimations(_,T)}}class Wn extends un{constructor(_,T,O,q,se){super(T,O,q,se),this.factory=_,this.namespaceId=T}setProperty(_,T,O){"@"==T.charAt(0)?"."==T.charAt(1)&&T==$t?this.disableAnimations(_,O=void 0===O||!!O):this.engine.process(this.namespaceId,_,T.slice(1),O):this.delegate.setProperty(_,T,O)}listen(_,T,O){if("@"==T.charAt(0)){const q=function _r(W){switch(W){case"body":return document.body;case"document":return document;case"window":return window;default:return W}}(_);let se=T.slice(1),Ee="";return"@"!=se.charAt(0)&&([se,Ee]=function qr(W){const _=W.indexOf(".");return[W.substring(0,_),W.slice(_+1)]}(se)),this.engine.listen(this.namespaceId,q,se,Ee,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,O,pe)})}return this.delegate.listen(_,T,O)}}const Si=[{provide:ct._j,useClass:z},{provide:$i,useFactory:function Ii(){return new co}},{provide:$s,useClass:(()=>{class W extends $s{constructor(T,O,q,se){super(T.body,O,q)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(O){return new(O||W)(Ce.LFG(Rt.K0),Ce.LFG(ci),Ce.LFG($i),Ce.LFG(Ce.z2F))};static#t=this.\u0275prov=Ce.Yz7({token:W,factory:W.\u0275fac})}return W})()},{provide:Ce.FYo,useFactory:function ii(W,_,T){return new Qt(W,_,T)},deps:[S.se,$s,Ce.R0b]}],ui=[{provide:ci,useFactory:()=>new H},{provide:Ce.QbO,useValue:"BrowserAnimations"},...Si],os=[{provide:ci,useClass:us},{provide:Ce.QbO,useValue:"NoopAnimations"},...Si];let Zi=(()=>{class W{static withConfig(T){return{ngModule:W,providers:T.disableAnimations?os:ui}}static#e=this.\u0275fac=function(O){return new(O||W)};static#t=this.\u0275mod=Ce.oAB({type:W});static#n=this.\u0275inj=Ce.cJS({providers:ui,imports:[S.b2]})}return W})(),ys=(()=>{class W{static#e=this.\u0275fac=function(O){return new(O||W)};static#t=this.\u0275mod=Ce.oAB({type:W,bootstrap:[At]});static#n=this.\u0275inj=Ce.cJS({imports:[Rt.ez,S.b2,ue,we.Bz,Zi,(0,vt.hX)(()=>(0,vt.ZF)({projectId:"clinica-online-47d16",appId:"1:406208429027:web:12dee30e70d237e3d43ed6",storageBucket:"clinica-online-47d16.appspot.com",apiKey:"AIzaSyB9VGncLe0OChtq_Orfa-E4ntVqOCek2h4",authDomain:"clinica-online-47d16.firebaseapp.com",messagingSenderId:"406208429027",measurementId:"G-BSJF70LDNX"})),(0,ge.AR)(()=>(0,ge.v0)()),(0,ye.Cm)(()=>(0,ye.ad)()),(0,We.Vq)(()=>(0,We.cF)())]})}return W})();S.q6().bootstrapModule(ys).catch(W=>console.error(W))},5619:(In,yt,Y)=>{"use strict";Y.d(yt,{X:()=>we});var S=Y(8645);class we extends S.x{constructor(ze){super(),this._value=ze}get value(){return this.getValue()}_subscribe(ze){const ue=super._subscribe(ze);return!ue.closed&&ze.next(this._value),ue}getValue(){const{hasError:ze,thrownError:ue,_value:Le}=this;if(ze)throw ue;return this._throwIfClosed(),Le}next(ze){super.next(this._value=ze)}}},5592:(In,yt,Y)=>{"use strict";Y.d(yt,{y:()=>At});var S=Y(305),we=Y(7394),Ce=Y(4850),ze=Y(8407),ue=Y(2653),Le=Y(4674),Ve=Y(1441);let At=(()=>{class We{constructor(ct){ct&&(this._subscribe=ct)}lift(ct){const Mt=new We;return Mt.source=this,Mt.operator=ct,Mt}subscribe(ct,Mt,Xt){const mn=function ye(We){return We&&We instanceof S.Lv||function ge(We){return We&&(0,Le.m)(We.next)&&(0,Le.m)(We.error)&&(0,Le.m)(We.complete)}(We)&&(0,we.Nn)(We)}(ct)?ct:new S.Hp(ct,Mt,Xt);return(0,Ve.x)(()=>{const{operator:gn,source:qn}=this;mn.add(gn?gn.call(mn,qn):qn?this._subscribe(mn):this._trySubscribe(mn))}),mn}_trySubscribe(ct){try{return this._subscribe(ct)}catch(Mt){ct.error(Mt)}}forEach(ct,Mt){return new(Mt=vt(Mt))((Xt,mn)=>{const gn=new S.Hp({next:qn=>{try{ct(qn)}catch(cn){mn(cn),gn.unsubscribe()}},error:mn,complete:Xt});this.subscribe(gn)})}_subscribe(ct){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(ct)}[Ce.L](){return this}pipe(...ct){return(0,ze.U)(ct)(this)}toPromise(ct){return new(ct=vt(ct))((Mt,Xt)=>{let mn;this.subscribe(gn=>mn=gn,gn=>Xt(gn),()=>Mt(mn))})}}return We.create=Rt=>new We(Rt),We})();function vt(We){var Rt;return null!==(Rt=We??ue.config.Promise)&&void 0!==Rt?Rt:Promise}},8645:(In,yt,Y)=>{"use strict";Y.d(yt,{x:()=>Ve});var S=Y(5592),we=Y(7394);const ze=(0,Y(2306).d)(vt=>function(){vt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=Y(9039),Le=Y(1441);let Ve=(()=>{class vt extends S.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const We=new At(this,this);return We.operator=ye,We}_throwIfClosed(){if(this.closed)throw new ze}next(ye){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const We of this.currentObservers)We.next(ye)}})}error(ye){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:We}=this;for(;We.length;)We.shift().error(ye)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:We,isStopped:Rt,observers:ct}=this;return We||Rt?we.Lc:(this.currentObservers=null,ct.push(ye),new we.w0(()=>{this.currentObservers=null,(0,ue.P)(ct,ye)}))}_checkFinalizedStatuses(ye){const{hasError:We,thrownError:Rt,isStopped:ct}=this;We?ye.error(Rt):ct&&ye.complete()}asObservable(){const ye=new S.y;return ye.source=this,ye}}return vt.create=(ge,ye)=>new At(ge,ye),vt})();class At extends Ve{constructor(ge,ye){super(),this.destination=ge,this.source=ye}next(ge){var ye,We;null===(We=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===We||We.call(ye,ge)}error(ge){var ye,We;null===(We=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===We||We.call(ye,ge)}complete(){var ge,ye;null===(ye=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===ye||ye.call(ge)}_subscribe(ge){var ye,We;return null!==(We=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(ge))&&void 0!==We?We:we.Lc}}},305:(In,yt,Y)=>{"use strict";Y.d(yt,{Hp:()=>Xt,Lv:()=>We});var S=Y(4674),we=Y(7394),Ce=Y(2653),ze=Y(3894),ue=Y(2420);const Le=vt("C",void 0,void 0);function vt(Ae,rt,lt){return{kind:Ae,value:rt,error:lt}}var ge=Y(7599),ye=Y(1441);class We extends we.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,we.Nn)(rt)&&rt.add(this)):this.destination=cn}static create(rt,lt,Ft){return new Xt(rt,lt,Ft)}next(rt){this.isStopped?qn(function At(Ae){return vt("N",Ae,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?qn(function Ve(Ae){return vt("E",void 0,Ae)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?qn(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function ct(Ae,rt){return Rt.call(Ae,rt)}class Mt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:lt}=this;if(lt.next)try{lt.next(rt)}catch(Ft){mn(Ft)}}error(rt){const{partialObserver:lt}=this;if(lt.error)try{lt.error(rt)}catch(Ft){mn(Ft)}else mn(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(lt){mn(lt)}}}class Xt extends We{constructor(rt,lt,Ft){let Ht;if(super(),(0,S.m)(rt)||!rt)Ht={next:rt??void 0,error:lt??void 0,complete:Ft??void 0};else{let Nt;this&&Ce.config.useDeprecatedNextContext?(Nt=Object.create(rt),Nt.unsubscribe=()=>this.unsubscribe(),Ht={next:rt.next&&ct(rt.next,Nt),error:rt.error&&ct(rt.error,Nt),complete:rt.complete&&ct(rt.complete,Nt)}):Ht=rt}this.destination=new Mt(Ht)}}function mn(Ae){Ce.config.useDeprecatedSynchronousErrorHandling?(0,ye.O)(Ae):(0,ze.h)(Ae)}function qn(Ae,rt){const{onStoppedNotification:lt}=Ce.config;lt&&ge.z.setTimeout(()=>lt(Ae,rt))}const cn={closed:!0,next:ue.Z,error:function gn(Ae){throw Ae},complete:ue.Z}},7394:(In,yt,Y)=>{"use strict";Y.d(yt,{Lc:()=>Le,w0:()=>ue,Nn:()=>Ve});var S=Y(4674);const Ce=(0,Y(2306).d)(vt=>function(ye){vt(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((We,Rt)=>`${Rt+1}) ${We.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var ze=Y(9039);class ue{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const ct of ye)ct.remove(this);else ye.remove(this);const{initialTeardown:We}=this;if((0,S.m)(We))try{We()}catch(ct){ge=ct instanceof Ce?ct.errors:[ct]}const{_finalizers:Rt}=this;if(Rt){this._finalizers=null;for(const ct of Rt)try{At(ct)}catch(Mt){ge=ge??[],Mt instanceof Ce?ge=[...ge,...Mt.errors]:ge.push(Mt)}}if(ge)throw new Ce(ge)}}add(ge){var ye;if(ge&&ge!==this)if(this.closed)At(ge);else{if(ge instanceof ue){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(ge)}}_hasParent(ge){const{_parentage:ye}=this;return ye===ge||Array.isArray(ye)&&ye.includes(ge)}_addParent(ge){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(ge),ye):ye?[ye,ge]:ge}_removeParent(ge){const{_parentage:ye}=this;ye===ge?this._parentage=null:Array.isArray(ye)&&(0,ze.P)(ye,ge)}remove(ge){const{_finalizers:ye}=this;ye&&(0,ze.P)(ye,ge),ge instanceof ue&&ge._removeParent(this)}}ue.EMPTY=(()=>{const vt=new ue;return vt.closed=!0,vt})();const Le=ue.EMPTY;function Ve(vt){return vt instanceof ue||vt&&"closed"in vt&&(0,S.m)(vt.remove)&&(0,S.m)(vt.add)&&(0,S.m)(vt.unsubscribe)}function At(vt){(0,S.m)(vt)?vt():vt.unsubscribe()}},2653:(In,yt,Y)=>{"use strict";Y.d(yt,{config:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(In,yt,Y)=>{"use strict";Y.d(yt,{E:()=>we});const we=new(Y(5592).y)(ue=>ue.complete())},2459:(In,yt,Y)=>{"use strict";Y.d(yt,{D:()=>rt});var S=Y(4829),we=Y(3093),Ce=Y(5137),Le=Y(5592),At=Y(4971),vt=Y(4674),ge=Y(7103);function We(lt,Ft){if(!lt)throw new Error("Iterable cannot be null");return new Le.y(Ht=>{(0,ge.f)(Ht,Ft,()=>{const Nt=lt[Symbol.asyncIterator]();(0,ge.f)(Ht,Ft,()=>{Nt.next().then(be=>{be.done?Ht.complete():Ht.next(be.value)})},0,!0)})})}var Rt=Y(8382),ct=Y(4026),Mt=Y(4266),Xt=Y(3664),mn=Y(5726),gn=Y(9853),qn=Y(541);function rt(lt,Ft){return Ft?function Ae(lt,Ft){if(null!=lt){if((0,Rt.c)(lt))return function ze(lt,Ft){return(0,S.Xf)(lt).pipe((0,Ce.R)(Ft),(0,we.Q)(Ft))}(lt,Ft);if((0,Mt.z)(lt))return function Ve(lt,Ft){return new Le.y(Ht=>{let Nt=0;return Ft.schedule(function(){Nt===lt.length?Ht.complete():(Ht.next(lt[Nt++]),Ht.closed||this.schedule())})})}(lt,Ft);if((0,ct.t)(lt))return function ue(lt,Ft){return(0,S.Xf)(lt).pipe((0,Ce.R)(Ft),(0,we.Q)(Ft))}(lt,Ft);if((0,mn.D)(lt))return We(lt,Ft);if((0,Xt.T)(lt))return function ye(lt,Ft){return new Le.y(Ht=>{let Nt;return(0,ge.f)(Ht,Ft,()=>{Nt=lt[At.h](),(0,ge.f)(Ht,Ft,()=>{let be,kt;try{({value:be,done:kt}=Nt.next())}catch(jn){return void Ht.error(jn)}kt?Ht.complete():Ht.next(be)},0,!0)}),()=>(0,vt.m)(Nt?.return)&&Nt.return()})}(lt,Ft);if((0,qn.L)(lt))return function cn(lt,Ft){return We((0,qn.Q)(lt),Ft)}(lt,Ft)}throw(0,gn.z)(lt)}(lt,Ft):(0,S.Xf)(lt)}},4829:(In,yt,Y)=>{"use strict";Y.d(yt,{Xf:()=>Rt});var S=Y(7582),we=Y(4266),Ce=Y(4026),ze=Y(5592),ue=Y(8382),Le=Y(5726),Ve=Y(9853),At=Y(3664),vt=Y(541),ge=Y(4674),ye=Y(3894),We=Y(4850);function Rt(Ae){if(Ae instanceof ze.y)return Ae;if(null!=Ae){if((0,ue.c)(Ae))return function ct(Ae){return new ze.y(rt=>{const lt=Ae[We.L]();if((0,ge.m)(lt.subscribe))return lt.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,we.z)(Ae))return function Mt(Ae){return new ze.y(rt=>{for(let lt=0;lt<Ae.length&&!rt.closed;lt++)rt.next(Ae[lt]);rt.complete()})}(Ae);if((0,Ce.t)(Ae))return function Xt(Ae){return new ze.y(rt=>{Ae.then(lt=>{rt.closed||(rt.next(lt),rt.complete())},lt=>rt.error(lt)).then(null,ye.h)})}(Ae);if((0,Le.D)(Ae))return gn(Ae);if((0,At.T)(Ae))return function mn(Ae){return new ze.y(rt=>{for(const lt of Ae)if(rt.next(lt),rt.closed)return;rt.complete()})}(Ae);if((0,vt.L)(Ae))return function qn(Ae){return gn((0,vt.Q)(Ae))}(Ae)}throw(0,Ve.z)(Ae)}function gn(Ae){return new ze.y(rt=>{(function cn(Ae,rt){var lt,Ft,Ht,Nt;return(0,S.mG)(this,void 0,void 0,function*(){try{for(lt=(0,S.KL)(Ae);!(Ft=yield lt.next()).done;)if(rt.next(Ft.value),rt.closed)return}catch(be){Ht={error:be}}finally{try{Ft&&!Ft.done&&(Nt=lt.return)&&(yield Nt.call(lt))}finally{if(Ht)throw Ht.error}}rt.complete()})})(Ae,rt).catch(lt=>rt.error(lt))})}},2096:(In,yt,Y)=>{"use strict";Y.d(yt,{of:()=>Ce});var S=Y(4564),we=Y(2459);function Ce(...ze){const ue=(0,S.yG)(ze);return(0,we.D)(ze,ue)}},8251:(In,yt,Y)=>{"use strict";Y.d(yt,{x:()=>we});var S=Y(305);function we(ze,ue,Le,Ve,At){return new Ce(ze,ue,Le,Ve,At)}class Ce extends S.Lv{constructor(ue,Le,Ve,At,vt,ge){super(ue),this.onFinalize=vt,this.shouldUnsubscribe=ge,this._next=Le?function(ye){try{Le(ye)}catch(We){ue.error(We)}}:super._next,this._error=At?function(ye){try{At(ye)}catch(We){ue.error(We)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(ye){ue.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},2181:(In,yt,Y)=>{"use strict";Y.d(yt,{h:()=>Ce});var S=Y(9360),we=Y(8251);function Ce(ze,ue){return(0,S.e)((Le,Ve)=>{let At=0;Le.subscribe((0,we.x)(Ve,vt=>ze.call(ue,vt,At++)&&Ve.next(vt)))})}},7398:(In,yt,Y)=>{"use strict";Y.d(yt,{U:()=>Ce});var S=Y(9360),we=Y(8251);function Ce(ze,ue){return(0,S.e)((Le,Ve)=>{let At=0;Le.subscribe((0,we.x)(Ve,vt=>{Ve.next(ze.call(ue,vt,At++))}))})}},7537:(In,yt,Y)=>{"use strict";Y.d(yt,{J:()=>Ce});var S=Y(1631),we=Y(2737);function Ce(ze=1/0){return(0,S.z)(we.y,ze)}},1631:(In,yt,Y)=>{"use strict";Y.d(yt,{z:()=>At});var S=Y(7398),we=Y(4829),Ce=Y(9360),ze=Y(7103),ue=Y(8251),Ve=Y(4674);function At(vt,ge,ye=1/0){return(0,Ve.m)(ge)?At((We,Rt)=>(0,S.U)((ct,Mt)=>ge(We,ct,Rt,Mt))((0,we.Xf)(vt(We,Rt))),ye):("number"==typeof ge&&(ye=ge),(0,Ce.e)((We,Rt)=>function Le(vt,ge,ye,We,Rt,ct,Mt,Xt){const mn=[];let gn=0,qn=0,cn=!1;const Ae=()=>{cn&&!mn.length&&!gn&&ge.complete()},rt=Ft=>gn<We?lt(Ft):mn.push(Ft),lt=Ft=>{ct&&ge.next(Ft),gn++;let Ht=!1;(0,we.Xf)(ye(Ft,qn++)).subscribe((0,ue.x)(ge,Nt=>{Rt?.(Nt),ct?rt(Nt):ge.next(Nt)},()=>{Ht=!0},void 0,()=>{if(Ht)try{for(gn--;mn.length&&gn<We;){const Nt=mn.shift();Mt?(0,ze.f)(ge,Mt,()=>lt(Nt)):lt(Nt)}Ae()}catch(Nt){ge.error(Nt)}}))};return vt.subscribe((0,ue.x)(ge,rt,()=>{cn=!0,Ae()})),()=>{Xt?.()}}(We,Rt,vt,ye)))}},3093:(In,yt,Y)=>{"use strict";Y.d(yt,{Q:()=>ze});var S=Y(7103),we=Y(9360),Ce=Y(8251);function ze(ue,Le=0){return(0,we.e)((Ve,At)=>{Ve.subscribe((0,Ce.x)(At,vt=>(0,S.f)(At,ue,()=>At.next(vt),Le),()=>(0,S.f)(At,ue,()=>At.complete(),Le),vt=>(0,S.f)(At,ue,()=>At.error(vt),Le)))})}},5137:(In,yt,Y)=>{"use strict";Y.d(yt,{R:()=>we});var S=Y(9360);function we(Ce,ze=0){return(0,S.e)((ue,Le)=>{Le.add(Ce.schedule(()=>ue.subscribe(Le),ze))})}},4664:(In,yt,Y)=>{"use strict";Y.d(yt,{w:()=>ze});var S=Y(4829),we=Y(9360),Ce=Y(8251);function ze(ue,Le){return(0,we.e)((Ve,At)=>{let vt=null,ge=0,ye=!1;const We=()=>ye&&!vt&&At.complete();Ve.subscribe((0,Ce.x)(At,Rt=>{vt?.unsubscribe();let ct=0;const Mt=ge++;(0,S.Xf)(ue(Rt,Mt)).subscribe(vt=(0,Ce.x)(At,Xt=>At.next(Le?Le(Rt,Xt,Mt,ct++):Xt),()=>{vt=null,We()}))},()=>{ye=!0,We()}))})}},8180:(In,yt,Y)=>{"use strict";Y.d(yt,{q:()=>ze});var S=Y(6232),we=Y(9360),Ce=Y(8251);function ze(ue){return ue<=0?()=>S.E:(0,we.e)((Le,Ve)=>{let At=0;Le.subscribe((0,Ce.x)(Ve,vt=>{++At<=ue&&(Ve.next(vt),ue<=At&&Ve.complete())}))})}},9397:(In,yt,Y)=>{"use strict";Y.d(yt,{b:()=>ue});var S=Y(4674),we=Y(9360),Ce=Y(8251),ze=Y(2737);function ue(Le,Ve,At){const vt=(0,S.m)(Le)||Ve||At?{next:Le,error:Ve,complete:At}:Le;return vt?(0,we.e)((ge,ye)=>{var We;null===(We=vt.subscribe)||void 0===We||We.call(vt);let Rt=!0;ge.subscribe((0,Ce.x)(ye,ct=>{var Mt;null===(Mt=vt.next)||void 0===Mt||Mt.call(vt,ct),ye.next(ct)},()=>{var ct;Rt=!1,null===(ct=vt.complete)||void 0===ct||ct.call(vt),ye.complete()},ct=>{var Mt;Rt=!1,null===(Mt=vt.error)||void 0===Mt||Mt.call(vt,ct),ye.error(ct)},()=>{var ct,Mt;Rt&&(null===(ct=vt.unsubscribe)||void 0===ct||ct.call(vt)),null===(Mt=vt.finalize)||void 0===Mt||Mt.call(vt)}))}):ze.y}},7599:(In,yt,Y)=>{"use strict";Y.d(yt,{z:()=>S});const S={setTimeout(we,Ce,...ze){const{delegate:ue}=S;return ue?.setTimeout?ue.setTimeout(we,Ce,...ze):setTimeout(we,Ce,...ze)},clearTimeout(we){const{delegate:Ce}=S;return(Ce?.clearTimeout||clearTimeout)(we)},delegate:void 0}},4971:(In,yt,Y)=>{"use strict";Y.d(yt,{h:()=>we});const we=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(In,yt,Y)=>{"use strict";Y.d(yt,{L:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(In,yt,Y)=>{"use strict";Y.d(yt,{_6:()=>Le,jO:()=>ze,yG:()=>ue});var S=Y(4674);function Ce(Ve){return Ve[Ve.length-1]}function ze(Ve){return(0,S.m)(Ce(Ve))?Ve.pop():void 0}function ue(Ve){return function we(Ve){return Ve&&(0,S.m)(Ve.schedule)}(Ce(Ve))?Ve.pop():void 0}function Le(Ve,At){return"number"==typeof Ce(Ve)?Ve.pop():At}},7453:(In,yt,Y)=>{"use strict";Y.d(yt,{D:()=>ue});const{isArray:S}=Array,{getPrototypeOf:we,prototype:Ce,keys:ze}=Object;function ue(Ve){if(1===Ve.length){const At=Ve[0];if(S(At))return{args:At,keys:null};if(function Le(Ve){return Ve&&"object"==typeof Ve&&we(Ve)===Ce}(At)){const vt=ze(At);return{args:vt.map(ge=>At[ge]),keys:vt}}}return{args:Ve,keys:null}}},9039:(In,yt,Y)=>{"use strict";function S(we,Ce){if(we){const ze=we.indexOf(Ce);0<=ze&&we.splice(ze,1)}}Y.d(yt,{P:()=>S})},2306:(In,yt,Y)=>{"use strict";function S(we){const ze=we(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ze.prototype=Object.create(Error.prototype),ze.prototype.constructor=ze,ze}Y.d(yt,{d:()=>S})},2714:(In,yt,Y)=>{"use strict";function S(we,Ce){return we.reduce((ze,ue,Le)=>(ze[ue]=Ce[Le],ze),{})}Y.d(yt,{n:()=>S})},1441:(In,yt,Y)=>{"use strict";Y.d(yt,{O:()=>ze,x:()=>Ce});var S=Y(2653);let we=null;function Ce(ue){if(S.config.useDeprecatedSynchronousErrorHandling){const Le=!we;if(Le&&(we={errorThrown:!1,error:null}),ue(),Le){const{errorThrown:Ve,error:At}=we;if(we=null,Ve)throw At}}else ue()}function ze(ue){S.config.useDeprecatedSynchronousErrorHandling&&we&&(we.errorThrown=!0,we.error=ue)}},7103:(In,yt,Y)=>{"use strict";function S(we,Ce,ze,ue=0,Le=!1){const Ve=Ce.schedule(function(){ze(),Le?we.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(we.add(Ve),!Le)return Ve}Y.d(yt,{f:()=>S})},2737:(In,yt,Y)=>{"use strict";function S(we){return we}Y.d(yt,{y:()=>S})},4266:(In,yt,Y)=>{"use strict";Y.d(yt,{z:()=>S});const S=we=>we&&"number"==typeof we.length&&"function"!=typeof we},5726:(In,yt,Y)=>{"use strict";Y.d(yt,{D:()=>we});var S=Y(4674);function we(Ce){return Symbol.asyncIterator&&(0,S.m)(Ce?.[Symbol.asyncIterator])}},4674:(In,yt,Y)=>{"use strict";function S(we){return"function"==typeof we}Y.d(yt,{m:()=>S})},8382:(In,yt,Y)=>{"use strict";Y.d(yt,{c:()=>Ce});var S=Y(4850),we=Y(4674);function Ce(ze){return(0,we.m)(ze[S.L])}},3664:(In,yt,Y)=>{"use strict";Y.d(yt,{T:()=>Ce});var S=Y(4971),we=Y(4674);function Ce(ze){return(0,we.m)(ze?.[S.h])}},4026:(In,yt,Y)=>{"use strict";Y.d(yt,{t:()=>we});var S=Y(4674);function we(Ce){return(0,S.m)(Ce?.then)}},541:(In,yt,Y)=>{"use strict";Y.d(yt,{L:()=>ze,Q:()=>Ce});var S=Y(7582),we=Y(4674);function Ce(ue){return(0,S.FC)(this,arguments,function*(){const Ve=ue.getReader();try{for(;;){const{value:At,done:vt}=yield(0,S.qq)(Ve.read());if(vt)return yield(0,S.qq)(void 0);yield yield(0,S.qq)(At)}}finally{Ve.releaseLock()}})}function ze(ue){return(0,we.m)(ue?.getReader)}},9360:(In,yt,Y)=>{"use strict";Y.d(yt,{A:()=>we,e:()=>Ce});var S=Y(4674);function we(ze){return(0,S.m)(ze?.lift)}function Ce(ze){return ue=>{if(we(ue))return ue.lift(function(Le){try{return ze(Le,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(In,yt,Y)=>{"use strict";Y.d(yt,{Z:()=>ze});var S=Y(7398);const{isArray:we}=Array;function ze(ue){return(0,S.U)(Le=>function Ce(ue,Le){return we(Le)?ue(...Le):ue(Le)}(ue,Le))}},2420:(In,yt,Y)=>{"use strict";function S(){}Y.d(yt,{Z:()=>S})},8407:(In,yt,Y)=>{"use strict";Y.d(yt,{U:()=>Ce,z:()=>we});var S=Y(2737);function we(...ze){return Ce(ze)}function Ce(ze){return 0===ze.length?S.y:1===ze.length?ze[0]:function(Le){return ze.reduce((Ve,At)=>At(Ve),Le)}}},3894:(In,yt,Y)=>{"use strict";Y.d(yt,{h:()=>Ce});var S=Y(2653),we=Y(7599);function Ce(ze){we.z.setTimeout(()=>{const{onUnhandledError:ue}=S.config;if(!ue)throw ze;ue(ze)})}},9853:(In,yt,Y)=>{"use strict";function S(we){return new TypeError(`You provided ${null!==we&&"object"==typeof we?"an invalid object":`'${we}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(yt,{z:()=>S})},3519:function(In){In.exports=function(){"use strict";function yt(G,E){(null==E||E>G.length)&&(E=G.length);for(var M=0,j=Array(E);M<E;M++)j[M]=G[M];return j}function we(G,E,M){if("function"==typeof G?G===E:G.has(E))return arguments.length<3?E:M;throw new TypeError("Private element is not present on this object")}function ze(G,E,M){return E=ct(E),function Ae(G,E){if(E&&("object"==typeof E||"function"==typeof E))return E;if(void 0!==E)throw new TypeError("Derived constructors may only return object or undefined");return function Ce(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(G)}(G,Xt()?Reflect.construct(E,M||[],ct(G).constructor):E.apply(G,M))}function Le(G,E){if(!(G instanceof E))throw new TypeError("Cannot call a class as a function")}function Ve(G,E){return G.get(we(G,E))}function At(G,E,M){(function ue(G,E){if(E.has(G))throw new TypeError("Cannot initialize the same private elements twice on an object")})(G,E),E.set(G,M)}function We(G,E,M){return E&&function ye(G,E){for(var M=0;M<E.length;M++){var j=E[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(G,be(j.key),j)}}(G.prototype,E),Object.defineProperty(G,"prototype",{writable:!1}),G}function Rt(){return Rt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(G,E,M){var j=function Ft(G,E){for(;!{}.hasOwnProperty.call(G,E)&&null!==(G=ct(G)););return G}(G,E);if(j){var _e=Object.getOwnPropertyDescriptor(j,E);return _e.get?_e.get.call(arguments.length<3?G:M):_e.value}},Rt.apply(null,arguments)}function ct(G){return(ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(G)}function Xt(){try{var G=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xt=function(){return!!G})()}function rt(G,E){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,j){return M.__proto__=j,M})(G,E)}function lt(G,E){return function Y(G){if(Array.isArray(G))return G}(G)||function gn(G,E){var M=null==G?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(null!=M){var j,_e,_t,It,yr=[],Rr=!0,Mi=!1;try{if(_t=(M=M.call(G)).next,0!==E)for(;!(Rr=(j=_t.call(M)).done)&&(yr.push(j.value),yr.length!==E);Rr=!0);}catch(la){Mi=!0,_e=la}finally{try{if(!Rr&&null!=M.return&&(It=M.return(),Object(It)!==It))return}finally{if(Mi)throw _e}}return yr}}(G,E)||jn(G,E)||function qn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(G){return function S(G){if(Array.isArray(G))return yt(G)}(G)||function mn(G){if(typeof Symbol<"u"&&null!=G[Symbol.iterator]||null!=G["@@iterator"])return Array.from(G)}(G)||jn(G)||function cn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(G){var E=function Nt(G,E){if("object"!=typeof G||!G)return G;var M=G[Symbol.toPrimitive];if(void 0!==M){var j=M.call(G,E);if("object"!=typeof j)return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(G,"string");return"symbol"==typeof E?E:E+""}function kt(G){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(G)}function jn(G,E){if(G){if("string"==typeof G)return yt(G,E);var M={}.toString.call(G).slice(8,-1);return"Object"===M&&G.constructor&&(M=G.constructor.name),"Map"===M||"Set"===M?Array.from(G):"Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?yt(G,E):void 0}}var Ie={},$n=function(E){return new Promise(function(M){if(!E)return M();var j=window.scrollX,_e=window.scrollY;Ie.restoreFocusTimeout=setTimeout(function(){Ie.previousActiveElement instanceof HTMLElement?(Ie.previousActiveElement.focus(),Ie.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(j,_e)})},Q=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(G,E){return G[E]="swal2-"+E,G},{}),Xe=["success","warning","info","question","error"].reduce(function(G,E){return G[E]="swal2-"+E,G},{}),nt="SweetAlert2:",je=function(E){return E.charAt(0).toUpperCase()+E.slice(1)},ke=function(E){console.warn("".concat(nt," ").concat("object"===kt(E)?E.join(" "):E))},pt=function(E){console.error("".concat(nt," ").concat(E))},Vt=[],bt=function(E,M){!function(E){Vt.includes(E)||(Vt.push(E),ke(E))}('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(M,'" instead.'))},Tn=function(E){return"function"==typeof E?E():E},Er=function(E){return E&&"function"==typeof E.toPromise},yi=function(E){return Er(E)?E.toPromise():Promise.resolve(E)},Ot=function(E){return E&&Promise.resolve(E)===E},Jn=function(){return document.body.querySelector(".".concat(Q.container))},Kn=function(E){var M=Jn();return M?M.querySelector(E):null},bn=function(E){return Kn(".".concat(E))},wt=function(){return bn(Q.popup)},sn=function(){return bn(Q.icon)},An=function(){return bn(Q.title)},Hn=function(){return bn(Q["html-container"])},gt=function(){return bn(Q.image)},Pr=function(){return bn(Q["progress-steps"])},Mn=function(){return bn(Q["validation-message"])},fn=function(){return Kn(".".concat(Q.actions," .").concat(Q.confirm))},Mr=function(){return Kn(".".concat(Q.actions," .").concat(Q.cancel))},lr=function(){return Kn(".".concat(Q.actions," .").concat(Q.deny))},fr=function(){return Kn(".".concat(Q.loader))},Ur=function(){return bn(Q.actions)},ki=function(){return bn(Q.footer)},Rn=function(){return bn(Q["timer-progress-bar"])},Ts=function(){return bn(Q.close)},us=function(){var E=wt();if(!E)return[];var M=E.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),j=Array.from(M).sort(function(It,yr){var Rr=parseInt(It.getAttribute("tabindex")||"0"),Mi=parseInt(yr.getAttribute("tabindex")||"0");return Rr>Mi?1:Rr<Mi?-1:0}),_e=E.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),_t=Array.from(_e).filter(function(It){return"-1"!==It.getAttribute("tabindex")});return Ht(new Set(j.concat(_t))).filter(function(It){return jt(It)})},ci=function(){return Yt(document.body,Q.shown)&&!Yt(document.body,Q["toast-shown"])&&!Yt(document.body,Q["no-backdrop"])},Br=function(){var E=wt();return!!E&&Yt(E,Q.toast)},ir=function(E,M){if(E.textContent="",M){var _e=(new DOMParser).parseFromString(M,"text/html"),_t=_e.querySelector("head");_t&&Array.from(_t.childNodes).forEach(function(yr){E.appendChild(yr)});var It=_e.querySelector("body");It&&Array.from(It.childNodes).forEach(function(yr){yr instanceof HTMLVideoElement||yr instanceof HTMLAudioElement?E.appendChild(yr.cloneNode(!0)):E.appendChild(yr)})}},Yt=function(E,M){if(!M)return!1;for(var j=M.split(/\s+/),_e=0;_e<j.length;_e++)if(!E.classList.contains(j[_e]))return!1;return!0},ti=function(E,M,j){if(function(E,M){Array.from(E.classList).forEach(function(j){!Object.values(Q).includes(j)&&!Object.values(Xe).includes(j)&&!Object.values(M.showClass||{}).includes(j)&&E.classList.remove(j)})}(E,M),M.customClass&&M.customClass[j]){if("string"!=typeof M.customClass[j]&&!M.customClass[j].forEach)return void ke("Invalid type of customClass.".concat(j,'! Expected string or iterable object, got "').concat(kt(M.customClass[j]),'"'));wn(E,M.customClass[j])}},_n=function(E,M){if(!M)return null;switch(M){case"select":case"textarea":case"file":return E.querySelector(".".concat(Q.popup," > .").concat(Q[M]));case"checkbox":return E.querySelector(".".concat(Q.popup," > .").concat(Q.checkbox," input"));case"radio":return E.querySelector(".".concat(Q.popup," > .").concat(Q.radio," input:checked"))||E.querySelector(".".concat(Q.popup," > .").concat(Q.radio," input:first-child"));case"range":return E.querySelector(".".concat(Q.popup," > .").concat(Q.range," input"));default:return E.querySelector(".".concat(Q.popup," > .").concat(Q.input))}},cr=function(E){if(E.focus(),"file"!==E.type){var M=E.value;E.value="",E.value=M}},pi=function(E,M,j){!E||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(function(_e){Array.isArray(E)?E.forEach(function(_t){j?_t.classList.add(_e):_t.classList.remove(_e)}):j?E.classList.add(_e):E.classList.remove(_e)}))},wn=function(E,M){pi(E,M,!0)},me=function(E,M){pi(E,M,!1)},ee=function(E,M){for(var j=Array.from(E.children),_e=0;_e<j.length;_e++){var _t=j[_e];if(_t instanceof HTMLElement&&Yt(_t,M))return _t}},re=function(E,M,j){j==="".concat(parseInt(j))&&(j=parseInt(j)),j||0===parseInt(j)?E.style.setProperty(M,"number"==typeof j?"".concat(j,"px"):j):E.style.removeProperty(M)},J=function(E){E&&(E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},te=function(E){E&&(E.style.display="none")},Fe=function(E){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";E&&new MutationObserver(function(){Lt(E,E.innerHTML,M)}).observe(E,{childList:!0,subtree:!0})},Et=function(E,M,j,_e){var _t=E.querySelector(M);_t&&_t.style.setProperty(j,_e)},Lt=function(E,M){M?J(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):te(E)},jt=function(E){return!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length))},Pn=function(E){return E.scrollHeight>E.clientHeight},rn=function(E){var M=window.getComputedStyle(E),j=parseFloat(M.getPropertyValue("animation-duration")||"0"),_e=parseFloat(M.getPropertyValue("transition-duration")||"0");return j>0||_e>0},Sr=function(E){var M=arguments.length>1&&void 0!==arguments[1]&&arguments[1],j=Rn();j&&jt(j)&&(M&&(j.style.transition="none",j.style.width="100%"),setTimeout(function(){j.style.transition="width ".concat(E/1e3,"s linear"),j.style.width="0%"},10))},ji=function(){return typeof window>"u"||typeof document>"u"},gi='\n <div aria-labelledby="'.concat(Q.title,'" aria-describedby="').concat(Q["html-container"],'" class="').concat(Q.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Q.close,'"></button>\n   <ul class="').concat(Q["progress-steps"],'"></ul>\n   <div class="').concat(Q.icon,'"></div>\n   <img class="').concat(Q.image,'" />\n   <h2 class="').concat(Q.title,'" id="').concat(Q.title,'"></h2>\n   <div class="').concat(Q["html-container"],'" id="').concat(Q["html-container"],'"></div>\n   <input class="').concat(Q.input,'" id="').concat(Q.input,'" />\n   <input type="file" class="').concat(Q.file,'" />\n   <div class="').concat(Q.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Q.select,'" id="').concat(Q.select,'"></select>\n   <div class="').concat(Q.radio,'"></div>\n   <label class="').concat(Q.checkbox,'">\n     <input type="checkbox" id="').concat(Q.checkbox,'" />\n     <span class="').concat(Q.label,'"></span>\n   </label>\n   <textarea class="').concat(Q.textarea,'" id="').concat(Q.textarea,'"></textarea>\n   <div class="').concat(Q["validation-message"],'" id="').concat(Q["validation-message"],'"></div>\n   <div class="').concat(Q.actions,'">\n     <div class="').concat(Q.loader,'"></div>\n     <button type="button" class="').concat(Q.confirm,'"></button>\n     <button type="button" class="').concat(Q.deny,'"></button>\n     <button type="button" class="').concat(Q.cancel,'"></button>\n   </div>\n   <div class="').concat(Q.footer,'"></div>\n   <div class="').concat(Q["timer-progress-bar-container"],'">\n     <div class="').concat(Q["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),oi=function(){Ie.currentInstance.resetValidationMessage()},et=function(E){var M=function(){var E=Jn();return!!E&&(E.remove(),me([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0)}();if(ji())pt("SweetAlert2 requires document to initialize");else{var j=document.createElement("div");j.className=Q.container,M&&wn(j,Q["no-transition"]),ir(j,gi);var _e=function(E){return"string"==typeof E?document.querySelector(E):E}(E.target);_e.appendChild(j),function(E){var M=wt();M.setAttribute("role",E.toast?"alert":"dialog"),M.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||M.setAttribute("aria-modal","true")}(E),function(E){"rtl"===window.getComputedStyle(E).direction&&wn(Jn(),Q.rtl)}(_e),function(){var E=wt(),M=ee(E,Q.input),j=ee(E,Q.file),_e=E.querySelector(".".concat(Q.range," input")),_t=E.querySelector(".".concat(Q.range," output")),It=ee(E,Q.select),yr=E.querySelector(".".concat(Q.checkbox," input")),Rr=ee(E,Q.textarea);M.oninput=oi,j.onchange=oi,It.onchange=oi,yr.onchange=oi,Rr.oninput=oi,_e.oninput=function(){oi(),_t.value=_e.value},_e.onchange=function(){oi(),_t.value=_e.value}}()}},Ue=function(E,M){E instanceof HTMLElement?M.appendChild(E):"object"===kt(E)?dt(E,M):E&&ir(M,E)},dt=function(E,M){E.jquery?en(M,E):ir(M,E.toString())},en=function(E,M){if(E.textContent="",0 in M)for(var j=0;j in M;j++)E.appendChild(M[j].cloneNode(!0));else E.appendChild(M.cloneNode(!0))},En=function(){if(ji())return!1;var G=document.createElement("div");return typeof G.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof G.style.animation<"u"&&"animationend"}(),On=function(E,M){var j=Ur(),_e=fr();!j||!_e||(M.showConfirmButton||M.showDenyButton||M.showCancelButton?J(j):te(j),ti(j,M,"actions"),function Sn(G,E,M){var j=fn(),_e=lr(),_t=Mr();!j||!_e||!_t||(tr(j,"confirm",M),tr(_e,"deny",M),tr(_t,"cancel",M),function dr(G,E,M,j){j.buttonsStyling?(wn([G,E,M],Q.styled),j.confirmButtonColor&&(G.style.backgroundColor=j.confirmButtonColor,wn(G,Q["default-outline"])),j.denyButtonColor&&(E.style.backgroundColor=j.denyButtonColor,wn(E,Q["default-outline"])),j.cancelButtonColor&&(M.style.backgroundColor=j.cancelButtonColor,wn(M,Q["default-outline"]))):me([G,E,M],Q.styled)}(j,_e,_t,M),M.reverseButtons&&(M.toast?(G.insertBefore(_t,j),G.insertBefore(_e,j)):(G.insertBefore(_t,E),G.insertBefore(_e,E),G.insertBefore(j,E))))}(j,_e,M),ir(_e,M.loaderHtml||""),ti(_e,M,"loader"))};function tr(G,E,M){var j=je(E);Lt(G,M["show".concat(j,"Button")],"inline-block"),ir(G,M["".concat(E,"ButtonText")]||""),G.setAttribute("aria-label",M["".concat(E,"ButtonAriaLabel")]||""),G.className=Q[E],ti(G,M,"".concat(E,"Button"))}var Xn=function(E,M){var j=Jn();j&&(function Wr(G,E){"string"==typeof E?G.style.background=E:E||wn([document.documentElement,document.body],Q["no-backdrop"])}(j,M.backdrop),function rs(G,E){E&&(E in Q?wn(G,Q[E]):(ke('The "position" parameter is not valid, defaulting to "center"'),wn(G,Q.center)))}(j,M.position),function Ao(G,E){E&&wn(G,Q["grow-".concat(E)])}(j,M.grow),ti(j,M,"container"))};var sr={innerParams:new WeakMap,domCache:new WeakMap},Ln=["input","file","range","select","radio","checkbox","textarea"],Dt=function(E){if(E.input){if(!Tr[E.input])return void pt("Unexpected type of input! Expected ".concat(Object.keys(Tr).join(" | "),', got "').concat(E.input,'"'));var M=or(E.input),j=Tr[E.input](M,E);J(M),E.inputAutoFocus&&setTimeout(function(){cr(j)})}},vn=function(E,M){var j=_n(wt(),E);if(j)for(var _e in function(E){for(var M=0;M<E.attributes.length;M++){var j=E.attributes[M].name;["id","type","value","style"].includes(j)||E.removeAttribute(j)}}(j),M)j.setAttribute(_e,M[_e])},Gn=function(E){var M=or(E.input);"object"===kt(E.customClass)&&wn(M,E.customClass.input)},ri=function(E,M){(!E.placeholder||M.inputPlaceholder)&&(E.placeholder=M.inputPlaceholder)},Ir=function(E,M,j){if(j.inputLabel){var _e=document.createElement("label"),_t=Q["input-label"];_e.setAttribute("for",E.id),_e.className=_t,"object"===kt(j.customClass)&&wn(_e,j.customClass.inputLabel),_e.innerText=j.inputLabel,M.insertAdjacentElement("beforebegin",_e)}},or=function(E){return ee(wt(),Q[E]||Q.input)},Lr=function(E,M){["string","number"].includes(kt(M))?E.value="".concat(M):Ot(M)||ke('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(kt(M),'"'))},Tr={};Tr.text=Tr.email=Tr.password=Tr.number=Tr.tel=Tr.url=Tr.search=Tr.date=Tr["datetime-local"]=Tr.time=Tr.week=Tr.month=function(G,E){return Lr(G,E.inputValue),Ir(G,G,E),ri(G,E),G.type=E.input,G},Tr.file=function(G,E){return Ir(G,G,E),ri(G,E),G},Tr.range=function(G,E){var M=G.querySelector("input"),j=G.querySelector("output");return Lr(M,E.inputValue),M.type=E.input,Lr(j,E.inputValue),Ir(M,G,E),G},Tr.select=function(G,E){if(G.textContent="",E.inputPlaceholder){var M=document.createElement("option");ir(M,E.inputPlaceholder),M.value="",M.disabled=!0,M.selected=!0,G.appendChild(M)}return Ir(G,G,E),G},Tr.radio=function(G){return G.textContent="",G},Tr.checkbox=function(G,E){var M=_n(wt(),"checkbox");M.value="1",M.checked=!!E.inputValue;var j=G.querySelector("span");return ir(j,E.inputPlaceholder),M},Tr.textarea=function(G,E){Lr(G,E.inputValue),ri(G,E),Ir(G,G,E);return setTimeout(function(){if("MutationObserver"in window){var j=parseInt(window.getComputedStyle(wt()).width);new MutationObserver(function(){if(document.body.contains(G)){var It=G.offsetWidth+(_e=G,parseInt(window.getComputedStyle(_e).marginLeft)+parseInt(window.getComputedStyle(_e).marginRight));It>j?wt().style.width="".concat(It,"px"):re(wt(),"width",E.width)}var _e}).observe(G,{attributes:!0,attributeFilter:["style"]})}}),G};var jr=function(E,M){var j=Hn();j&&(Fe(j),ti(j,M,"htmlContainer"),M.html?(Ue(M.html,j),J(j,"block")):M.text?(j.textContent=M.text,J(j,"block")):te(j),function(E,M){var j=wt();if(j){var _e=sr.innerParams.get(E),_t=!_e||M.input!==_e.input;Ln.forEach(function(It){var yr=ee(j,Q[It]);yr&&(vn(It,M.inputAttributes),yr.className=Q[It],_t&&te(yr))}),M.input&&(_t&&Dt(M),Gn(M))}}(E,M))},ar=function(E,M){for(var j=0,_e=Object.entries(Xe);j<_e.length;j++){var _t=lt(_e[j],2);M.icon!==_t[0]&&me(E,_t[1])}wn(E,M.icon&&Xe[M.icon]),Co(E,M),Do(),ti(E,M,"icon")},Do=function(){var E=wt();if(E)for(var M=window.getComputedStyle(E).getPropertyValue("background-color"),j=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),_e=0;_e<j.length;_e++)j[_e].style.backgroundColor=M},ls=function(E,M){if(M.icon||M.iconHtml){var j=E.innerHTML,_e="";M.iconHtml?_e=Us(M.iconHtml):"success"===M.icon?(_e='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',j=j.replace(/ style=".*?"/g,"")):"error"===M.icon?_e='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':M.icon&&(_e=Us({question:"?",warning:"!",info:"i"}[M.icon])),j.trim()!==_e.trim()&&ir(E,_e)}},Co=function(E,M){if(M.iconColor){E.style.color=M.iconColor,E.style.borderColor=M.iconColor;for(var j=0,_e=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];j<_e.length;j++)Et(E,_e[j],"background-color",M.iconColor);Et(E,".swal2-success-ring","border-color",M.iconColor)}},Us=function(E){return'<div class="'.concat(Q["icon-content"],'">').concat(E,"</div>")},Ms=function(E,M){var j=M.showClass||{};E.className="".concat(Q.popup," ").concat(jt(E)?j.popup:""),M.toast?(wn([document.documentElement,document.body],Q["toast-shown"]),wn(E,Q.toast)):wn(E,Q.modal),ti(E,M,"popup"),"string"==typeof M.customClass&&wn(E,M.customClass),M.icon&&wn(E,Q["icon-".concat(M.icon)])},so=function(E){var M=document.createElement("li");return wn(M,Q["progress-step"]),ir(M,E),M},bs=function(E){var M=document.createElement("li");return wn(M,Q["progress-step-line"]),E.progressStepsDistance&&re(M,"width",E.progressStepsDistance),M},Bs=function(E,M){(function(E,M){var j=Jn(),_e=wt();if(j&&_e){if(M.toast){re(j,"width",M.width),_e.style.width="100%";var _t=fr();_t&&_e.insertBefore(_t,sn())}else re(_e,"width",M.width);re(_e,"padding",M.padding),M.color&&(_e.style.color=M.color),M.background&&(_e.style.background=M.background),te(Mn()),Ms(_e,M)}})(0,M),Xn(0,M),function(E,M){var j=Pr();if(j){var _e=M.progressSteps,_t=M.currentProgressStep;if(!_e||0===_e.length||void 0===_t)return void te(j);J(j),j.textContent="",_t>=_e.length&&ke("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_e.forEach(function(It,yr){var Rr=so(It);if(j.appendChild(Rr),yr===_t&&wn(Rr,Q["active-progress-step"]),yr!==_e.length-1){var Mi=bs(M);j.appendChild(Mi)}})}}(0,M),function(E,M){var j=sr.innerParams.get(E),_e=sn();if(_e){if(j&&M.icon===j.icon)return ls(_e,M),void ar(_e,M);if(!M.icon&&!M.iconHtml)return void te(_e);if(M.icon&&-1===Object.keys(Xe).indexOf(M.icon))return pt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(M.icon,'"')),void te(_e);J(_e),ls(_e,M),ar(_e,M),wn(_e,M.showClass&&M.showClass.icon)}}(E,M),function(E,M){var j=gt();if(j){if(!M.imageUrl)return void te(j);J(j,""),j.setAttribute("src",M.imageUrl),j.setAttribute("alt",M.imageAlt||""),re(j,"width",M.imageWidth),re(j,"height",M.imageHeight),j.className=Q.image,ti(j,M,"image")}}(0,M),function(E,M){var j=An();j&&(Fe(j),Lt(j,M.title||M.titleText,"block"),M.title&&Ue(M.title,j),M.titleText&&(j.innerText=M.titleText),ti(j,M,"title"))}(0,M),function(E,M){var j=Ts();j&&(ir(j,M.closeButtonHtml||""),ti(j,M,"closeButton"),Lt(j,M.showCloseButton),j.setAttribute("aria-label",M.closeButtonAriaLabel||""))}(0,M),jr(E,M),On(0,M),function(E,M){var j=ki();j&&(Fe(j),Lt(j,M.footer,"block"),M.footer&&Ue(M.footer,j),ti(j,M,"footer"))}(0,M);var j=wt();"function"==typeof M.didRender&&j&&M.didRender(j)},co=function(){var E;return null===(E=fn())||void 0===E?void 0:E.click()},Hi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Qn=function(E){E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Nr=function(E,M){var j,_e=us();if(_e.length)return(E+=M)===_e.length?E=0:-1===E&&(E=_e.length-1),void _e[E].focus();null===(j=wt())||void 0===j||j.focus()},cs=["ArrowRight","ArrowDown"],ds=["ArrowLeft","ArrowUp"],oo=function(E,M,j){E&&(M.isComposing||229===M.keyCode||(E.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?As(M,E):"Tab"===M.key?Ds(M):[].concat(cs,ds).includes(M.key)?Jo(M.key):"Escape"===M.key&&ho(M,E,j)))},As=function(E,M){if(Tn(M.allowEnterKey)){var j=_n(wt(),M.input);if(E.target&&j&&E.target instanceof HTMLElement&&E.target.outerHTML===j.outerHTML){if(["textarea","file"].includes(M.input))return;co(),E.preventDefault()}}},Ds=function(E){for(var M=E.target,j=us(),_e=-1,_t=0;_t<j.length;_t++)if(M===j[_t]){_e=_t;break}Nr(_e,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},Jo=function(E){var M=Ur(),j=fn(),_e=lr(),_t=Mr();if(M&&j&&_e&&_t&&(!(document.activeElement instanceof HTMLElement)||[j,_e,_t].includes(document.activeElement))){var yr=cs.includes(E)?"nextElementSibling":"previousElementSibling",Rr=document.activeElement;if(Rr){for(var Mi=0;Mi<M.children.length;Mi++){if(!(Rr=Rr[yr]))return;if(Rr instanceof HTMLButtonElement&&jt(Rr))break}Rr instanceof HTMLButtonElement&&Rr.focus()}}},ho=function(E,M,j){Tn(M.allowEscapeKey)&&(E.preventDefault(),j(Hi.esc))},Or={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},dn=function(){Array.from(document.body.children).forEach(function(M){M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")||""),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},Fr=typeof window<"u"&&!!window.GestureEvent,is=function(){var M,E=Jn();E&&(E.ontouchstart=function(j){M=wi(j)},E.ontouchmove=function(j){M&&(j.preventDefault(),j.stopPropagation())})},wi=function(E){var M=E.target,j=Jn(),_e=Hn();return!(!j||!_e||Ai(E)||kr(E)||M!==j&&(Pn(j)||!(M instanceof HTMLElement)||"INPUT"===M.tagName||"TEXTAREA"===M.tagName||Pn(_e)&&_e.contains(M)))},Ai=function(E){return E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType},kr=function(E){return E.touches&&E.touches.length>1},zt=null,Zn=function(E){null===zt&&(document.body.scrollHeight>window.innerHeight||"scroll"===E)&&(zt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(zt+function(){var E=document.createElement("div");E.className=Q["scrollbar-measure"],document.body.appendChild(E);var M=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),M}(),"px"))};function gs(G,E,M,j){Br()?Oi(G,j):($n(M).then(function(){return Oi(G,j)}),Qn(Ie)),Fr?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),ci()&&(null!==zt&&(document.body.style.paddingRight="".concat(zt,"px"),zt=null),function(){if(Yt(document.body,Q.iosfix)){var E=parseInt(document.body.style.top,10);me(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}}(),dn()),function Zr(){me([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}()}function Ki(G){G=ao(G);var E=Or.swalPromiseResolve.get(this),M=ms(this);this.isAwaitingPromise?G.isDismissed||(Cs(this),E(G)):M&&E(G)}var ms=function(E){var M=wt();if(!M)return!1;var j=sr.innerParams.get(E);if(!j||Yt(M,j.hideClass.popup))return!1;me(M,j.showClass.popup),wn(M,j.hideClass.popup);var _e=Jn();return me(_e,j.showClass.backdrop),wn(_e,j.hideClass.backdrop),Js(E,M,j),!0};function zi(G){var E=Or.swalPromiseReject.get(this);Cs(this),E&&E(G)}var Cs=function(E){E.isAwaitingPromise&&(delete E.isAwaitingPromise,sr.innerParams.get(E)||E._destroy())},ao=function(E){return typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E)},Js=function(E,M,j){var _e=Jn(),_t=En&&rn(M);"function"==typeof j.willClose&&j.willClose(M),_t?Xs(E,M,_e,j.returnFocus,j.didClose):gs(E,_e,j.returnFocus,j.didClose)},Xs=function(E,M,j,_e,_t){En&&(Ie.swalCloseEventFinishedCallback=gs.bind(null,E,j,_e,_t),M.addEventListener(En,function(It){It.target===M&&(Ie.swalCloseEventFinishedCallback(),delete Ie.swalCloseEventFinishedCallback)}))},Oi=function(E,M){setTimeout(function(){"function"==typeof M&&M.bind(E.params)(),E._destroy&&E._destroy()})},ss=function(E){var M=wt();if(M||new ro,M=wt()){var j=fr();Br()?te(sn()):ur(M,E),J(j),M.setAttribute("data-loading","true"),M.setAttribute("aria-busy","true"),M.focus()}},ur=function(E,M){var j=Ur(),_e=fr();!j||!_e||(!M&&jt(fn())&&(M=fn()),J(j),M&&(te(M),_e.setAttribute("data-button-to-replace",M.className),j.insertBefore(_e,M)),wn([E,j],Q.loading))},fo=function(E){return E.checked?1:0},Di=function(E){return E.checked?E.value:null},$s=function(E){return E.files&&E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null},Qi=function(E,M){var j=wt();if(j){var _e=function(It){"select"===M.input?function ai(G,E,M){var j=ee(G,Q.select);if(j){var _e=function(It,yr,Rr){var Mi=document.createElement("option");Mi.value=Rr,ir(Mi,yr),Mi.selected=H(Rr,M.inputValue),It.appendChild(Mi)};E.forEach(function(_t){var It=_t[0],yr=_t[1];if(Array.isArray(yr)){var Rr=document.createElement("optgroup");Rr.label=It,Rr.disabled=!1,j.appendChild(Rr),yr.forEach(function(Mi){return _e(Rr,Mi[1],Mi[0])})}else _e(j,yr,It)}),j.focus()}}(j,Ci(It),M):"radio"===M.input&&function jo(G,E,M){var j=ee(G,Q.radio);if(j){E.forEach(function(_t){var It=_t[0],yr=_t[1],Rr=document.createElement("input"),Mi=document.createElement("label");Rr.type="radio",Rr.name=Q.radio,Rr.value=It,H(It,M.inputValue)&&(Rr.checked=!0);var la=document.createElement("span");ir(la,yr),la.className=Q.label,Mi.appendChild(Rr),Mi.appendChild(la),j.appendChild(Mi)});var _e=j.querySelectorAll("input");_e.length&&_e[0].focus()}}(j,Ci(It),M)};Er(M.inputOptions)||Ot(M.inputOptions)?(ss(fn()),yi(M.inputOptions).then(function(_t){E.hideLoading(),_e(_t)})):"object"===kt(M.inputOptions)?_e(M.inputOptions):pt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(kt(M.inputOptions)))}},to=function(E,M){var j=E.getInput();j&&(te(j),yi(M.inputValue).then(function(_e){j.value="".concat("number"===M.input?parseFloat(_e)||0:_e),J(j),j.focus(),E.hideLoading()}).catch(function(_e){pt("Error in inputValue promise: ".concat(_e)),j.value="",J(j),j.focus(),E.hideLoading()}))};var Ci=function G(E){var M=[];return E instanceof Map?E.forEach(function(j,_e){var _t=j;"object"===kt(_t)&&(_t=G(_t)),M.push([_e,_t])}):Object.keys(E).forEach(function(j){var _e=E[j];"object"===kt(_e)&&(_e=G(_e)),M.push([j,_e])}),M},H=function(E,M){return!!M&&M.toString()===E.toString()},z=void 0,ht=function(E,M){var j=sr.innerParams.get(E);if(j.input){var _e=E.getInput(),_t=function(E,M){var j=E.getInput();if(!j)return null;switch(M.input){case"checkbox":return fo(j);case"radio":return Di(j);case"file":return $s(j);default:return M.inputAutoTrim?j.value.trim():j.value}}(E,j);j.inputValidator?$t(E,_t,M):_e&&!_e.checkValidity()?(E.enableButtons(),E.showValidationMessage(j.validationMessage||_e.validationMessage)):"deny"===M?Qt(E,_t):_r(E,_t)}else pt('The "input" parameter is needed to be set when using returnInputValueOn'.concat(je(M)))},$t=function(E,M,j){var _e=sr.innerParams.get(E);E.disableInput(),Promise.resolve().then(function(){return yi(_e.inputValidator(M,_e.validationMessage))}).then(function(It){E.enableButtons(),E.enableInput(),It?E.showValidationMessage(It):"deny"===j?Qt(E,M):_r(E,M)})},Qt=function(E,M){var j=sr.innerParams.get(E||z);j.showLoaderOnDeny&&ss(lr()),j.preDeny?(E.isAwaitingPromise=!0,Promise.resolve().then(function(){return yi(j.preDeny(M,j.validationMessage))}).then(function(_t){!1===_t?(E.hideLoading(),Cs(E)):E.close({isDenied:!0,value:typeof _t>"u"?M:_t})}).catch(function(_t){return Wn(E||z,_t)})):E.close({isDenied:!0,value:M})},un=function(E,M){E.close({isConfirmed:!0,value:M})},Wn=function(E,M){E.rejectPromise(M)},_r=function(E,M){var j=sr.innerParams.get(E||z);j.showLoaderOnConfirm&&ss(),j.preConfirm?(E.resetValidationMessage(),E.isAwaitingPromise=!0,Promise.resolve().then(function(){return yi(j.preConfirm(M,j.validationMessage))}).then(function(_t){jt(Mn())||!1===_t?(E.hideLoading(),Cs(E)):un(E,typeof _t>"u"?M:_t)}).catch(function(_t){return Wn(E||z,_t)})):un(E,M)};function qr(){var G=sr.innerParams.get(this);if(G){var E=sr.domCache.get(this);te(E.loader),Br()?G.icon&&J(sn()):di(E),me([E.popup,E.actions],Q.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}}var di=function(E){var M=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));M.length?J(M[0],"inline-block"):!jt(fn())&&!jt(lr())&&!jt(Mr())&&te(E.actions)};function Ii(){var G=sr.innerParams.get(this),E=sr.domCache.get(this);return E?_n(E.popup,G.input):null}function ii(G,E,M){var j=sr.domCache.get(G);E.forEach(function(_e){j[_e].disabled=M})}function Si(G,E){var M=wt();if(M&&G)if("radio"===G.type)for(var j=M.querySelectorAll('[name="'.concat(Q.radio,'"]')),_e=0;_e<j.length;_e++)j[_e].disabled=E;else G.disabled=E}function ui(){ii(this,["confirmButton","denyButton","cancelButton"],!1)}function os(){ii(this,["confirmButton","denyButton","cancelButton"],!0)}function Zi(){Si(this.getInput(),!1)}function vr(){Si(this.getInput(),!0)}function Fi(G){var E=sr.domCache.get(this),M=sr.innerParams.get(this);ir(E.validationMessage,G),E.validationMessage.className=Q["validation-message"],M.customClass&&M.customClass.validationMessage&&wn(E.validationMessage,M.customClass.validationMessage),J(E.validationMessage);var j=this.getInput();j&&(j.setAttribute("aria-invalid","true"),j.setAttribute("aria-describedby",Q["validation-message"]),cr(j),wn(j,Q.inputerror))}function Ri(){var G=sr.domCache.get(this);G.validationMessage&&te(G.validationMessage);var E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),me(E,Q.inputerror))}var ys={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},W=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],_={},T=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],O=function(E){return Object.prototype.hasOwnProperty.call(ys,E)},q=function(E){return-1!==W.indexOf(E)},se=function(E){return _[E]},Ee=function(E){O(E)||ke('Unknown parameter "'.concat(E,'"'))},pe=function(E){T.includes(E)&&ke('The parameter "'.concat(E,'" is incompatible with toasts'))},Ze=function(E){var M=se(E);M&&bt(E,M)};function Wt(G){var E=wt(),M=sr.innerParams.get(this);if(E&&!Yt(E,M.hideClass.popup)){var j=Zt(G),_e=Object.assign({},M,j);Bs(this,_e),sr.innerParams.set(this,_e),Object.defineProperties(this,{params:{value:Object.assign({},this.params,G),writable:!1,enumerable:!0}})}else ke("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Zt=function(E){var M={};return Object.keys(E).forEach(function(j){q(j)?M[j]=E[j]:ke("Invalid parameter to update: ".concat(j))}),M};function rr(){var G=sr.domCache.get(this),E=sr.innerParams.get(this);E?(G.popup&&Ie.swalCloseEventFinishedCallback&&(Ie.swalCloseEventFinishedCallback(),delete Ie.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),zn(this)):Dn(this)}var zn=function(E){Dn(E),delete E.params,delete Ie.keydownHandler,delete Ie.keydownTarget,delete Ie.currentInstance},Dn=function(E){E.isAwaitingPromise?(Vn(sr,E),E.isAwaitingPromise=!0):(Vn(Or,E),Vn(sr,E),delete E.isAwaitingPromise,delete E.disableButtons,delete E.enableButtons,delete E.getInput,delete E.disableInput,delete E.enableInput,delete E.hideLoading,delete E.disableLoading,delete E.showValidationMessage,delete E.resetValidationMessage,delete E.close,delete E.closePopup,delete E.closeModal,delete E.closeToast,delete E.rejectPromise,delete E.update,delete E._destroy)},Vn=function(E,M){for(var j in E)E[j].delete(M)},Kr=Object.freeze({__proto__:null,_destroy:rr,close:Ki,closeModal:Ki,closePopup:Ki,closeToast:Ki,disableButtons:os,disableInput:vr,disableLoading:qr,enableButtons:ui,enableInput:Zi,getInput:Ii,handleAwaitingPromise:Cs,hideLoading:qr,rejectPromise:zi,resetValidationMessage:Ri,showValidationMessage:Fi,update:Wt}),Yr=function(E,M,j){M.popup.onclick=function(){E&&(Yi(E)||E.timer||E.input)||j(Hi.close)}},Yi=function(E){return!!(E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton)},Jr=!1,Ro=function(E){E.popup.onmousedown=function(){E.container.onmouseup=function(M){E.container.onmouseup=function(){},M.target===E.container&&(Jr=!0)}}},Ji=function(E){E.container.onmousedown=function(M){M.target===E.container&&M.preventDefault(),E.popup.onmouseup=function(j){E.popup.onmouseup=function(){},(j.target===E.popup||j.target instanceof HTMLElement&&E.popup.contains(j.target))&&(Jr=!0)}}},Pi=function(E,M,j){M.container.onclick=function(_e){Jr?Jr=!1:_e.target===M.container&&Tn(E.allowOutsideClick)&&j(Hi.backdrop)}},Xi=function(E){return E instanceof Element||function(E){return"object"===kt(E)&&E.jquery}(E)};var K=function(){if(Ie.timeout)return function(){var E=Rn();if(E){var M=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";var j=parseInt(window.getComputedStyle(E).width);E.style.width="".concat(M/j*100,"%")}}(),Ie.timeout.stop()},k=function(){if(Ie.timeout){var E=Ie.timeout.start();return Sr(E),E}},st=!1,Gt={};var nr=function(E){for(var M=E.target;M&&M!==document;M=M.parentNode)for(var j in Gt){var _e=M.getAttribute(j);if(_e)return void Gt[j].fire({template:_e})}},hr=Object.freeze({__proto__:null,argsToParams:function(E){var M={};return"object"!==kt(E[0])||Xi(E[0])?["title","html","icon"].forEach(function(j,_e){var _t=E[_e];"string"==typeof _t||Xi(_t)?M[j]=_t:void 0!==_t&&pt("Unexpected type of ".concat(j,'! Expected "string" or "Element", got ').concat(kt(_t)))}):Object.assign(M,E[0]),M},bindClickHandler:function er(){Gt[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,st||(document.body.addEventListener("click",nr),st=!0)},clickCancel:function(){var E;return null===(E=Mr())||void 0===E?void 0:E.click()},clickConfirm:co,clickDeny:function(){var E;return null===(E=lr())||void 0===E?void 0:E.click()},enableLoading:ss,fire:function Po(){for(var E=arguments.length,M=new Array(E),j=0;j<E;j++)M[j]=arguments[j];return function ge(G,E,M){if(Xt())return Reflect.construct.apply(null,arguments);var j=[null];return j.push.apply(j,E),new(G.bind.apply(G,j))}(this,M)},getActions:Ur,getCancelButton:Mr,getCloseButton:Ts,getConfirmButton:fn,getContainer:Jn,getDenyButton:lr,getFocusableElements:us,getFooter:ki,getHtmlContainer:Hn,getIcon:sn,getIconContent:function(){return bn(Q["icon-content"])},getImage:gt,getInputLabel:function(){return bn(Q["input-label"])},getLoader:fr,getPopup:wt,getProgressSteps:Pr,getTimerLeft:function(){return Ie.timeout&&Ie.timeout.getTimerLeft()},getTimerProgressBar:Rn,getTitle:An,getValidationMessage:Mn,increaseTimer:function(E){if(Ie.timeout){var M=Ie.timeout.increase(E);return Sr(M,!0),M}},isDeprecatedParameter:se,isLoading:function(){var E=wt();return!!E&&E.hasAttribute("data-loading")},isTimerRunning:function(){return!(!Ie.timeout||!Ie.timeout.isRunning())},isUpdatableParameter:q,isValidParameter:O,isVisible:function(){return jt(wt())},mixin:function li(G){var E=function(M){function j(){return Le(this,j),ze(this,j,arguments)}return function Mt(G,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(E&&E.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),E&&rt(G,E)}(j,M),We(j,[{key:"_main",value:function(_t,It){return Rt(ct(j.prototype),"_main",this).call(this,_t,Object.assign({},G,It))}}])}(this);return E},resumeTimer:k,showLoading:ss,stopTimer:K,toggleTimer:function(){var E=Ie.timeout;return E&&(E.running?K():k())}}),hn=function(){return We(function G(E,M){Le(this,G),this.callback=E,this.remaining=M,this.running=!1,this.start()},[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(M){var j=this.running;return j&&this.stop(),this.remaining+=M,j&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),Hr=["swal-title","swal-html","swal-footer"],wr=function(E){var M={};return Array.from(E.querySelectorAll("swal-param")).forEach(function(_e){Mo(_e,["name","value"]);var _t=_e.getAttribute("name"),It=_e.getAttribute("value");M[_t]="boolean"==typeof ys[_t]?"false"!==It:"object"===kt(ys[_t])?JSON.parse(It):It}),M},fs=function(E){var M={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(function(_e){var _t=_e.getAttribute("name"),It=_e.getAttribute("value");M[_t]=new Function("return ".concat(It))()}),M},Ei=function(E){var M={};return Array.from(E.querySelectorAll("swal-button")).forEach(function(_e){Mo(_e,["type","color","aria-label"]);var _t=_e.getAttribute("type");M["".concat(_t,"ButtonText")]=_e.innerHTML,M["show".concat(je(_t),"Button")]=!0,_e.hasAttribute("color")&&(M["".concat(_t,"ButtonColor")]=_e.getAttribute("color")),_e.hasAttribute("aria-label")&&(M["".concat(_t,"ButtonAriaLabel")]=_e.getAttribute("aria-label"))}),M},ws=function(E){var M={},j=E.querySelector("swal-image");return j&&(Mo(j,["src","width","height","alt"]),j.hasAttribute("src")&&(M.imageUrl=j.getAttribute("src")||void 0),j.hasAttribute("width")&&(M.imageWidth=j.getAttribute("width")||void 0),j.hasAttribute("height")&&(M.imageHeight=j.getAttribute("height")||void 0),j.hasAttribute("alt")&&(M.imageAlt=j.getAttribute("alt")||void 0)),M},es=function(E){var M={},j=E.querySelector("swal-icon");return j&&(Mo(j,["type","color"]),j.hasAttribute("type")&&(M.icon=j.getAttribute("type")),j.hasAttribute("color")&&(M.iconColor=j.getAttribute("color")),M.iconHtml=j.innerHTML),M},si=function(E){var M={},j=E.querySelector("swal-input");j&&(Mo(j,["type","label","placeholder","value"]),M.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(M.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(M.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(M.inputValue=j.getAttribute("value")));var _e=Array.from(E.querySelectorAll("swal-input-option"));return _e.length&&(M.inputOptions={},_e.forEach(function(_t){Mo(_t,["value"]);var It=_t.getAttribute("value");M.inputOptions[It]=_t.innerHTML})),M},gr=function(E,M){var j={};for(var _e in M){var _t=M[_e],It=E.querySelector(_t);It&&(Mo(It,[]),j[_t.replace(/^swal-/,"")]=It.innerHTML.trim())}return j},$o=function(E){var M=Hr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(function(j){var _e=j.tagName.toLowerCase();M.includes(_e)||ke("Unrecognized element <".concat(_e,">"))})},Mo=function(E,M){Array.from(E.attributes).forEach(function(j){-1===M.indexOf(j.name)&&ke(['Unrecognized attribute "'.concat(j.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(M.length?"Allowed attributes are: ".concat(M.join(", ")):"To set the value, use HTML within the element.")])})},Mu=function(E){var M=Jn(),j=wt();"function"==typeof E.willOpen&&E.willOpen(j);var _t=window.getComputedStyle(document.body).overflowY;ua(M,j,E),setTimeout(function(){xu(M,j)},10),ci()&&(Nu(M,E.scrollbarPadding,_t),function(){var E=Jn();Array.from(document.body.children).forEach(function(j){j.contains(E)||(j.hasAttribute("aria-hidden")&&j.setAttribute("data-previous-aria-hidden",j.getAttribute("aria-hidden")||""),j.setAttribute("aria-hidden","true"))})}()),!Br()&&!Ie.previousActiveElement&&(Ie.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(function(){return E.didOpen(j)}),me(M,Q["no-transition"])},su=function G(E){var M=wt();if(E.target===M&&En){var j=Jn();M.removeEventListener(En,G),j.style.overflowY="auto"}},xu=function(E,M){En&&rn(M)?(E.style.overflowY="hidden",M.addEventListener(En,su)):E.style.overflowY="auto"},Nu=function(E,M,j){(function(){if(Fr&&!Yt(document.body,Q.iosfix)){var E=document.body.scrollTop;document.body.style.top="".concat(-1*E,"px"),wn(document.body,Q.iosfix),is()}})(),M&&"hidden"!==j&&Zn(j),setTimeout(function(){E.scrollTop=0})},ua=function(E,M,j){wn(E,j.showClass.backdrop),j.animation?(M.style.setProperty("opacity","0","important"),J(M,"grid"),setTimeout(function(){wn(M,j.showClass.popup),M.style.removeProperty("opacity")},10)):J(M,"grid"),wn([document.documentElement,document.body],Q.shown),j.heightAuto&&j.backdrop&&!j.toast&&wn([document.documentElement,document.body],Q["height-auto"])},po={email:function(E,M){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(E)?Promise.resolve():Promise.resolve(M||"Invalid email address")},url:function(E,M){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(M||"Invalid URL")}};function Pa(G){(function Ea(G){G.inputValidator||("email"===G.input&&(G.inputValidator=po.email),"url"===G.input&&(G.inputValidator=po.url))})(G),G.showLoaderOnConfirm&&!G.preConfirm&&ke("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Hs(G){(!G.target||"string"==typeof G.target&&!document.querySelector(G.target)||"string"!=typeof G.target&&!G.target.appendChild)&&(ke('Target parameter is not valid, defaulting to "body"'),G.target="body")}(G),"string"==typeof G.title&&(G.title=G.title.split("\n").join("<br />")),et(G)}var go,mr=new WeakMap,Vi=function(){return We(function G(){if(Le(this,G),At(this,mr,void 0),!(typeof window>"u")){go=this;for(var E=arguments.length,M=new Array(E),j=0;j<E;j++)M[j]=arguments[j];var _e=Object.freeze(this.constructor.argsToParams(M));this.params=_e,this.isAwaitingPromise=!1,function vt(G,E,M){return G.set(we(G,E),M),M}(mr,this,this._main(go.params))}},[{key:"_main",value:function(M){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(E){for(var M in!1===E.backdrop&&E.allowOutsideClick&&ke('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),E)Ee(M),E.toast&&pe(M),Ze(M)}(Object.assign({},j,M)),Ie.currentInstance){var _e=Or.swalPromiseResolve.get(Ie.currentInstance),_t=Ie.currentInstance.isAwaitingPromise;Ie.currentInstance._destroy(),_t||_e({isDismissed:!0}),ci()&&dn()}Ie.currentInstance=go;var It=Es(M,j);Pa(It),Object.freeze(It),Ie.timeout&&(Ie.timeout.stop(),delete Ie.timeout),clearTimeout(Ie.restoreFocusTimeout);var yr=xa(go);return Bs(go,It),sr.innerParams.set(go,It),Ma(go,yr,It)}},{key:"then",value:function(M){return Ve(mr,this).then(M)}},{key:"finally",value:function(M){return Ve(mr,this).finally(M)}}])}(),Ma=function(E,M,j){return new Promise(function(_e,_t){var It=function(Rr){E.close({isDismissed:!0,dismiss:Rr})};Or.swalPromiseResolve.set(E,_e),Or.swalPromiseReject.set(E,_t),M.confirmButton.onclick=function(){!function(E){var M=sr.innerParams.get(E);E.disableButtons(),M.input?ht(E,"confirm"):_r(E,!0)}(E)},M.denyButton.onclick=function(){!function(E){var M=sr.innerParams.get(E);E.disableButtons(),M.returnInputValueOnDeny?ht(E,"deny"):Qt(E,!1)}(E)},M.cancelButton.onclick=function(){!function(E,M){E.disableButtons(),M(Hi.cancel)}(E,It)},M.closeButton.onclick=function(){It(Hi.close)},function(E,M,j){E.toast?Yr(E,M,j):(Ro(M),Ji(M),Pi(E,M,j))}(j,M,It),function(E,M,j){Qn(E),M.toast||(E.keydownHandler=function(_e){return oo(M,_e,j)},E.keydownTarget=M.keydownListenerCapture?window:wt(),E.keydownListenerCapture=M.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)}(Ie,j,It),function(E,M){"select"===M.input||"radio"===M.input?Qi(E,M):["text","email","number","tel","textarea"].some(function(j){return j===M.input})&&(Er(M.inputValue)||Ot(M.inputValue))&&(ss(fn()),to(E,M))}(E,j),Mu(j),qo(Ie,j,It),Ho(M,j),setTimeout(function(){M.container.scrollTop=0})})},Es=function(E,M){var j=function(E){var M="string"==typeof E.template?document.querySelector(E.template):E.template;if(!M)return{};var j=M.content;return $o(j),Object.assign(wr(j),fs(j),Ei(j),ws(j),es(j),si(j),gr(j,Hr))}(E),_e=Object.assign({},ys,M,j,E);return _e.showClass=Object.assign({},ys.showClass,_e.showClass),_e.hideClass=Object.assign({},ys.hideClass,_e.hideClass),!1===_e.animation&&(_e.showClass={backdrop:"swal2-noanimation"},_e.hideClass={}),_e},xa=function(E){var M={popup:wt(),container:Jn(),actions:Ur(),confirmButton:fn(),denyButton:lr(),cancelButton:Mr(),loader:fr(),closeButton:Ts(),validationMessage:Mn(),progressSteps:Pr()};return sr.domCache.set(E,M),M},qo=function(E,M,j){var _e=Rn();te(_e),M.timer&&(E.timeout=new hn(function(){j("timer"),delete E.timeout},M.timer),M.timerProgressBar&&(J(_e),ti(_e,M,"timerProgressBar"),setTimeout(function(){E.timeout&&E.timeout.running&&Sr(M.timer)})))},Ho=function(E,M){if(!M.toast){if(!Tn(M.allowEnterKey))return void fc();mo(E,M)||Nr(-1,1)}},mo=function(E,M){return M.focusDeny&&jt(E.denyButton)?(E.denyButton.focus(),!0):M.focusCancel&&jt(E.cancelButton)?(E.cancelButton.focus(),!0):!(!M.focusConfirm||!jt(E.confirmButton)||(E.confirmButton.focus(),0))},fc=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Na=new Date,Ko=localStorage.getItem("swal-initiation");Ko?(Na.getTime()-Date.parse(Ko))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var G=document.createElement("audio");G.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",G.loop=!0,document.body.appendChild(G),setTimeout(function(){G.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Na))}Vi.prototype.disableButtons=os,Vi.prototype.enableButtons=ui,Vi.prototype.getInput=Ii,Vi.prototype.disableInput=vr,Vi.prototype.enableInput=Zi,Vi.prototype.hideLoading=qr,Vi.prototype.disableLoading=qr,Vi.prototype.showValidationMessage=Fi,Vi.prototype.resetValidationMessage=Ri,Vi.prototype.close=Ki,Vi.prototype.closePopup=Ki,Vi.prototype.closeModal=Ki,Vi.prototype.closeToast=Ki,Vi.prototype.rejectPromise=zi,Vi.prototype.update=Wt,Vi.prototype._destroy=rr,Object.assign(Vi,hr),Object.keys(Kr).forEach(function(G){Vi[G]=function(){var E;return go&&go[G]?(E=go)[G].apply(E,arguments):null}}),Vi.DismissReason=Hi,Vi.version="11.11.1";var ro=Vi;return ro.default=ro,ro}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(yt,Y){var S=yt.createElement("style");if(yt.getElementsByTagName("head")[0].appendChild(S),S.styleSheet)S.styleSheet.disabled||(S.styleSheet.cssText=Y);else try{S.innerHTML=Y}catch{S.innerText=Y}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},6825:(In,yt,Y)=>{"use strict";Y.d(yt,{LC:()=>we,X$:()=>ze,ZE:()=>gn,ZN:()=>mn,_j:()=>S,eR:()=>ye,jt:()=>ue,k1:()=>qn,l3:()=>Ce,oB:()=>At,vP:()=>Ve});class S{}class we{}const Ce="*";function ze(cn,Ae){return{type:7,name:cn,definitions:Ae,options:{}}}function ue(cn,Ae=null){return{type:4,styles:Ae,timings:cn}}function Ve(cn,Ae=null){return{type:2,steps:cn,options:Ae}}function At(cn){return{type:6,styles:cn,offset:null}}function ye(cn,Ae,rt=null){return{type:1,expr:cn,animation:Ae,options:rt}}class mn{constructor(Ae=0,rt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+rt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const rt="start"==Ae?this._onStartFns:this._onDoneFns;rt.forEach(lt=>lt()),rt.length=0}}class gn{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let rt=0,lt=0,Ft=0;const Ht=this.players.length;0==Ht?queueMicrotask(()=>this._onFinish()):this.players.forEach(Nt=>{Nt.onDone(()=>{++rt==Ht&&this._onFinish()}),Nt.onDestroy(()=>{++lt==Ht&&this._onDestroy()}),Nt.onStart(()=>{++Ft==Ht&&this._onStart()})}),this.totalTime=this.players.reduce((Nt,be)=>Math.max(Nt,be.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const rt=Ae*this.totalTime;this.players.forEach(lt=>{const Ft=lt.totalTime?Math.min(1,rt/lt.totalTime):1;lt.setPosition(Ft)})}getPosition(){const Ae=this.players.reduce((rt,lt)=>null===rt||lt.totalTime>rt.totalTime?lt:rt,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const rt="start"==Ae?this._onStartFns:this._onDoneFns;rt.forEach(lt=>lt()),rt.length=0}}const qn="!"},6814:(In,yt,Y)=>{"use strict";Y.d(yt,{Do:()=>Xt,EM:()=>wi,HT:()=>ze,JF:()=>Li,K0:()=>Le,Mx:()=>En,NF:()=>Jt,O5:()=>sr,PM:()=>dn,S$:()=>Rt,V_:()=>At,Ye:()=>mn,b0:()=>Mt,bD:()=>Ds,ez:()=>As,mk:()=>dr,p6:()=>Mr,q:()=>Ce,sg:()=>Wr,w_:()=>ue});var S=Y(4946);let we=null;function Ce(){return we}function ze(A){we||(we=A)}class ue{}const Le=new S.OlP("DocumentToken");let Ve=(()=>{class A{historyGo(k){throw new Error("Not implemented")}static#e=this.\u0275fac=function(V){return new(V||A)};static#t=this.\u0275prov=S.Yz7({token:A,factory:function(){return(0,S.f3M)(vt)},providedIn:"platform"})}return A})();const At=new S.OlP("Location Initialized");let vt=(()=>{class A extends Ve{constructor(){super(),this._doc=(0,S.f3M)(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ce().getBaseHref(this._doc)}onPopState(k){const V=Ce().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",k,!1),()=>V.removeEventListener("popstate",k)}onHashChange(k){const V=Ce().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",k,!1),()=>V.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,V,ae){this._history.pushState(k,V,ae)}replaceState(k,V,ae){this._history.replaceState(k,V,ae)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}static#e=this.\u0275fac=function(V){return new(V||A)};static#t=this.\u0275prov=S.Yz7({token:A,factory:function(){return new A},providedIn:"platform"})}return A})();function ge(A,K){if(0==A.length)return K;if(0==K.length)return A;let k=0;return A.endsWith("/")&&k++,K.startsWith("/")&&k++,2==k?A+K.substring(1):1==k?A+K:A+"/"+K}function ye(A){const K=A.match(/#|\?|$/),k=K&&K.index||A.length;return A.slice(0,k-("/"===A[k-1]?1:0))+A.slice(k)}function We(A){return A&&"?"!==A[0]?"?"+A:A}let Rt=(()=>{class A{historyGo(k){throw new Error("Not implemented")}static#e=this.\u0275fac=function(V){return new(V||A)};static#t=this.\u0275prov=S.Yz7({token:A,factory:function(){return(0,S.f3M)(Mt)},providedIn:"root"})}return A})();const ct=new S.OlP("appBaseHref");let Mt=(()=>{class A extends Rt{constructor(k,V){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,S.f3M)(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ge(this._baseHref,k)}path(k=!1){const V=this._platformLocation.pathname+We(this._platformLocation.search),ae=this._platformLocation.hash;return ae&&k?`${V}${ae}`:V}pushState(k,V,ae,Me){const st=this.prepareExternalUrl(ae+We(Me));this._platformLocation.pushState(k,V,st)}replaceState(k,V,ae,Me){const st=this.prepareExternalUrl(ae+We(Me));this._platformLocation.replaceState(k,V,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static#e=this.\u0275fac=function(V){return new(V||A)(S.LFG(Ve),S.LFG(ct,8))};static#t=this.\u0275prov=S.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),Xt=(()=>{class A extends Rt{constructor(k,V){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(k){const V=ge(this._baseHref,k);return V.length>0?"#"+V:V}pushState(k,V,ae,Me){let st=this.prepareExternalUrl(ae+We(Me));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(k,V,st)}replaceState(k,V,ae,Me){let st=this.prepareExternalUrl(ae+We(Me));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(k,V,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static#e=this.\u0275fac=function(V){return new(V||A)(S.LFG(Ve),S.LFG(ct,8))};static#t=this.\u0275prov=S.Yz7({token:A,factory:A.\u0275fac})}return A})(),mn=(()=>{class A{constructor(k){this._subject=new S.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const V=this._locationStrategy.getBaseHref();this._basePath=function Ae(A){if(new RegExp("^(https?:)?//").test(A)){const[,k]=A.split(/\/\/[^\/]+/);return k}return A}(ye(cn(V))),this._locationStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,V=""){return this.path()==this.normalize(k+We(V))}normalize(k){return A.stripTrailingSlash(function qn(A,K){if(!A||!K.startsWith(A))return K;const k=K.substring(A.length);return""===k||["/",";","?","#"].includes(k[0])?k:K}(this._basePath,cn(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,V="",ae=null){this._locationStrategy.pushState(ae,"",k,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+We(V)),ae)}replaceState(k,V="",ae=null){this._locationStrategy.replaceState(ae,"",k,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+We(V)),ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",V){this._urlChangeListeners.forEach(ae=>ae(k,V))}subscribe(k,V,ae){return this._subject.subscribe({next:k,error:V,complete:ae})}static#e=this.normalizeQueryParams=We;static#t=this.joinWithSlash=ge;static#n=this.stripTrailingSlash=ye;static#r=this.\u0275fac=function(V){return new(V||A)(S.LFG(Rt))};static#i=this.\u0275prov=S.Yz7({token:A,factory:function(){return function gn(){return new mn((0,S.LFG)(Rt))}()},providedIn:"root"})}return A})();function cn(A){return A.replace(/\/index.html$/,"")}var Ht=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}(Ht||{}),Nt=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(Nt||{}),be=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(be||{}),kt=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(kt||{});function Ge(A,K){return Kn((0,S.cg1)(A)[S.wAp.DateFormat],K)}function Xe(A,K){return Kn((0,S.cg1)(A)[S.wAp.TimeFormat],K)}function nt(A,K){return Kn((0,S.cg1)(A)[S.wAp.DateTimeFormat],K)}function je(A,K){const k=(0,S.cg1)(A),V=k[S.wAp.NumberSymbols][K];if(typeof V>"u"){if(K===kt.CurrencyDecimal)return k[S.wAp.NumberSymbols][kt.Decimal];if(K===kt.CurrencyGroup)return k[S.wAp.NumberSymbols][kt.Group]}return V}function Er(A){if(!A[S.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[S.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Kn(A,K){for(let k=K;k>-1;k--)if(typeof A[k]<"u")return A[k];throw new Error("Locale data API: locale data undefined")}function bn(A){const[K,k]=A.split(":");return{hours:+K,minutes:+k}}const An=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hn={},gt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pr=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(Pr||{}),Mn=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(Mn||{}),fn=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(fn||{});function Mr(A,K,k,V){let ae=function ee(A){if(J(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[ae,Me=1,st=1]=A.split("-").map(Gt=>+Gt);return lr(ae,Me-1,st)}const k=parseFloat(A);if(!isNaN(A-k))return new Date(k);let V;if(V=A.match(An))return function re(A){const K=new Date(0);let k=0,V=0;const ae=A[8]?K.setUTCFullYear:K.setFullYear,Me=A[8]?K.setUTCHours:K.setHours;A[9]&&(k=Number(A[9]+A[10]),V=Number(A[9]+A[11])),ae.call(K,Number(A[1]),Number(A[2])-1,Number(A[3]));const st=Number(A[4]||0)-k,Gt=Number(A[5]||0)-V,er=Number(A[6]||0),nr=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return Me.call(K,st,Gt,er,nr),K}(V)}const K=new Date(A);if(!J(K))throw new Error(`Unable to convert "${A}" into a date`);return K}(A);K=xr(k,K)||K;let Gt,st=[];for(;K;){if(Gt=gt.exec(K),!Gt){st.push(K);break}{st=st.concat(Gt.slice(1));const hr=st.pop();if(!hr)break;K=hr}}let er=ae.getTimezoneOffset();V&&(er=pi(V,er),ae=function me(A,K,k){const V=k?-1:1,ae=A.getTimezoneOffset();return function wn(A,K){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+K),A}(A,V*(pi(K,ae)-ae))}(ae,V,!0));let nr="";return st.forEach(hr=>{const hn=function cr(A){if(_n[A])return _n[A];let K;switch(A){case"G":case"GG":case"GGG":K=on(fn.Eras,Nt.Abbreviated);break;case"GGGG":K=on(fn.Eras,Nt.Wide);break;case"GGGGG":K=on(fn.Eras,Nt.Narrow);break;case"y":K=Rn(Mn.FullYear,1,0,!1,!0);break;case"yy":K=Rn(Mn.FullYear,2,0,!0,!0);break;case"yyy":K=Rn(Mn.FullYear,3,0,!1,!0);break;case"yyyy":K=Rn(Mn.FullYear,4,0,!1,!0);break;case"Y":K=ti(1);break;case"YY":K=ti(2,!0);break;case"YYY":K=ti(3);break;case"YYYY":K=ti(4);break;case"M":case"L":K=Rn(Mn.Month,1,1);break;case"MM":case"LL":K=Rn(Mn.Month,2,1);break;case"MMM":K=on(fn.Months,Nt.Abbreviated);break;case"MMMM":K=on(fn.Months,Nt.Wide);break;case"MMMMM":K=on(fn.Months,Nt.Narrow);break;case"LLL":K=on(fn.Months,Nt.Abbreviated,Ht.Standalone);break;case"LLLL":K=on(fn.Months,Nt.Wide,Ht.Standalone);break;case"LLLLL":K=on(fn.Months,Nt.Narrow,Ht.Standalone);break;case"w":K=Bi(1);break;case"ww":K=Bi(2);break;case"W":K=Bi(1,!0);break;case"d":K=Rn(Mn.Date,1);break;case"dd":K=Rn(Mn.Date,2);break;case"c":case"cc":K=Rn(Mn.Day,1);break;case"ccc":K=on(fn.Days,Nt.Abbreviated,Ht.Standalone);break;case"cccc":K=on(fn.Days,Nt.Wide,Ht.Standalone);break;case"ccccc":K=on(fn.Days,Nt.Narrow,Ht.Standalone);break;case"cccccc":K=on(fn.Days,Nt.Short,Ht.Standalone);break;case"E":case"EE":case"EEE":K=on(fn.Days,Nt.Abbreviated);break;case"EEEE":K=on(fn.Days,Nt.Wide);break;case"EEEEE":K=on(fn.Days,Nt.Narrow);break;case"EEEEEE":K=on(fn.Days,Nt.Short);break;case"a":case"aa":case"aaa":K=on(fn.DayPeriods,Nt.Abbreviated);break;case"aaaa":K=on(fn.DayPeriods,Nt.Wide);break;case"aaaaa":K=on(fn.DayPeriods,Nt.Narrow);break;case"b":case"bb":case"bbb":K=on(fn.DayPeriods,Nt.Abbreviated,Ht.Standalone,!0);break;case"bbbb":K=on(fn.DayPeriods,Nt.Wide,Ht.Standalone,!0);break;case"bbbbb":K=on(fn.DayPeriods,Nt.Narrow,Ht.Standalone,!0);break;case"B":case"BB":case"BBB":K=on(fn.DayPeriods,Nt.Abbreviated,Ht.Format,!0);break;case"BBBB":K=on(fn.DayPeriods,Nt.Wide,Ht.Format,!0);break;case"BBBBB":K=on(fn.DayPeriods,Nt.Narrow,Ht.Format,!0);break;case"h":K=Rn(Mn.Hours,1,-12);break;case"hh":K=Rn(Mn.Hours,2,-12);break;case"H":K=Rn(Mn.Hours,1);break;case"HH":K=Rn(Mn.Hours,2);break;case"m":K=Rn(Mn.Minutes,1);break;case"mm":K=Rn(Mn.Minutes,2);break;case"s":K=Rn(Mn.Seconds,1);break;case"ss":K=Rn(Mn.Seconds,2);break;case"S":K=Rn(Mn.FractionalSeconds,1);break;case"SS":K=Rn(Mn.FractionalSeconds,2);break;case"SSS":K=Rn(Mn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":K=ci(Pr.Short);break;case"ZZZZZ":K=ci(Pr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":K=ci(Pr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":K=ci(Pr.Long);break;default:return null}return _n[A]=K,K}(hr);nr+=hn?hn(ae,k,er):"''"===hr?"'":hr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),nr}function lr(A,K,k){const V=new Date(0);return V.setFullYear(A,K,k),V.setHours(0,0,0),V}function xr(A,K){const k=function xi(A){return(0,S.cg1)(A)[S.wAp.LocaleId]}(A);if(Hn[k]=Hn[k]||{},Hn[k][K])return Hn[k][K];let V="";switch(K){case"shortDate":V=Ge(A,be.Short);break;case"mediumDate":V=Ge(A,be.Medium);break;case"longDate":V=Ge(A,be.Long);break;case"fullDate":V=Ge(A,be.Full);break;case"shortTime":V=Xe(A,be.Short);break;case"mediumTime":V=Xe(A,be.Medium);break;case"longTime":V=Xe(A,be.Long);break;case"fullTime":V=Xe(A,be.Full);break;case"short":const ae=xr(A,"shortTime"),Me=xr(A,"shortDate");V=fr(nt(A,be.Short),[ae,Me]);break;case"medium":const st=xr(A,"mediumTime"),Gt=xr(A,"mediumDate");V=fr(nt(A,be.Medium),[st,Gt]);break;case"long":const er=xr(A,"longTime"),nr=xr(A,"longDate");V=fr(nt(A,be.Long),[er,nr]);break;case"full":const hr=xr(A,"fullTime"),hn=xr(A,"fullDate");V=fr(nt(A,be.Full),[hr,hn])}return V&&(Hn[k][K]=V),V}function fr(A,K){return K&&(A=A.replace(/\{([^}]+)}/g,function(k,V){return null!=K&&V in K?K[V]:k})),A}function Ur(A,K,k="-",V,ae){let Me="";(A<0||ae&&A<=0)&&(ae?A=1-A:(A=-A,Me=k));let st=String(A);for(;st.length<K;)st="0"+st;return V&&(st=st.slice(st.length-K)),Me+st}function Rn(A,K,k=0,V=!1,ae=!1){return function(Me,st){let Gt=function Ts(A,K){switch(A){case Mn.FullYear:return K.getFullYear();case Mn.Month:return K.getMonth();case Mn.Date:return K.getDate();case Mn.Hours:return K.getHours();case Mn.Minutes:return K.getMinutes();case Mn.Seconds:return K.getSeconds();case Mn.FractionalSeconds:return K.getMilliseconds();case Mn.Day:return K.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,Me);if((k>0||Gt>-k)&&(Gt+=k),A===Mn.Hours)0===Gt&&-12===k&&(Gt=12);else if(A===Mn.FractionalSeconds)return function ki(A,K){return Ur(A,3).substring(0,K)}(Gt,K);const er=je(st,kt.MinusSign);return Ur(Gt,K,er,V,ae)}}function on(A,K,k=Ht.Format,V=!1){return function(ae,Me){return function us(A,K,k,V,ae,Me){switch(k){case fn.Months:return function $n(A,K,k){const V=(0,S.cg1)(A),Me=Kn([V[S.wAp.MonthsFormat],V[S.wAp.MonthsStandalone]],K);return Kn(Me,k)}(K,ae,V)[A.getMonth()];case fn.Days:return function Ye(A,K,k){const V=(0,S.cg1)(A),Me=Kn([V[S.wAp.DaysFormat],V[S.wAp.DaysStandalone]],K);return Kn(Me,k)}(K,ae,V)[A.getDay()];case fn.DayPeriods:const st=A.getHours(),Gt=A.getMinutes();if(Me){const nr=function yi(A){const K=(0,S.cg1)(A);return Er(K),(K[S.wAp.ExtraData][2]||[]).map(V=>"string"==typeof V?bn(V):[bn(V[0]),bn(V[1])])}(K),hr=function Ot(A,K,k){const V=(0,S.cg1)(A);Er(V);const Me=Kn([V[S.wAp.ExtraData][0],V[S.wAp.ExtraData][1]],K)||[];return Kn(Me,k)||[]}(K,ae,V),hn=nr.findIndex(Hr=>{if(Array.isArray(Hr)){const[br,wr]=Hr,fs=st>=br.hours&&Gt>=br.minutes,Ei=st<wr.hours||st===wr.hours&&Gt<wr.minutes;if(br.hours<wr.hours){if(fs&&Ei)return!0}else if(fs||Ei)return!0}else if(Hr.hours===st&&Hr.minutes===Gt)return!0;return!1});if(-1!==hn)return hr[hn]}return function Ie(A,K,k){const V=(0,S.cg1)(A),Me=Kn([V[S.wAp.DayPeriodsFormat],V[S.wAp.DayPeriodsStandalone]],K);return Kn(Me,k)}(K,ae,V)[st<12?0:1];case fn.Eras:return function qe(A,K){return Kn((0,S.cg1)(A)[S.wAp.Eras],K)}(K,V)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(ae,Me,A,K,k,V)}}function ci(A){return function(K,k,V){const ae=-1*V,Me=je(k,kt.MinusSign),st=ae>0?Math.floor(ae/60):Math.ceil(ae/60);switch(A){case Pr.Short:return(ae>=0?"+":"")+Ur(st,2,Me)+Ur(Math.abs(ae%60),2,Me);case Pr.ShortGMT:return"GMT"+(ae>=0?"+":"")+Ur(st,1,Me);case Pr.Long:return"GMT"+(ae>=0?"+":"")+Ur(st,2,Me)+":"+Ur(Math.abs(ae%60),2,Me);case Pr.Extended:return 0===V?"Z":(ae>=0?"+":"")+Ur(st,2,Me)+":"+Ur(Math.abs(ae%60),2,Me);default:throw new Error(`Unknown zone width "${A}"`)}}}const Br=0,Se=4;function Yt(A){return lr(A.getFullYear(),A.getMonth(),A.getDate()+(Se-A.getDay()))}function Bi(A,K=!1){return function(k,V){let ae;if(K){const Me=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,st=k.getDate();ae=1+Math.floor((st+Me)/7)}else{const Me=Yt(k),st=function ir(A){const K=lr(A,Br,1).getDay();return lr(A,0,1+(K<=Se?Se:Se+7)-K)}(Me.getFullYear()),Gt=Me.getTime()-st.getTime();ae=1+Math.round(Gt/6048e5)}return Ur(ae,A,je(V,kt.MinusSign))}}function ti(A,K=!1){return function(k,V){return Ur(Yt(k).getFullYear(),A,je(V,kt.MinusSign),K)}}const _n={};function pi(A,K){A=A.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(k)?K:k}function J(A){return A instanceof Date&&!isNaN(A.valueOf())}function En(A,K){K=encodeURIComponent(K);for(const k of A.split(";")){const V=k.indexOf("="),[ae,Me]=-1==V?[k,""]:[k.slice(0,V),k.slice(V+1)];if(ae.trim()===K)return decodeURIComponent(Me)}return null}const On=/\s+/,Sn=[];let dr=(()=>{class A{constructor(k,V,ae,Me){this._iterableDiffers=k,this._keyValueDiffers=V,this._ngEl=ae,this._renderer=Me,this.initialClasses=Sn,this.stateMap=new Map}set klass(k){this.initialClasses=null!=k?k.trim().split(On):Sn}set ngClass(k){this.rawClass="string"==typeof k?k.trim().split(On):k}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const k=this.rawClass;if(Array.isArray(k)||k instanceof Set)for(const V of k)this._updateState(V,!0);else if(null!=k)for(const V of Object.keys(k))this._updateState(V,!!k[V]);this._applyStateDiff()}_updateState(k,V){const ae=this.stateMap.get(k);void 0!==ae?(ae.enabled!==V&&(ae.changed=!0,ae.enabled=V),ae.touched=!0):this.stateMap.set(k,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const k of this.stateMap){const V=k[0],ae=k[1];ae.changed?(this._toggleClass(V,ae.enabled),ae.changed=!1):ae.touched||(ae.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),ae.touched=!1}}_toggleClass(k,V){(k=k.trim()).length>0&&k.split(On).forEach(ae=>{V?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}static#e=this.\u0275fac=function(V){return new(V||A)(S.Y36(S.ZZ4),S.Y36(S.aQg),S.Y36(S.SBq),S.Y36(S.Qsj))};static#t=this.\u0275dir=S.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return A})();class Xn{constructor(K,k,V,ae){this.$implicit=K,this.ngForOf=k,this.index=V,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class A{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,V,ae){this._viewContainer=k,this._template=V,this._differs=ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const V=this._viewContainer;k.forEachOperation((ae,Me,st)=>{if(null==ae.previousIndex)V.createEmbeddedView(this._template,new Xn(ae.item,this._ngForOf,-1,-1),null===st?void 0:st);else if(null==st)V.remove(null===Me?void 0:Me);else if(null!==Me){const Gt=V.get(Me);V.move(Gt,st),rs(Gt,ae)}});for(let ae=0,Me=V.length;ae<Me;ae++){const Gt=V.get(ae).context;Gt.index=ae,Gt.count=Me,Gt.ngForOf=this._ngForOf}k.forEachIdentityChange(ae=>{rs(V.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(k,V){return!0}static#e=this.\u0275fac=function(V){return new(V||A)(S.Y36(S.s_b),S.Y36(S.Rgc),S.Y36(S.ZZ4))};static#t=this.\u0275dir=S.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return A})();function rs(A,K){A.context.$implicit=K.item}let sr=(()=>{class A{constructor(k,V){this._viewContainer=k,this._context=new Ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Kt("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Kt("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,V){return!0}static#e=this.\u0275fac=function(V){return new(V||A)(S.Y36(S.s_b),S.Y36(S.Rgc))};static#t=this.\u0275dir=S.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return A})();class Ln{constructor(){this.$implicit=null,this.ngIf=null}}function Kt(A,K){if(K&&!K.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,S.AaK)(K)}'.`)}let As=(()=>{class A{static#e=this.\u0275fac=function(V){return new(V||A)};static#t=this.\u0275mod=S.oAB({type:A});static#n=this.\u0275inj=S.cJS({})}return A})();const Ds="browser",Jo="server";function Jt(A){return A===Ds}function dn(A){return A===Jo}let wi=(()=>{class A{static#e=this.\u0275prov=(0,S.Yz7)({token:A,providedIn:"root",factory:()=>new Ai((0,S.LFG)(Le),window)})}return A})();class Ai{constructor(K,k){this.document=K,this.window=k,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const k=function kr(A,K){const k=A.getElementById(K)||A.getElementsByName(K)[0];if(k)return k;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const V=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ae=V.currentNode;for(;ae;){const Me=ae.shadowRoot;if(Me){const st=Me.getElementById(K)||Me.querySelector(`[name="${K}"]`);if(st)return st}ae=V.nextNode()}}return null}(this.document,K);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(K){this.supportsScrolling()&&(this.window.history.scrollRestoration=K)}scrollToElement(K){const k=K.getBoundingClientRect(),V=k.left+this.window.pageXOffset,ae=k.top+this.window.pageYOffset,Me=this.offset();this.window.scrollTo(V-Me[0],ae-Me[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Li{}},4946:(In,yt,Y)=>{"use strict";Y.d(yt,{QbO:()=>Hp,tb:()=>Bv,AFp:()=>Im,ip1:()=>jI,hGG:()=>BD,z2F:()=>fp,Ojb:()=>zp,sBO:()=>bD,Sil:()=>zA,EJc:()=>jA,Xts:()=>Gc,SBq:()=>jf,lqb:()=>eu,qLn:()=>tu,vpe:()=>nu,XFs:()=>on,OlP:()=>_n,zs3:()=>Ca,ZZ4:()=>Wv,aQg:()=>qv,soG:()=>Py,YKP:()=>zE,h0i:()=>bh,PXZ:()=>mD,R0b:()=>Eo,FiY:()=>xl,Lbi:()=>ql,g9A:()=>Of,Qsj:()=>m_,FYo:()=>g_,JOm:()=>Vl,tp0:()=>Wu,Rgc:()=>Og,dDg:()=>hD,eoX:()=>QI,q4F:()=>Jl,GfV:()=>sl,s_b:()=>Sy,ifc:()=>tr,VuI:()=>YD,MMx:()=>WE,Lck:()=>Ab,eFA:()=>XI,Gpc:()=>Nt,f3M:()=>Bn,$WT:()=>cs,_c5:()=>UD,qFp:()=>XD,rg0:()=>Ei,c2e:()=>$I,zSh:()=>vm,HDt:()=>HI,wAp:()=>lp,vHH:()=>Ye,lri:()=>qI,rWj:()=>KI,cg1:()=>fv,kL8:()=>gE,dqk:()=>Yt,Z0I:()=>Mr,eJc:()=>Pv,QGY:()=>tv,F4k:()=>Tw,RDi:()=>Ef,AaK:()=>lt,qOj:()=>ic,Xq5:()=>ey,TTD:()=>Mo,_Bn:()=>HE,jDz:()=>qE,xp6:()=>Ut,uIk:()=>wg,ekj:()=>av,Suo:()=>wI,Xpm:()=>so,lG2:()=>Ns,Yz7:()=>gt,cJS:()=>Mn,oAB:()=>vs,Yjl:()=>Hi,Y36:()=>kn,_UZ:()=>Ui,qZA:()=>nn,TgZ:()=>ft,EpF:()=>Iw,n5z:()=>Oh,LFG:()=>_i,$8M:()=>Al,$Z:()=>xn,NdJ:()=>nv,CRH:()=>EI,oxw:()=>Sw,Q6J:()=>B,s9C:()=>rv,MGl:()=>_y,DdM:()=>eI,VKq:()=>tI,iGM:()=>_I,MAs:()=>N,KtG:()=>mc,CHM:()=>ou,LSH:()=>Cf,P3R:()=>gm,YNc:()=>wh,_uU:()=>Yw,Oqu:()=>lv,hij:()=>Ey,AsE:()=>cv,lnq:()=>dv,HOy:()=>hv,Gf:()=>vI});var S=Y(8645),we=Y(7394),Ce=Y(5592),ze=Y(7537),ue=Y(4829),Le=Y(6232),Ve=Y(4564),At=Y(2459),ge=Y(5619),ye=Y(2096),We=Y(305),Rt=Y(9360);function ct(t={}){const{connector:n=(()=>new S.x),resetOnError:i=!0,resetOnComplete:o=!0,resetOnRefCountZero:u=!0}=t;return c=>{let m,I,R,F=0,Z=!1,ce=!1;const xe=()=>{I?.unsubscribe(),I=void 0},He=()=>{xe(),m=R=void 0,Z=ce=!1},Tt=()=>{const Bt=m;He(),Bt?.unsubscribe()};return(0,Rt.e)((Bt,ln)=>{F++,!ce&&!Z&&xe();const Nn=R=R??n();ln.add(()=>{F--,0===F&&!ce&&!Z&&(I=Mt(Tt,u))}),Nn.subscribe(ln),!m&&F>0&&(m=new We.Hp({next:Pt=>Nn.next(Pt),error:Pt=>{ce=!0,xe(),I=Mt(He,i,Pt),Nn.error(Pt)},complete:()=>{Z=!0,xe(),I=Mt(He,o),Nn.complete()}}),(0,ue.Xf)(Bt).subscribe(m))})(c)}}function Mt(t,n,...i){if(!0===n)return void t();if(!1===n)return;const o=new We.Hp({next:()=>{o.unsubscribe(),t()}});return(0,ue.Xf)(n(...i)).subscribe(o)}var Xt=Y(4664),mn=Y(2737),gn=Y(8251);function cn(t,n){return t===n}function Ae(t){for(let n in t)if(t[n]===Ae)return n;throw Error("Could not find renamed property on target object.")}function rt(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function lt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ft(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ht=Ae({__forward_ref__:Ae});function Nt(t){return t.__forward_ref__=Nt,t.toString=function(){return lt(this())},t}function be(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(Ht)&&t.__forward_ref__===Nt}function jn(t){return t&&!!t.\u0275providers}const Ie="https://g.co/ng/security#xss";class Ye extends Error{constructor(n,i){super(function $n(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function qe(t){return"string"==typeof t?t:null==t?"":String(t)}function nt(t,n){throw new Ye(-201,!1)}function wt(t,n){null==t&&function sn(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function gt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mn(t){return{providers:t.providers||[],imports:t.imports||[]}}function fn(t){return lr(t,Ur)||lr(t,Rn)}function Mr(t){return null!==fn(t)}function lr(t,n){return t.hasOwnProperty(n)?t[n]:null}function fr(t){return t&&(t.hasOwnProperty(ki)||t.hasOwnProperty(Ts))?t[ki]:null}const Ur=Ae({\u0275prov:Ae}),ki=Ae({\u0275inj:Ae}),Rn=Ae({ngInjectableDef:Ae}),Ts=Ae({ngInjectorDef:Ae});var on=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(on||{});let us;function Br(t){const n=us;return us=t,n}function Se(t,n,i){const o=fn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&on.Optional?null:void 0!==n?n:void nt(lt(t))}const Yt=globalThis;class _n{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=gt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jt={},pn="__NG_DI_FLAG__",Pn="ngTempTokenPath",Sr=/\n/gm,ji="__source";let gi;function oi(t){const n=gi;return gi=t,n}function lo(t,n=on.Default){if(void 0===gi)throw new Ye(-203,!1);return null===gi?Se(t,void 0,n):gi.get(t,n&on.Optional?null:void 0,n)}function _i(t,n=on.Default){return(function ci(){return us}()||lo)(be(t),n)}function Bn(t,n=on.Default){return _i(t,et(n))}function et(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ue(t){const n=[];for(let i=0;i<t.length;i++){const o=be(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Ye(900,!1);let u,c=on.Default;for(let m=0;m<o.length;m++){const I=o[m],R=en(I);"number"==typeof R?-1===R?u=I.token:c|=R:u=I}n.push(_i(u,c))}else n.push(_i(o))}return n}function dt(t,n){return t[pn]=n,t.prototype[pn]=n,t}function en(t){return t[pn]}function Sn(t){return{toString:t}.toString()}var dr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dr||{}),tr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tr||{});const ni={},Xn=[],Wr=Ae({\u0275cmp:Ae}),rs=Ae({\u0275dir:Ae}),Ao=Ae({\u0275pipe:Ae}),sr=Ae({\u0275mod:Ae}),Ln=Ae({\u0275fac:Ae}),Kt=Ae({__NG_ELEMENT_ID__:Ae}),Dt=Ae({__NG_ENV_ID__:Ae});function an(t,n,i){let o=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const c=n.length;if(u+c===o||t.charCodeAt(u+c)<=32)return u}i=u+1}}function vn(t,n,i){let o=0;for(;o<i.length;){const u=i[o];if("number"==typeof u){if(0!==u)break;o++;const c=i[o++],m=i[o++],I=i[o++];t.setAttribute(n,m,I,c)}else{const c=u,m=i[++o];ri(c)?t.setProperty(n,c,m):t.setAttribute(n,c,m),o++}}return o}function Gn(t){return 3===t||4===t||6===t}function ri(t){return 64===t.charCodeAt(0)}function Ir(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?i=u:0===i||or(t,i,u,null,-1===i||2===i?n[++o]:null)}}return t}function or(t,n,i,o,u){let c=0,m=t.length;if(-1===n)m=-1;else for(;c<t.length;){const I=t[c++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=c-1;break}}}for(;c<t.length;){const I=t[c];if("number"==typeof I)break;if(I===i){if(null===o)return void(null!==u&&(t[c+1]=u));if(o===t[c+1])return void(t[c+2]=u)}c++,null!==o&&c++,null!==u&&c++}-1!==m&&(t.splice(m,0,n),c=m+1),t.splice(c++,0,i),null!==o&&t.splice(c++,0,o),null!==u&&t.splice(c++,0,u)}const Lr="ng-template";function Tr(t,n,i){let o=0,u=!0;for(;o<t.length;){let c=t[o++];if("string"==typeof c&&u){const m=t[o++];if(i&&"class"===c&&-1!==an(m.toLowerCase(),n,0))return!0}else{if(1===c){for(;o<t.length&&"string"==typeof(c=t[o++]);)if(c.toLowerCase()===n)return!0;return!1}"number"==typeof c&&(u=!1)}}return!1}function jr(t){return 4===t.type&&t.value!==Lr}function vi(t,n,i){return n===(4!==t.type||i?t.value:Lr)}function Ys(t,n,i){let o=4;const u=t.attrs||[],c=function ls(t){for(let n=0;n<t.length;n++)if(Gn(t[n]))return n;return t.length}(u);let m=!1;for(let I=0;I<n.length;I++){const R=n[I];if("number"!=typeof R){if(!m)if(4&o){if(o=2|1&o,""!==R&&!vi(t,R,i)||""===R&&1===n.length){if(ar(o))return!1;m=!0}}else{const F=8&o?R:n[++I];if(8&o&&null!==t.attrs){if(!Tr(t.attrs,F,i)){if(ar(o))return!1;m=!0}continue}const ce=Do(8&o?"class":R,u,jr(t),i);if(-1===ce){if(ar(o))return!1;m=!0;continue}if(""!==F){let xe;xe=ce>c?"":u[ce+1].toLowerCase();const He=8&o?xe:null;if(He&&-1!==an(He,F,0)||2&o&&F!==xe){if(ar(o))return!1;m=!0}}}}else{if(!m&&!ar(o)&&!ar(R))return!1;if(m&&ar(R))continue;m=!1,o=R|1&o}}return ar(o)||m}function ar(t){return 0==(1&t)}function Do(t,n,i,o){if(null===n)return-1;let u=0;if(o||!i){let c=!1;for(;u<n.length;){const m=n[u];if(m===t)return u;if(3===m||6===m)c=!0;else{if(1===m||2===m){let I=n[++u];for(;"string"==typeof I;)I=n[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=c?1:2}return-1}return function Co(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function _s(t,n,i=!1){for(let o=0;o<n.length;o++)if(Ys(t,n[o],i))return!0;return!1}function Ps(t,n){return t?":not("+n.trim()+")":n}function So(t){let n=t[0],i=1,o=2,u="",c=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&o){const I=t[++i];u+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?u+="."+m:4&o&&(u+=" "+m);else""!==u&&!ar(m)&&(n+=Ps(c,u),u=""),o=m,c=c||!ar(o);i++}return""!==u&&(n+=Ps(c,u)),n}function so(t){return Sn(()=>{const n=oo(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tr.Emulated,styles:t.styles||Xn,_:null,schemas:t.schemas||null,tView:null,id:""};As(i);const o=t.dependencies;return i.directiveDefs=Ds(o,!1),i.pipeDefs=Ds(o,!0),i.id=function ho(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function $i(t){return Qn(t)||$r(t)}function Bs(t){return null!==t}function vs(t){return Sn(()=>({type:t.type,bootstrap:t.bootstrap||Xn,declarations:t.declarations||Xn,imports:t.imports||Xn,exports:t.exports||Xn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qi(t,n){if(null==t)return ni;const i={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),i[u]=o,n&&(n[u]=c)}return i}function Ns(t){return Sn(()=>{const n=oo(t);return As(n),n})}function Hi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qn(t){return t[Wr]||null}function $r(t){return t[rs]||null}function Nr(t){return t[Ao]||null}function cs(t){const n=Qn(t)||$r(t)||Nr(t);return null!==n&&n.standalone}function ds(t,n){const i=t[sr]||null;if(!i&&!0===n)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return i}function oo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ni,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Xn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qi(t.inputs,n),outputs:qi(t.outputs)}}function As(t){t.features?.forEach(n=>n(t))}function Ds(t,n){if(!t)return null;const i=n?Nr:$i;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(Bs)}const Or=0,Jt=1,dn=2,Fr=3,pr=4,is=5,wi=6,Ai=7,kr=8,Ni=9,Li=10,zt=11,Zn=12,js=13,gs=14,Zr=15,Ki=16,ms=17,zi=18,Cs=19,ao=20,Js=21,Xs=22,Oi=23,ss=24,ur=25,Bo=1,fo=2,Di=7,Qi=9,ai=11;function Ci(t){return Array.isArray(t)&&"object"==typeof t[Bo]}function H(t){return Array.isArray(t)&&!0===t[Bo]}function z(t){return 0!=(4&t.flags)}function he(t){return t.componentOffset>-1}function de(t){return 1==(1&t.flags)}function Oe(t){return!!t.template}function ht(t){return 0!=(512&t[dn])}function se(t,n){return t.hasOwnProperty(Ln)?t[Ln]:null}let at=null,Wt=!1;function Zt(t){const n=at;return at=t,n}const rr={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Dn(t){if(!hs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Jr(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function hi(t){t.dirty=!0,function Vn(t){if(void 0===t.liveConsumerNode)return;const n=Wt;Wt=!0;try{for(const i of t.liveConsumerNode)i.dirty||hi(i)}finally{Wt=n}}(t),t.consumerMarkedDirty?.(t)}function Yr(t){return t&&(t.nextProducerIndex=0),Zt(t)}function Yi(t,n){if(Zt(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(hs(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Pi(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jr(t){Xi(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Dn(i),o!==i.version))return!0}return!1}function Ro(t){if(Xi(t),hs(t))for(let n=0;n<t.producerNode.length;n++)Pi(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Pi(t,n){if(function no(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Xi(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)Pi(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];Xi(u),u.producerIndexOfThis[o]=n}}function hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ae=null;function Ei(t){const n=Zt(null);try{return t()}finally{Zt(n)}}const es=()=>{},si=(()=>({...rr,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:es}))();class $o{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Mo(){return aa}function aa(t){return t.type.prototype.ngOnChanges&&(t.setInput=su),Mu}function Mu(){const t=Nu(this),n=t?.current;if(n){const i=t.previous;if(i===ni)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function su(t,n,i,o){const u=this.declaredInputs[i],c=Nu(t)||function ua(t,n){return t[xu]=n}(t,{previous:ni,current:null}),m=c.current||(c.current={}),I=c.previous,R=I[u];m[u]=new $o(R&&R.currentValue,n,I===ni),t[o]=n}Mo.ngInherit=!0;const xu="__ngSimpleChanges__";function Nu(t){return t[xu]||null}const Hs=function(t,n,i){};function mr(t){for(;Array.isArray(t);)t=t[Or];return t}function Ma(t,n){return mr(n[t])}function Es(t,n){return mr(n[t.index])}function qo(t,n){return t.data[n]}function mo(t,n){const i=n[t];return Ci(i)?i:i[Or]}function ro(t,n){return null==n?null:t[n]}function G(t){t[ms]=0}function E(t){1024&t[dn]||(t[dn]|=1024,j(t,1))}function M(t){1024&t[dn]&&(t[dn]&=-1025,j(t,-1))}function j(t,n){let i=t[Fr];if(null===i)return;i[is]+=n;let o=i;for(i=i[Fr];null!==i&&(1===n&&1===o[is]||-1===n&&0===o[is]);)i[is]+=n,o=i,i=i[Fr]}const It={lFrame:Vr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gl(){return It.bindingsEnabled}function Ct(){return It.lFrame.lView}function zr(){return It.lFrame.tView}function ou(t){return It.lFrame.contextLView=t,t[kr]}function mc(t){return It.lFrame.contextLView=null,t}function Ss(){let t=ml();for(;null!==t&&64===t.type;)t=t.parent;return t}function ml(){return It.lFrame.currentTNode}function yo(t,n){const i=It.lFrame;i.currentTNode=t,i.isParent=n}function zo(){return It.lFrame.isParent}function ts(){const t=It.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Go(){return It.lFrame.bindingIndex}function ca(){return It.lFrame.bindingIndex++}function No(t){const n=It.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function y(t,n){const i=It.lFrame;i.bindingIndex=i.bindingRootIndex=t,L(n)}function L(t){It.lFrame.currentDirectiveIndex=t}function fe(){return It.lFrame.currentQueryIndex}function it(t){It.lFrame.currentQueryIndex=t}function Je(t){const n=t[Jt];return 2===n.type?n.declTNode:1===n.type?t[wi]:null}function tn(t,n,i){if(i&on.SkipSelf){let u=n,c=t;for(;!(u=u.parent,null!==u||i&on.Host||(u=Je(c),null===u||(c=c[gs],10&u.type))););if(null===u)return!1;n=u,t=c}const o=It.lFrame=mi();return o.currentTNode=n,o.lView=t,!0}function Yn(t){const n=mi(),i=t[Jt];It.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function mi(){const t=It.lFrame,n=null===t?null:t.child;return null===n?Vr(t):n}function Vr(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function zs(){const t=It.lFrame;return It.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Oo=zs;function Ta(){const t=zs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gs(){return It.lFrame.selectedIndex}function uu(t){It.lFrame.selectedIndex=t}function Gi(){const t=It.lFrame;return qo(t.tView,t.selectedIndex)}let _c=!0;function yl(){return _c}function Qo(t){_c=t}function Fa(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const c=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:R,ngAfterViewChecked:F,ngOnDestroy:Z}=c;m&&(t.contentHooks??=[]).push(-i,m),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),R&&(t.viewHooks??=[]).push(-i,R),F&&((t.viewHooks??=[]).push(i,F),(t.viewCheckHooks??=[]).push(i,F)),null!=Z&&(t.destroyHooks??=[]).push(i,Z)}}function _l(t,n,i){Va(t,n,3,i)}function cu(t,n,i,o){(3&t[dn])===i&&Va(t,n,i,o)}function vl(t,n){let i=t[dn];(3&i)===n&&(i&=8191,i+=1,t[dn]=i)}function Va(t,n,i,o){const c=o??-1,m=n.length-1;let I=0;for(let R=void 0!==o?65535&t[ms]:0;R<m;R++)if("number"==typeof n[R+1]){if(I=n[R],null!=o&&I>=o)break}else n[R]<0&&(t[ms]+=65536),(I<c||-1==c)&&(wc(t,i,n,R),t[ms]=(4294901760&t[ms])+R+2),R++}function Lu(t,n){Hs(4,t,n);const i=Zt(null);try{n.call(t)}finally{Zt(i),Hs(5,t,n)}}function wc(t,n,i,o){const u=i[o]<0,c=i[o+1],I=t[u?-i[o]:i[o]];u?t[dn]>>13<t[ms]>>16&&(3&t[dn])===n&&(t[dn]+=8192,Lu(I,c)):Lu(I,c)}const Fu=-1;class Vu{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Ba(t){return t!==Fu}function ja(t){return 32767&t}function ko(t,n){let i=function $a(t){return t>>16}(t),o=n;for(;i>0;)o=o[gs],i--;return o}let Tc=!0;function ha(t){const n=Tc;return Tc=t,n}const ba=255,wl=5;let hu=0;const Xo={};function Uu(t,n){const i=wd(t,n);if(-1!==i)return i;const o=n[Jt];o.firstCreatePass&&(t.injectorIndex=n.length,Mh(o.data,t),Mh(n,null),Mh(o.blueprint,null));const u=Bu(t,n),c=t.injectorIndex;if(Ba(u)){const m=ja(u),I=ko(u,n),R=I[Jt].data;for(let F=0;F<8;F++)n[c+F]=I[m+F]|R[m+F]}return n[c+8]=u,c}function Mh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function wd(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Bu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,u=n;for(;null!==u;){if(o=kh(u),null===o)return Fu;if(i++,u=u[gs],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Fu}function El(t,n,i){!function Ph(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Kt)&&(o=i[Kt]),null==o&&(o=i[Kt]=hu++);const u=o&ba;n.data[t+(u>>wl)]|=1<<u}(t,n,i)}function bc(t,n,i){if(i&on.Optional||void 0!==t)return t;nt()}function xh(t,n,i,o){if(i&on.Optional&&void 0===o&&(o=null),!(i&(on.Self|on.Host))){const u=t[Ni],c=Br(void 0);try{return u?u.get(n,o,i&on.Optional):Se(n,o,i&on.Optional)}finally{Br(c)}}return bc(o,0,i)}function Nh(t,n,i,o=on.Default,u){if(null!==t){if(2048&n[dn]&&!(o&on.Self)){const m=function Td(t,n,i,o,u){let c=t,m=n;for(;null!==c&&null!==m&&2048&m[dn]&&!(512&m[dn]);){const I=Il(c,m,i,o|on.Self,Xo);if(I!==Xo)return I;let R=c.parent;if(!R){const F=m[ao];if(F){const Z=F.get(i,Xo,o);if(Z!==Xo)return Z}R=kh(m),m=m[gs]}c=R}return u}(t,n,i,o,Xo);if(m!==Xo)return m}const c=Il(t,n,i,o,Xo);if(c!==Xo)return c}return xh(n,i,o,u)}function Il(t,n,i,o,u){const c=function Ac(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Kt)?t[Kt]:void 0;return"number"==typeof n?n>=0?n&ba:Os:n}(i);if("function"==typeof c){if(!tn(n,t,o))return o&on.Host?bc(u,0,o):xh(n,i,o,u);try{let m;if(m=c(o),null!=m||o&on.Optional)return m;nt()}finally{Oo()}}else if("number"==typeof c){let m=null,I=wd(t,n),R=Fu,F=o&on.Host?n[Zr][wi]:null;for((-1===I||o&on.SkipSelf)&&(R=-1===I?Bu(t,n):n[I+8],R!==Fu&&Tl(o,!1)?(m=n[Jt],I=ja(R),n=ko(R,n)):I=-1);-1!==I;){const Z=n[Jt];if(Ed(c,I,Z.data)){const ce=ju(I,n,i,m,o,F);if(ce!==Xo)return ce}R=n[I+8],R!==Fu&&Tl(o,n[Jt].data[I+8]===F)&&Ed(c,I,n)?(m=Z,I=ja(R),n=ko(R,n)):I=-1}}return u}function ju(t,n,i,o,u,c){const m=n[Jt],I=m.data[t+8],Z=fa(I,m,i,null==o?he(I)&&Tc:o!=m&&0!=(3&I.type),u&on.Host&&c===I);return null!==Z?Aa(n,m,Z,I):Xo}function fa(t,n,i,o,u){const c=t.providerIndexes,m=n.data,I=1048575&c,R=t.directiveStart,Z=c>>20,xe=u?I+Z:t.directiveEnd;for(let He=o?I:I+Z;He<xe;He++){const Tt=m[He];if(He<R&&i===Tt||He>=R&&Tt.type===i)return He}if(u){const He=m[R];if(He&&Oe(He)&&He.type===i)return R}return null}function Aa(t,n,i,o){let u=t[i];const c=n.data;if(function Ua(t){return t instanceof Vu}(u)){const m=u;m.resolving&&function Q(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qe(t)}(c[i]));const I=ha(m.canSeeViewProviders);m.resolving=!0;const F=m.injectImpl?Br(m.injectImpl):null;tn(t,o,on.Default);try{u=t[i]=m.factory(void 0,c,t,o),n.firstCreatePass&&i>=o.directiveStart&&function vc(t,n,i){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:c}=n.type.prototype;if(o){const m=aa(n);(i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m)}u&&(i.preOrderHooks??=[]).push(0-t,u),c&&((i.preOrderHooks??=[]).push(t,c),(i.preOrderCheckHooks??=[]).push(t,c))}(i,c[i],n)}finally{null!==F&&Br(F),ha(I),m.resolving=!1,Oo()}}return u}function Ed(t,n,i){return!!(i[n+(t>>wl)]&1<<t)}function Tl(t,n){return!(t&on.Self||t&on.Host&&n)}class Ws{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Nh(this._tNode,this._lView,n,et(o),i)}}function Os(){return new Ws(Ss(),Ct())}function Oh(t){return Sn(()=>{const n=t.prototype.constructor,i=n[Ln]||Id(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const c=u[Ln]||Id(u);if(c&&c!==i)return c;u=Object.getPrototypeOf(u)}return c=>new c})}function Id(t){return kt(t)?()=>{const n=Id(be(t));return n&&n()}:se(t)}function kh(t){const n=t[Jt],i=n.type;return 2===i?n.declTNode:1===i?t[wi]:null}function Al(t){return function mp(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let u=0;for(;u<o;){const c=i[u];if(Gn(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<o&&"string"==typeof i[u];)u++;else{if(c===n)return i[u+1];u+=2}}}return null}(Ss(),t)}const ea="__parameters__";function Ha(t,n,i){return Sn(()=>{const o=function Dl(t){return function(...i){if(t){const o=t(...i);for(const u in o)this[u]=o[u]}}}(n);function u(...c){if(this instanceof u)return o.apply(this,c),this;const m=new u(...c);return I.annotation=m,I;function I(R,F,Z){const ce=R.hasOwnProperty(ea)?R[ea]:Object.defineProperty(R,ea,{value:[]})[ea];for(;ce.length<=Z;)ce.push(null);return(ce[Z]=ce[Z]||[]).push(m),R}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function ta(t,n){t.forEach(i=>Array.isArray(i)?ta(i,n):n(i))}function pu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Hu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function io(t,n,i){let o=Ga(t,n);return o>=0?t[1|o]=i:(o=~o,function Cc(t,n,i,o){let u=t.length;if(u==n)t.push(i,o);else if(1===u)t.push(o,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function Dd(t,n){const i=Ga(t,n);if(i>=0)return t[1|i]}function Ga(t,n){return function Sc(t,n,i){let o=0,u=t.length>>i;for(;u!==o;){const c=o+(u-o>>1),m=t[c<<i];if(n===m)return c<<i;m>n?u=c:o=c+1}return~(u<<i)}(t,n,1)}const xl=dt(Ha("Optional"),8),Wu=dt(Ha("SkipSelf"),4);function Fl(t){return 128==(128&t.flags)}var Vl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vl||{});const Nd=new Map;let ef=0;const vu="__ngContext__";function vo(t,n){Ci(n)?(t[vu]=n[Cs],function nf(t){Nd.set(t[Cs],t)}(n)):t[vu]=n}let b;function $(t,n){return b(t,n)}function Re(t){const n=t[Fr];return H(n)?n[Fr]:n}function yn(t){return Gr(t[Zn])}function Fn(t){return Gr(t[pr])}function Gr(t){for(;null!==t&&!H(t);)t=t[pr];return t}function Ls(t,n,i,o,u){if(null!=o){let c,m=!1;H(o)?c=o:Ci(o)&&(m=!0,o=o[Or]);const I=mr(o);0===t&&null!==i?null==u?Zg(n,i,I):Eu(n,i,I,u||null,!0):1===t&&null!==i?Eu(n,i,I,u||null,!0):2===t?function _f(t,n,i){const o=hf(t,n);o&&function Uy(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,I,m):3===t&&n.destroyNode(I),null!=c&&function Np(t,n,i,o,u){const c=i[Di];c!==mr(i)&&Ls(n,t,o,c,u);for(let I=ai;I<i.length;I++){const R=i[I];Bd(R[Jt],R,t,n,o,c)}}(n,t,c,i,u)}}function Qa(t,n,i){return t.createElement(n,i)}function Vd(t,n){const i=t[Qi],o=i.indexOf(n);M(n),i.splice(o,1)}function Yu(t,n){if(t.length<=ai)return;const i=ai+n,o=t[i];if(o){const u=o[Ki];null!==u&&u!==t&&Vd(u,o),n>0&&(t[i-1][pr]=o[pr]);const c=Hu(t,ai+n);!function Fd(t,n){Bd(t,n,n[zt],2,null,null),n[Or]=null,n[wi]=null}(o[Jt],o);const m=c[zi];null!==m&&m.detachView(c[Jt]),o[Fr]=null,o[pr]=null,o[dn]&=-129}return o}function jl(t,n){if(!(256&n[dn])){const i=n[zt];n[Oi]&&Ro(n[Oi]),n[ss]&&Ro(n[ss]),i.destroyNode&&Bd(t,n,i,3,null,null),function Bc(t){let n=t[Zn];if(!n)return $l(t[Jt],t);for(;n;){let i=null;if(Ci(n))i=n[Zn];else{const o=n[ai];o&&(i=o)}if(!i){for(;n&&!n[pr]&&n!==t;)Ci(n)&&$l(n[Jt],n),n=n[Fr];null===n&&(n=t),Ci(n)&&$l(n[Jt],n),i=n&&n[pr]}n=i}}(n)}}function $l(t,n){if(!(256&n[dn])){n[dn]&=-129,n[dn]|=256,function Rp(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const u=n[i[o]];if(!(u instanceof Vu)){const c=i[o+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const I=u[c[m]],R=c[m+1];Hs(4,I,R);try{R.call(I)}finally{Hs(5,I,R)}}else{Hs(4,u,c);try{c.call(u)}finally{Hs(5,u,c)}}}}}(t,n),function Kg(t,n){const i=t.cleanup,o=n[Ai];if(null!==i)for(let c=0;c<i.length-1;c+=2)if("string"==typeof i[c]){const m=i[c+3];m>=0?o[m]():o[-m].unsubscribe(),c+=2}else i[c].call(o[i[c+1]]);null!==o&&(n[Ai]=null);const u=n[Js];if(null!==u){n[Js]=null;for(let c=0;c<u.length;c++)(0,u[c])()}}(t,n),1===n[Jt].type&&n[zt].destroy();const i=n[Ki];if(null!==i&&H(n[Fr])){i!==n[Fr]&&Vd(i,n);const o=n[zi];null!==o&&o.detachView(t)}!function Ka(t){Nd.delete(t[Cs])}(n)}}function cf(t,n,i){return function Qg(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[Or];{const{componentOffset:u}=o;if(u>-1){const{encapsulation:c}=t.data[o.directiveStart+u];if(c===tr.None||c===tr.Emulated)return null}return Es(o,i)}}(t,n.parent,i)}function Eu(t,n,i,o,u){t.insertBefore(n,i,o,u)}function Zg(t,n,i){t.appendChild(n,i)}function df(t,n,i,o,u){null!==o?Eu(t,n,i,o,u):Zg(t,n,i)}function hf(t,n){return t.parentNode(n)}let gf,Hd,If,Hl=function pf(t,n,i){return 40&t.type?Es(t,i):null};function yf(t,n,i,o){const u=cf(t,o,n),c=n[zt],I=function ff(t,n,i){return Hl(t,n,i)}(o.parent||n[wi],o,n);if(null!=u)if(Array.isArray(i))for(let R=0;R<i.length;R++)df(c,u,i[R],I,!1);else df(c,u,i,I,!1);void 0!==gf&&gf(c,o,n,i,u)}function zl(t,n){if(null!==n){const i=n.type;if(3&i)return Es(n,t);if(4&i)return Ud(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return zl(t,o);{const u=t[n.index];return H(u)?Ud(-1,u):mr(u)}}if(32&i)return $(n,t)()||mr(t[n.index]);{const o=Za(t,n);return null!==o?Array.isArray(o)?o[0]:zl(Re(t[Zr]),o):zl(t,n.next)}}return null}function Za(t,n){return null!==n?t[Zr][wi].projection[n.projection]:null}function Ud(t,n){const i=ai+t+1;if(i<n.length){const o=n[i],u=o[Jt].firstChild;if(null!==u)return zl(o,u)}return n[Di]}function Mp(t,n,i,o,u,c,m){for(;null!=i;){const I=o[i.index],R=i.type;if(m&&0===n&&(I&&vo(mr(I),o),i.flags|=2),32!=(32&i.flags))if(8&R)Mp(t,n,i.child,o,u,c,!1),Ls(n,t,u,I,c);else if(32&R){const F=$(i,o);let Z;for(;Z=F();)Ls(n,t,u,Z,c);Ls(n,t,u,I,c)}else 16&R?Jg(t,n,o,i,u,c):Ls(n,t,u,I,c);i=m?i.projectionNext:i.next}}function Bd(t,n,i,o,u,c){Mp(i,o,t.firstChild,n,u,c,!1)}function Jg(t,n,i,o,u,c){const m=i[Zr],R=m[wi].projection[o.projection];if(Array.isArray(R))for(let F=0;F<R.length;F++)Ls(n,t,u,R[F],c);else{let F=R;const Z=m[Fr];Fl(o)&&(F.flags|=128),Mp(t,n,F,Z,u,c,!0)}}function Xg(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function wf(t,n,i){const{mergedAttrs:o,classes:u,styles:c}=i;null!==o&&vn(t,n,o),null!==u&&Xg(t,n,u),null!==c&&function Op(t,n,i){t.setAttribute(n,"style",i)}(t,n,c)}function Ef(t){Hd=t}function Lp(t){return function jc(){if(void 0===If&&(If=null,Yt.trustedTypes))try{If=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return If}()?.createScriptURL(t)||t}class Wl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ie})`}}function Xu(t){return t instanceof Wl?t.changingThisBreaksApplicationSecurity:t}function el(t,n){const i=function Fp(t){return t instanceof Wl&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Ie})`)}return i===n}const um=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Iu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Iu||{});function Cf(t){const n=Sf();return n?n.sanitize(Iu.URL,t)||"":el(t,"URL")?Xu(t):function Gd(t){return(t=String(t)).match(um)?t:"unsafe:"+t}(qe(t))}function zc(t){const n=Sf();if(n)return Lp(n.sanitize(Iu.RESOURCE_URL,t)||"");if(el(t,"ResourceURL"))return Lp(Xu(t));throw new Ye(904,!1)}function gm(t,n,i){return function Xa(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?zc:Cf}(n,i)(t)}function Sf(){const t=Ct();return t&&t[Li].sanitizer}const Gc=new _n("ENVIRONMENT_INITIALIZER"),mm=new _n("INJECTOR",-1),Rf=new _n("INJECTOR_DEF_TYPES");class jp{get(n,i=jt){if(i===jt){const o=new Error(`NullInjectorError: No provider for ${lt(n)}!`);throw o.name="NullInjectorError",o}return i}}function Wi(...t){return{\u0275providers:n_(0,t),\u0275fromNgModule:!0}}function n_(t,...n){const i=[],o=new Set;let u;const c=m=>{i.push(m)};return ta(n,m=>{const I=m;as(I,c,[],o)&&(u||=[],u.push(I))}),void 0!==u&&ym(u,c),i}function ym(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:u}=t[i];_m(u,c=>{n(c,o)})}}function as(t,n,i,o){if(!(t=be(t)))return!1;let u=null,c=fr(t);const m=!c&&Qn(t);if(c||m){if(m&&!m.standalone)return!1;u=t}else{const R=t.ngModule;if(c=fr(R),!c)return!1;u=R}const I=o.has(u);if(m){if(I)return!1;if(o.add(u),m.dependencies){const R="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const F of R)as(F,n,i,o)}}else{if(!c)return!1;{if(null!=c.imports&&!I){let F;o.add(u);try{ta(c.imports,Z=>{as(Z,n,i,o)&&(F||=[],F.push(Z))})}finally{}void 0!==F&&ym(F,n)}if(!I){const F=se(u)||(()=>new u);n({provide:u,useFactory:F,deps:Xn},u),n({provide:Rf,useValue:u,multi:!0},u),n({provide:Gc,useValue:()=>_i(u),multi:!0},u)}const R=c.providers;if(null!=R&&!I){const F=t;_m(R,Z=>{n(Z,F)})}}}return u!==t&&void 0!==t.providers}function _m(t,n){for(let i of t)jn(i)&&(i=i.\u0275providers),Array.isArray(i)?_m(i,n):n(i)}const ew=Ae({provide:String,useValue:Ae});function Pf(t){return null!==t&&"object"==typeof t&&ew in t}function Wc(t){return"function"==typeof t}const vm=new _n("Set Injector scope."),$p={},nw={};let Mf;function tl(){return void 0===Mf&&(Mf=new jp),Mf}class eu{}class pa extends eu{get destroyed(){return this._destroyed}constructor(n,i,o,u){super(),this.parent=i,this.source=o,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kc(n,m=>this.processProvider(m)),this.records.set(mm,qc(void 0,this)),u.has("environment")&&this.records.set(eu,qc(void 0,this));const c=this.records.get(vm);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Rf.multi,Xn,on.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=oi(this),o=Br(void 0);try{return n()}finally{oi(i),Br(o)}}get(n,i=jt,o=on.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Dt))return n[Dt](this);o=et(o);const c=oi(this),m=Br(void 0);try{if(!(o&on.SkipSelf)){let R=this.records.get(n);if(void 0===R){const F=function Em(t){return"function"==typeof t||"object"==typeof t&&t instanceof _n}(n)&&fn(n);R=F&&this.injectableDefInScope(F)?qc(nl(n),$p):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(o&on.Self?tl():this.parent).get(n,i=o&on.Optional&&i===jt?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[Pn]=I[Pn]||[]).unshift(lt(n)),c)throw I;return function En(t,n,i,o){const u=t[Pn];throw n[ji]&&u.unshift(n[ji]),t.message=function On(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=lt(n);if(Array.isArray(n))u=n.map(lt).join(" -> ");else if("object"==typeof n){let c=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];c.push(m+":"+("string"==typeof I?JSON.stringify(I):lt(I)))}u=`{${c.join(", ")}}`}return`${i}${o?"("+o+")":""}[${u}]: ${t.replace(Sr,"\n  ")}`}("\n"+t.message,u,i,o),t.ngTokenPath=u,t[Pn]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{Br(m),oi(c)}}resolveInjectorInitializers(){const n=oi(this),i=Br(void 0);try{const u=this.get(Gc.multi,Xn,on.Self);for(const c of u)c()}finally{oi(n),Br(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(lt(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(n){let i=Wc(n=be(n))?n:be(n&&n.provide);const o=function xf(t){return Pf(t)?qc(void 0,t.useValue):qc(Nf(t),$p)}(n);if(Wc(n)||!0!==n.multi)this.records.get(i);else{let u=this.records.get(i);u||(u=qc(void 0,$p,!0),u.factory=()=>Ue(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===$p&&(i.value=nw,i.value=i.factory()),"object"==typeof i.value&&i.value&&function wm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=be(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function nl(t){const n=fn(t),i=null!==n?n.factory:se(t);if(null!==i)return i;if(t instanceof _n)throw new Ye(204,!1);if(t instanceof Function)return function rw(t){const n=t.length;if(n>0)throw function za(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}(n,"?"),new Ye(204,!1);const i=function xr(t){return t&&(t[Ur]||t[Rn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ye(204,!1)}function Nf(t,n,i){let o;if(Wc(t)){const u=be(t);return se(u)||nl(u)}if(Pf(t))o=()=>be(t.useValue);else if(function s_(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Ue(t.deps||[]));else if(function i_(t){return!(!t||!t.useExisting)}(t))o=()=>_i(be(t.useExisting));else{const u=be(t&&(t.useClass||t.provide));if(!function o_(t){return!!t.deps}(t))return se(u)||nl(u);o=()=>new u(...Ue(t.deps))}return o}function qc(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Kc(t,n){for(const i of t)Array.isArray(i)?Kc(i,n):i&&jn(i)?Kc(i.\u0275providers,n):n(i)}const Im=new _n("AppId",{providedIn:"root",factory:()=>Qc}),Qc="ng",Of=new _n("Platform Initializer"),ql=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hp=new _n("AnimationModuleType"),zp=new _n("CSP nonce",{providedIn:"root",factory:()=>function Ju(){if(void 0!==Hd)return Hd;if(typeof document<"u")return document;throw new Ye(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let l_=(t,n,i)=>null;function rl(t,n,i=!1){return l_(t,n,i)}class aw{}class h_{}class Sm{resolveComponentFactory(n){throw function Cm(t){const n=Error(`No component factory found for ${lt(t)}.`);return n.ngComponent=t,n}(n)}}let Jd=(()=>{class t{static#e=this.NULL=new Sm}return t})();function p_(){return il(Ss(),Ct())}function il(t,n){return new jf(Es(t,n))}let jf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=p_}return t})();function uw(t){return t instanceof jf?t.nativeElement:t}class g_{}let m_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lw(){const t=Ct(),i=mo(Ss().index,t);return(Ci(i)?i:t)[zt]}()}return t})(),cw=(()=>{class t{static#e=this.\u0275prov=gt({token:t,providedIn:"root",factory:()=>null})}return t})();class sl{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Jl=new sl("16.2.12"),Zc={};function Rm(t,n=null,i=null,o){const u=E_(t,n,i,o);return u.resolveInjectorInitializers(),u}function E_(t,n=null,i=null,o,u=new Set){const c=[i||Xn,Wi(t)];return o=o||("object"==typeof t?void 0:lt(t)),new pa(c,n||tl(),o||null,u)}let Ca=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=jt;static#t=this.NULL=new jp;static create(i,o){if(Array.isArray(i))return Rm({name:""},o,i,"");{const u=i.name??"";return Rm({name:u},i.parent,i.providers,u)}}static#n=this.\u0275prov=gt({token:t,providedIn:"any",factory:()=>_i(mm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Xl(t){return t.ngOriginalError}class tu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Xl(n);for(;i&&Xl(i);)i=Xl(i);return i||null}}function Yp(t){return n=>{setTimeout(t,void 0,n)}}const nu=class T_ extends S.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let u=n,c=i||(()=>null),m=o;if(n&&"object"==typeof n){const R=n;u=R.next?.bind(R),c=R.error?.bind(R),m=R.complete?.bind(R)}this.__isAsync&&(c=Yp(c),u&&(u=Yp(u)),m&&(m=Yp(m)));const I=super.subscribe({next:u,error:c,complete:m});return n instanceof we.w0&&n.add(I),I}};function b_(...t){}class Eo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&i,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function mw(){const t="function"==typeof Yt.requestAnimationFrame;let n=Yt[t?"requestAnimationFrame":"setTimeout"],i=Yt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function yw(t){const n=()=>{!function D_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Yt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xp(t),t.isCheckStableRunning=!0,Jp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,u,c,m,I)=>{if(function _w(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(u,c,m,I);try{return xm(t),i.invokeTask(u,c,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),eh(t)}},onInvoke:(i,o,u,c,m,I,R)=>{try{return xm(t),i.invoke(u,c,m,I,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),eh(t)}},onHasTask:(i,o,u,c)=>{i.hasTask(u,c),o===u&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,Xp(t),Jp(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(i,o,u,c)=>(i.handleError(u,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new Ye(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,u){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+u,n,A_,b_,b_);try{return c.runTask(m,i,o)}finally{c.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const A_={};function Jp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eh(t){t._nesting--,Jp(t)}class C_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,u){return n.apply(i,o)}}const S_=new _n("",{providedIn:"root",factory:R_});function R_(){const t=Bn(Eo);let n=!0;return function vt(...t){const n=(0,Ve.yG)(t),i=(0,Ve._6)(t,1/0),o=t;return o.length?1===o.length?(0,ue.Xf)(o[0]):(0,ze.J)(i)((0,At.D)(o,n)):Le.E}(new Ce.y(u=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(n),u.complete()})}),new Ce.y(u=>{let c;t.runOutsideAngular(()=>{c=t.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),m.unsubscribe()}}).pipe(ct()))}function al(t){return t instanceof Function?t():t}let Nm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=gt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Yc(t){for(;t;){t[dn]|=64;const n=Re(t);if(ht(t)&&!n)return t;t=n}return null}const L_=new _n("",{providedIn:"root",factory:()=>!1});let U=null;function ne(t,n){return t[n]??St()}function le(t,n){const i=St();i.producerNode?.length&&(t[n]=U,i.lView=t,U=tt())}const Te={...rr,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yc(t.lView)},lView:null};function tt(){return Object.create(Te)}function St(){return U??=tt(),U}const mt={};function Ut(t){Cn(zr(),Ct(),Gs()+t,!1)}function Cn(t,n,i,o){if(!o)if(3==(3&n[dn])){const c=t.preOrderCheckHooks;null!==c&&_l(n,c,i)}else{const c=t.preOrderHooks;null!==c&&cu(n,c,0,i)}uu(i)}function kn(t,n=on.Default){const i=Ct();return null===i?_i(t,n):Nh(Ss(),i,be(t),n)}function xn(){throw new Error("invalid")}function fi(t,n,i,o,u,c,m,I,R,F,Z){const ce=n.blueprint.slice();return ce[Or]=u,ce[dn]=140|o,(null!==F||t&&2048&t[dn])&&(ce[dn]|=2048),G(ce),ce[Fr]=ce[gs]=t,ce[kr]=i,ce[Li]=m||t&&t[Li],ce[zt]=I||t&&t[zt],ce[Ni]=R||t&&t[Ni]||null,ce[wi]=c,ce[Cs]=function tf(){return ef++}(),ce[Xs]=Z,ce[ao]=F,ce[Zr]=2==n.type?t[Zr]:ce,ce}function Dr(t,n,i,o,u){let c=t.data[n];if(null===c)c=function Be(t,n,i,o,u){const c=ml(),m=zo(),R=t.data[n]=function ul(t,n,i,o,u,c){let m=n?n.injectorIndex:-1,I=0;return function Ia(){return null!==It.skipHydrationRootTNode}()&&(I|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,i,n,o,u);return null===t.firstChild&&(t.firstChild=R),null!==c&&(m?null==c.child&&null!==R.parent&&(c.child=R):null===c.next&&(c.next=R,R.prev=c)),R}(t,n,i,o,u),function v(){return It.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=i,c.value=o,c.attrs=u;const m=function au(){const t=It.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return yo(c,!0),c}function ve(t,n,i,o){if(0===i)return-1;const u=n.length;for(let c=0;c<i;c++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function Pe(t,n,i,o,u){const c=ne(n,Oi),m=Gs(),I=2&o;try{uu(-1),I&&n.length>ur&&Cn(t,n,ur,!1),Hs(I?2:0,u);const F=I?c:null,Z=Yr(F);try{null!==F&&(F.dirty=!1),i(o,u)}finally{Yi(F,Z)}}finally{I&&null===n[Oi]&&le(n,Oi),uu(m),Hs(I?3:1,u)}}function $e(t,n,i){if(z(n)){const o=Zt(null);try{const c=n.directiveEnd;for(let m=n.directiveStart;m<c;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{Zt(o)}}}function Ke(t,n,i){gl()&&(function sg(t,n,i,o){const u=i.directiveStart,c=i.directiveEnd;he(i)&&function ug(t,n,i){const o=Es(n,t),u=De(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=Wf(t,fi(t,u,null,m,o,n,null,t[Li].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=I}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||Uu(i,n),vo(o,n);const m=i.initialInputs;for(let I=u;I<c;I++){const R=t.data[I],F=Aa(n,t,I,i);vo(F,n),null!==m&&Lo(0,I-u,F,R,0,m),Oe(R)&&(mo(i.index,n)[kr]=Aa(n,t,I,i))}}(t,n,i,Es(i,n)),64==(64&i.flags)&&og(t,n,i))}function ot(t,n,i=Es){const o=n.localNames;if(null!==o){let u=n.index+1;for(let c=0;c<o.length;c+=2){const m=o[c+1],I=-1===m?i(n,t):t[m];t[u++]=I}}}function De(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Sa(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Sa(t,n,i,o,u,c,m,I,R,F,Z){const ce=ur+o,xe=ce+u,He=function rh(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:mt);return i}(ce,xe),Tt="function"==typeof F?F():F;return He[Jt]={type:t,blueprint:He,template:i,queries:null,viewQuery:I,declTNode:n,data:He.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:R,consts:Tt,incompleteFirstPass:!1,ssrId:Z}}let Jc=t=>null;function Io(t,n,i,o){for(let u in t)if(t.hasOwnProperty(u)){i=null===i?{}:i;const c=t[u];null===o?km(i,n,u,c):o.hasOwnProperty(u)&&km(i,n,o[u],c)}return i}function km(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function To(t,n,i,o,u,c,m,I){const R=Es(n,i);let Z,F=n.inputs;!I&&null!=F&&(Z=F[o])?(ah(t,i,Z,o,u),he(n)&&function B_(t,n){const i=mo(n,t);16&i[dn]||(i[dn]|=64)}(i,n.index)):3&n.type&&(o=function U_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=m?m(u,n.value||"",o):u,c.setProperty(R,o,u))}function Xc(t,n,i,o){if(gl()){const u=null===o?null:{"":-1},c=function $_(t,n){const i=t.directiveRegistry;let o=null,u=null;if(i)for(let c=0;c<i.length;c++){const m=i[c];if(_s(n,m.selectors,!1))if(o||(o=[]),Oe(m))if(null!==m.findHostDirectiveDefs){const I=[];u=u||new Map,m.findHostDirectiveDefs(m,I,u),o.unshift(...I,m),zf(t,n,I.length)}else o.unshift(m),zf(t,n,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,o,u),o.push(m)}return null===o?null:[o,u]}(t,i);let m,I;null===c?m=I=null:[m,I]=c,null!==m&&Hf(t,n,i,m,u,I),u&&function Fm(t,n,i){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const c=i[n[u+1]];if(null==c)throw new Ye(-301,!1);o.push(n[u],c)}}}(i,o,u)}i.mergedAttrs=Ir(i.mergedAttrs,i.attrs)}function Hf(t,n,i,o,u,c){for(let F=0;F<o.length;F++)El(Uu(i,n),t,o[F].type);!function Vm(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let F=0;F<o.length;F++){const Z=o[F];Z.providersResolver&&Z.providersResolver(Z)}let m=!1,I=!1,R=ve(t,n,o.length,null);for(let F=0;F<o.length;F++){const Z=o[F];i.mergedAttrs=Ir(i.mergedAttrs,Z.hostAttrs),H_(t,i,n,R,Z),ag(R,Z,u),null!==Z.contentQueries&&(i.flags|=4),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(i.flags|=64);const ce=Z.type.prototype;!m&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!I&&(ce.ngOnChanges||ce.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),R++}!function sh(t,n,i){const u=n.directiveEnd,c=t.data,m=n.attrs,I=[];let R=null,F=null;for(let Z=n.directiveStart;Z<u;Z++){const ce=c[Z],xe=i?i.get(ce):null,Tt=xe?xe.outputs:null;R=Io(ce.inputs,Z,R,xe?xe.inputs:null),F=Io(ce.outputs,Z,F,Tt);const Bt=null===R||null===m||jr(n)?null:Gf(R,Z,m);I.push(Bt)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=R,n.outputs=F}(t,i,c)}function og(t,n,i){const o=i.directiveStart,u=i.directiveEnd,c=i.index,m=function P(){return It.lFrame.currentDirectiveIndex}();try{uu(c);for(let I=o;I<u;I++){const R=t.data[I],F=n[I];L(I),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Lm(R,F)}}finally{uu(-1),L(m)}}function Lm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function zf(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function ag(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;Oe(n)&&(i[""]=t)}}function H_(t,n,i,o,u){t.data[o]=u;const c=u.factory||(u.factory=se(u.type)),m=new Vu(c,Oe(u),kn);t.blueprint[o]=m,i[o]=m,function rg(t,n,i,o,u){const c=u.hostBindings;if(c){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~n.index;(function ig(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,o,c)}}(t,n,o,ve(t,i,u.hostVars,mt),u)}function ga(t,n,i,o,u,c){const m=Es(t,n);!function oh(t,n,i,o,u,c,m){if(null==c)t.removeAttribute(n,u,i);else{const I=null==m?qe(c):m(c,o||"",u);t.setAttribute(n,u,I,i)}}(n[zt],m,c,t.value,i,o,u)}function Lo(t,n,i,o,u,c){const m=c[n];if(null!==m)for(let I=0;I<m.length;)Fo(o,i,m[I++],m[I++],m[I++])}function Fo(t,n,i,o,u){const c=Zt(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(o)&&(u=m[o].call(n,u)),null!==t.setInput?t.setInput(n,u,i,o):n[o]=u}finally{Zt(c)}}function Gf(t,n,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;if(t.hasOwnProperty(c)){null===o&&(o=[]);const m=t[c];for(let I=0;I<m.length;I+=2)if(m[I]===n){o.push(c,m[I+1],i[u+1]);break}}u+=2}else u+=2;else u+=4}return o}function lg(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function cg(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const c=i[o+1];if(-1!==c){const m=t.data[c];it(i[o]),m.contentQueries(2,n[c],c)}}}function Wf(t,n){return t[Zn]?t[js][pr]=n:t[Zn]=n,t[js]=n,n}function tc(t,n,i){it(0);const o=Zt(null);try{n(t,i)}finally{Zt(o)}}function dg(t){return t[Ai]||(t[Ai]=[])}function qf(t){return t.cleanup||(t.cleanup=[])}function Bm(t,n){const i=t[Ni],o=i?i.get(tu,null):null;o&&o.handleError(n)}function ah(t,n,i,o,u){for(let c=0;c<i.length;){const m=i[c++],I=i[c++];Fo(t.data[m],n[m],o,I,u)}}function ru(t,n,i){const o=Ma(n,t);!function wu(t,n,i){t.setValue(n,i)}(t[zt],o,i)}function jm(t,n){const i=mo(n,t),o=i[Jt];!function uh(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const u=i[Or];null!==u&&null===i[Xs]&&(i[Xs]=rl(u,i[Ni])),lh(o,i,i[kr])}function lh(t,n,i){Yn(n);try{const o=t.viewQuery;null!==o&&tc(1,o,i);const u=t.template;null!==u&&Pe(t,n,u,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&cg(t,n),t.staticViewQueries&&tc(2,t.viewQuery,i);const c=t.components;null!==c&&function hg(t,n){for(let i=0;i<n.length;i++)jm(t,n[i])}(n,c)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[dn]&=-5,Ta()}}let ll=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,u){const c=typeof Zone>"u"?null:Zone.current,m=function ws(t,n,i){const o=Object.create(si);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const u=m=>{o.cleanupFn=m};return o.ref={notify:()=>hi(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Jr(o))return;o.hasRun=!0;const m=Yr(o);try{o.cleanupFn(),o.cleanupFn=es,o.fn(u)}finally{Yi(o,m)}},cleanup:()=>o.cleanupFn()},o.ref}(i,F=>{this.all.has(F)&&this.queue.set(F,c)},u);let I;this.all.add(m),m.notify();const R=()=>{m.cleanup(),I?.(),this.all.delete(m),this.queue.delete(m)};return I=o?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=gt({token:t,providedIn:"root",factory:()=>new t})}return t})();function nc(t,n,i){let o=i?t.styles:null,u=i?t.classes:null,c=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?c=I:1==c?u=Ft(u,I):2==c&&(o=Ft(o,I+": "+n[++m]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=u:t.classesWithoutHost=u}function ed(t,n,i,o,u=!1){for(;null!==i;){const c=n[i.index];null!==c&&o.push(mr(c)),H(c)&&td(c,o);const m=i.type;if(8&m)ed(t,n,i.child,o);else if(32&m){const I=$(i,n);let R;for(;R=I();)o.push(R)}else if(16&m){const I=Za(n,i);if(Array.isArray(I))o.push(...I);else{const R=Re(n[Zr]);ed(R[Jt],R,I,o,!0)}}i=u?i.projectionNext:i.next}return o}function td(t,n){for(let i=ai;i<t.length;i++){const o=t[i],u=o[Jt].firstChild;null!==u&&ed(o[Jt],o,u,n)}t[Di]!==t[Or]&&n.push(t[Di])}function ch(t,n,i,o=!0){const u=n[Li],c=u.rendererFactory,m=u.afterRenderEventManager;c.begin?.(),m?.begin();try{nd(t,n,t.template,i)}catch(R){throw o&&Bm(n,R),R}finally{c.end?.(),u.effectManager?.flush(),m?.end()}}function nd(t,n,i,o){const u=n[dn];if(256!=(256&u)){n[Li].effectManager?.flush(),Yn(n);try{G(n),function _d(t){return It.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Pe(t,n,i,2,o);const m=3==(3&u);if(m){const F=t.preOrderCheckHooks;null!==F&&_l(n,F,null)}else{const F=t.preOrderHooks;null!==F&&cu(n,F,0,null),vl(n,0)}if(function G_(t){for(let n=yn(t);null!==n;n=Fn(n)){if(!n[fo])continue;const i=n[Qi];for(let o=0;o<i.length;o++){E(i[o])}}}(n),rd(n,2),null!==t.contentQueries&&cg(t,n),m){const F=t.contentCheckHooks;null!==F&&_l(n,F)}else{const F=t.contentHooks;null!==F&&cu(n,F,1),vl(n,1)}!function Ar(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=ne(n,ss);try{for(let u=0;u<i.length;u++){const c=i[u];if(c<0)uu(~c);else{const m=c,I=i[++u],R=i[++u];y(I,m),o.dirty=!1;const F=Yr(o);try{R(2,n[m])}finally{Yi(o,F)}}}}finally{null===n[ss]&&le(n,ss),uu(-1)}}(t,n);const I=t.components;null!==I&&zm(n,I,0);const R=t.viewQuery;if(null!==R&&tc(2,R,o),m){const F=t.viewCheckHooks;null!==F&&_l(n,F)}else{const F=t.viewHooks;null!==F&&cu(n,F,2),vl(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[dn]&=-73,M(n)}finally{Ta()}}}function rd(t,n){for(let i=yn(t);null!==i;i=Fn(i))for(let o=ai;o<i.length;o++)rc(i[o],n)}function W_(t,n,i){rc(mo(n,t),i)}function rc(t,n){if(!function Na(t){return 128==(128&t[dn])}(t))return;const i=t[Jt],o=t[dn];if(80&o&&0===n||1024&o||2===n)nd(i,t,i.template,t[kr]);else if(t[is]>0){rd(t,1);const u=i.components;null!==u&&zm(t,u,1)}}function zm(t,n,i){for(let o=0;o<n.length;o++)W_(t,n[o],i)}class dh{get rootNodes(){const n=this._lView,i=n[Jt];return ed(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kr]}set context(n){this._lView[kr]=n}get destroyed(){return 256==(256&this._lView[dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Fr];if(H(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Yu(n,o),Hu(i,o))}this._attachedToViewContainer=!1}jl(this._lView[Jt],this._lView)}onDestroy(n){!function _e(t,n){if(256==(256&t[dn]))throw new Ye(911,!1);null===t[Js]&&(t[Js]=[]),t[Js].push(n)}(this._lView,n)}markForCheck(){Yc(this._cdRefInjectingView||this._lView)}detach(){this._lView[dn]&=-129}reattach(){this._lView[dn]|=128}detectChanges(){ch(this._lView[Jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ul(t,n){Bd(t,n,n[zt],2,null,null)}(this._lView[Jt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=n}}class Kf extends dh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ch(n[Jt],n,n[kr],!1)}checkNoChanges(){}get context(){return null}}class fg extends Jd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Qn(n);return new id(i,this.ngModule)}}function Qf(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class cl{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=et(o);const u=this.injector.get(n,Zc,o);return u!==Zc||i===Zc?u:this.parentInjector.get(n,i,o)}}class id extends h_{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=Qf(n.inputs);if(null!==i)for(const u of o)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return o}get outputs(){return Qf(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ms(t){return t.map(So).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,u){let c=(u=u||this.ngModule)instanceof eu?u:u?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const m=c?new cl(n,c):n,I=m.get(g_,null);if(null===I)throw new Ye(407,!1);const ce={rendererFactory:I,sanitizer:m.get(cw,null),effectManager:m.get(ll,null),afterRenderEventManager:m.get(Nm,null)},xe=I.createRenderer(null,this.componentDef),He=this.componentDef.selectors[0][0]||"div",Tt=o?function F_(t,n,i,o){const c=o.get(L_,!1)||i===tr.ShadowDom,m=t.selectRootElement(n,c);return function ih(t){Jc(t)}(m),m}(xe,o,this.componentDef.encapsulation,m):Qa(xe,He,function Zf(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(He)),Nn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Pt=null;null!==Tt&&(Pt=rl(Tt,m,!0));const Cr=Sa(0,null,null,1,0,null,null,null,null,null,null),ei=fi(null,Cr,null,Nn,null,null,ce,xe,m,null,Pt);let ns,wa;Yn(ei);try{const hc=this.componentDef;let pp,Qv=null;hc.findHostDirectiveDefs?(pp=[],Qv=new Map,hc.findHostDirectiveDefs(hc,pp,Qv),pp.push(hc)):pp=[hc];const eC=function pg(t,n){const i=t[Jt],o=ur;return t[o]=n,Dr(i,o,2,"#host",null)}(ei,Tt),tC=function gg(t,n,i,o,u,c,m){const I=u[Jt];!function Wm(t,n,i,o){for(const u of t)n.mergedAttrs=Ir(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(nc(n,n.mergedAttrs,!0),null!==i&&wf(o,i,n))}(o,t,n,m);let R=null;null!==n&&(R=rl(n,u[Ni]));const F=c.rendererFactory.createRenderer(n,i);let Z=16;i.signals?Z=4096:i.onPush&&(Z=64);const ce=fi(u,De(i),null,Z,u[t.index],t,c,F,null,null,R);return I.firstCreatePass&&zf(I,t,o.length-1),Wf(u,ce),u[t.index]=ce}(eC,Tt,hc,pp,ei,ce,xe);wa=qo(Cr,ur),Tt&&function q_(t,n,i,o){if(o)vn(t,i,["ng-version",Jl.full]);else{const{attrs:u,classes:c}=function xs(t){const n=[],i=[];let o=1,u=2;for(;o<t.length;){let c=t[o];if("string"==typeof c)2===u?""!==c&&n.push(c,t[++o]):8===u&&i.push(c);else{if(!ar(u))break;u=c}o++}return{attrs:n,classes:i}}(n.selectors[0]);u&&vn(t,i,u),c&&c.length>0&&Xg(t,i,c.join(" "))}}(xe,hc,Tt,o),void 0!==i&&function Yf(t,n,i){const o=t.projection=[];for(let u=0;u<n.length;u++){const c=i[u];o.push(null!=c?Array.from(c):null)}}(wa,this.ngContentSelectors,i),ns=function qm(t,n,i,o,u,c){const m=Ss(),I=u[Jt],R=Es(m,u);Hf(I,u,m,i,null,o);for(let Z=0;Z<i.length;Z++)vo(Aa(u,I,m.directiveStart+Z,m),u);og(I,u,m),R&&vo(R,u);const F=Aa(u,I,m.directiveStart+m.componentOffset,m);if(t[kr]=u[kr]=F,null!==c)for(const Z of c)Z(F,n);return $e(I,m,t),F}(tC,hc,pp,Qv,ei,[Km]),lh(Cr,ei,null)}finally{Ta()}return new Gm(this.componentType,ns,il(wa,ei),ei,wa)}}class Gm extends aw{constructor(n,i,o,u,c){super(),this.location=o,this._rootLView=u,this._tNode=c,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Kf(u),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let u;if(null!==o&&(u=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const c=this._rootLView;ah(c[Jt],c,u,n,i),this.previousInputValues.set(n,i),Yc(mo(this._tNode.index,c))}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Km(){const t=Ss();Fa(Ct()[Jt],t)}function ic(t){let n=function Jf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let u;if(Oe(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ye(903,!1);u=n.\u0275dir}if(u){if(i){o.push(u);const m=t;m.inputs=sd(t.inputs),m.inputTransforms=sd(t.inputTransforms),m.declaredInputs=sd(t.declaredInputs),m.outputs=sd(t.outputs);const I=u.hostBindings;I&&Zm(t,I);const R=u.viewQuery,F=u.contentQueries;if(R&&K_(t,R),F&&Qm(t,F),rt(t.inputs,u.inputs),rt(t.declaredInputs,u.declaredInputs),rt(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),rt(m.inputTransforms,u.inputTransforms)),Oe(u)&&u.data.animation){const Z=t.data;Z.animation=(Z.animation||[]).concat(u.data.animation)}}const c=u.features;if(c)for(let m=0;m<c.length;m++){const I=c[m];I&&I.ngInherit&&I(t),I===ic&&(i=!1)}}n=Object.getPrototypeOf(n)}!function sc(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=Ir(u.hostAttrs,i=Ir(i,u.hostAttrs))}}(o)}function sd(t){return t===ni?{}:t===Xn?[]:t}function K_(t,n){const i=t.viewQuery;t.viewQuery=i?(o,u)=>{n(o,u),i(o,u)}:n}function Qm(t,n){const i=t.contentQueries;t.contentQueries=i?(o,u,c)=>{n(o,u,c),i(o,u,c)}:n}function Zm(t,n){const i=t.hostBindings;t.hostBindings=i?(o,u)=>{n(o,u),i(o,u)}:n}function ey(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const u=n[o];Array.isArray(u)&&u[2]&&(i[o]=u[2])}t.inputTransforms=i}function ma(t){return!!tp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ra(t,n,i){return t[n]=i}function Qs(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function oc(t,n,i,o){const u=Qs(t,n,i);return Qs(t,n+1,o)||u}function wg(t,n,i,o){const u=Ct();return Qs(u,ca(),n)&&(zr(),ga(Gi(),u,t,n,i,o)),wg}function ud(t,n,i,o){return Qs(t,ca(),i)?n+qe(i)+o:mt}function ia(t,n,i,o,u,c,m,I){const F=function hh(t,n,i,o,u){const c=oc(t,n,i,o);return Qs(t,n+2,u)||c}(t,Go(),i,u,m);return No(3),F?n+qe(i)+o+qe(u)+c+qe(m)+I:mt}function ac(t,n,i,o,u,c,m,I,R,F){const ce=function ya(t,n,i,o,u,c){const m=oc(t,n,i,o);return oc(t,n+2,u,c)||m}(t,Go(),i,u,m,R);return No(4),ce?n+qe(i)+o+qe(u)+c+qe(m)+I+qe(R)+F:mt}function wh(t,n,i,o,u,c,m,I){const R=Ct(),F=zr(),Z=t+ur,ce=F.firstCreatePass?function my(t,n,i,o,u,c,m,I,R){const F=n.consts,Z=Dr(n,t,4,m||null,ro(F,I));Xc(n,i,Z,ro(F,R)),Fa(n,Z);const ce=Z.tView=Sa(2,Z,o,u,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,F,null);return null!==n.queries&&(n.queries.template(n,Z),ce.queries=n.queries.embeddedTView(Z)),Z}(Z,F,R,n,i,o,u,c,m):F.data[Z];yo(ce,!1);const xe=Yo(F,R,ce,t);yl()&&yf(F,R,xe,ce),vo(xe,R),Wf(R,R[Z]=lg(xe,R,xe,ce)),de(ce)&&Ke(F,R,ce),null!=m&&ot(R,ce,I)}let Yo=function Ag(t,n,i,o){return Qo(!0),n[zt].createComment("")};function N(t){return function Ho(t,n){return t[n]}(function ka(){return It.lFrame.contextLView}(),ur+t)}function B(t,n,i){const o=Ct();return Qs(o,ca(),n)&&To(zr(),Gi(),o,t,n,o[zt],i,!1),B}function oe(t,n,i,o,u){const m=u?"class":"style";ah(t,i,n.inputs[m],m,o)}function ft(t,n,i,o){const u=Ct(),c=zr(),m=ur+t,I=u[zt],R=c.firstCreatePass?function Qe(t,n,i,o,u,c){const m=n.consts,R=Dr(n,t,2,o,ro(m,u));return Xc(n,i,R,ro(m,c)),null!==R.attrs&&nc(R,R.attrs,!1),null!==R.mergedAttrs&&nc(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(m,c,u,n,i,o):c.data[m],F=uo(c,u,R,I,n,t);u[m]=F;const Z=de(R);return yo(R,!0),wf(I,F,R),32!=(32&R.flags)&&yl()&&yf(c,u,F,R),0===function Mi(){return It.lFrame.elementDepthCount}()&&vo(F,u),function la(){It.lFrame.elementDepthCount++}(),Z&&(Ke(c,u,R),$e(c,R,u)),null!==o&&ot(u,R),ft}function nn(){let t=Ss();zo()?function xo(){It.lFrame.isParent=!1}():(t=t.parent,yo(t,!1));const n=t;(function yd(t){return It.skipHydrationRootTNode===t})(n)&&function gc(){It.skipHydrationRootTNode=null}(),function md(){It.lFrame.elementDepthCount--}();const i=zr();return i.firstCreatePass&&(Fa(i,t),z(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ic(t){return 0!=(8&t.flags)}(n)&&oe(i,n,Ct(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function _o(t){return 0!=(16&t.flags)}(n)&&oe(i,n,Ct(),n.stylesWithoutHost,!1),nn}function Ui(t,n,i,o){return ft(t,n,i,o),nn(),Ui}let uo=(t,n,i,o,u,c)=>(Qo(!0),Qa(o,u,function Ch(){return It.lFrame.currentNamespace}()));function Iw(){return Ct()}function tv(t){return!!t&&"function"==typeof t.then}function Tw(t){return!!t&&"function"==typeof t.subscribe}function nv(t,n,i,o){const u=Ct(),c=zr(),m=Ss();return function Aw(t,n,i,o,u,c,m){const I=de(o),F=t.firstCreatePass&&qf(t),Z=n[kr],ce=dg(n);let xe=!0;if(3&o.type||m){const Bt=Es(o,n),ln=m?m(Bt):Bt,Nn=ce.length,Pt=m?ei=>m(mr(ei[o.index])):o.index;let Cr=null;if(!m&&I&&(Cr=function MT(t,n,i,o){const u=t.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const m=u[c];if(m===i&&u[c+1]===o){const I=n[Ai],R=u[c+2];return I.length>R?I[R]:null}"string"==typeof m&&(c+=2)}return null}(t,n,u,o.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=c,Cr.__ngLastListenerFn__=c,xe=!1;else{c=Cw(o,n,Z,c,!1);const ei=i.listen(ln,u,c);ce.push(c,ei),F&&F.push(u,Pt,Nn,Nn+1)}}else c=Cw(o,n,Z,c,!1);const He=o.outputs;let Tt;if(xe&&null!==He&&(Tt=He[u])){const Bt=Tt.length;if(Bt)for(let ln=0;ln<Bt;ln+=2){const ns=n[Tt[ln]][Tt[ln+1]].subscribe(c),wa=ce.length;ce.push(c,ns),F&&F.push(u,o.index,wa,-(wa+1))}}}(c,u,u[zt],m,t,n,o),nv}function Dw(t,n,i,o){try{return Hs(6,n,i),!1!==i(o)}catch(u){return Bm(t,u),!1}finally{Hs(7,n,i)}}function Cw(t,n,i,o,u){return function c(m){if(m===Function)return o;Yc(t.componentOffset>-1?mo(t.index,n):n);let R=Dw(n,i,o,m),F=c.__ngNextListenerFn__;for(;F;)R=Dw(n,i,F,m)&&R,F=F.__ngNextListenerFn__;return u&&!1===R&&m.preventDefault(),R}}function Sw(t=1){return function ku(t){return(It.lFrame.contextLView=function La(t,n){for(;t>0;)n=n[gs],t--;return n}(t,It.lFrame.contextLView))[kr]}(t)}function rv(t,n,i){return _y(t,"",n,"",i),rv}function _y(t,n,i,o,u){const c=Ct(),m=ud(c,n,i,o);return m!==mt&&To(zr(),Gi(),c,t,m,c[zt],u,!1),_y}function vy(t,n){return t<<17|n<<2}function pd(t){return t>>17&32767}function iv(t){return 2|t}function Ih(t){return(131068&t)>>2}function sv(t,n){return-131069&t|n<<2}function ov(t){return 1|t}function Fw(t,n,i,o,u){const c=t[i+1],m=null===n;let I=o?pd(c):Ih(c),R=!1;for(;0!==I&&(!1===R||m);){const Z=t[I+1];BT(t[I],n)&&(R=!0,t[I+1]=o?ov(Z):iv(Z)),I=o?pd(Z):Ih(Z)}R&&(t[i+1]=o?iv(c):ov(c))}function BT(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ga(t,n)>=0}function av(t,n){return function Ru(t,n,i,o){const u=Ct(),c=zr(),m=No(2);c.firstUpdatePass&&function Ww(t,n,i,o){const u=t.data;if(null===u[i+1]){const c=u[Gs()],m=function Gw(t,n){return n>=t.expandoStartIndex}(t,i);(function Zw(t,n){return 0!=(t.flags&(n?8:16))})(c,o)&&null===n&&!m&&(n=!1),n=function QT(t,n,i,o){const u=function X(t){const n=It.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let c=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(i=Dg(i=uv(null,t,n,i,o),n.attrs,o),c=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==u)if(i=uv(u,t,n,i,o),null===c){let R=function ZT(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Ih(o))return t[pd(o)]}(t,n,o);void 0!==R&&Array.isArray(R)&&(R=uv(null,t,n,R[1],o),R=Dg(R,n.attrs,o),function YT(t,n,i,o){t[pd(i?n.classBindings:n.styleBindings)]=o}(t,n,o,R))}else c=function JT(t,n,i){let o;const u=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<u;c++)o=Dg(o,t[c].hostAttrs,i);return Dg(o,n.attrs,i)}(t,n,o)}return void 0!==c&&(o?n.residualClasses=c:n.residualStyles=c),i}(u,c,n,o),function VT(t,n,i,o,u,c){let m=c?n.classBindings:n.styleBindings,I=pd(m),R=Ih(m);t[o]=i;let Z,F=!1;if(Array.isArray(i)?(Z=i[1],(null===Z||Ga(i,Z)>0)&&(F=!0)):Z=i,u)if(0!==R){const xe=pd(t[I+1]);t[o+1]=vy(xe,I),0!==xe&&(t[xe+1]=sv(t[xe+1],o)),t[I+1]=function LT(t,n){return 131071&t|n<<17}(t[I+1],o)}else t[o+1]=vy(I,0),0!==I&&(t[I+1]=sv(t[I+1],o)),I=o;else t[o+1]=vy(R,0),0===I?I=o:t[R+1]=sv(t[R+1],o),R=o;F&&(t[o+1]=iv(t[o+1])),Fw(t,Z,o,!0),Fw(t,Z,o,!1),function UT(t,n,i,o,u){const c=u?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&Ga(c,n)>=0&&(i[o+1]=ov(i[o+1]))}(n,Z,t,o,c),m=vy(I,R),c?n.classBindings=m:n.styleBindings=m}(u,c,n,i,m,o)}}(c,t,m,o),n!==mt&&Qs(u,m,n)&&function Kw(t,n,i,o,u,c,m,I){if(!(3&n.type))return;const R=t.data,F=R[I+1],Z=function FT(t){return 1==(1&t)}(F)?Qw(R,n,i,u,Ih(F),m):void 0;wy(Z)||(wy(c)||function kT(t){return 2==(2&t)}(F)&&(c=Qw(R,null,i,u,I,m)),function By(t,n,i,o,u){if(n)u?t.addClass(i,o):t.removeClass(i,o);else{let c=-1===o.indexOf("-")?void 0:Vl.DashCase;null==u?t.removeStyle(i,o,c):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),c|=Vl.Important),t.setStyle(i,o,u,c))}}(o,m,Ma(Gs(),i),u,c))}(c,c.data[Gs()],u,u[zt],t,u[m+1]=function n0(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=lt(Xu(t)))),t}(n,i),o,m)}(t,n,null,!0),av}function uv(t,n,i,o,u){let c=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(c=n[I],o=Dg(o,c.hostAttrs,u),c!==t);)I++;return null!==t&&(i.directiveStylingLast=I),o}function Dg(t,n,i){const o=i?1:2;let u=-1;if(null!==n)for(let c=0;c<n.length;c++){const m=n[c];"number"==typeof m?u=m:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),io(t,m,!!i||n[++c]))}return void 0===t?null:t}function Qw(t,n,i,o,u,c){const m=null===n;let I;for(;u>0;){const R=t[u],F=Array.isArray(R),Z=F?R[1]:R,ce=null===Z;let xe=i[u+1];xe===mt&&(xe=ce?Xn:void 0);let He=ce?Dd(xe,o):Z===o?xe:void 0;if(F&&!wy(He)&&(He=Dd(R,o)),wy(He)&&(I=He,m))return I;const Tt=t[u+1];u=m?pd(Tt):Ih(Tt)}if(null!==n){let R=c?n.residualClasses:n.residualStyles;null!=R&&(I=Dd(R,o))}return I}function wy(t){return void 0!==t}function Yw(t,n=""){const i=Ct(),o=zr(),u=t+ur,c=o.firstCreatePass?Dr(o,u,1,n,null):o.data[u],m=Jw(o,i,c,n,t);i[u]=m,yl()&&yf(o,i,m,c),yo(c,!1)}let Jw=(t,n,i,o,u)=>(Qo(!0),function na(t,n){return t.createText(n)}(n[zt],o));function lv(t){return Ey("",t,""),lv}function Ey(t,n,i){const o=Ct(),u=ud(o,t,n,i);return u!==mt&&ru(o,Gs(),u),Ey}function cv(t,n,i,o,u){const c=Ct(),m=function iu(t,n,i,o,u,c){const I=oc(t,Go(),i,u);return No(2),I?n+qe(i)+o+qe(u)+c:mt}(c,t,n,i,o,u);return m!==mt&&ru(c,Gs(),m),cv}function dv(t,n,i,o,u,c,m){const I=Ct(),R=ia(I,t,n,i,o,u,c,m);return R!==mt&&ru(I,Gs(),R),dv}function hv(t,n,i,o,u,c,m,I,R){const F=Ct(),Z=ac(F,t,n,i,o,u,c,m,I,R);return Z!==mt&&ru(F,Gs(),Z),hv}const Th=void 0;var A0=["en",[["a","p"],["AM","PM"],Th],[["AM","PM"],Th,Th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Th,"{1} 'at' {0}",Th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function b0(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let up={};function fv(t){const n=function D0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=mE(n);if(i)return i;const o=n.split("-")[0];if(i=mE(o),i)return i;if("en"===o)return A0;throw new Ye(701,!1)}function gE(t){return fv(t)[lp.PluralCase]}function mE(t){return t in up||(up[t]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[t]),up[t]}var lp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(lp||{});const cp="en-US";let yE=cp;function mv(t,n,i,o,u){if(t=be(t),Array.isArray(t))for(let c=0;c<t.length;c++)mv(t[c],n,i,o,u);else{const c=zr(),m=Ct(),I=Ss();let R=Wc(t)?t:be(t.provide);const F=Nf(t),Z=1048575&I.providerIndexes,ce=I.directiveStart,xe=I.providerIndexes>>20;if(Wc(t)||!t.multi){const He=new Vu(F,u,kn),Tt=_v(R,n,u?Z:Z+xe,ce);-1===Tt?(El(Uu(I,m),c,R),yv(c,t,n.length),n.push(R),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),i.push(He),m.push(He)):(i[Tt]=He,m[Tt]=He)}else{const He=_v(R,n,Z+xe,ce),Tt=_v(R,n,Z,Z+xe),ln=Tt>=0&&i[Tt];if(u&&!ln||!u&&!(He>=0&&i[He])){El(Uu(I,m),c,R);const Nn=function bb(t,n,i,o,u){const c=new Vu(t,i,kn);return c.multi=[],c.index=n,c.componentProviders=0,$E(c,u,o&&!i),c}(u?Tb:Ib,i.length,u,o,F);!u&&ln&&(i[Tt].providerFactory=Nn),yv(c,t,n.length,0),n.push(R),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),i.push(Nn),m.push(Nn)}else yv(c,t,He>-1?He:Tt,$E(i[u?Tt:He],F,!u&&o));!u&&o&&ln&&i[Tt].componentProviders++}}}function yv(t,n,i,o){const u=Wc(n),c=function tw(t){return!!t.useClass}(n);if(u||c){const R=(c?be(n.useClass):n).prototype.ngOnDestroy;if(R){const F=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const Z=F.indexOf(i);-1===Z?F.push(i,[o,R]):F[Z+1].push(o,R)}else F.push(i,R)}}}function $E(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function _v(t,n,i,o){for(let u=i;u<o;u++)if(n[u]===t)return u;return-1}function Ib(t,n,i,o){return vv(this.multi,[])}function Tb(t,n,i,o){const u=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Aa(i,i[Jt],this.providerFactory.index,o);c=I.slice(0,m),vv(u,c);for(let R=m;R<I.length;R++)c.push(I[R])}else c=[],vv(u,c);return c}function vv(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function HE(t,n=[]){return i=>{i.providersResolver=(o,u)=>function Eb(t,n,i){const o=zr();if(o.firstCreatePass){const u=Oe(t);mv(i,o.data,o.blueprint,u,!0),mv(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class bh{}class zE{}function Ab(t,n){return new wv(t,n??null,[])}class wv extends bh{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fg(this);const u=ds(n);this._bootstrapComponents=al(u.bootstrap),this._r3Injector=E_(n,i,[{provide:bh,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver},...o],lt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ev extends zE{constructor(n){super(),this.moduleType=n}create(n){return new wv(this.moduleType,n,[])}}class GE extends bh{constructor(n){super(),this.componentFactoryResolver=new fg(this),this.instance=null;const i=new pa([...n.providers,{provide:bh,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver}],n.parent||tl(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function WE(t,n,i=null){return new GE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let Cb=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=n_(0,i.type),u=o.length>0?WE([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,u)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=gt({token:t,providedIn:"environment",factory:()=>new t(_i(eu))})}return t})();function qE(t){t.getStandaloneInjector=n=>n.get(Cb).getOrCreateStandaloneInjector(t)}function eI(t,n,i){const o=ts()+t,u=Ct();return u[o]===mt?ra(u,o,i?n.call(i):n()):function Au(t,n){return t[n]}(u,o)}function tI(t,n,i,o){return function nI(t,n,i,o,u,c){const m=n+i;return Qs(t,m,u)?ra(t,m+1,c?o.call(c,u):o(u)):function xg(t,n){const i=t[n];return i===mt?void 0:i}(t,m+1)}(Ct(),ts(),t,n,i,o)}function Yb(){return this._results[Symbol.iterator]()}class Tv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new nu)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Tv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Yb)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const u=function Wo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Bh(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],c=n[o];if(i&&(u=i(u),c=i(c)),c!==u)return!1}return!0}(o._results,u,i))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Xb(t,n,i,o=!0){const u=n[Jt];if(function lf(t,n,i,o){const u=ai+o,c=i.length;o>0&&(i[u-1][pr]=n),o<c-ai?(n[pr]=i[u],pu(i,ai+o,n)):(i.push(n),n[pr]=null),n[Fr]=i;const m=n[Ki];null!==m&&i!==m&&function Bl(t,n){const i=t[Qi];n[Zr]!==n[Fr][Fr][Zr]&&(t[fo]=!0),null===i?t[Qi]=[n]:i.push(n)}(m,n);const I=n[zi];null!==I&&I.insertView(t),n[dn]|=128}(u,n,t,i),o){const c=Ud(i,t),m=n[zt],I=hf(m,t[Di]);null!==I&&function Uc(t,n,i,o,u,c){o[Or]=u,o[wi]=n,Bd(t,o,i,1,u,c)}(u,t[wi],m,n,I,c)}}let Og=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nA}return t})();const eA=Og,tA=class extends eA{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const u=function Jb(t,n,i,o){const u=n.tView,I=fi(t,u,i,4096&t[dn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);I[Ki]=t[n.index];const F=t[zi];return null!==F&&(I[zi]=F.createEmbeddedView(u)),lh(u,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new dh(u)}};function nA(){return Dy(Ss(),Ct())}function Dy(t,n){return 4&t.type?new tA(n,t,il(t,n)):null}let Sy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uA}return t})();function uA(){return fI(Ss(),Ct())}const lA=Sy,dI=class extends lA{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bu(this._hostTNode,this._hostLView);if(Ba(n)){const i=ko(n,this._hostLView),o=ja(n);return new Ws(i[Jt].data[o+8],i)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=hI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(n,i,o){let u,c;"number"==typeof o?u=o:null!=o&&(u=o.index,c=o.injector);const I=n.createEmbeddedViewImpl(i||{},c,null);return this.insertImpl(I,u,false),I}createComponent(n,i,o,u,c){const m=n&&!function Rl(t){return"function"==typeof t}(n);let I;if(m)I=i;else{const Bt=i||{};I=Bt.index,o=Bt.injector,u=Bt.projectableNodes,c=Bt.environmentInjector||Bt.ngModuleRef}const R=m?n:new id(Qn(n)),F=o||this.parentInjector;if(!c&&null==R.ngModule){const ln=(m?F:this.parentInjector).get(eu,null);ln&&(c=ln)}Qn(R.componentType??{});const He=R.create(F,u,null,c);return this.insertImpl(He.hostView,I,false),He}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const u=n._lView;if(function Ko(t){return H(t[Fr])}(u)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const F=u[Fr],Z=new dI(F,F[wi],F[Fr]);Z.detach(Z.indexOf(n))}}const m=this._adjustIndex(i),I=this._lContainer;return Xb(I,u,m,!o),n.attachToViewContainerRef(),pu(bv(I),m,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=hI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Yu(this._lContainer,i);o&&(Hu(bv(this._lContainer),i),jl(o[Jt],o))}detach(n){const i=this._adjustIndex(n,-1),o=Yu(this._lContainer,i);return o&&null!=Hu(bv(this._lContainer),i)?new dh(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function hI(t){return t[8]}function bv(t){return t[8]||(t[8]=[])}function fI(t,n){let i;const o=n[t.index];return H(o)?i=o:(i=lg(o,n,null,t),n[t.index]=i,Wf(n,i)),pI(i,n,t,o),new dI(i,t,n)}let pI=function gI(t,n,i,o){if(t[Di])return;let u;u=8&i.type?mr(o):function cA(t,n){const i=t[zt],o=i.createComment(""),u=Es(n,t);return Eu(i,hf(i,u),o,function Pp(t,n){return t.nextSibling(n)}(i,u),!1),o}(n,i),t[Di]=u};class Av{constructor(n){this.queryList=n,this.matches=null}clone(){return new Av(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let c=0;c<o;c++){const m=i.getByIndex(c);u.push(this.queries[m.indexInDeclarationView].clone())}return new Dv(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==bI(n,i).matches&&this.queries[i].setDirty()}}class mI{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class Cv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const u=null!==i?i.length:0,c=this.getByIndex(o).embeddedTView(n,u);c&&(c.indexInDeclarationView=o,null!==i?i.push(c):i=[c])}return null!==i?new Cv(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Sv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Sv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const c=o[u];this.matchTNodeWithReadOption(n,i,fA(i,c)),this.matchTNodeWithReadOption(n,i,fa(i,n,c,!1,!1))}else o===Og?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,fa(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===jf||u===Sy||u===Og&&4&i.type)this.addMatch(i.index,-2);else{const c=fa(i,n,u,!1,!1);null!==c&&this.addMatch(i.index,c)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function fA(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function gA(t,n,i,o){return-1===i?function pA(t,n){return 11&t.type?il(t,n):4&t.type?Dy(t,n):null}(n,t):-2===i?function mA(t,n,i){return i===jf?il(n,t):i===Og?Dy(n,t):i===Sy?fI(n,t):void 0}(t,n,o):Aa(t,t[Jt],i,n)}function yI(t,n,i,o){const u=n[zi].queries[o];if(null===u.matches){const c=t.data,m=i.matches,I=[];for(let R=0;R<m.length;R+=2){const F=m[R];I.push(F<0?null:gA(n,c[F],m[R+1],i.metadata.read))}u.matches=I}return u.matches}function Rv(t,n,i,o){const u=t.queries.getByIndex(i),c=u.matches;if(null!==c){const m=yI(t,n,u,i);for(let I=0;I<c.length;I+=2){const R=c[I];if(R>0)o.push(m[I/2]);else{const F=c[I+1],Z=n[-R];for(let ce=ai;ce<Z.length;ce++){const xe=Z[ce];xe[Ki]===xe[Fr]&&Rv(xe[Jt],xe,F,o)}if(null!==Z[Qi]){const ce=Z[Qi];for(let xe=0;xe<ce.length;xe++){const He=ce[xe];Rv(He[Jt],He,F,o)}}}}}return o}function _I(t){const n=Ct(),i=zr(),o=fe();it(o+1);const u=bI(i,o);if(t.dirty&&function fc(t){return 4==(4&t[dn])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const c=u.crossesNgTemplate?Rv(i,n,o,[]):yI(i,n,u,o);t.reset(c,uw),t.notifyOnChanges()}return!0}return!1}function vI(t,n,i){const o=zr();o.firstCreatePass&&(TI(o,new mI(t,n,i),-1),2==(2&n)&&(o.staticViewQueries=!0)),II(o,Ct(),n)}function wI(t,n,i,o){const u=zr();if(u.firstCreatePass){const c=Ss();TI(u,new mI(n,i,o),c.index),function _A(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}II(u,Ct(),i)}function EI(){return function yA(t,n){return t[zi].queries[n].queryList}(Ct(),fe())}function II(t,n,i){const o=new Tv(4==(4&i));(function V_(t,n,i,o){const u=dg(n);u.push(i),t.firstCreatePass&&qf(t).push(o,u.length-1)})(t,n,o,o.destroy),null===n[zi]&&(n[zi]=new Dv),n[zi].queries.push(new Av(o))}function TI(t,n,i){null===t.queries&&(t.queries=new Cv),t.queries.track(new Sv(n,i))}function bI(t,n){return t.queries.getByIndex(n)}function Pv(t){return!!ds(t)}const jI=new _n("Application Initializer");let kv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=Bn(jI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const u of this.appInits){const c=u();if(tv(c))i.push(c);else if(Tw(c)){const m=new Promise((I,R)=>{c.subscribe({complete:I,error:R})});i.push(m)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(u=>{this.reject(u)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$I=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Py=new _n("LocaleId",{providedIn:"root",factory:()=>Bn(Py,on.Optional|on.SkipSelf)||function BA(){return typeof $localize<"u"&&$localize.locale||cp}()}),jA=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let HI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HA{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let zA=(()=>{class t{compileModuleSync(i){return new Ev(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),c=al(ds(i).declarations).reduce((m,I)=>{const R=Qn(I);return R&&m.push(new id(R)),m},[]);return new HA(o,c)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const qI=new _n(""),KI=new _n("");let Vv,hD=(()=>{class t{constructor(i,o,u){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vv||(function fD(t){Vv=t}(u),u.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,u){let c=-1;o&&o>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==c),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:c,updateCb:u})}whenStable(i,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,u){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(_i(Eo),_i(QI),_i(KI))};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac})}return t})(),QI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return Vv?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),gd=null;const ZI=new _n("AllowMultipleToken"),Uv=new _n("PlatformDestroyListeners"),Bv=new _n("appBootstrapListener");class mD{constructor(n,i){this.name=n,this.token=i}}function XI(t,n,i=[]){const o=`Platform: ${n}`,u=new _n(o);return(c=[])=>{let m=jv();if(!m||m.injector.get(ZI,!1)){const I=[...i,...c,{provide:u,useValue:!0}];t?t(I):function yD(t){if(gd&&!gd.get(ZI,!1))throw new Ye(400,!1);(function YI(){!function st(t){ae=t}(()=>{throw new Ye(600,!1)})})(),gd=t;const n=t.get(tT);(function JI(t){t.get(Of,null)?.forEach(i=>i())})(t)}(function eT(t=[],n){return Ca.create({name:n,providers:[{provide:vm,useValue:"platform"},{provide:Uv,useValue:new Set([()=>gd=null])},...t]})}(I,o))}return function vD(t){const n=jv();if(!n)throw new Ye(401,!1);return n}()}}function jv(){return gd?.get(tT)??null}let tT=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const u=function wD(t="zone.js",n){return"noop"===t?new C_:"zone.js"===t?new Eo(n):t}(o?.ngZone,function nT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return u.run(()=>{const c=function Db(t,n,i){return new wv(t,n,i)}(i.moduleType,this.injector,function aT(t){return[{provide:Eo,useFactory:t},{provide:Gc,multi:!0,useFactory:()=>{const n=Bn(ID,{optional:!0});return()=>n.initialize()}},{provide:oT,useFactory:ED},{provide:S_,useFactory:R_}]}(()=>u)),m=c.injector.get(tu,null);return u.runOutsideAngular(()=>{const I=u.onError.subscribe({next:R=>{m.handleError(R)}});c.onDestroy(()=>{xy(this._modules,c),I.unsubscribe()})}),function rT(t,n,i){try{const o=i();return tv(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(m,u,()=>{const I=c.injector.get(kv);return I.runInitializers(),I.donePromise.then(()=>(function _E(t){wt(t,"Expected localeId to be defined"),"string"==typeof t&&(yE=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Py,cp)||cp),this._moduleDoBootstrap(c),c))})})}bootstrapModule(i,o=[]){const u=iT({},o);return function pD(t,n,i){const o=new Ev(i);return Promise.resolve(o)}(0,0,i).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(i){const o=i.injector.get(fp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!i.instance.ngDoBootstrap)throw new Ye(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(Uv,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(_i(Ca))};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function iT(t,n){return Array.isArray(n)?n.reduce(iT,t):{...t,...n}}let fp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bn(oT),this.zoneIsStable=Bn(S_),this.componentTypes=[],this.components=[],this.isStable=Bn(HI).hasPendingTasks.pipe((0,Xt.w)(i=>i?(0,ye.of)(!1):this.zoneIsStable),function qn(t,n=mn.y){return t=t??cn,(0,Rt.e)((i,o)=>{let u,c=!0;i.subscribe((0,gn.x)(o,m=>{const I=n(m);(c||!t(u,I))&&(c=!1,u=I,o.next(m))}))})}(),ct()),this._injector=Bn(eu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const u=i instanceof h_;if(!this._injector.get(kv).done)throw!u&&cs(i),new Ye(405,!1);let m;m=u?i:this._injector.get(Jd).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const I=function gD(t){return t.isBoundToModule}(m)?void 0:this._injector.get(bh),F=m.create(Ca.NULL,[],o||m.selector,I),Z=F.location.nativeElement,ce=F.injector.get(qI,null);return ce?.registerApplication(Z),F.onDestroy(()=>{this.detachView(F.hostView),xy(this.components,F),ce?.unregisterApplication(Z)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;xy(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(Bv,[]);o.push(...this._bootstrapListeners),o.forEach(u=>u(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>xy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ye(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const oT=new _n("",{providedIn:"root",factory:()=>Bn(tu).handleError.bind(void 0)});function ED(){const t=Bn(Eo),n=Bn(tu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let ID=(()=>{class t{constructor(){this.zone=Bn(Eo),this.applicationRef=Bn(fp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let bD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=AD}return t})();function AD(t){return function DD(t,n,i){if(he(t)&&!i){const o=mo(t.index,n);return new dh(o,o)}return 47&t.type?new dh(n[Zr],n):null}(Ss(),Ct(),16==(16&t))}class dT{constructor(){}supports(n){return ma(n)}create(n){return new xD(n)}}const MD=(t,n)=>n;class xD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MD}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,u=0,c=null;for(;i||o;){const m=!o||i&&i.currentIndex<fT(o,u,c)?i:o,I=fT(m,u,c),R=m.currentIndex;if(m===o)u--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)u++;else{c||(c=[]);const F=I-u,Z=R-u;if(F!=Z){for(let xe=0;xe<F;xe++){const He=xe<c.length?c[xe]:c[xe]=0,Tt=He+xe;Z<=Tt&&Tt<F&&(c[xe]=He+1)}c[m.previousIndex]=Z-F}}I!==R&&n(m,I,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ma(n))throw new Ye(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,c,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)c=n[I],m=this._trackByFn(I,c),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,c,m,I)),Object.is(i.item,c)||this._addIdentityChange(i,c)):(i=this._mismatch(i,c,m,I),o=!0),i=i._next}else u=0,function ep(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,I=>{m=this._trackByFn(u,I),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,I,m,u)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,u),o=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,u){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,c,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,c,u)):n=this._addAfter(new ND(i,o),c,u),n}_verifyReinsertion(n,i,o,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?n=this._reinsertAfter(c,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,c=n._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new hT),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ND{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class hT{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new OD,this.map.set(i,o)),o.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fT(t,n,i){const o=t.previousIndex;if(null===o)return o;let u=0;return i&&o<i.length&&(u=i[o]),o+n+u}class pT{constructor(){}supports(n){return n instanceof Map||tp(n)}create(){return new kD}}class kD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||tp(n)))throw new Ye(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const c=this._getOrCreateRecordForKey(u,o);i=this._insertBeforeOrAppend(i,c)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const c=u._prev,m=u._next;return c&&(c._next=m),m&&(m._prev=c),u._next=null,u._prev=null,u}const o=new LD(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class LD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gT(){return new Wv([new dT])}let Wv=(()=>{class t{static#e=this.\u0275prov=gt({token:t,providedIn:"root",factory:gT});constructor(i){this.factories=i}static create(i,o){if(null!=o){const u=o.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||gT()),deps:[[t,new Wu,new xl]]}}find(i){const o=this.factories.find(u=>u.supports(i));if(null!=o)return o;throw new Ye(901,!1)}}return t})();function mT(){return new qv([new pT])}let qv=(()=>{class t{static#e=this.\u0275prov=gt({token:t,providedIn:"root",factory:mT});constructor(i){this.factories=i}static create(i,o){if(o){const u=o.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||mT()),deps:[[t,new Wu,new xl]]}}find(i){const o=this.factories.find(u=>u.supports(i));if(o)return o;throw new Ye(901,!1)}}return t})();const UD=XI(null,"core",[]);let BD=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(_i(fp))};static#t=this.\u0275mod=vs({type:t});static#n=this.\u0275inj=Mn({})}return t})();function YD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XD(t){const n=Qn(t);if(!n)return null;const i=new id(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},721:(In,yt,Y)=>{"use strict";Y.d(yt,{Ot:()=>ze,ZF:()=>mn,hX:()=>Rt,z6:()=>ue});var S=Y(3182),we=Y(4946),Ce=Y(4810);class ze{constructor(rt){return rt}}class ue{constructor(){return(0,S.C6)()}}const At=new we.OlP("angularfire2._apps"),vt={provide:ze,useFactory:function Ve(Ae){return Ae&&1===Ae.length?Ae[0]:new ze((0,S.Mq)())},deps:[[new we.FiY,At]]},ge={provide:ue,deps:[[new we.FiY,At]]};function ye(Ae){return(rt,lt)=>{const Ft=rt.runOutsideAngular(()=>Ae(lt));return new ze(Ft)}}let We=(()=>{class Ae{constructor(lt){(0,S.KN)("angularfire",Ce.q4.full,"core"),(0,S.KN)("angularfire",Ce.q4.full,"app"),(0,S.KN)("angular",we.q4F.full,lt.toString())}static \u0275fac=function(Ft){return new(Ft||Ae)(we.LFG(we.Lbi))};static \u0275mod=we.oAB({type:Ae});static \u0275inj=we.cJS({providers:[vt,ge]})}return Ae})();function Rt(Ae,...rt){return{ngModule:We,providers:[{provide:At,useFactory:ye(Ae),multi:!0,deps:[we.R0b,we.zs3,Ce.HU,...rt]}]}}const mn=(0,Ce.u3)(S.ZF,!0)},90:(In,yt,Y)=>{"use strict";Y.d(yt,{dh:()=>Ku,Xb:()=>Kh,v0:()=>Zh,JB:()=>Pd,AR:()=>Nl,oo:()=>Lc,P6:()=>Ka});var S=Y(4810),we=Y(4946),Ce=Y(721),ze=Y(3182),ue=Y(5861),Le=Y(534),Ve=Y(9058),At=Y(7879),vt=Y(7582),ge=Y(4537);const qn=function mn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cn=new Ve.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new At.Yd("@firebase/auth");function Ft(w,...d){rt.logLevel<=At.in.ERROR&&rt.error(`Auth (${Le.Jn}): ${w}`,...d)}function Ht(w,...d){throw xi(w,...d)}function Nt(w,...d){return xi(w,...d)}function be(w,d,p){const b=Object.assign(Object.assign({},qn()),{[d]:p});return new Ve.LL("auth","Firebase",b).create(d,{appName:w.name})}function kt(w){return be(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xi(w,...d){if("string"!=typeof w){const p=d[0],b=[...d.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(p,...b)}return cn.create(w,...d)}function Ie(w,d,...p){if(!w)throw xi(d,...p)}function Ye(w){const d="INTERNAL ASSERTION FAILED: "+w;throw Ft(d),new Error(d)}function $n(w,d){w||Ye(d)}function qe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Q(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class nt{constructor(d,p){this.shortDelay=d,this.longDelay=p,$n(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Ve.uI)()||(0,Ve.b$)()}get(){return function Ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ne(){return"http:"===Q()||"https:"===Q()}()||(0,Ve.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function je(w,d){$n(w.emulator,"Emulator should always be set here");const{url:p}=w.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ke{static initialize(d,p,b){this.fetchImpl=d,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vt=new nt(3e4,6e4);function qt(w,d){return w.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:w.tenantId}):d}function bt(w,d,p,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,ue.Z)(function*(w,d,p,b,$={}){return Er(w,$,(0,ue.Z)(function*(){let ie={},Re={};b&&("GET"===d?Re=b:ie={body:JSON.stringify(b)});const ut=(0,Ve.xO)(Object.assign({key:w.config.apiKey},Re)).slice(1),xt=yield w._getAdditionalHeaders();return xt["Content-Type"]="application/json",w.languageCode&&(xt["X-Firebase-Locale"]=w.languageCode),ke.fetch()(Kn(w,w.config.apiHost,p,ut),Object.assign({method:d,headers:xt,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function Er(w,d,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,ue.Z)(function*(w,d,p){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},pt),d);try{const $=new wt(w),ie=yield Promise.race([p(),$.promise]);$.clearNetworkTimeout();const Re=yield ie.json();if("needConfirmation"in Re)throw sn(w,"account-exists-with-different-credential",Re);if(ie.ok&&!("errorMessage"in Re))return Re;{const ut=ie.ok?Re.errorMessage:Re.error.message,[xt,yn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xt)throw sn(w,"credential-already-in-use",Re);if("EMAIL_EXISTS"===xt)throw sn(w,"email-already-in-use",Re);if("USER_DISABLED"===xt)throw sn(w,"user-disabled",Re);const Fn=b[xt]||xt.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw be(w,Fn,yn);Ht(w,Fn)}}catch($){if($ instanceof Ve.ZR)throw $;Ht(w,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Ot(w,d,p,b){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ue.Z)(function*(w,d,p,b,$={}){const ie=yield bt(w,d,p,b,$);return"mfaPendingCredential"in ie&&Ht(w,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function Kn(w,d,p,b){const $=`${d}${p}?${b}`;return w.config.emulator?je(w.config,$):`${w.config.apiScheme}://${$}`}function bn(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(Nt(this.auth,"network-request-failed")),Vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sn(w,d,p){const b={appName:w.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const $=Nt(w,d,b);return $.customData._tokenResponse=p,$}function An(w){return void 0!==w&&void 0!==w.enterprise}class Hn{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===d)return bn(p.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function Mn(w,d){return fn.apply(this,arguments)}function fn(){return(fn=(0,ue.Z)(function*(w,d){return bt(w,"GET","/v2/recaptchaConfig",qt(w,d))})).apply(this,arguments)}function lr(){return(lr=(0,ue.Z)(function*(w,d){return bt(w,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Ur(w,d){return ki.apply(this,arguments)}function ki(){return(ki=(0,ue.Z)(function*(w,d){return bt(w,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Rn(w){if(w)try{const d=new Date(Number(w));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function us(){return(us=(0,ue.Z)(function*(w,d=!1){const p=(0,Ve.m9)(w),b=yield p.getIdToken(d),$=Br(b);Ie($&&$.exp&&$.auth_time&&$.iat,p.auth,"internal-error");const ie="object"==typeof $.firebase?$.firebase:void 0,Re=ie?.sign_in_provider;return{claims:$,token:b,authTime:Rn(ci($.auth_time)),issuedAtTime:Rn(ci($.iat)),expirationTime:Rn(ci($.exp)),signInProvider:Re||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function ci(w){return 1e3*Number(w)}function Br(w){const[d,p,b]=w.split(".");if(void 0===d||void 0===p||void 0===b)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,Ve.tV)(p);return $?JSON.parse($):(Ft("Failed to decode base64 JWT payload"),null)}catch($){return Ft("Caught error parsing JWT payload as JSON",$?.toString()),null}}function Se(w){const d=Br(w);return Ie(d,"internal-error"),Ie(typeof d.exp<"u","internal-error"),Ie(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function ir(w,d){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,ue.Z)(function*(w,d,p=!1){if(p)return d;try{return yield d}catch(b){throw b instanceof Ve.ZR&&function Bi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}class ti{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const $=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(d);this.timerId=setTimeout((0,ue.Z)(function*(){yield p.iteration()}),b)}iteration(){var d=this;return(0,ue.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class _n{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(w){return pi.apply(this,arguments)}function pi(){return(pi=(0,ue.Z)(function*(w){var d;const p=w.auth,b=yield w.getIdToken(),$=yield ir(w,Ur(p,{idToken:b}));Ie($?.users.length,p,"internal-error");const ie=$.users[0];w._notifyReloadListener(ie);const Re=null!==(d=ie.providerUserInfo)&&void 0!==d&&d.length?re(ie.providerUserInfo):[],ut=function ee(w,d){return[...w.filter(b=>!d.some($=>$.providerId===b.providerId)),...d]}(w.providerData,Re),Fn=!!w.isAnonymous&&!(w.email&&ie.passwordHash||ut?.length),Gr={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:ut,metadata:new _n(ie.createdAt,ie.lastLoginAt),isAnonymous:Fn};Object.assign(w,Gr)})).apply(this,arguments)}function me(){return(me=(0,ue.Z)(function*(w){const d=(0,Ve.m9)(w);yield cr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function re(w){return w.map(d=>{var{providerId:p}=d,b=(0,vt._T)(d,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function te(){return(te=(0,ue.Z)(function*(w,d){const p=yield Er(w,{},(0,ue.Z)(function*(){const b=(0,Ve.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:$,apiKey:ie}=w.config,Re=Kn(w,$,"/v1/token",`key=${ie}`),ut=yield w._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Re,{method:"POST",headers:ut,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Et(){return(Et=(0,ue.Z)(function*(w,d){return bt(w,"POST","/v2/accounts:revokeToken",qt(w,d))})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ie(d.idToken,"internal-error"),Ie(typeof d.idToken<"u","internal-error"),Ie(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Se(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}updateFromIdToken(d){Ie(0!==d.length,"internal-error");const p=Se(d);this.updateTokensAndExpiration(d,null,p)}getToken(d,p=!1){var b=this;return(0,ue.Z)(function*(){return p||!b.accessToken||b.isExpired?(Ie(b.refreshToken,d,"user-token-expired"),b.refreshToken?(yield b.refresh(d,b.refreshToken),b.accessToken):null):b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var b=this;return(0,ue.Z)(function*(){const{accessToken:$,refreshToken:ie,expiresIn:Re}=yield function J(w,d){return te.apply(this,arguments)}(d,p);b.updateTokensAndExpiration($,ie,Number(Re))})()}updateTokensAndExpiration(d,p,b){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(d,p){const{refreshToken:b,accessToken:$,expirationTime:ie}=p,Re=new Lt;return b&&(Ie("string"==typeof b,"internal-error",{appName:d}),Re.refreshToken=b),$&&(Ie("string"==typeof $,"internal-error",{appName:d}),Re.accessToken=$),ie&&(Ie("number"==typeof ie,"internal-error",{appName:d}),Re.expirationTime=ie),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function jt(w,d){Ie("string"==typeof w||typeof w>"u","internal-error",{appName:d})}class pn{constructor(d){var{uid:p,auth:b,stsTokenManager:$}=d,ie=(0,vt._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new _n(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,ue.Z)(function*(){const b=yield ir(p,p.stsTokenManager.getToken(p.auth,d));return Ie(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(d){return function on(w){return us.apply(this,arguments)}(this,d)}reload(){return function wn(w){return me.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ie(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new pn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var b=this;return(0,ue.Z)(function*(){let $=!1;d.idToken&&d.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(d),$=!0),p&&(yield cr(b)),yield b.auth._persistUserIfCurrent(b),$&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var d=this;return(0,ue.Z)(function*(){if((0,Le.rh)(d.auth.app))return Promise.reject(kt(d.auth));const p=yield d.getIdToken();return yield ir(d,function Mr(w,d){return lr.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var b,$,ie,Re,ut,xt,yn,Fn;const Gr=null!==(b=p.displayName)&&void 0!==b?b:void 0,Ls=null!==($=p.email)&&void 0!==$?$:void 0,na=null!==(ie=p.phoneNumber)&&void 0!==ie?ie:void 0,wu=null!==(Re=p.photoURL)&&void 0!==Re?Re:void 0,Vc=null!==(ut=p.tenantId)&&void 0!==ut?ut:void 0,Qa=null!==(xt=p._redirectEventId)&&void 0!==xt?xt:void 0,Fd=null!==(yn=p.createdAt)&&void 0!==yn?yn:void 0,Uc=null!==(Fn=p.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:Ul,emailVerified:Bc,isAnonymous:lf,providerData:Bl,stsTokenManager:Vd}=p;Ie(Ul&&Vd,d,"internal-error");const Yu=Lt.fromJSON(this.name,Vd);Ie("string"==typeof Ul,d,"internal-error"),jt(Gr,d.name),jt(Ls,d.name),Ie("boolean"==typeof Bc,d,"internal-error"),Ie("boolean"==typeof lf,d,"internal-error"),jt(na,d.name),jt(wu,d.name),jt(Vc,d.name),jt(Qa,d.name),jt(Fd,d.name),jt(Uc,d.name);const jl=new pn({uid:Ul,auth:d,email:Ls,emailVerified:Bc,displayName:Gr,isAnonymous:lf,photoURL:wu,phoneNumber:na,tenantId:Vc,stsTokenManager:Yu,createdAt:Fd,lastLoginAt:Uc});return Bl&&Array.isArray(Bl)&&(jl.providerData=Bl.map($l=>Object.assign({},$l))),Qa&&(jl._redirectEventId=Qa),jl}static _fromIdTokenResponse(d,p,b=!1){return(0,ue.Z)(function*(){const $=new Lt;$.updateFromServerResponse(p);const ie=new pn({uid:p.localId,auth:d,stsTokenManager:$,isAnonymous:b});return yield cr(ie),ie})()}static _fromGetAccountInfoResponse(d,p,b){return(0,ue.Z)(function*(){const $=p.users[0];Ie(void 0!==$.localId,"internal-error");const ie=void 0!==$.providerUserInfo?re($.providerUserInfo):[],Re=!($.email&&$.passwordHash||ie?.length),ut=new Lt;ut.updateFromIdToken(b);const xt=new pn({uid:$.localId,auth:d,stsTokenManager:ut,isAnonymous:Re}),yn={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:ie,metadata:new _n($.createdAt,$.lastLoginAt),isAnonymous:!($.email&&$.passwordHash||ie?.length)};return Object.assign(xt,yn),xt})()}}const Pn=new Map;function rn(w){$n(w instanceof Function,"Expected a class definition");let d=Pn.get(w);return d?($n(d instanceof w,"Instance stored in cache mismatched with class"),d):(d=new w,Pn.set(w,d),d)}const bi=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(p,b){var $=this;return(0,ue.Z)(function*(){$.storage[p]=b})()}_get(p){var b=this;return(0,ue.Z)(function*(){const $=b.storage[p];return void 0===$?null:$})()}_remove(p){var b=this;return(0,ue.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return w.type="NONE",w})();function ji(w,d,p){return`firebase:${w}:${d}:${p}`}class gi{constructor(d,p,b){this.persistence=d,this.auth=p,this.userKey=b;const{config:$,name:ie}=this.auth;this.fullUserKey=ji(this.userKey,$.apiKey,ie),this.fullPersistenceKey=ji("persistence",$.apiKey,ie),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ue.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?pn._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,ue.Z)(function*(){if(p.persistence===d)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,b="authUser"){return(0,ue.Z)(function*(){if(!p.length)return new gi(rn(bi),d,b);const $=(yield Promise.all(p.map(function(){var yn=(0,ue.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let ie=$[0]||rn(bi);const Re=ji(b,d.config.apiKey,d.name);let ut=null;for(const yn of p)try{const Fn=yield yn._get(Re);if(Fn){const Gr=pn._fromJSON(d,Fn);yn!==ie&&(ut=Gr),ie=yn;break}}catch{}const xt=$.filter(yn=>yn._shouldAllowMigration);return ie._shouldAllowMigration&&xt.length?(ie=xt[0],ut&&(yield ie._set(Re,ut.toJSON())),yield Promise.all(p.map(function(){var yn=(0,ue.Z)(function*(Fn){if(Fn!==ie)try{yield Fn._remove(Re)}catch{}});return function(Fn){return yn.apply(this,arguments)}}())),new gi(ie,d,b)):new gi(ie,d,b)})()}}function Rs(w){const d=w.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Zs(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(oi(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(et(d))return"Blackberry";if(Ue(d))return"Webos";if(lo(d))return"Safari";if((d.includes("chrome/")||_i(d))&&!d.includes("edge/"))return"Chrome";if(Bn(d))return"Android";{const b=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function oi(w=(0,Ve.z$)()){return/firefox\//i.test(w)}function lo(w=(0,Ve.z$)()){const d=w.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function _i(w=(0,Ve.z$)()){return/crios\//i.test(w)}function Zs(w=(0,Ve.z$)()){return/iemobile/i.test(w)}function Bn(w=(0,Ve.z$)()){return/android/i.test(w)}function et(w=(0,Ve.z$)()){return/blackberry/i.test(w)}function Ue(w=(0,Ve.z$)()){return/webos/i.test(w)}function dt(w=(0,Ve.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Sn(w=(0,Ve.z$)()){return dt(w)||Bn(w)||Ue(w)||et(w)||/windows phone/i.test(w)||Zs(w)}function tr(w,d=[]){let p;switch(w){case"Browser":p=Rs((0,Ve.z$)());break;case"Worker":p=`${Rs((0,Ve.z$)())}-${w}`;break;default:p=w}const b=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${Le.Jn}/${b}`}class ni{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const b=ie=>new Promise((Re,ut)=>{try{Re(d(ie))}catch(xt){ut(xt)}});b.onAbort=p,this.queue.push(b);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,ue.Z)(function*(){if(p.auth.currentUser===d)return;const b=[];try{for(const $ of p.queue)yield $(d),$.onAbort&&b.push($.onAbort)}catch($){b.reverse();for(const ie of b)try{ie()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}function Wr(){return(Wr=(0,ue.Z)(function*(w,d={}){return bt(w,"GET","/v2/passwordPolicy",qt(w,d))})).apply(this,arguments)}class Ao{constructor(d){var p,b,$,ie;const Re=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Re.minPasswordLength)&&void 0!==p?p:6,Re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Re.maxPasswordLength),void 0!==Re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Re.containsLowercaseCharacter),void 0!==Re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Re.containsUppercaseCharacter),void 0!==Re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Re.containsNumericCharacter),void 0!==Re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Re.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==($=null===(b=d.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==$?$:"",this.forceUpgradeOnSignin=null!==(ie=d.forceUpgradeOnSignin)&&void 0!==ie&&ie,this.schemaVersion=d.schemaVersion}validatePassword(d){var p,b,$,ie,Re,ut;const xt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,xt),this.validatePasswordCharacterOptions(d,xt),xt.isValid&&(xt.isValid=null===(p=xt.meetsMinPasswordLength)||void 0===p||p),xt.isValid&&(xt.isValid=null===(b=xt.meetsMaxPasswordLength)||void 0===b||b),xt.isValid&&(xt.isValid=null===($=xt.containsLowercaseLetter)||void 0===$||$),xt.isValid&&(xt.isValid=null===(ie=xt.containsUppercaseLetter)||void 0===ie||ie),xt.isValid&&(xt.isValid=null===(Re=xt.containsNumericCharacter)||void 0===Re||Re),xt.isValid&&(xt.isValid=null===(ut=xt.containsNonAlphanumericCharacter)||void 0===ut||ut),xt}validatePasswordLengthOptions(d,p){const b=this.customStrengthOptions.minPasswordLength,$=this.customStrengthOptions.maxPasswordLength;b&&(p.meetsMinPasswordLength=d.length>=b),$&&(p.meetsMaxPasswordLength=d.length<=$)}validatePasswordCharacterOptions(d,p){let b;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let $=0;$<d.length;$++)b=d.charAt($),this.updatePasswordCharacterOptionsStatuses(p,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(d,p,b,$,ie){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=$)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=ie))}}class sr{constructor(d,p,b,$){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=b,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kt(this),this.idTokenSubscription=new Kt(this),this.beforeStateQueue=new ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(d,p){var b=this;return p&&(this._popupRedirectResolver=rn(p)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var $,ie;if(!b._deleted&&(b.persistenceManager=yield gi.create(b,d),!b._deleted)){if(null!==($=b._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(ie=b.currentUser)||void 0===ie?void 0:ie.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ue.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(d){var p=this;return(0,ue.Z)(function*(){try{const b=yield Ur(p,{idToken:d}),$=yield pn._fromGetAccountInfoResponse(p,b,d);yield p.directlySetCurrentUser($)}catch(b){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",b),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var p=this;return(0,ue.Z)(function*(){var b;if((0,Le.rh)(p.app)){const ut=p.app.settings.authIdToken;return ut?new Promise(xt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(ut).then(xt,xt))}):p.directlySetCurrentUser(null)}const $=yield p.assertedPersistence.getCurrentUser();let ie=$,Re=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ut=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,xt=ie?._redirectEventId,yn=yield p.tryRedirectSignIn(d);(!ut||ut===xt)&&yn?.user&&(ie=yn.user,Re=!0)}if(!ie)return p.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Re)try{yield p.beforeStateQueue.runMiddleware(ie)}catch(ut){ie=$,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ut))}return ie?p.reloadAndSetCurrentUserOrClear(ie):p.directlySetCurrentUser(null)}return Ie(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ie._redirectEventId?p.directlySetCurrentUser(ie):p.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(d){var p=this;return(0,ue.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,ue.Z)(function*(){try{yield cr(d)}catch(b){if("auth/network-request-failed"!==b?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var d=this;return(0,ue.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,ue.Z)(function*(){if((0,Le.rh)(p.app))return Promise.reject(kt(p));const b=d?(0,Ve.m9)(d):null;return b&&Ie(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(d,p=!1){var b=this;return(0,ue.Z)(function*(){if(!b._deleted)return d&&Ie(b.tenantId===d.tenantId,b,"tenant-id-mismatch"),p||(yield b.beforeStateQueue.runMiddleware(d)),b.queue((0,ue.Z)(function*(){yield b.directlySetCurrentUser(d),b.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,ue.Z)(function*(){return(0,Le.rh)(d.app)?Promise.reject(kt(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var p=this;return(0,Le.rh)(this.app)?Promise.reject(kt(this)):this.queue((0,ue.Z)(function*(){yield p.assertedPersistence.setPersistence(rn(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var p=this;return(0,ue.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const b=p._getPasswordPolicyInternal();return b.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,ue.Z)(function*(){const p=yield function Xn(w){return Wr.apply(this,arguments)}(d),b=new Ao(p);null===d.tenantId?d._projectPasswordPolicy=b:d._tenantPasswordPolicies[d.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Ve.LL("auth","Firebase",d())}onAuthStateChanged(d,p,b){return this.registerStateListener(this.authStateSubscription,d,p,b)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,b){return this.registerStateListener(this.idTokenSubscription,d,p,b)}authStateReady(){return new Promise((d,p)=>{if(this.currentUser)d();else{const b=this.onAuthStateChanged(()=>{b(),d()},p)}})}revokeAccessToken(d){var p=this;return(0,ue.Z)(function*(){if(p.currentUser){const b=yield p.currentUser.getIdToken(),$={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:b};null!=p.tenantId&&($.tenantId=p.tenantId),yield function Fe(w,d){return Et.apply(this,arguments)}(p,$)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var b=this;return(0,ue.Z)(function*(){const $=yield b.getOrInitRedirectPersistenceManager(p);return null===d?$.removeCurrentUser():$.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,ue.Z)(function*(){if(!p.redirectPersistenceManager){const b=d&&rn(d)||p._popupRedirectResolver;Ie(b,p,"argument-error"),p.redirectPersistenceManager=yield gi.create(p,[rn(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,ue.Z)(function*(){var b,$;return p._isInitialized&&(yield p.queue((0,ue.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===d?p._currentUser:(null===($=p.redirectUser)||void 0===$?void 0:$._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,ue.Z)(function*(){if(d===p.currentUser)return p.queue((0,ue.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,b,$){if(this._deleted)return()=>{};const ie="function"==typeof p?p:p.next.bind(p);let Re=!1;const ut=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(ut,this,"internal-error"),ut.then(()=>{Re||ie(this.currentUser)}),"function"==typeof p){const xt=d.addObserver(p,b,$);return()=>{Re=!0,xt()}}{const xt=d.addObserver(p);return()=>{Re=!0,xt()}}}directlySetCurrentUser(d){var p=this;return(0,ue.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ue.Z)(function*(){var p;const b={"X-Client-Version":d.clientVersion};d.app.options.appId&&(b["X-Firebase-gmpid"]=d.app.options.appId);const $=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();$&&(b["X-Firebase-Client"]=$);const ie=yield d._getAppCheckToken();return ie&&(b["X-Firebase-AppCheck"]=ie),b})()}_getAppCheckToken(){var d=this;return(0,ue.Z)(function*(){var p;const b=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return b?.error&&function lt(w,...d){rt.logLevel<=At.in.WARN&&rt.warn(`Auth (${Le.Jn}): ${w}`,...d)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Ln(w){return(0,Ve.m9)(w)}class Kt{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Ve.ne)(p=>this.observer=p)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dt={loadJS:()=>(0,ue.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vn(w){return Dt.loadJS(w)}function or(w){return`__${w}${Math.floor(1e6*Math.random())}`}class jr{constructor(d){this.type="recaptcha-enterprise",this.auth=Ln(d)}verify(d="verify",p=!1){var b=this;return(0,ue.Z)(function*(){function ie(){return ie=(0,ue.Z)(function*(ut){if(!p){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var xt=(0,ue.Z)(function*(yn,Fn){Mn(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gr=>{if(void 0!==Gr.recaptchaKey){const Ls=new Hn(Gr);return null==ut.tenantId?ut._agentRecaptchaConfig=Ls:ut._tenantRecaptchaConfigs[ut.tenantId]=Ls,yn(Ls.siteKey)}Fn(new Error("recaptcha Enterprise site key undefined"))}).catch(Gr=>{Fn(Gr)})});return function(yn,Fn){return xt.apply(this,arguments)}}())}),ie.apply(this,arguments)}function Re(ut,xt,yn){const Fn=window.grecaptcha;An(Fn)?Fn.enterprise.ready(()=>{Fn.enterprise.execute(ut,{action:d}).then(Gr=>{xt(Gr)}).catch(()=>{xt("NO_RECAPTCHA")})}):yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,xt)=>{(function $(ut){return ie.apply(this,arguments)})(b.auth).then(yn=>{if(!p&&An(window.grecaptcha))Re(yn,ut,xt);else{if(typeof window>"u")return void xt(new Error("RecaptchaVerifier is only supported in browser"));let Fn=function ri(){return Dt.recaptchaEnterpriseScript}();0!==Fn.length&&(Fn+=yn),vn(Fn).then(()=>{Re(yn,ut,xt)}).catch(Gr=>{xt(Gr)})}}).catch(yn=>{xt(yn)})})})()}}function vi(w,d,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,ue.Z)(function*(w,d,p,b=!1){const $=new jr(w);let ie;try{ie=yield $.verify(p)}catch{ie=yield $.verify(p,!0)}const Re=Object.assign({},d);return Object.assign(Re,b?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re})).apply(this,arguments)}function ar(w,d,p,b){return Do.apply(this,arguments)}function Do(){return Do=(0,ue.Z)(function*(w,d,p,b){var $;if(null!==($=w._getRecaptchaConfig())&&void 0!==$&&$.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ie=yield vi(w,d,p,"getOobCode"===p);return b(w,ie)}return b(w,d).catch(function(){var ie=(0,ue.Z)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ut=yield vi(w,d,p,"getOobCode"===p);return b(w,ut)}return Promise.reject(Re)});return function(Re){return ie.apply(this,arguments)}}())}),Do.apply(this,arguments)}function Ps(w){const d=w.indexOf(":");return d<0?"":w.substr(0,d+1)}function Ms(w){if(!w)return null;const d=Number(w);return isNaN(d)?null:d}class so{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Ye("not implemented")}_getIdTokenResponse(d){return Ye("not implemented")}_linkToIdToken(d,p){return Ye("not implemented")}_getReauthenticationResolver(d){return Ye("not implemented")}}function co(w,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,ue.Z)(function*(w,d){return bt(w,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Qn(w,d){return $r.apply(this,arguments)}function $r(){return($r=(0,ue.Z)(function*(w,d){return Ot(w,"POST","/v1/accounts:signInWithPassword",qt(w,d))})).apply(this,arguments)}function cs(){return(cs=(0,ue.Z)(function*(w,d){return bt(w,"POST","/v1/accounts:sendOobCode",qt(w,d))})).apply(this,arguments)}function Jo(w,d){return ho.apply(this,arguments)}function ho(){return(ho=(0,ue.Z)(function*(w,d){return function Nr(w,d){return cs.apply(this,arguments)}(w,d)})).apply(this,arguments)}function Fr(){return(Fr=(0,ue.Z)(function*(w,d){return Ot(w,"POST","/v1/accounts:signInWithEmailLink",qt(w,d))})).apply(this,arguments)}function is(){return(is=(0,ue.Z)(function*(w,d){return Ot(w,"POST","/v1/accounts:signInWithEmailLink",qt(w,d))})).apply(this,arguments)}class wi extends so{constructor(d,p,b,$=null){super("password",b),this._email=d,this._password=p,this._tenantId=$}static _fromEmailAndPassword(d,p){return new wi(d,p,"password")}static _fromEmailAndCode(d,p,b=null){return new wi(d,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,ue.Z)(function*(){switch(p.signInMethod){case"password":return ar(d,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qn);case"emailLink":return function dn(w,d){return Fr.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Ht(d,"internal-error")}})()}_linkToIdToken(d,p){var b=this;return(0,ue.Z)(function*(){switch(b.signInMethod){case"password":return ar(d,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",co);case"emailLink":return function pr(w,d){return is.apply(this,arguments)}(d,{idToken:p,email:b._email,oobCode:b._password});default:Ht(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ai(w,d){return kr.apply(this,arguments)}function kr(){return(kr=(0,ue.Z)(function*(w,d){return Ot(w,"POST","/v1/accounts:signInWithIdp",qt(w,d))})).apply(this,arguments)}class Oi{constructor(d){var p,b,$,ie,Re,ut;const xt=(0,Ve.zd)((0,Ve.pd)(d)),yn=null!==(p=xt.apiKey)&&void 0!==p?p:null,Fn=null!==(b=xt.oobCode)&&void 0!==b?b:null,Gr=function Js(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=xt.mode)&&void 0!==$?$:null);Ie(yn&&Fn&&Gr,"argument-error"),this.apiKey=yn,this.operation=Gr,this.code=Fn,this.continueUrl=null!==(ie=xt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Re=xt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(ut=xt.tenantId)&&void 0!==ut?ut:null}static parseLink(d){const p=function Xs(w){const d=(0,Ve.zd)((0,Ve.pd)(w)).link,p=d?(0,Ve.zd)((0,Ve.pd)(d)).deep_link_id:null,b=(0,Ve.zd)((0,Ve.pd)(w)).deep_link_id;return(b?(0,Ve.zd)((0,Ve.pd)(b)).link:null)||b||p||d||w}(d);try{return new Oi(p)}catch{return null}}}let ur=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(p,b){return wi._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const $=Oi.parseLink(b);return Ie($,"argument-error"),wi._fromEmailAndCode(p,$.code,$.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class eo{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Bo extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function z(w,d){return he.apply(this,arguments)}function he(){return(he=(0,ue.Z)(function*(w,d){return Ot(w,"POST","/v1/accounts:signUp",qt(w,d))})).apply(this,arguments)}class de{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,b,$=!1){return(0,ue.Z)(function*(){const ie=yield pn._fromIdTokenResponse(d,b,$),Re=Oe(b);return new de({user:ie,providerId:Re,_tokenResponse:b,operationType:p})})()}static _forOperation(d,p,b){return(0,ue.Z)(function*(){yield d._updateTokensIfNecessary(b,!0);const $=Oe(b);return new de({user:d,providerId:$,_tokenResponse:b,operationType:p})})()}}function Oe(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class Qt extends Ve.ZR{constructor(d,p,b,$){var ie;super(p.code,p.message),this.operationType=b,this.user=$,Object.setPrototypeOf(this,Qt.prototype),this.customData={appName:d.name,tenantId:null!==(ie=d.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(d,p,b,$){return new Qt(d,p,b,$)}}function un(w,d,p,b){return("reauthenticate"===d?p._getReauthenticationResolver(w):p._getIdTokenResponse(w)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?Qt._fromErrorAndOperation(w,ie,d,b):ie})}function Ii(){return(Ii=(0,ue.Z)(function*(w,d,p=!1){const b=yield ir(w,d._linkToIdToken(w.auth,yield w.getIdToken()),p);return de._forOperation(w,"link",b)})).apply(this,arguments)}function os(){return(os=(0,ue.Z)(function*(w,d,p=!1){const{auth:b}=w;if((0,Le.rh)(b.app))return Promise.reject(kt(b));const $="reauthenticate";try{const ie=yield ir(w,un(b,$,d,w),p);Ie(ie.idToken,b,"internal-error");const Re=Br(ie.idToken);Ie(Re,b,"internal-error");const{sub:ut}=Re;return Ie(w.uid===ut,b,"user-mismatch"),de._forOperation(w,$,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&Ht(b,"user-mismatch"),ie}})).apply(this,arguments)}function Zi(w,d){return vr.apply(this,arguments)}function vr(){return(vr=(0,ue.Z)(function*(w,d,p=!1){if((0,Le.rh)(w.app))return Promise.reject(kt(w));const b="signIn",$=yield un(w,b,d),ie=yield de._fromIdTokenResponse(w,b,$);return p||(yield w._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function Ri(){return(Ri=(0,ue.Z)(function*(w,d){return Zi(Ln(w),d)})).apply(this,arguments)}function rr(){return(rr=(0,ue.Z)(function*(w){const d=Ln(w);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function Pi(w,d,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,ue.Z)(function*(w,d,p){if((0,Le.rh)(w.app))return Promise.reject(kt(w));const b=Ln(w),Re=yield ar(b,{returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z).catch(xt=>{throw"auth/password-does-not-meet-requirements"===xt.code&&function Zt(w){return rr.apply(this,arguments)}(w),xt}),ut=yield de._fromIdTokenResponse(b,"signIn",Re);return yield b._updateCurrentUser(ut.user),ut})).apply(this,arguments)}function no(w,d,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,ue.Z)(function*(w,d,p){const b=Ln(w),$={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function ie(Re,ut){Ie(ut.handleCodeInApp,b,"argument-error"),ut&&function Wt(w,d,p){var b;Ie((null===(b=p.url)||void 0===b?void 0:b.length)>0,w,"invalid-continue-uri"),Ie(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ie(p.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(Ie(p.android.packageName.length>0,w,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}(b,Re,ut)})($,p),yield ar(b,$,"getOobCode",Jo)})).apply(this,arguments)}function li(w,d){const p=Oi.parseLink(d);return"EMAIL_SIGNIN"===p?.operation}function A(w,d,p){return K.apply(this,arguments)}function K(){return(K=(0,ue.Z)(function*(w,d,p){if((0,Le.rh)(w.app))return Promise.reject(kt(w));const b=(0,Ve.m9)(w),$=ur.credentialWithLink(d,p||qe());return Ie($._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),function Fi(w,d){return Ri.apply(this,arguments)}(b,$)})).apply(this,arguments)}const _e="__sak";class _t{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(_e,"1"),this.storage.removeItem(_e),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const la=(()=>{class w extends _t{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function It(){const w=(0,Ve.z$)();return lo(w)||dt(w)}()&&function dr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const $=this.storage.getItem(b),ie=this.localCache[b];$!==ie&&p(b,ie,$)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((ut,xt,yn)=>{this.notifyListeners(ut,yn)});const $=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem($);if(p.newValue!==ut)null!==p.newValue?this.storage.setItem($,p.newValue):this.storage.removeItem($);else if(this.localCache[$]===p.newValue&&!b)return}const ie=()=>{const ut=this.storage.getItem($);!b&&this.localCache[$]===ut||this.notifyListeners($,ut)},Re=this.storage.getItem($);!function On(){return(0,Ve.w1)()&&10===document.documentMode}()||Re===p.newValue||p.newValue===p.oldValue?ie():setTimeout(ie,10)}notifyListeners(p,b){this.localCache[p]=b;const $=this.listeners[p];if($)for(const ie of Array.from($))ie(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var $=()=>super._set,ie=this;return(0,ue.Z)(function*(){yield $().call(ie,p,b),ie.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,$=this;return(0,ue.Z)(function*(){const ie=yield b().call($,p);return $.localCache[p]=JSON.stringify(ie),ie})()}_remove(p){var b=()=>super._remove,$=this;return(0,ue.Z)(function*(){yield b().call($,p),delete $.localCache[p]})()}}return w.type="LOCAL",w})(),gl=(()=>{class w extends _t{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return w.type="SESSION",w})();let yd=(()=>{class w{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(ie=>ie.isListeningto(p));if(b)return b;const $=new w(p);return this.receivers.push($),$}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,ue.Z)(function*(){const $=p,{eventId:ie,eventType:Re,data:ut}=$.data,xt=b.handlersMap[Re];if(!xt?.size)return;$.ports[0].postMessage({status:"ack",eventId:ie,eventType:Re});const yn=Array.from(xt).map(function(){var Gr=(0,ue.Z)(function*(Ls){return Ls($.origin,ut)});return function(Ls){return Gr.apply(this,arguments)}}()),Fn=yield function Ia(w){return Promise.all(w.map(function(){var d=(0,ue.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return d.apply(this,arguments)}}()))}(yn);$.ports[0].postMessage({status:"done",eventId:ie,eventType:Re,response:Fn})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Oa(w="",d=10){let p="";for(let b=0;b<d;b++)p+=Math.floor(10*Math.random());return w+p}class pc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,b=50){var $=this;return(0,ue.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Re,ut;return new Promise((xt,yn)=>{const Fn=Oa("",20);ie.port1.start();const Gr=setTimeout(()=>{yn(new Error("unsupported_event"))},b);ut={messageChannel:ie,onMessage(Ls){const na=Ls;if(na.data.eventId===Fn)switch(na.data.status){case"ack":clearTimeout(Gr),Re=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),xt(na.data.response);break;default:clearTimeout(Gr),clearTimeout(Re),yn(new Error("invalid_response"))}}},$.handlers.add(ut),ie.port1.addEventListener("message",ut.onMessage),$.target.postMessage({eventType:d,eventId:Fn,data:p},[ie.port2])}).finally(()=>{ut&&$.removeMessageHandler(ut)})})()}}function Is(){return window}function Ct(){return typeof Is().WorkerGlobalScope<"u"&&"function"==typeof Is().importScripts}function ou(){return(ou=(0,ue.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ml="firebaseLocalStorageDb",yo="firebaseLocalStorage",zo="fbase_key";class xo{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ka(w,d){return w.transaction([yo],d?"readwrite":"readonly").objectStore(yo)}function Ou(){const w=indexedDB.open(ml,1);return new Promise((d,p)=>{w.addEventListener("error",()=>{p(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore(yo,{keyPath:zo})}catch($){p($)}}),w.addEventListener("success",(0,ue.Z)(function*(){const b=w.result;b.objectStoreNames.contains(yo)?d(b):(b.close(),yield function Dh(){const w=indexedDB.deleteDatabase(ml);return new xo(w).toPromise()}(),d(yield Ou()))}))})}function ts(w,d,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,ue.Z)(function*(w,d,p){const b=ka(w,!0).put({[zo]:d,value:p});return new xo(b).toPromise()})).apply(this,arguments)}function ca(){return(ca=(0,ue.Z)(function*(w,d){const p=ka(w,!1).get(d),b=yield new xo(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function No(w,d){const p=ka(w,!0).delete(d);return new xo(p).toPromise()}const P=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ue.Z)(function*(){return p.db||(p.db=yield Ou()),p.db})()}_withRetries(p){var b=this;return(0,ue.Z)(function*(){let $=0;for(;;)try{const ie=yield b._openDb();return yield p(ie)}catch(ie){if($++>3)throw ie;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ue.Z)(function*(){return Ct()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ue.Z)(function*(){p.receiver=yd._getInstance(function Ss(){return Ct()?self:null}()),p.receiver._subscribe("keyChanged",function(){var b=(0,ue.Z)(function*($,ie){return{keyProcessed:(yield p._poll()).includes(ie.key)}});return function($,ie){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,ue.Z)(function*($,ie){return["keyChanged"]});return function($,ie){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ue.Z)(function*(){var b,$;if(p.activeServiceWorker=yield function zr(){return ou.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new pc(p.activeServiceWorker);const ie=yield p.sender._send("ping",{},800);ie&&null!==(b=ie[0])&&void 0!==b&&b.fulfilled&&null!==($=ie[0])&&void 0!==$&&$.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,ue.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function mc(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ue.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ou();return yield ts(p,_e,"1"),yield No(p,_e),!0}catch{}return!1})()}_withPendingWrite(p){var b=this;return(0,ue.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var $=this;return(0,ue.Z)(function*(){return $._withPendingWrite((0,ue.Z)(function*(){return yield $._withRetries(ie=>ts(ie,p,b)),$.localCache[p]=b,$.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,ue.Z)(function*(){const $=yield b._withRetries(ie=>function _d(w,d){return ca.apply(this,arguments)}(ie,p));return b.localCache[p]=$,$})()}_remove(p){var b=this;return(0,ue.Z)(function*(){return b._withPendingWrite((0,ue.Z)(function*(){return yield b._withRetries($=>No($,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ue.Z)(function*(){const b=yield p._withRetries(Re=>{const ut=ka(Re,!1).getAll();return new xo(ut).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const $=[],ie=new Set;if(0!==b.length)for(const{fbase_key:Re,value:ut}of b)ie.add(Re),JSON.stringify(p.localCache[Re])!==JSON.stringify(ut)&&(p.notifyListeners(Re,ut),$.push(Re));for(const Re of Object.keys(p.localCache))p.localCache[Re]&&!ie.has(Re)&&(p.notifyListeners(Re,null),$.push(Re));return $})()}notifyListeners(p,b){this.localCache[p]=b;const $=this.listeners[p];if($)for(const ie of Array.from($))ie(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ue.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();or("rcb"),new nt(3e4,6e4);class Lu extends so{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ai(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Ai(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Ai(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function wc(w){return Zi(w.auth,new Lu(w),w.bypassAuthState)}function Fu(w){const{auth:d,user:p}=w;return Ie(p,d,"internal-error"),function ui(w,d){return os.apply(this,arguments)}(p,new Lu(w),w.bypassAuthState)}function Vu(w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,ue.Z)(function*(w){const{auth:d,user:p}=w;return Ie(p,d,"internal-error"),function di(w,d){return Ii.apply(this,arguments)}(p,new Lu(w),w.bypassAuthState)})).apply(this,arguments)}class Ec{constructor(d,p,b,$,ie=!1){this.auth=d,this.resolver=b,this.user=$,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,ue.Z)(function*(b,$){d.pendingPromise={resolve:b,reject:$};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ie){d.reject(ie)}});return function(b,$){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,ue.Z)(function*(){const{urlResponse:b,sessionId:$,postBody:ie,tenantId:Re,error:ut,type:xt}=d;if(ut)return void p.reject(ut);const yn={auth:p.auth,requestUri:b,sessionId:$,tenantId:Re||void 0,postBody:ie||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(xt)(yn))}catch(Fn){p.reject(Fn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return wc;case"linkViaPopup":case"linkViaRedirect":return Vu;case"reauthViaPopup":case"reauthViaRedirect":return Fu;default:Ht(this.auth,"internal-error")}}resolve(d){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new nt(2e3,1e4);const $a="pendingRedirect",ko=new Map;class Tc extends Ec{constructor(d,p,b=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,ue.Z)(function*(){let b=ko.get(p.auth._key());if(!b){try{const ie=(yield function ha(w,d){return Rh.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;b=()=>Promise.resolve(ie)}catch($){b=()=>Promise.reject($)}ko.set(p.auth._key(),b)}return p.bypassAuthState||ko.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,b=this;return(0,ue.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(b,d);if("unknown"!==d.type){if(d.eventId){const $=yield b.auth._redirectUserForId(d.eventId);if($)return b.user=$,p().call(b,d);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,ue.Z)(function*(){})()}cleanUp(){}}function Rh(){return(Rh=(0,ue.Z)(function*(w,d){const p=function Uu(w){return ji($a,w.config.apiKey,w.name)}(d),b=function Ph(w){return rn(w._redirectPersistence)}(w);if(!(yield b._isAvailable()))return!1;const $="true"===(yield b._get(p));return yield b._remove(p),$})).apply(this,arguments)}function Xo(w,d){ko.set(w._key(),d)}function Aa(w,d){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,ue.Z)(function*(w,d,p=!1){if((0,Le.rh)(w.app))return Promise.reject(kt(w));const b=Ln(w),$=function Va(w,d){return d?rn(d):(Ie(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}(b,d),Re=yield new Tc(b,$,p).execute();return Re&&!p&&(delete Re.user._redirectEventId,yield b._persistUserIfCurrent(Re.user),yield b._setRedirectUser(null,d)),Re})).apply(this,arguments)}class yp{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(d,b)&&(p=!0,this.sendToConsumer(d,b),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Oh(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Os(w);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var b;if(d.error&&!Os(d)){const $=(null===(b=d.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(Nt(this.auth,$))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const b=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&b}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ws(d))}saveEventToCache(d){this.cachedEventUids.add(Ws(d)),this.lastProcessedEventTime=Date.now()}}function Ws(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(d=>d).join("-")}function Os({type:w,error:d}){return"unknown"===w&&"auth/no-auth-event"===d?.code}function Td(){return(Td=(0,ue.Z)(function*(w,d={}){return bt(w,"GET","/v1/projects",d)})).apply(this,arguments)}const kh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Al=/^https?/;function ea(){return ea=(0,ue.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:d}=yield function Id(w){return Td.apply(this,arguments)}(w);for(const p of d)try{if(Da(p))return}catch{}Ht(w,"unauthorized-domain")}),ea.apply(this,arguments)}function Da(w){const d=qe(),{protocol:p,hostname:b}=new URL(d);if(w.startsWith("chrome-extension://")){const Re=new URL(w);return""===Re.hostname&&""===b?"chrome-extension:"===p&&w.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Re.hostname===b}if(!Al.test(p))return!1;if(kh.test(w))return b===w;const $=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(b)}const Lh=new nt(3e4,6e4);function Dl(){const w=Is().___jsl;if(w?.H)for(const d of Object.keys(w.H))if(w.H[d].r=w.H[d].r||[],w.H[d].L=w.H[d].L||[],w.H[d].r=[...w.H[d].L],w.CP)for(let p=0;p<w.CP.length;p++)w.CP[p]=null}let Cl=null;const bd=new nt(5e3,15e3),Fh="__/auth/iframe",Vh="emulator/auth/iframe",Vg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_p=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ug(w){const d=w.config;Ie(d.authDomain,w,"auth-domain-config-required");const p=d.emulator?je(d,Vh):`https://${w.config.authDomain}/${Fh}`,b={apiKey:d.apiKey,appName:w.name,v:Le.Jn},$=_p.get(w.config.apiHost);$&&(b.eid=$);const ie=w._getFrameworks();return ie.length&&(b.fw=ie.join(",")),`${p}?${(0,Ve.xO)(b).slice(1)}`}function Dc(){return Dc=(0,ue.Z)(function*(w){const d=yield function Sl(w){return Cl=Cl||function Ha(w){return new Promise((d,p)=>{var b,$,ie;function Re(){Dl(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Dl(),p(Nt(w,"network-request-failed"))},timeout:Lh.get()})}if(null!==($=null===(b=Is().gapi)||void 0===b?void 0:b.iframes)&&void 0!==$&&$.Iframe)d(gapi.iframes.getContext());else{if(null===(ie=Is().gapi)||void 0===ie||!ie.load){const ut=or("iframefcb");return Is()[ut]=()=>{gapi.load?Re():p(Nt(w,"network-request-failed"))},vn(`${function Ir(){return Dt.gapiScript}()}?onload=${ut}`).catch(xt=>p(xt))}Re()}}).catch(d=>{throw Cl=null,d})}(w),Cl}(w),p=Is().gapi;return Ie(p,w,"internal-error"),d.open({where:document.body,url:Ug(w),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vg,dontclear:!0},b=>new Promise(function(){var $=(0,ue.Z)(function*(ie,Re){yield b.restyle({setHideOnLeave:!1});const ut=Nt(w,"network-request-failed"),xt=Is().setTimeout(()=>{Re(ut)},bd.get());function yn(){Is().clearTimeout(xt),ie(b)}b.ping(yn).then(yn,()=>{Re(ut)})});return function(ie,Re){return $.apply(this,arguments)}}()))}),Dc.apply(this,arguments)}const Ad={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hu="__/auth/handler",za="emulator/auth/handler",jh=encodeURIComponent("fac");function $h(w,d,p,b,$,ie){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,ue.Z)(function*(w,d,p,b,$,ie){Ie(w.config.authDomain,w,"auth-domain-config-required"),Ie(w.config.apiKey,w,"invalid-api-key");const Re={apiKey:w.config.apiKey,appName:w.name,authType:p,redirectUrl:b,v:Le.Jn,eventId:$};if(d instanceof eo){d.setDefaultLanguage(w.languageCode),Re.providerId=d.providerId||"",(0,Ve.xb)(d.getCustomParameters())||(Re.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Fn,Gr]of Object.entries(ie||{}))Re[Fn]=Gr}if(d instanceof Bo){const Fn=d.getScopes().filter(Gr=>""!==Gr);Fn.length>0&&(Re.scopes=Fn.join(","))}w.tenantId&&(Re.tid=w.tenantId);const ut=Re;for(const Fn of Object.keys(ut))void 0===ut[Fn]&&delete ut[Fn];const xt=yield w._getAppCheckToken(),yn=xt?`#${jh}=${encodeURIComponent(xt)}`:"";return`${function Bg({config:w}){return w.emulator?je(w,za):`https://${w.authDomain}/${Hu}`}(w)}?${(0,Ve.xO)(ut).slice(1)}${yn}`})).apply(this,arguments)}const io="webStorageSupport",Ga=class Dd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gl,this._completeRedirectFn=Aa,this._overrideRedirectResult=Xo}_openPopup(d,p,b,$){var ie=this;return(0,ue.Z)(function*(){var Re;$n(null===(Re=ie.eventManagers[d._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const ut=yield $h(d,p,b,qe(),$);return function ta(w,d,p,b=500,$=600){const ie=Math.max((window.screen.availHeight-$)/2,0).toString(),Re=Math.max((window.screen.availWidth-b)/2,0).toString();let ut="";const xt=Object.assign(Object.assign({},Ad),{width:b.toString(),height:$.toString(),top:ie,left:Re}),yn=(0,Ve.z$)().toLowerCase();p&&(ut=_i(yn)?"_blank":p),oi(yn)&&(d=d||"http://localhost",xt.scrollbars="yes");const Fn=Object.entries(xt).reduce((Ls,[na,wu])=>`${Ls}${na}=${wu},`,"");if(function En(w=(0,Ve.z$)()){var d;return dt(w)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(yn)&&"_self"!==ut)return function pu(w,d){const p=document.createElement("a");p.href=w,p.target=d;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(d||"",ut),new Wo(null);const Gr=window.open(d||"",ut,Fn);Ie(Gr,w,"popup-blocked");try{Gr.focus()}catch{}return new Wo(Gr)}(d,ut,Oa())})()}_openRedirect(d,p,b,$){var ie=this;return(0,ue.Z)(function*(){return yield ie._originValidation(d),function gc(w){Is().location.href=w}(yield $h(d,p,b,qe(),$)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:$,promise:ie}=this.eventManagers[p];return $?Promise.resolve($):($n(ie,"If manager is not set, promise should be"),ie)}const b=this.initAndGetManager(d);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(d){var p=this;return(0,ue.Z)(function*(){const b=yield function fu(w){return Dc.apply(this,arguments)}(d),$=new yp(d);return b.register("authEvent",ie=>(Ie(ie?.authEvent,d,"invalid-auth-event"),{status:$.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:$},p.iframes[d._key()]=b,$})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(io,{type:io},$=>{var ie;const Re=null===(ie=$?.[0])||void 0===ie?void 0:ie[io];void 0!==Re&&p(!!Re),Ht(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function $u(w){return ea.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Sn()||lo()||dt()}};var Rc="@firebase/auth";class Ml{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,ue.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(b=>{d(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wu=(0,Ve.Pz)("authIdTokenMaxAge")||300;let zh=null;const Gh=w=>function(){var d=(0,ue.Z)(function*(p){const b=p&&(yield p.getIdTokenResult()),$=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if($&&$>Wu)return;const ie=b?.token;zh!==ie&&(zh=ie,yield fetch(w,{method:ie?"POST":"DELETE",headers:ie?{Authorization:`Bearer ${ie}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function qs(w=(0,Le.Mq)()){const d=(0,Le.qX)(w,"auth");if(d.isInitialized())return d.getImmediate();const p=function ls(w,d){const p=(0,Le.qX)(w,"auth");if(p.isInitialized()){const $=p.getImmediate(),ie=p.getOptions();if((0,Ve.vZ)(ie,d??{}))return $;Ht($,"already-initialized")}return p.initialize({options:d})}(w,{popupRedirectResolver:Ga,persistence:[P,la,gl]}),b=(0,Ve.Pz)("authTokenSyncURL");if(b&&"boolean"==typeof isSecureContext&&isSecureContext){const ie=new URL(b,location.origin);if(location.origin===ie.origin){const Re=Gh(ie.toString());(function Hs(w,d,p){(0,Ve.m9)(w).beforeAuthStateChanged(d,p)})(p,Re,()=>Re(p.currentUser)),function Ea(w,d,p,b){(0,Ve.m9)(w).onIdTokenChanged(d,p,b)}(p,ut=>Re(ut))}}const $=(0,Ve.q4)("auth");return $&&function Us(w,d,p){const b=Ln(w);Ie(b._canInitEmulator,b,"emulator-config-failed"),Ie(/^https?:\/\//.test(d),b,"invalid-emulator-scheme");const $=!!p?.disableWarnings,ie=Ps(d),{host:Re,port:ut}=function So(w){const d=Ps(w),p=/(\/\/)?([^?#/]+)/.exec(w.substr(d.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(b);if($){const ie=$[1];return{host:ie,port:Ms(b.substr(ie.length+1))}}{const[ie,Re]=b.split(":");return{host:ie,port:Ms(Re)}}}(d);b.config.emulator={url:`${ie}//${Re}${null===ut?"":`:${ut}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Re,port:ut,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function xs(){function w(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(p,`http://${$}`),p}(function an(w){Dt=w})({loadJS:w=>new Promise((d,p)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=d,b.onerror=$=>{const ie=Nt("internal-error");ie.customData=$,p(ie)},b.type="text/javascript",b.charset="UTF-8",function Mc(){var w,d;return null!==(d=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==d?d:document}().appendChild(b)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function xl(w){(0,Le.Xd)(new ge.wA("auth",(d,{options:p})=>{const b=d.getProvider("app").getImmediate(),$=d.getProvider("heartbeat"),ie=d.getProvider("app-check-internal"),{apiKey:Re,authDomain:ut}=b.options;Ie(Re&&!Re.includes(":"),"invalid-api-key",{appName:b.name});const xt={apiKey:Re,authDomain:ut,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(w)},yn=new sr(b,$,ie,xt);return function Co(w,d){const p=d?.persistence||[],b=(Array.isArray(p)?p:[p]).map(rn);d?.errorMap&&w._updateErrorMap(d.errorMap),w._initializeWithPersistence(b,d?.popupRedirectResolver)}(yn,p),yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,b)=>{d.getProvider("auth-internal").initialize()})),(0,Le.Xd)(new ge.wA("auth-internal",d=>{const p=Ln(d.getProvider("auth").getImmediate());return new Ml(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.KN)(Rc,"1.7.4",function vp(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,Le.KN)(Rc,"1.7.4","esm2017")}("Browser");class qu{constructor(d){return d}}class Ku{constructor(){return(0,S.vb)("auth")}}const Wa=new we.OlP("angularfire2.auth-instances");function $g(w){return(d,p)=>{const b=d.runOutsideAngular(()=>w(p));return new qu(b)}}const Wh={provide:Ku,deps:[[new we.FiY,Wa]]},Ep={provide:qu,useFactory:function wp(w,d){const p=(0,S.JM)("auth",w,d);return p&&new qu(p)},deps:[[new we.FiY,Wa],Ce.Ot]};let Hg=(()=>{class w{constructor(){(0,ze.KN)("angularfire",S.q4.full,"auth")}static \u0275fac=function(b){return new(b||w)};static \u0275mod=we.oAB({type:w});static \u0275inj=we.cJS({providers:[Ep,Wh]})}return w})();function Nl(w,...d){return{ngModule:Hg,providers:[{provide:Wa,useFactory:$g(w),multi:!0,deps:[we.R0b,we.zs3,S.HU,Ce.z6,[new we.FiY,S.Rf],...d]}]}}const Kh=(0,S.u3)(Pi,!0),Zh=(0,S.u3)(qs,!0),Pd=(0,S.u3)(li,!0),Lc=(0,S.u3)(no,!0),Ka=(0,S.u3)(A,!0)},3960:(In,yt,Y)=>{"use strict";Y.d(yt,{gg:()=>Ie,ET:()=>wt,vr:()=>gt,hJ:()=>fn,BS:()=>Tn,JU:()=>on,QT:()=>cr,ad:()=>J,Cm:()=>ke,pl:()=>En,r7:()=>rs});var S=Y(4810),we=Y(4946),Ce=Y(721),ze=Y(90),ue=Y(3182),Le=Y(5588),Ve=Y(5592),At=Y(7398),vt=function(){return vt=Object.assign||function(Dt){for(var an,vn=1,Gn=arguments.length;vn<Gn;vn++)for(var ri in an=arguments[vn])Object.prototype.hasOwnProperty.call(an,ri)&&(Dt[ri]=an[ri]);return Dt},vt.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ye={includeMetadataChanges:!1};function kt(Kt,Dt){return void 0===Dt&&(Dt={}),function Ht(Kt){return function We(Kt,Dt){return void 0===Dt&&(Dt=ye),new Ve.y(function(an){return{unsubscribe:(0,Le.cf)(Kt,Dt,{next:an.next.bind(an),error:an.error.bind(an),complete:an.complete.bind(an)})}})}(Kt,{includeMetadataChanges:!0}).pipe((0,At.U)(function(Dt){return Dt.docs}))}(Kt).pipe((0,At.U)(function(an){return an.map(function(vn){return function Mt(Kt,Dt){var an;void 0===Dt&&(Dt={});var vn=Kt.data(Dt);return Kt.exists()&&"object"==typeof vn&&null!==vn&&Dt.idField?vt(vt({},vn),((an={})[Dt.idField]=Kt.id,an)):vn}(vn,Dt)})}))}class Ie{constructor(Dt){return Dt}}const Ye="firestore",Ne=new we.OlP("angularfire2.firestore-instances");function Ge(Kt){return(Dt,an)=>{const vn=Dt.runOutsideAngular(()=>Kt(an));return new Ie(vn)}}const Xe={provide:class $n{constructor(){return(0,S.vb)(Ye)}},deps:[[new we.FiY,Ne]]},nt={provide:Ie,useFactory:function Q(Kt,Dt){const an=(0,S.JM)(Ye,Kt,Dt);return an&&new Ie(an)},deps:[[new we.FiY,Ne],Ce.Ot]};let je=(()=>{class Kt{constructor(){(0,ue.KN)("angularfire",S.q4.full,"fst")}static \u0275fac=function(vn){return new(vn||Kt)};static \u0275mod=we.oAB({type:Kt});static \u0275inj=we.cJS({providers:[nt,Xe]})}return Kt})();function ke(Kt,...Dt){return{ngModule:je,providers:[{provide:Ne,useFactory:Ge(Kt),multi:!0,deps:[we.R0b,we.zs3,S.HU,Ce.z6,[new we.FiY,ze.dh],[new we.FiY,S.Rf],...Dt]}]}}const Tn=(0,S.u3)(kt,!0),wt=(0,S.u3)(Le.ET,!0),gt=(0,S.u3)(Le.vr,!0),fn=(0,S.u3)(Le.hJ,!0),on=(0,S.u3)(Le.JU,!0),cr=(0,S.u3)(Le.QT,!0),J=(0,S.u3)(Le.ad,!0),En=(0,S.u3)(Le.pl,!0),rs=(0,S.u3)(Le.r7,!0)},5017:(In,yt,Y)=>{"use strict";Y.d(yt,{Jt:()=>ur,cF:()=>Bo,aF:()=>$s,Vq:()=>zi,iH:()=>Qi,Ym:()=>to,B0:()=>jo});var S=Y(4810),we=Y(4946),Ce=Y(721),ze=Y(90),ue=Y(3182),Le=Y(5861),Ve=Y(534),At=Y(9058),vt=Y(4537);const ge="firebasestorage.googleapis.com",ye="storageBucket";class Mt extends At.ZR{constructor(z,he,de=0){super(mn(z),`Firebase Storage: ${he} (${mn(z)})`),this.status_=de,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return mn(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Xt=function(H){return H.UNKNOWN="unknown",H.OBJECT_NOT_FOUND="object-not-found",H.BUCKET_NOT_FOUND="bucket-not-found",H.PROJECT_NOT_FOUND="project-not-found",H.QUOTA_EXCEEDED="quota-exceeded",H.UNAUTHENTICATED="unauthenticated",H.UNAUTHORIZED="unauthorized",H.UNAUTHORIZED_APP="unauthorized-app",H.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",H.INVALID_CHECKSUM="invalid-checksum",H.CANCELED="canceled",H.INVALID_EVENT_NAME="invalid-event-name",H.INVALID_URL="invalid-url",H.INVALID_DEFAULT_BUCKET="invalid-default-bucket",H.NO_DEFAULT_BUCKET="no-default-bucket",H.CANNOT_SLICE_BLOB="cannot-slice-blob",H.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",H.NO_DOWNLOAD_URL="no-download-url",H.INVALID_ARGUMENT="invalid-argument",H.INVALID_ARGUMENT_COUNT="invalid-argument-count",H.APP_DELETED="app-deleted",H.INVALID_ROOT_OPERATION="invalid-root-operation",H.INVALID_FORMAT="invalid-format",H.INTERNAL_ERROR="internal-error",H.UNSUPPORTED_ENVIRONMENT="unsupported-environment",H}(Xt||{});function mn(H){return"storage/"+H}function gn(){return new Mt(Xt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ft(){return new Mt(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ht(){return new Mt(Xt.CANCELED,"User canceled the upload/download.")}function jn(){return new Mt(Xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $n(H){return new Mt(Xt.INVALID_ARGUMENT,H)}function qe(){return new Mt(Xt.APP_DELETED,"The Firebase app was deleted.")}function Q(H,z){return new Mt(Xt.INVALID_FORMAT,"String does not match format '"+H+"': "+z)}function Ge(H){throw new Mt(Xt.INTERNAL_ERROR,"Internal error: "+H)}class Xe{constructor(z,he){this.bucket=z,this.path_=he}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,he){let de;try{de=Xe.makeFromUrl(z,he)}catch{return new Xe(z,"")}if(""===de.path)return de;throw function be(H){return new Mt(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+H+"'.")}(z)}static makeFromUrl(z,he){let de=null;const Oe="([A-Za-z0-9.\\-_]+)",Qt=new RegExp("^gs://"+Oe+"(/(.*))?$","i");function Wn(Fi){Fi.path_=decodeURIComponent(Fi.path)}const qr=he.replace(/[.]/g,"\\."),vr=[{regex:Qt,indices:{bucket:1,path:3},postModify:function ht(Fi){"/"===Fi.path.charAt(Fi.path.length-1)&&(Fi.path_=Fi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${qr}/v[A-Za-z0-9_]+/b/${Oe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Wn},{regex:new RegExp(`^https?://${he===ge?"(?:storage.googleapis.com|storage.cloud.google.com)":he}/${Oe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Wn}];for(let Fi=0;Fi<vr.length;Fi++){const Ri=vr[Fi],ys=Ri.regex.exec(z);if(ys){let _=ys[Ri.indices.path];_||(_=""),de=new Xe(ys[Ri.indices.bucket],_),Ri.postModify(de);break}}if(null==de)throw function Nt(H){return new Mt(Xt.INVALID_URL,"Invalid URL '"+H+"'.")}(z);return de}}class nt{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function bt(H){return"string"==typeof H||H instanceof String}function Tn(H){return Er()&&H instanceof Blob}function Er(){return typeof Blob<"u"}function yi(H,z,he,de){if(de<z)throw $n(`Invalid value for '${H}'. Expected ${z} or greater.`);if(de>he)throw $n(`Invalid value for '${H}'. Expected ${he} or less.`)}function Ot(H,z,he){let de=z;return null==he&&(de=`https://${z}`),`${he}://${de}/v0${H}`}function Jn(H){const z=encodeURIComponent;let he="?";for(const de in H)H.hasOwnProperty(de)&&(he=he+(z(de)+"=")+z(H[de])+"&");return he=he.slice(0,-1),he}var Kn=function(H){return H[H.NO_ERROR=0]="NO_ERROR",H[H.NETWORK_ERROR=1]="NETWORK_ERROR",H[H.ABORT=2]="ABORT",H}(Kn||{});function bn(H,z){const he=H>=500&&H<600,Oe=-1!==[408,429].indexOf(H),ht=-1!==z.indexOf(H);return he||Oe||ht}class wt{constructor(z,he,de,Oe,ht,$t,Qt,un,Wn,_r,qr,di=!0){this.url_=z,this.method_=he,this.headers_=de,this.body_=Oe,this.successCodes_=ht,this.additionalRetryCodes_=$t,this.callback_=Qt,this.errorCallback_=un,this.timeout_=Wn,this.progressCallback_=_r,this.connectionFactory_=qr,this.retry=di,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ii,ii)=>{this.resolve_=Ii,this.reject_=ii,this.start_()})}start_(){const he=(de,Oe)=>{const ht=this.resolve_,$t=this.reject_,Qt=Oe.connection;if(Oe.wasSuccessCode)try{const un=this.callback_(Qt,Qt.getResponse());!function pt(H){return void 0!==H}(un)?ht():ht(un)}catch(un){$t(un)}else if(null!==Qt){const un=gn();un.serverResponse=Qt.getErrorText(),$t(this.errorCallback_?this.errorCallback_(Qt,un):un)}else $t(Oe.canceled?this.appDelete_?qe():Ht():Ft())};this.canceled_?he(0,new sn(!1,null,!0)):this.backoffId_=function je(H,z,he){let de=1,Oe=null,ht=null,$t=!1,Qt=0;function un(){return 2===Qt}let Wn=!1;function _r(...ui){Wn||(Wn=!0,z.apply(null,ui))}function qr(ui){Oe=setTimeout(()=>{Oe=null,H(Ii,un())},ui)}function di(){ht&&clearTimeout(ht)}function Ii(ui,...os){if(Wn)return void di();if(ui)return di(),void _r.call(null,ui,...os);if(un()||$t)return di(),void _r.call(null,ui,...os);let vr;de<64&&(de*=2),1===Qt?(Qt=2,vr=0):vr=1e3*(de+Math.random()),qr(vr)}let ii=!1;function Si(ui){ii||(ii=!0,di(),!Wn&&(null!==Oe?(ui||(Qt=2),clearTimeout(Oe),qr(0)):ui||(Qt=1)))}return qr(0),ht=setTimeout(()=>{$t=!0,Si(!0)},he),Si}((de,Oe)=>{if(Oe)return void de(!1,new sn(!1,null,!0));const ht=this.connectionFactory_();this.pendingConnection_=ht;const $t=Qt=>{null!==this.progressCallback_&&this.progressCallback_(Qt.loaded,Qt.lengthComputable?Qt.total:-1)};null!==this.progressCallback_&&ht.addUploadProgressListener($t),ht.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ht.removeUploadProgressListener($t),this.pendingConnection_=null;const Qt=ht.getErrorCode()===Kn.NO_ERROR,un=ht.getStatus();if(!Qt||bn(un,this.additionalRetryCodes_)&&this.retry){const _r=ht.getErrorCode()===Kn.ABORT;return void de(!1,new sn(!1,null,_r))}const Wn=-1!==this.successCodes_.indexOf(un);de(!0,new sn(Wn,ht))})},he,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function ke(H){H(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sn{constructor(z,he,de){this.wasSuccessCode=z,this.connection=he,this.canceled=!!de}}function fn(...H){const z=function Mn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const he=new z;for(let de=0;de<H.length;de++)he.append(H[de]);return he.getBlob()}if(Er())return new Blob(H);throw new Mt(Xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fr{constructor(z,he){this.data=z,this.contentType=he||null}}function ki(H){const z=[];for(let he=0;he<H.length;he++){let de=H.charCodeAt(he);de<=127?z.push(de):de<=2047?z.push(192|de>>6,128|63&de):55296==(64512&de)?he<H.length-1&&56320==(64512&H.charCodeAt(he+1))?(de=65536|(1023&de)<<10|1023&H.charCodeAt(++he),z.push(240|de>>18,128|de>>12&63,128|de>>6&63,128|63&de)):z.push(239,191,189):56320==(64512&de)?z.push(239,191,189):z.push(224|de>>12,128|de>>6&63,128|63&de)}return new Uint8Array(z)}function Ts(H,z){switch(H){case xr.BASE64:{const Oe=-1!==z.indexOf("-"),ht=-1!==z.indexOf("_");if(Oe||ht)throw Q(H,"Invalid character '"+(Oe?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const Oe=-1!==z.indexOf("+"),ht=-1!==z.indexOf("/");if(Oe||ht)throw Q(H,"Invalid character '"+(Oe?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let he;try{he=function lr(H){if(typeof atob>"u")throw function Ye(H){return new Mt(Xt.UNSUPPORTED_ENVIRONMENT,`${H} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(H)}(z)}catch(Oe){throw Oe.message.includes("polyfill")?Oe:Q(H,"Invalid character found")}const de=new Uint8Array(he.length);for(let Oe=0;Oe<he.length;Oe++)de[Oe]=he.charCodeAt(Oe);return de}class on{constructor(z){this.base64=!1,this.contentType=null;const he=z.match(/^data:([^,]+)?,/);if(null===he)throw Q(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const de=he[1]||null;null!=de&&(this.base64=function Br(H,z){return H.length>=z.length&&H.substring(H.length-z.length)===z}(de,";base64"),this.contentType=this.base64?de.substring(0,de.length-7):de),this.rest=z.substring(z.indexOf(",")+1)}}class Se{constructor(z,he){let de=0,Oe="";Tn(z)?(this.data_=z,de=z.size,Oe=z.type):z instanceof ArrayBuffer?(he?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),de=this.data_.length):z instanceof Uint8Array&&(he?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),de=z.length),this.size_=de,this.type_=Oe}size(){return this.size_}type(){return this.type_}slice(z,he){if(Tn(this.data_)){const Oe=function Mr(H,z,he){return H.webkitSlice?H.webkitSlice(z,he):H.mozSlice?H.mozSlice(z,he):H.slice?H.slice(z,he):null}(this.data_,z,he);return null===Oe?null:new Se(Oe)}{const de=new Uint8Array(this.data_.buffer,z,he-z);return new Se(de,!0)}}static getBlob(...z){if(Er()){const he=z.map(de=>de instanceof Se?de.data_:de);return new Se(fn.apply(null,he))}{const he=z.map($t=>bt($t)?function Ur(H,z){switch(H){case xr.RAW:return new fr(ki(z));case xr.BASE64:case xr.BASE64URL:return new fr(Ts(H,z));case xr.DATA_URL:return new fr(function us(H){const z=new on(H);return z.base64?Ts(xr.BASE64,z.rest):function Rn(H){let z;try{z=decodeURIComponent(H)}catch{throw Q(xr.DATA_URL,"Malformed data URL.")}return ki(z)}(z.rest)}(z),function ci(H){return new on(H).contentType}(z))}throw gn()}(xr.RAW,$t).data:$t.data_);let de=0;he.forEach($t=>{de+=$t.byteLength});const Oe=new Uint8Array(de);let ht=0;return he.forEach($t=>{for(let Qt=0;Qt<$t.length;Qt++)Oe[ht++]=$t[Qt]}),new Se(Oe,!0)}}uploadData(){return this.data_}}function ir(H){let z;try{z=JSON.parse(H)}catch{return null}return function qt(H){return"object"==typeof H&&!Array.isArray(H)}(z)?z:null}function ti(H){const z=H.lastIndexOf("/",H.length-2);return-1===z?H:H.slice(z+1)}function _n(H,z){return z}class cr{constructor(z,he,de,Oe){this.server=z,this.local=he||z,this.writable=!!de,this.xform=Oe||_n}}let pi=null;function me(){if(pi)return pi;const H=[];H.push(new cr("bucket")),H.push(new cr("generation")),H.push(new cr("metageneration")),H.push(new cr("name","fullPath",!0));const he=new cr("name");he.xform=function z(ht,$t){return function wn(H){return!bt(H)||H.length<2?H:ti(H)}($t)},H.push(he);const Oe=new cr("size");return Oe.xform=function de(ht,$t){return void 0!==$t?Number($t):$t},H.push(Oe),H.push(new cr("timeCreated")),H.push(new cr("updated")),H.push(new cr("md5Hash",null,!0)),H.push(new cr("cacheControl",null,!0)),H.push(new cr("contentDisposition",null,!0)),H.push(new cr("contentEncoding",null,!0)),H.push(new cr("contentLanguage",null,!0)),H.push(new cr("contentType",null,!0)),H.push(new cr("metadata","customMetadata",!0)),pi=H,pi}function J(H,z,he){const de=ir(z);return null===de?null:function re(H,z,he){const de={type:"file"},Oe=he.length;for(let ht=0;ht<Oe;ht++){const $t=he[ht];de[$t.local]=$t.xform(de,z[$t.server])}return function ee(H,z){Object.defineProperty(H,"ref",{get:function he(){const ht=new Xe(H.bucket,H.fullPath);return z._makeStorageReference(ht)}})}(de,H),de}(H,de,he)}function Fe(H,z){const he={},de=z.length;for(let Oe=0;Oe<de;Oe++){const ht=z[Oe];ht.writable&&(he[ht.server]=H[ht.local])}return JSON.stringify(he)}const Et="prefixes",Lt="items";class Pn{constructor(z,he,de,Oe){this.url=z,this.method=he,this.handler=de,this.timeout=Oe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rn(H){if(!H)throw gn()}function Sr(H,z){return function he(de,Oe){const ht=J(H,Oe,z);return rn(null!==ht),ht}}function gi(H){return function z(he,de){let Oe;return Oe=401===he.getStatus()?he.getErrorText().includes("Firebase App Check token is invalid")?function rt(){return new Mt(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ae(){return new Mt(Xt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===he.getStatus()?function cn(H){return new Mt(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+H+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(H.bucket):403===he.getStatus()?function lt(H){return new Mt(Xt.UNAUTHORIZED,"User does not have permission to access '"+H+"'.")}(H.path):de,Oe.status=he.getStatus(),Oe.serverResponse=de.serverResponse,Oe}}function Rs(H){const z=gi(H);return function he(de,Oe){let ht=z(de,Oe);return 404===de.getStatus()&&(ht=function qn(H){return new Mt(Xt.OBJECT_NOT_FOUND,"Object '"+H+"' does not exist.")}(H.path)),ht.serverResponse=Oe.serverResponse,ht}}function lo(H,z,he,de,Oe){const ht={};ht.prefix=z.isRoot?"":z.path+"/",he&&he.length>0&&(ht.delimiter=he),de&&(ht.pageToken=de),Oe&&(ht.maxResults=Oe);const Qt=Ot(z.bucketOnlyServerUrl(),H.host,H._protocol),Wn=H.maxOperationRetryTime,_r=new Pn(Qt,"GET",function bi(H,z){return function he(de,Oe){const ht=function pn(H,z,he){const de=ir(he);return null===de?null:function jt(H,z,he){const de={prefixes:[],items:[],nextPageToken:he.nextPageToken};if(he[Et])for(const Oe of he[Et]){const ht=Oe.replace(/\/$/,""),$t=H._makeStorageReference(new Xe(z,ht));de.prefixes.push($t)}if(he[Lt])for(const Oe of he[Lt]){const ht=H._makeStorageReference(new Xe(z,Oe.name));de.items.push(ht)}return de}(H,z,de)}(H,z,Oe);return rn(null!==ht),ht}}(H,z.bucket),Wn);return _r.urlParams=ht,_r.errorHandler=gi(z),_r}function dt(H,z,he){const de=Object.assign({},he);return de.fullPath=H.path,de.size=z.size(),de.contentType||(de.contentType=function Ue(H,z){return H&&H.contentType||z&&z.type()||"application/octet-stream"}(null,z)),de}class En{constructor(z,he,de,Oe){this.current=z,this.total=he,this.finalized=!!de,this.metadata=Oe||null}}function On(H,z){let he=null;try{he=H.getResponseHeader("X-Goog-Upload-Status")}catch{rn(!1)}return rn(!!he&&-1!==(z||["active"]).indexOf(he)),he}function rs(H){switch(H){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class Ao{constructor(z,he,de){if(function Vt(H){return"function"==typeof H}(z)||null!=he||null!=de)this.next=z,this.error=he??void 0,this.complete=de??void 0;else{const ht=z;this.next=ht.next,this.error=ht.error,this.complete=ht.complete}}}function sr(H){return(...z)=>{Promise.resolve().then(()=>H(...z))}}let Ln=null;class Kt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kn.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kn.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kn.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,he,de,Oe){if(this.sent_)throw Ge("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(he,z,!0),void 0!==Oe)for(const ht in Oe)Oe.hasOwnProperty(ht)&&this.xhr_.setRequestHeader(ht,Oe[ht].toString());return void 0!==de?this.xhr_.send(de):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ge("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ge("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ge("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ge("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class Dt extends Kt{initXhr(){this.xhr_.responseType="text"}}function an(){return Ln?Ln():new Dt}class or{constructor(z,he,de=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=he,this._metadata=de,this._mappings=me(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Oe=>{if(this._request=void 0,this._chunkMultiplier=1,Oe._codeEquals(Xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const ht=this.isExponentialBackoffExpired();if(bn(Oe.status,[])){if(!ht)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Oe=Ft()}this._error=Oe,this._transition("error")}},this._metadataErrorHandler=Oe=>{this._request=void 0,Oe._codeEquals(Xt.CANCELED)?this.completeTransitions_():(this._error=Oe,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Oe,ht)=>{this._resolve=Oe,this._reject=ht,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const z=this._transferred;return he=>this._updateProgress(z+he)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([he,de])=>{switch(this._state){case"running":z(he,de);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,he)=>{const de=function Sn(H,z,he,de,Oe){const ht=z.bucketOnlyServerUrl(),$t=dt(z,de,Oe),Qt={name:$t.fullPath},un=Ot(ht,H.host,H._protocol),_r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${de.size()}`,"X-Goog-Upload-Header-Content-Type":$t.contentType,"Content-Type":"application/json; charset=utf-8"},qr=Fe($t,he),ii=new Pn(un,"POST",function Ii(Si){let ui;On(Si);try{ui=Si.getResponseHeader("X-Goog-Upload-URL")}catch{rn(!1)}return rn(bt(ui)),ui},H.maxUploadRetryTime);return ii.urlParams=Qt,ii.headers=_r,ii.body=qr,ii.errorHandler=gi(z),ii}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(de,an,z,he);this._request=Oe,Oe.getPromise().then(ht=>{this._request=void 0,this._uploadUrl=ht,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((he,de)=>{const Oe=function dr(H,z,he,de){const un=new Pn(he,"POST",function ht(Wn){const _r=On(Wn,["active","final"]);let qr=null;try{qr=Wn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rn(!1)}qr||rn(!1);const di=Number(qr);return rn(!isNaN(di)),new En(di,de.size(),"final"===_r)},H.maxUploadRetryTime);return un.headers={"X-Goog-Upload-Command":"query"},un.errorHandler=gi(z),un}(this._ref.storage,this._ref._location,z,this._blob),ht=this._ref.storage._makeRequest(Oe,an,he,de);this._request=ht,ht.getPromise().then($t=>{this._request=void 0,this._updateProgress($t.current),this._needToFetchStatus=!1,$t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,he=new En(this._transferred,this._blob.size()),de=this._uploadUrl;this._resolveToken((Oe,ht)=>{let $t;try{$t=function ni(H,z,he,de,Oe,ht,$t,Qt){const un=new En(0,0);if($t?(un.current=$t.current,un.total=$t.total):(un.current=0,un.total=de.size()),de.size()!==un.total)throw function xi(){return new Mt(Xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Wn=un.total-un.current;let _r=Wn;Oe>0&&(_r=Math.min(_r,Oe));const qr=un.current;let Ii="";Ii=0===_r?"finalize":Wn===_r?"upload, finalize":"upload";const ii={"X-Goog-Upload-Command":Ii,"X-Goog-Upload-Offset":`${un.current}`},Si=de.slice(qr,qr+_r);if(null===Si)throw jn();const vr=new Pn(he,"POST",function ui(Fi,Ri){const ys=On(Fi,["active","final"]),W=un.current+_r,_=de.size();let T;return T="final"===ys?Sr(z,ht)(Fi,Ri):null,new En(W,_,"final"===ys,T)},z.maxUploadRetryTime);return vr.headers=ii,vr.body=Si.uploadData(),vr.progressCallback=Qt||null,vr.errorHandler=gi(H),vr}(this._ref._location,this._ref.storage,de,this._blob,z,this._mappings,he,this._makeProgressCallback())}catch(un){return this._error=un,void this._transition("error")}const Qt=this._ref.storage._makeRequest($t,an,Oe,ht,!1);this._request=Qt,Qt.getPromise().then(un=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(un.current),un.finalized?(this._metadata=un.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,he)=>{const de=function oi(H,z,he){const Oe=Ot(z.fullServerUrl(),H.host,H._protocol),$t=H.maxOperationRetryTime,Qt=new Pn(Oe,"GET",Sr(H,he),$t);return Qt.errorHandler=Rs(z),Qt}(this._ref.storage,this._ref._location,this._mappings),Oe=this._ref.storage._makeRequest(de,an,z,he);this._request=Oe,Oe.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,he)=>{const de=function en(H,z,he,de,Oe){const ht=z.bucketOnlyServerUrl(),$t={"X-Goog-Upload-Protocol":"multipart"},un=function Qt(){let vr="";for(let Fi=0;Fi<2;Fi++)vr+=Math.random().toString().slice(2);return vr}();$t["Content-Type"]="multipart/related; boundary="+un;const Wn=dt(z,de,Oe),_r=Fe(Wn,he),Ii=Se.getBlob("--"+un+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_r+"\r\n--"+un+"\r\nContent-Type: "+Wn.contentType+"\r\n\r\n",de,"\r\n--"+un+"--");if(null===Ii)throw jn();const ii={name:Wn.fullPath},Si=Ot(ht,H.host,H._protocol),os=H.maxUploadRetryTime,Zi=new Pn(Si,"POST",Sr(H,he),os);return Zi.urlParams=ii,Zi.headers=$t,Zi.body=Ii.uploadData(),Zi.errorHandler=gi(z),Zi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(de,an,z,he);this._request=Oe,Oe.getPromise().then(ht=>{this._request=void 0,this._metadata=ht,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const he=this._transferred;this._transferred=z,this._transferred!==he&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const he="paused"===this._state;this._state=z,he&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=z,this._notifyObservers();break;case"canceled":this._error=Ht(),this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=rs(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,he,de,Oe){const ht=new Ao(he||void 0,de||void 0,Oe||void 0);return this._addObserver(ht),()=>{this._removeObserver(ht)}}then(z,he){return this._promise.then(z,he)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const he=this._observers.indexOf(z);-1!==he&&this._observers.splice(he,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(he=>{this._notifyObserver(he)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch(rs(this._state)){case"success":sr(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":sr(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch(rs(this._state)){case"running":case"paused":z.next&&sr(z.next.bind(z,this.snapshot))();break;case"success":z.complete&&sr(z.complete.bind(z))();break;default:z.error&&sr(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class Lr{constructor(z,he){this._service=z,this._location=he instanceof Xe?he:Xe.makeFromUrl(he,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,he){return new Lr(z,he)}get root(){const z=new Xe(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ti(this._location.path)}get storage(){return this._service}get parent(){const z=function Yt(H){if(0===H.length)return null;const z=H.lastIndexOf("/");return-1===z?"":H.slice(0,z)}(this._location.path);if(null===z)return null;const he=new Xe(this._location.bucket,z);return new Lr(this._service,he)}_throwIfRoot(z){if(""===this._location.path)throw function Ne(H){return new Mt(Xt.INVALID_ROOT_OPERATION,"The operation '"+H+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(z)}}function _s(H,z,he){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,Le.Z)(function*(H,z,he){const Oe=yield function ls(H,z){null!=z&&"number"==typeof z.maxResults&&yi("options.maxResults",1,1e3,z.maxResults);const he=z||{},de=lo(H.storage,H._location,"/",he.pageToken,he.maxResults);return H.storage.makeRequestWithTokens(de,an)}(H,{pageToken:he});z.prefixes.push(...Oe.prefixes),z.items.push(...Oe.items),null!=Oe.nextPageToken&&(yield _s(H,z,Oe.nextPageToken))})).apply(this,arguments)}function Ps(H){H._throwIfRoot("getDownloadURL");const z=function Zs(H,z,he){const Oe=Ot(z.fullServerUrl(),H.host,H._protocol),$t=H.maxOperationRetryTime,Qt=new Pn(Oe,"GET",function ji(H,z){return function he(de,Oe){const ht=J(H,Oe,z);return rn(null!==ht),function te(H,z,he,de){const Oe=ir(z);if(null===Oe||!bt(Oe.downloadTokens))return null;const ht=Oe.downloadTokens;if(0===ht.length)return null;const $t=encodeURIComponent;return ht.split(",").map(Wn=>{const qr=H.fullPath;return Ot("/b/"+$t(H.bucket)+"/o/"+$t(qr),he,de)+Jn({alt:"media",token:Wn})})[0]}(ht,Oe,H.host,H._protocol)}}(H,he),$t);return Qt.errorHandler=Rs(z),Qt}(H.storage,H._location,me());return H.storage.makeRequestWithTokens(z,an).then(he=>{if(null===he)throw function Ie(){return new Mt(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return he})}function bs(H,z){if(H instanceof co){const he=H;if(null==he._bucket)throw function kt(){return new Mt(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ye+"' property when initializing the app?")}();const de=new Lr(he,he._bucket);return null!=z?bs(de,z):de}return void 0!==z?function Ms(H,z){const he=function Bi(H,z){const he=z.split("/").filter(de=>de.length>0).join("/");return 0===H.length?he:H+"/"+he}(H._location.path,z),de=new Xe(H._location.bucket,he);return new Lr(H.storage,de)}(H,z):H}function Bs(H,z){const he=z?.[ye];return null==he?null:Xe.makeFromBucketSpec(he,H)}class co{constructor(z,he,de,Oe,ht){this.app=z,this._authProvider=he,this._appCheckProvider=de,this._url=Oe,this._firebaseVersion=ht,this._bucket=null,this._host=ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Oe?Xe.makeFromBucketSpec(Oe,this._host):Bs(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?Xe.makeFromBucketSpec(this._url,z):Bs(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){yi("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){yi("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,Le.Z)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const he=z._authProvider.getImmediate({optional:!0});if(he){const de=yield he.getToken();if(null!==de)return de.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,Le.Z)(function*(){const he=z._appCheckProvider.getImmediate({optional:!0});return he?(yield he.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new Lr(this,z)}_makeRequest(z,he,de,Oe,ht=!0){if(this._deleted)return new nt(qe());{const $t=function Pr(H,z,he,de,Oe,ht,$t=!0){const Qt=Jn(H.urlParams),un=H.url+Qt,Wn=Object.assign({},H.headers);return function Hn(H,z){z&&(H["X-Firebase-GMPID"]=z)}(Wn,z),function Un(H,z){null!==z&&z.length>0&&(H.Authorization="Firebase "+z)}(Wn,he),function An(H,z){H["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(Wn,ht),function gt(H,z){null!==z&&(H["X-Firebase-AppCheck"]=z)}(Wn,de),new wt(un,H.method,Wn,H.body,H.successCodes,H.additionalRetryCodes,H.handler,H.errorHandler,H.timeout,H.progressCallback,Oe,$t)}(z,this._appId,de,Oe,he,this._firebaseVersion,ht);return this._requests.add($t),$t.getPromise().then(()=>this._requests.delete($t),()=>this._requests.delete($t)),$t}}makeRequestWithTokens(z,he){var de=this;return(0,Le.Z)(function*(){const[Oe,ht]=yield Promise.all([de._getAuthToken(),de._getAppCheckToken()]);return de._makeRequest(z,he,Oe,ht).getPromise()})()}}const qi="@firebase/storage",Hi="storage";function cs(H,z,he){return function Ys(H,z,he){return H._throwIfRoot("uploadBytesResumable"),new or(H,new Se(z),he)}(H=(0,At.m9)(H),z,he)}function oo(H,z){return function Us(H,z){H._throwIfRoot("updateMetadata");const he=function Bn(H,z,he,de){const ht=Ot(z.fullServerUrl(),H.host,H._protocol),Qt=Fe(he,de),Wn=H.maxOperationRetryTime,_r=new Pn(ht,"PATCH",Sr(H,de),Wn);return _r.headers={"Content-Type":"application/json; charset=utf-8"},_r.body=Qt,_r.errorHandler=Rs(z),_r}(H.storage,H._location,z,me());return H.storage.makeRequestWithTokens(he,an)}(H=(0,At.m9)(H),z)}function Ds(H){return function Do(H){const z={prefixes:[],items:[]};return _s(H,z).then(()=>z)}(H=(0,At.m9)(H))}function Jo(H){return Ps(H=(0,At.m9)(H))}function Or(H,z){return function $i(H,z){if(z&&function xs(H){return/^[A-Za-z]+:\/\//.test(H)}(z)){if(H instanceof co)return function so(H,z){return new Lr(H,z)}(H,z);throw $n("To use ref(service, url), the first argument must be a Storage instance.")}return bs(H,z)}(H=(0,At.m9)(H),z)}function dn(H=(0,Ve.Mq)(),z){H=(0,At.m9)(H);const de=(0,Ve.qX)(H,Hi).getImmediate({identifier:z}),Oe=(0,At.P0)("storage");return Oe&&function Fr(H,z,he,de={}){!function vs(H,z,he,de={}){H.host=`${z}:${he}`,H._protocol="http";const{mockUserToken:Oe}=de;Oe&&(H._overrideAuthToken="string"==typeof Oe?Oe:(0,At.Sg)(Oe,H.app.options.projectId))}(H,z,he,de)}(de,...Oe),de}function wi(H,{instanceIdentifier:z}){const he=H.getProvider("app").getImmediate(),de=H.getProvider("auth-internal"),Oe=H.getProvider("app-check-internal");return new co(he,de,Oe,z,Ve.Jn)}!function Ai(){(0,Ve.Xd)(new vt.wA(Hi,wi,"PUBLIC").setMultipleInstances(!0)),(0,Ve.KN)(qi,"0.12.5",""),(0,Ve.KN)(qi,"0.12.5","esm2017")}();class kr{constructor(z){return z}}const Ni="storage",Zn=new we.OlP("angularfire2.storage-instances");function gs(H){return(z,he)=>{const de=z.runOutsideAngular(()=>H(he));return new kr(de)}}const Zr={provide:class Li{constructor(){return(0,S.vb)(Ni)}},deps:[[new we.FiY,Zn]]},Ki={provide:kr,useFactory:function js(H,z){const he=(0,S.JM)(Ni,H,z);return he&&new kr(he)},deps:[[new we.FiY,Zn],Ce.Ot]};let ms=(()=>{class H{constructor(){(0,ue.KN)("angularfire",S.q4.full,"gcs")}static \u0275fac=function(de){return new(de||H)};static \u0275mod=we.oAB({type:H});static \u0275inj=we.cJS({providers:[Ki,Zr]})}return H})();function zi(H,...z){return{ngModule:ms,providers:[{provide:Zn,useFactory:gs(H),multi:!0,deps:[we.R0b,we.zs3,S.HU,Ce.z6,[new we.FiY,ze.dh],[new we.FiY,S.Rf],...z]}]}}const ur=(0,S.u3)(Jo,!0),Bo=(0,S.u3)(dn,!0),$s=(0,S.u3)(Ds,!0),Qi=(0,S.u3)(Or,!0),to=(0,S.u3)(oo,!0),jo=(0,S.u3)(cs,!0)},4810:(In,yt,Y)=>{"use strict";Y.d(yt,{q4:()=>Ae,HU:()=>xi,Rf:()=>Ht,vb:()=>Ft,JM:()=>lt,u3:()=>nt});var S=Y(4946),we=Y(3182),Ce=Y(7394);class ze extends Ce.w0{constructor(ke,pt){super()}schedule(ke,pt=0){return this}}const ue={setInterval(je,ke,...pt){const{delegate:Vt}=ue;return Vt?.setInterval?Vt.setInterval(je,ke,...pt):setInterval(je,ke,...pt)},clearInterval(je){const{delegate:ke}=ue;return(ke?.clearInterval||clearInterval)(je)},delegate:void 0};var Le=Y(9039);class Ve extends ze{constructor(ke,pt){super(ke,pt),this.scheduler=ke,this.work=pt,this.pending=!1}schedule(ke,pt=0){var Vt;if(this.closed)return this;this.state=ke;const qt=this.id,bt=this.scheduler;return null!=qt&&(this.id=this.recycleAsyncId(bt,qt,pt)),this.pending=!0,this.delay=pt,this.id=null!==(Vt=this.id)&&void 0!==Vt?Vt:this.requestAsyncId(bt,this.id,pt),this}requestAsyncId(ke,pt,Vt=0){return ue.setInterval(ke.flush.bind(ke,this),Vt)}recycleAsyncId(ke,pt,Vt=0){if(null!=Vt&&this.delay===Vt&&!1===this.pending)return pt;null!=pt&&ue.clearInterval(pt)}execute(ke,pt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Vt=this._execute(ke,pt);if(Vt)return Vt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,pt){let qt,Vt=!1;try{this.work(ke)}catch(bt){Vt=!0,qt=bt||new Error("Scheduled action threw falsy error")}if(Vt)return this.unsubscribe(),qt}unsubscribe(){if(!this.closed){const{id:ke,scheduler:pt}=this,{actions:Vt}=pt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Le.P)(Vt,this),null!=ke&&(this.id=this.recycleAsyncId(pt,ke,null)),this.delay=null,super.unsubscribe()}}}const vt={now:()=>(vt.delegate||Date).now(),delegate:void 0};class ge{constructor(ke,pt=ge.now){this.schedulerActionCtor=ke,this.now=pt}schedule(ke,pt=0,Vt){return new this.schedulerActionCtor(this,ke).schedule(Vt,pt)}}ge.now=vt.now;class ye extends ge{constructor(ke,pt=ge.now){super(ke,pt),this.actions=[],this._active=!1}flush(ke){const{actions:pt}=this;if(this._active)return void pt.push(ke);let Vt;this._active=!0;do{if(Vt=ke.execute(ke.state,ke.delay))break}while(ke=pt.shift());if(this._active=!1,Vt){for(;ke=pt.shift();)ke.unsubscribe();throw Vt}}}const Rt=new class We extends ye{}(class At extends Ve{constructor(ke,pt){super(ke,pt),this.scheduler=ke,this.work=pt}schedule(ke,pt=0){return pt>0?super.schedule(ke,pt):(this.delay=pt,this.state=ke,this.scheduler.flush(this),this)}execute(ke,pt){return pt>0||this.closed?super.execute(ke,pt):this._execute(ke,pt)}requestAsyncId(ke,pt,Vt=0){return null!=Vt&&Vt>0||null==Vt&&this.delay>0?super.requestAsyncId(ke,pt,Vt):(ke.flush(this),0)}}),Mt=new ye(Ve);var mn=Y(5592),gn=Y(9397),qn=Y(5137),cn=Y(3093);const Ae=new S.GfV("ANGULARFIRE2_VERSION");function lt(je,ke,pt){if(ke){if(1===ke.length)return ke[0];const bt=ke.filter(Tn=>Tn.app===pt);if(1===bt.length)return bt[0]}return pt.container.getProvider(je).getImmediate({optional:!0})}const Ft=(je,ke)=>{const pt=ke?[ke]:(0,we.C6)(),Vt=[];return pt.forEach(qt=>{qt.container.getProvider(je).instances.forEach(Tn=>{Vt.includes(Tn)||Vt.push(Tn)})}),Vt};class Ht{constructor(){return Ft(Nt)}}const Nt="app-check";function be(){}class kt{zone;delegate;constructor(ke,pt=Rt){this.zone=ke,this.delegate=pt}now(){return this.delegate.now()}schedule(ke,pt,Vt){const qt=this.zone;return this.delegate.schedule(function(Tn){qt.runGuarded(()=>{ke.apply(this,[Tn])})},pt,Vt)}}class jn{zone;task=null;constructor(ke){this.zone=ke}call(ke,pt){const Vt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",be,{},be,be)),pt.pipe((0,gn.b)({next:Vt,complete:Vt,error:Vt})).subscribe(ke).add(Vt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xi=(()=>{class je{ngZone;outsideAngular;insideAngular;constructor(pt){this.ngZone=pt,this.outsideAngular=pt.runOutsideAngular(()=>new kt(Zone.current)),this.insideAngular=pt.run(()=>new kt(Zone.current,Mt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Vt){return new(Vt||je)(S.LFG(S.R0b))};static \u0275prov=S.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();function Ie(){const je=globalThis.\u0275AngularFireScheduler;if(!je)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return je}function $n(je){return Ie().ngZone.run(()=>je())}function Q(je){return function Ge(je){return function(pt){return(pt=pt.lift(new jn(je.ngZone))).pipe((0,qn.R)(je.outsideAngular),(0,cn.Q)(je.insideAngular))}}(Ie())(je)}const Xe=(je,ke)=>function(){const Vt=arguments;return ke&&setTimeout(()=>{"scheduled"===ke.state&&ke.invoke()},10),$n(()=>je.apply(void 0,Vt))},nt=(je,ke)=>function(){let pt;const Vt=arguments;for(let bt=0;bt<arguments.length;bt++)"function"==typeof Vt[bt]&&(ke&&(pt||=$n(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",be,{},be,be))),Vt[bt]=Xe(Vt[bt],pt));const qt=function Ye(je){return Ie().ngZone.runOutsideAngular(()=>je())}(()=>je.apply(this,Vt));if(!ke){if(qt instanceof mn.y){const bt=Ie();return qt.pipe((0,qn.R)(bt.outsideAngular),(0,cn.Q)(bt.insideAngular))}return $n(()=>qt)}return qt instanceof mn.y?qt.pipe(Q):qt instanceof Promise?$n(()=>new Promise((bt,Tn)=>qt.then(Er=>$n(()=>bt(Er)),Er=>$n(()=>Tn(Er))))):"function"==typeof qt&&pt?function(){return setTimeout(()=>{pt&&"scheduled"===pt.state&&pt.invoke()},10),qt.apply(this,arguments)}:$n(()=>qt)}},6593:(In,yt,Y)=>{"use strict";Y.d(yt,{Dx:()=>An,b2:()=>Kn,q6:()=>Er,se:()=>Nt});var S=Y(4946),we=Y(6814);class Ce extends we.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ze extends Ce{static makeCurrent(){(0,we.HT)(new ze)}onAndCancel(re,J,te){return re.addEventListener(J,te),()=>{re.removeEventListener(J,te)}}dispatchEvent(re,J){re.dispatchEvent(J)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,J){return(J=J||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,J){return"window"===J?window:"document"===J?re:"body"===J?re.body:null}getBaseHref(re){const J=function Le(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==J?null:function At(ee){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",ee);const re=Ve.pathname;return"/"===re.charAt(0)?re:`/${re}`}(J)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,we.Mx)(document.cookie,re)}}let Ve,ue=null,ge=(()=>{class ee{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(te){return new(te||ee)};static#t=this.\u0275prov=S.Yz7({token:ee,factory:ee.\u0275fac})}return ee})();const ye=new S.OlP("EventManagerPlugins");let We=(()=>{class ee{constructor(J,te){this._zone=te,this._eventNameToPlugin=new Map,J.forEach(Fe=>{Fe.manager=this}),this._plugins=J.slice().reverse()}addEventListener(J,te,Fe){return this._findPluginFor(te).addEventListener(J,te,Fe)}getZone(){return this._zone}_findPluginFor(J){let te=this._eventNameToPlugin.get(J);if(te)return te;if(te=this._plugins.find(Et=>Et.supports(J)),!te)throw new S.vHH(5101,!1);return this._eventNameToPlugin.set(J,te),te}static#e=this.\u0275fac=function(te){return new(te||ee)(S.LFG(ye),S.LFG(S.R0b))};static#t=this.\u0275prov=S.Yz7({token:ee,factory:ee.\u0275fac})}return ee})();class Rt{constructor(re){this._doc=re}}const ct="ng-app-id";let Mt=(()=>{class ee{constructor(J,te,Fe,Et={}){this.doc=J,this.appId=te,this.nonce=Fe,this.platformId=Et,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,we.PM)(Et),this.resetHostNodes()}addStyles(J){for(const te of J)1===this.changeUsageCount(te,1)&&this.onStyleAdded(te)}removeStyles(J){for(const te of J)this.changeUsageCount(te,-1)<=0&&this.onStyleRemoved(te)}ngOnDestroy(){const J=this.styleNodesInDOM;J&&(J.forEach(te=>te.remove()),J.clear());for(const te of this.getAllStyles())this.onStyleRemoved(te);this.resetHostNodes()}addHost(J){this.hostNodes.add(J);for(const te of this.getAllStyles())this.addStyleToHost(J,te)}removeHost(J){this.hostNodes.delete(J)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(J){for(const te of this.hostNodes)this.addStyleToHost(te,J)}onStyleRemoved(J){const te=this.styleRef;te.get(J)?.elements?.forEach(Fe=>Fe.remove()),te.delete(J)}collectServerRenderedStyles(){const J=this.doc.head?.querySelectorAll(`style[${ct}="${this.appId}"]`);if(J?.length){const te=new Map;return J.forEach(Fe=>{null!=Fe.textContent&&te.set(Fe.textContent,Fe)}),te}return null}changeUsageCount(J,te){const Fe=this.styleRef;if(Fe.has(J)){const Et=Fe.get(J);return Et.usage+=te,Et.usage}return Fe.set(J,{usage:te,elements:[]}),te}getStyleElement(J,te){const Fe=this.styleNodesInDOM,Et=Fe?.get(te);if(Et?.parentNode===J)return Fe.delete(te),Et.removeAttribute(ct),Et;{const Lt=this.doc.createElement("style");return this.nonce&&Lt.setAttribute("nonce",this.nonce),Lt.textContent=te,this.platformIsServer&&Lt.setAttribute(ct,this.appId),Lt}}addStyleToHost(J,te){const Fe=this.getStyleElement(J,te);J.appendChild(Fe);const Et=this.styleRef,Lt=Et.get(te)?.elements;Lt?Lt.push(Fe):Et.set(te,{elements:[Fe],usage:1})}resetHostNodes(){const J=this.hostNodes;J.clear(),J.add(this.doc.head)}static#e=this.\u0275fac=function(te){return new(te||ee)(S.LFG(we.K0),S.LFG(S.AFp),S.LFG(S.Ojb,8),S.LFG(S.Lbi))};static#t=this.\u0275prov=S.Yz7({token:ee,factory:ee.\u0275fac})}return ee})();const Xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mn=/%COMP%/g,rt=new S.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ht(ee,re){return re.map(J=>J.replace(mn,ee))}let Nt=(()=>{class ee{constructor(J,te,Fe,Et,Lt,jt,pn,Pn=null){this.eventManager=J,this.sharedStylesHost=te,this.appId=Fe,this.removeStylesOnCompDestroy=Et,this.doc=Lt,this.platformId=jt,this.ngZone=pn,this.nonce=Pn,this.rendererByCompId=new Map,this.platformIsServer=(0,we.PM)(jt),this.defaultRenderer=new be(J,Lt,pn,this.platformIsServer)}createRenderer(J,te){if(!J||!te)return this.defaultRenderer;this.platformIsServer&&te.encapsulation===S.ifc.ShadowDom&&(te={...te,encapsulation:S.ifc.Emulated});const Fe=this.getOrCreateRenderer(J,te);return Fe instanceof $n?Fe.applyToHost(J):Fe instanceof Ye&&Fe.applyStyles(),Fe}getOrCreateRenderer(J,te){const Fe=this.rendererByCompId;let Et=Fe.get(te.id);if(!Et){const Lt=this.doc,jt=this.ngZone,pn=this.eventManager,Pn=this.sharedStylesHost,rn=this.removeStylesOnCompDestroy,Sr=this.platformIsServer;switch(te.encapsulation){case S.ifc.Emulated:Et=new $n(pn,Pn,te,this.appId,rn,Lt,jt,Sr);break;case S.ifc.ShadowDom:return new Ie(pn,Pn,J,te,Lt,jt,this.nonce,Sr);default:Et=new Ye(pn,Pn,te,rn,Lt,jt,Sr)}Fe.set(te.id,Et)}return Et}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(te){return new(te||ee)(S.LFG(We),S.LFG(Mt),S.LFG(S.AFp),S.LFG(rt),S.LFG(we.K0),S.LFG(S.Lbi),S.LFG(S.R0b),S.LFG(S.Ojb))};static#t=this.\u0275prov=S.Yz7({token:ee,factory:ee.\u0275fac})}return ee})();class be{constructor(re,J,te,Fe){this.eventManager=re,this.doc=J,this.ngZone=te,this.platformIsServer=Fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,J){return J?this.doc.createElementNS(Xt[J]||J,re):this.doc.createElement(re)}createComment(re){return this.doc.createComment(re)}createText(re){return this.doc.createTextNode(re)}appendChild(re,J){(xi(re)?re.content:re).appendChild(J)}insertBefore(re,J,te){re&&(xi(re)?re.content:re).insertBefore(J,te)}removeChild(re,J){re&&re.removeChild(J)}selectRootElement(re,J){let te="string"==typeof re?this.doc.querySelector(re):re;if(!te)throw new S.vHH(-5104,!1);return J||(te.textContent=""),te}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,J,te,Fe){if(Fe){J=Fe+":"+J;const Et=Xt[Fe];Et?re.setAttributeNS(Et,J,te):re.setAttribute(J,te)}else re.setAttribute(J,te)}removeAttribute(re,J,te){if(te){const Fe=Xt[te];Fe?re.removeAttributeNS(Fe,J):re.removeAttribute(`${te}:${J}`)}else re.removeAttribute(J)}addClass(re,J){re.classList.add(J)}removeClass(re,J){re.classList.remove(J)}setStyle(re,J,te,Fe){Fe&(S.JOm.DashCase|S.JOm.Important)?re.style.setProperty(J,te,Fe&S.JOm.Important?"important":""):re.style[J]=te}removeStyle(re,J,te){te&S.JOm.DashCase?re.style.removeProperty(J):re.style[J]=""}setProperty(re,J,te){re[J]=te}setValue(re,J){re.nodeValue=J}listen(re,J,te){if("string"==typeof re&&!(re=(0,we.q)().getGlobalEventTarget(this.doc,re)))throw new Error(`Unsupported event target ${re} for event ${J}`);return this.eventManager.addEventListener(re,J,this.decoratePreventDefault(te))}decoratePreventDefault(re){return J=>{if("__ngUnwrap__"===J)return re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>re(J)):re(J))&&J.preventDefault()}}}function xi(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Ie extends be{constructor(re,J,te,Fe,Et,Lt,jt,pn){super(re,Et,Lt,pn),this.sharedStylesHost=J,this.hostEl=te,this.shadowRoot=te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pn=Ht(Fe.id,Fe.styles);for(const rn of Pn){const Sr=document.createElement("style");jt&&Sr.setAttribute("nonce",jt),Sr.textContent=rn,this.shadowRoot.appendChild(Sr)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,J){return super.appendChild(this.nodeOrShadowRoot(re),J)}insertBefore(re,J,te){return super.insertBefore(this.nodeOrShadowRoot(re),J,te)}removeChild(re,J){return super.removeChild(this.nodeOrShadowRoot(re),J)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ye extends be{constructor(re,J,te,Fe,Et,Lt,jt,pn){super(re,Et,Lt,jt),this.sharedStylesHost=J,this.removeStylesOnCompDestroy=Fe,this.styles=pn?Ht(pn,te.styles):te.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $n extends Ye{constructor(re,J,te,Fe,Et,Lt,jt,pn){const Pn=Fe+"-"+te.id;super(re,J,te,Et,Lt,jt,pn,Pn),this.contentAttr=function lt(ee){return"_ngcontent-%COMP%".replace(mn,ee)}(Pn),this.hostAttr=function Ft(ee){return"_nghost-%COMP%".replace(mn,ee)}(Pn)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,J){const te=super.createElement(re,J);return super.setAttribute(te,this.contentAttr,""),te}}let qe=(()=>{class ee extends Rt{constructor(J){super(J)}supports(J){return!0}addEventListener(J,te,Fe){return J.addEventListener(te,Fe,!1),()=>this.removeEventListener(J,te,Fe)}removeEventListener(J,te,Fe){return J.removeEventListener(te,Fe)}static#e=this.\u0275fac=function(te){return new(te||ee)(S.LFG(we.K0))};static#t=this.\u0275prov=S.Yz7({token:ee,factory:ee.\u0275fac})}return ee})();const Ne=["alt","control","meta","shift"],Q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ge={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let Xe=(()=>{class ee extends Rt{constructor(J){super(J)}supports(J){return null!=ee.parseEventName(J)}addEventListener(J,te,Fe){const Et=ee.parseEventName(te),Lt=ee.eventCallback(Et.fullKey,Fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,we.q)().onAndCancel(J,Et.domEventName,Lt))}static parseEventName(J){const te=J.toLowerCase().split("."),Fe=te.shift();if(0===te.length||"keydown"!==Fe&&"keyup"!==Fe)return null;const Et=ee._normalizeKey(te.pop());let Lt="",jt=te.indexOf("code");if(jt>-1&&(te.splice(jt,1),Lt="code."),Ne.forEach(Pn=>{const rn=te.indexOf(Pn);rn>-1&&(te.splice(rn,1),Lt+=Pn+".")}),Lt+=Et,0!=te.length||0===Et.length)return null;const pn={};return pn.domEventName=Fe,pn.fullKey=Lt,pn}static matchEventFullKeyCode(J,te){let Fe=Q[J.key]||J.key,Et="";return te.indexOf("code.")>-1&&(Fe=J.code,Et="code."),!(null==Fe||!Fe)&&(Fe=Fe.toLowerCase()," "===Fe?Fe="space":"."===Fe&&(Fe="dot"),Ne.forEach(Lt=>{Lt!==Fe&&(0,Ge[Lt])(J)&&(Et+=Lt+".")}),Et+=Fe,Et===te)}static eventCallback(J,te,Fe){return Et=>{ee.matchEventFullKeyCode(Et,J)&&Fe.runGuarded(()=>te(Et))}}static _normalizeKey(J){return"esc"===J?"escape":J}static#e=this.\u0275fac=function(te){return new(te||ee)(S.LFG(we.K0))};static#t=this.\u0275prov=S.Yz7({token:ee,factory:ee.\u0275fac})}return ee})();const Er=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:we.bD},{provide:S.g9A,useValue:function Vt(){ze.makeCurrent()},multi:!0},{provide:we.K0,useFactory:function bt(){return(0,S.RDi)(document),document},deps:[]}]),yi=new S.OlP(""),Ot=[{provide:S.rWj,useClass:class vt{addToWindow(re){S.dqk.getAngularTestability=(te,Fe=!0)=>{const Et=re.findTestabilityInTree(te,Fe);if(null==Et)throw new S.vHH(5103,!1);return Et},S.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(te=>{const Fe=S.dqk.getAllAngularTestabilities();let Et=Fe.length,Lt=!1;const jt=function(pn){Lt=Lt||pn,Et--,0==Et&&te(Lt)};Fe.forEach(pn=>{pn.whenStable(jt)})})}findTestabilityInTree(re,J,te){return null==J?null:re.getTestability(J)??(te?(0,we.q)().isShadowRoot(J)?this.findTestabilityInTree(re,J.host,!0):this.findTestabilityInTree(re,J.parentElement,!0):null)}},deps:[]},{provide:S.lri,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]}],Jn=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function qt(){return new S.qLn},deps:[]},{provide:ye,useClass:qe,multi:!0,deps:[we.K0,S.R0b,S.Lbi]},{provide:ye,useClass:Xe,multi:!0,deps:[we.K0]},Nt,Mt,We,{provide:S.FYo,useExisting:Nt},{provide:we.JF,useClass:ge,deps:[]},[]];let Kn=(()=>{class ee{constructor(J){}static withServerTransition(J){return{ngModule:ee,providers:[{provide:S.AFp,useValue:J.appId}]}}static#e=this.\u0275fac=function(te){return new(te||ee)(S.LFG(yi,12))};static#t=this.\u0275mod=S.oAB({type:ee});static#n=this.\u0275inj=S.cJS({providers:[...Jn,...Ot],imports:[we.ez,S.hGG]})}return ee})(),An=(()=>{class ee{constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}static#e=this.\u0275fac=function(te){return new(te||ee)(S.LFG(we.K0))};static#t=this.\u0275prov=S.Yz7({token:ee,factory:function(te){let Fe=null;return Fe=te?new te:function Un(){return new An((0,S.LFG)(we.K0))}(),Fe},providedIn:"root"})}return ee})();typeof window<"u"&&window},2271:(In,yt,Y)=>{"use strict";Y.d(yt,{F0:()=>mr,rH:()=>Es,Bz:()=>Ss,lC:()=>is});var S=Y(4946),we=Y(5592),Ce=Y(4674),ue=Y(2459),Le=Y(2096),Ve=Y(5619),At=Y(7453),vt=Y(2737),ge=Y(7400),ye=Y(4564),We=Y(2714),Rt=Y(8251),ct=Y(7103);function Mt(...v){const C=(0,ye.yG)(v),y=(0,ye.jO)(v),{args:P,keys:L}=(0,At.D)(v);if(0===P.length)return(0,ue.D)([],C);const X=new we.y(function Xt(v,C,y=vt.y){return P=>{mn(C,()=>{const{length:L}=v,X=new Array(L);let fe=L,it=L;for(let Je=0;Je<L;Je++)mn(C,()=>{const tn=(0,ue.D)(v[Je],C);let Yn=!1;tn.subscribe((0,Rt.x)(P,mi=>{X[Je]=mi,Yn||(Yn=!0,it--),it||P.next(y(X.slice()))},()=>{--fe||P.complete()}))},P)},P)}}(P,C,L?fe=>(0,We.n)(L,fe):vt.y));return y?X.pipe((0,ge.Z)(y)):X}function mn(v,C,y){v?(0,ct.f)(y,v,C):C()}const qn=(0,Y(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var cn=Y(7537);function rt(...v){return function Ae(){return(0,cn.J)(1)}()((0,ue.D)(v,(0,ye.yG)(v)))}var lt=Y(4829);function Ft(v){return new we.y(C=>{(0,lt.Xf)(v()).subscribe(C)})}var Ht=Y(8407);function Nt(v,C){const y=(0,Ce.m)(v)?v:()=>v,P=L=>L.error(y());return new we.y(C?L=>C.schedule(P,0,L):P)}var be=Y(6232),kt=Y(7394),jn=Y(9360);function xi(){return(0,jn.e)((v,C)=>{let y=null;v._refCount++;const P=(0,Rt.x)(C,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const L=v._connection,X=y;y=null,L&&(!X||L===X)&&L.unsubscribe(),C.unsubscribe()});v.subscribe(P),P.closed||(y=v.connect())})}class Ie extends we.y{constructor(C,y){super(),this.source=C,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,jn.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new kt.w0;const y=this.getSubject();C.add(this.source.subscribe((0,Rt.x)(y,void 0,()=>{this._teardown(),y.complete()},P=>{this._teardown(),y.error(P)},()=>this._teardown()))),C.closed&&(this._connection=null,C=kt.w0.EMPTY)}return C}refCount(){return xi()(this)}}var Ye=Y(8645),$n=Y(6814),qe=Y(7398),Ne=Y(4664),Q=Y(8180),Xe=Y(2181),nt=Y(1631);function je(v){return(0,jn.e)((C,y)=>{let P=!1;C.subscribe((0,Rt.x)(y,L=>{P=!0,y.next(L)},()=>{P||y.next(v),y.complete()}))})}function ke(v=pt){return(0,jn.e)((C,y)=>{let P=!1;C.subscribe((0,Rt.x)(y,L=>{P=!0,y.next(L)},()=>P?y.complete():y.error(v())))})}function pt(){return new qn}function Vt(v,C){const y=arguments.length>=2;return P=>P.pipe(v?(0,Xe.h)((L,X)=>v(L,X,P)):vt.y,(0,Q.q)(1),y?je(C):ke(()=>new qn))}function qt(v,C){return(0,Ce.m)(C)?(0,nt.z)(v,C,1):(0,nt.z)(v,1)}var bt=Y(9397);function Tn(v){return(0,jn.e)((C,y)=>{let X,P=null,L=!1;P=C.subscribe((0,Rt.x)(y,void 0,void 0,fe=>{X=(0,lt.Xf)(v(fe,Tn(v)(C))),P?(P.unsubscribe(),P=null,X.subscribe(y)):L=!0})),L&&(P.unsubscribe(),P=null,X.subscribe(y))})}function Ot(v){return v<=0?()=>be.E:(0,jn.e)((C,y)=>{let P=[];C.subscribe((0,Rt.x)(y,L=>{P.push(L),v<P.length&&P.shift()},()=>{for(const L of P)y.next(L);y.complete()},void 0,()=>{P=null}))})}function bn(v){return(0,jn.e)((C,y)=>{try{C.subscribe(y)}finally{y.add(v)}})}var wt=Y(2420),Un=Y(6593);const An="primary",Hn=Symbol("RouteTitle");class gt{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y[0]:y}return null}getAll(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Pr(v){return new gt(v)}function Mn(v,C,y){const P=y.path.split("/");if(P.length>v.length||"full"===y.pathMatch&&(C.hasChildren()||P.length<v.length))return null;const L={};for(let X=0;X<P.length;X++){const fe=P[X],it=v[X];if(fe.startsWith(":"))L[fe.substring(1)]=it;else if(fe!==it.path)return null}return{consumed:v.slice(0,P.length),posParams:L}}function Mr(v,C){const y=v?Object.keys(v):void 0,P=C?Object.keys(C):void 0;if(!y||!P||y.length!=P.length)return!1;let L;for(let X=0;X<y.length;X++)if(L=y[X],!lr(v[L],C[L]))return!1;return!0}function lr(v,C){if(Array.isArray(v)&&Array.isArray(C)){if(v.length!==C.length)return!1;const y=[...v].sort(),P=[...C].sort();return y.every((L,X)=>P[X]===L)}return v===C}function xr(v){return v.length>0?v[v.length-1]:null}function fr(v){return function ze(v){return!!v&&(v instanceof we.y||(0,Ce.m)(v.lift)&&(0,Ce.m)(v.subscribe))}(v)?v:(0,S.QGY)(v)?(0,ue.D)(Promise.resolve(v)):(0,Le.of)(v)}const Ur={exact:function on(v,C,y){if(!_n(v.segments,C.segments)||!Se(v.segments,C.segments,y)||v.numberOfChildren!==C.numberOfChildren)return!1;for(const P in C.children)if(!v.children[P]||!on(v.children[P],C.children[P],y))return!1;return!0},subset:ci},ki={exact:function Ts(v,C){return Mr(v,C)},subset:function us(v,C){return Object.keys(C).length<=Object.keys(v).length&&Object.keys(C).every(y=>lr(v[y],C[y]))},ignored:()=>!0};function Rn(v,C,y){return Ur[y.paths](v.root,C.root,y.matrixParams)&&ki[y.queryParams](v.queryParams,C.queryParams)&&!("exact"===y.fragment&&v.fragment!==C.fragment)}function ci(v,C,y){return Br(v,C,C.segments,y)}function Br(v,C,y,P){if(v.segments.length>y.length){const L=v.segments.slice(0,y.length);return!(!_n(L,y)||C.hasChildren()||!Se(L,y,P))}if(v.segments.length===y.length){if(!_n(v.segments,y)||!Se(v.segments,y,P))return!1;for(const L in C.children)if(!v.children[L]||!ci(v.children[L],C.children[L],P))return!1;return!0}{const L=y.slice(0,v.segments.length),X=y.slice(v.segments.length);return!!(_n(v.segments,L)&&Se(v.segments,L,P)&&v.children[An])&&Br(v.children[An],C,X,P)}}function Se(v,C,y){return C.every((P,L)=>ki[y](v[L].parameters,P.parameters))}class ir{constructor(C=new Yt([],{}),y={},P=null){this.root=C,this.queryParams=y,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return me.serialize(this)}}class Yt{constructor(C,y){this.segments=C,this.children=y,this.parent=null,Object.values(y).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ee(this)}}class Bi{constructor(C,y){this.path=C,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Pr(this.parameters)),this._parameterMap}toString(){return pn(this)}}function _n(v,C){return v.length===C.length&&v.every((y,P)=>y.path===C[P].path)}let pi=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:function(){return new wn},providedIn:"root"})}return v})();class wn{parse(C){const y=new Zs(C);return new ir(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(C){const y=`/${re(C.root,!0)}`,P=function rn(v){const C=Object.keys(v).map(y=>{const P=v[y];return Array.isArray(P)?P.map(L=>`${te(y)}=${te(L)}`).join("&"):`${te(y)}=${te(P)}`}).filter(y=>!!y);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${y}${P}${"string"==typeof C.fragment?`#${function Fe(v){return encodeURI(v)}(C.fragment)}`:""}`}}const me=new wn;function ee(v){return v.segments.map(C=>pn(C)).join("/")}function re(v,C){if(!v.hasChildren())return ee(v);if(C){const y=v.children[An]?re(v.children[An],!1):"",P=[];return Object.entries(v.children).forEach(([L,X])=>{L!==An&&P.push(`${L}:${re(X,!1)}`)}),P.length>0?`${y}(${P.join("//")})`:y}{const y=function cr(v,C){let y=[];return Object.entries(v.children).forEach(([P,L])=>{P===An&&(y=y.concat(C(L,P)))}),Object.entries(v.children).forEach(([P,L])=>{P!==An&&(y=y.concat(C(L,P)))}),y}(v,(P,L)=>L===An?[re(v.children[An],!1)]:[`${L}:${re(P,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[An]?`${ee(v)}/${y[0]}`:`${ee(v)}/(${y.join("//")})`}}function J(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function te(v){return J(v).replace(/%3B/gi,";")}function Et(v){return J(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(v){return decodeURIComponent(v)}function jt(v){return Lt(v.replace(/\+/g,"%20"))}function pn(v){return`${Et(v.path)}${function Pn(v){return Object.keys(v).map(C=>`;${Et(C)}=${Et(v[C])}`).join("")}(v.parameters)}`}const Sr=/^[^\/()?;#]+/;function bi(v){const C=v.match(Sr);return C?C[0]:""}const ji=/^[^\/()?;=#]+/,Rs=/^[^=?&#]+/,lo=/^[^&#]+/;class Zs{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(C.length>0||Object.keys(y).length>0)&&(P[An]=new Yt(C,y)),P}parseSegment(){const C=bi(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new S.vHH(4009,!1);return this.capture(C),new Bi(Lt(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const y=function gi(v){const C=v.match(ji);return C?C[0]:""}(this.remaining);if(!y)return;this.capture(y);let P="";if(this.consumeOptional("=")){const L=bi(this.remaining);L&&(P=L,this.capture(P))}C[Lt(y)]=Lt(P)}parseQueryParam(C){const y=function oi(v){const C=v.match(Rs);return C?C[0]:""}(this.remaining);if(!y)return;this.capture(y);let P="";if(this.consumeOptional("=")){const fe=function _i(v){const C=v.match(lo);return C?C[0]:""}(this.remaining);fe&&(P=fe,this.capture(P))}const L=jt(y),X=jt(P);if(C.hasOwnProperty(L)){let fe=C[L];Array.isArray(fe)||(fe=[fe],C[L]=fe),fe.push(X)}else C[L]=X}parseParens(C){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=bi(this.remaining),L=this.remaining[P.length];if("/"!==L&&")"!==L&&";"!==L)throw new S.vHH(4010,!1);let X;P.indexOf(":")>-1?(X=P.slice(0,P.indexOf(":")),this.capture(X),this.capture(":")):C&&(X=An);const fe=this.parseChildren();y[X]=1===Object.keys(fe).length?fe[An]:new Yt([],fe),this.consumeOptional("//")}return y}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new S.vHH(4011,!1)}}function Bn(v){return v.segments.length>0?new Yt([],{[An]:v}):v}function et(v){const C={};for(const P of Object.keys(v.children)){const X=et(v.children[P]);if(P===An&&0===X.segments.length&&X.hasChildren())for(const[fe,it]of Object.entries(X.children))C[fe]=it;else(X.segments.length>0||X.hasChildren())&&(C[P]=X)}return function Ue(v){if(1===v.numberOfChildren&&v.children[An]){const C=v.children[An];return new Yt(v.segments.concat(C.segments),C.children)}return v}(new Yt(v.segments,C))}function dt(v){return v instanceof ir}function En(v){let C;const L=Bn(function y(X){const fe={};for(const Je of X.children){const tn=y(Je);fe[Je.outlet]=tn}const it=new Yt(X.url,fe);return X===v&&(C=it),it}(v.root));return C??L}function On(v,C,y,P){let L=v;for(;L.parent;)L=L.parent;if(0===C.length)return tr(L,L,L,y,P);const X=function Wr(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Xn(!0,0,v);let C=0,y=!1;const P=v.reduce((L,X,fe)=>{if("object"==typeof X&&null!=X){if(X.outlets){const it={};return Object.entries(X.outlets).forEach(([Je,tn])=>{it[Je]="string"==typeof tn?tn.split("/"):tn}),[...L,{outlets:it}]}if(X.segmentPath)return[...L,X.segmentPath]}return"string"!=typeof X?[...L,X]:0===fe?(X.split("/").forEach((it,Je)=>{0==Je&&"."===it||(0==Je&&""===it?y=!0:".."===it?C++:""!=it&&L.push(it))}),L):[...L,X]},[]);return new Xn(y,C,P)}(C);if(X.toRoot())return tr(L,L,new Yt([],{}),y,P);const fe=function Ao(v,C,y){if(v.isAbsolute)return new rs(C,!0,0);if(!y)return new rs(C,!1,NaN);if(null===y.parent)return new rs(y,!0,0);const P=Sn(v.commands[0])?0:1;return function sr(v,C,y){let P=v,L=C,X=y;for(;X>L;){if(X-=L,P=P.parent,!P)throw new S.vHH(4005,!1);L=P.segments.length}return new rs(P,!1,L-X)}(y,y.segments.length-1+P,v.numberOfDoubleDots)}(X,L,v),it=fe.processChildren?Dt(fe.segmentGroup,fe.index,X.commands):Kt(fe.segmentGroup,fe.index,X.commands);return tr(L,fe.segmentGroup,it,y,P)}function Sn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function dr(v){return"object"==typeof v&&null!=v&&v.outlets}function tr(v,C,y,P,L){let fe,X={};P&&Object.entries(P).forEach(([Je,tn])=>{X[Je]=Array.isArray(tn)?tn.map(Yn=>`${Yn}`):`${tn}`}),fe=v===C?y:ni(v,C,y);const it=Bn(et(fe));return new ir(it,X,L)}function ni(v,C,y){const P={};return Object.entries(v.children).forEach(([L,X])=>{P[L]=X===C?y:ni(X,C,y)}),new Yt(v.segments,P)}class Xn{constructor(C,y,P){if(this.isAbsolute=C,this.numberOfDoubleDots=y,this.commands=P,C&&P.length>0&&Sn(P[0]))throw new S.vHH(4003,!1);const L=P.find(dr);if(L&&L!==xr(P))throw new S.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rs{constructor(C,y,P){this.segmentGroup=C,this.processChildren=y,this.index=P}}function Kt(v,C,y){if(v||(v=new Yt([],{})),0===v.segments.length&&v.hasChildren())return Dt(v,C,y);const P=function an(v,C,y){let P=0,L=C;const X={match:!1,pathIndex:0,commandIndex:0};for(;L<v.segments.length;){if(P>=y.length)return X;const fe=v.segments[L],it=y[P];if(dr(it))break;const Je=`${it}`,tn=P<y.length-1?y[P+1]:null;if(L>0&&void 0===Je)break;if(Je&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!Ir(Je,tn,fe))return X;P+=2}else{if(!Ir(Je,{},fe))return X;P++}L++}return{match:!0,pathIndex:L,commandIndex:P}}(v,C,y),L=y.slice(P.commandIndex);if(P.match&&P.pathIndex<v.segments.length){const X=new Yt(v.segments.slice(0,P.pathIndex),{});return X.children[An]=new Yt(v.segments.slice(P.pathIndex),v.children),Dt(X,0,L)}return P.match&&0===L.length?new Yt(v.segments,{}):P.match&&!v.hasChildren()?vn(v,C,y):P.match?Dt(v,0,L):vn(v,C,y)}function Dt(v,C,y){if(0===y.length)return new Yt(v.segments,{});{const P=function Ln(v){return dr(v[0])?v[0].outlets:{[An]:v}}(y),L={};if(Object.keys(P).some(X=>X!==An)&&v.children[An]&&1===v.numberOfChildren&&0===v.children[An].segments.length){const X=Dt(v.children[An],C,y);return new Yt(v.segments,X.children)}return Object.entries(P).forEach(([X,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(L[X]=Kt(v.children[X],C,fe))}),Object.entries(v.children).forEach(([X,fe])=>{void 0===P[X]&&(L[X]=fe)}),new Yt(v.segments,L)}}function vn(v,C,y){const P=v.segments.slice(0,C);let L=0;for(;L<y.length;){const X=y[L];if(dr(X)){const Je=Gn(X.outlets);return new Yt(P,Je)}if(0===L&&Sn(y[0])){P.push(new Bi(v.segments[C].path,ri(y[0]))),L++;continue}const fe=dr(X)?X.outlets[An]:`${X}`,it=L<y.length-1?y[L+1]:null;fe&&it&&Sn(it)?(P.push(new Bi(fe,ri(it))),L+=2):(P.push(new Bi(fe,{})),L++)}return new Yt(P,{})}function Gn(v){const C={};return Object.entries(v).forEach(([y,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(C[y]=vn(new Yt([],{}),0,P))}),C}function ri(v){const C={};return Object.entries(v).forEach(([y,P])=>C[y]=`${P}`),C}function Ir(v,C,y){return v==y.path&&Mr(C,y.parameters)}const or="imperative";class Lr{constructor(C,y){this.id=C,this.url=y}}class Tr extends Lr{constructor(C,y,P="imperative",L=null){super(C,y),this.type=0,this.navigationTrigger=P,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends Lr{constructor(C,y,P){super(C,y),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vi extends Lr{constructor(C,y,P,L){super(C,y),this.reason=P,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ys extends Lr{constructor(C,y,P,L){super(C,y),this.reason=P,this.code=L,this.type=16}}class ar extends Lr{constructor(C,y,P,L){super(C,y),this.error=P,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Do extends Lr{constructor(C,y,P,L){super(C,y),this.urlAfterRedirects=P,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends Lr{constructor(C,y,P,L){super(C,y),this.urlAfterRedirects=P,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends Lr{constructor(C,y,P,L,X){super(C,y),this.urlAfterRedirects=P,this.state=L,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ls extends Lr{constructor(C,y,P,L){super(C,y),this.urlAfterRedirects=P,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends Lr{constructor(C,y,P,L){super(C,y),this.urlAfterRedirects=P,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Us{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ps{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class So{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(C,y,P){this.routerEvent=C,this.position=y,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $i{}class Bs{constructor(C){this.url=C}}class co{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qi,this.attachRef=null}}let qi=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,P){const L=this.getOrCreateContext(y);L.outlet=P,this.contexts.set(y,L)}onChildOutletDestroyed(y){const P=this.getContext(y);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let P=this.getContext(y);return P||(P=new co,this.contexts.set(y,P)),P}getContext(y){return this.contexts.get(y)||null}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class Ns{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const y=this.pathFromRoot(C);return y.length>1?y[y.length-2]:null}children(C){const y=Hi(C,this._root);return y?y.children.map(P=>P.value):[]}firstChild(C){const y=Hi(C,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(C){const y=Qn(C,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==C)}pathFromRoot(C){return Qn(C,this._root).map(y=>y.value)}}function Hi(v,C){if(v===C.value)return C;for(const y of C.children){const P=Hi(v,y);if(P)return P}return null}function Qn(v,C){if(v===C.value)return[C];for(const y of C.children){const P=Qn(v,y);if(P.length)return P.unshift(C),P}return[]}class $r{constructor(C,y){this.value=C,this.children=y}toString(){return`TreeNode(${this.value})`}}function Nr(v){const C={};return v&&v.children.forEach(y=>C[y.value.outlet]=y),C}class cs extends Ns{constructor(C,y){super(C),this.snapshot=y,Jt(this,C)}toString(){return this.snapshot.toString()}}function ds(v,C){const y=function oo(v,C){const fe=new ho([],{},{},"",{},An,C,null,{});return new Or("",new $r(fe,[]))}(0,C),P=new Ve.X([new Bi("",{})]),L=new Ve.X({}),X=new Ve.X({}),fe=new Ve.X({}),it=new Ve.X(""),Je=new As(P,L,fe,it,X,An,C,y.root);return Je.snapshot=y.root,new cs(new $r(Je,[]),y)}class As{constructor(C,y,P,L,X,fe,it,Je){this.urlSubject=C,this.paramsSubject=y,this.queryParamsSubject=P,this.fragmentSubject=L,this.dataSubject=X,this.outlet=fe,this.component=it,this._futureSnapshot=Je,this.title=this.dataSubject?.pipe((0,qe.U)(tn=>tn[Hn]))??(0,Le.of)(void 0),this.url=C,this.params=y,this.queryParams=P,this.fragment=L,this.data=X}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(C=>Pr(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(C=>Pr(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ds(v,C="emptyOnly"){const y=v.pathFromRoot;let P=0;if("always"!==C)for(P=y.length-1;P>=1;){const L=y[P],X=y[P-1];if(L.routeConfig&&""===L.routeConfig.path)P--;else{if(X.component)break;P--}}return function Jo(v){return v.reduce((C,y)=>({params:{...C.params,...y.params},data:{...C.data,...y.data},resolve:{...y.data,...C.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(P))}class ho{get title(){return this.data?.[Hn]}constructor(C,y,P,L,X,fe,it,Je,tn){this.url=C,this.params=y,this.queryParams=P,this.fragment=L,this.data=X,this.outlet=fe,this.component=it,this.routeConfig=Je,this._resolve=tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Or extends Ns{constructor(C,y){super(y),this.url=C,Jt(this,y)}toString(){return dn(this._root)}}function Jt(v,C){C.value._routerState=v,C.children.forEach(y=>Jt(v,y))}function dn(v){const C=v.children.length>0?` { ${v.children.map(dn).join(", ")} } `:"";return`${v.value}${C}`}function Fr(v){if(v.snapshot){const C=v.snapshot,y=v._futureSnapshot;v.snapshot=y,Mr(C.queryParams,y.queryParams)||v.queryParamsSubject.next(y.queryParams),C.fragment!==y.fragment&&v.fragmentSubject.next(y.fragment),Mr(C.params,y.params)||v.paramsSubject.next(y.params),function fn(v,C){if(v.length!==C.length)return!1;for(let y=0;y<v.length;++y)if(!Mr(v[y],C[y]))return!1;return!0}(C.url,y.url)||v.urlSubject.next(y.url),Mr(C.data,y.data)||v.dataSubject.next(y.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function pr(v,C){const y=Mr(v.params,C.params)&&function ti(v,C){return _n(v,C)&&v.every((y,P)=>Mr(y.parameters,C[P].parameters))}(v.url,C.url);return y&&!(!v.parent!=!C.parent)&&(!v.parent||pr(v.parent,C.parent))}let is=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new S.vpe,this.deactivateEvents=new S.vpe,this.attachEvents=new S.vpe,this.detachEvents=new S.vpe,this.parentContexts=(0,S.f3M)(qi),this.location=(0,S.f3M)(S.s_b),this.changeDetector=(0,S.f3M)(S.sBO),this.environmentInjector=(0,S.f3M)(S.lqb),this.inputBinder=(0,S.f3M)(Ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:P,previousValue:L}=y.name;if(P)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.vHH(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,P){this.activated=y,this._activatedRoute=P,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,P){if(this.isActivated)throw new S.vHH(4013,!1);this._activatedRoute=y;const L=this.location,fe=y.snapshot.component,it=this.parentContexts.getOrCreateContext(this.name).children,Je=new wi(y,it,L.injector);this.activated=L.createComponent(fe,{index:L.length,injector:Je,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275dir=S.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.TTD]})}return v})();class wi{constructor(C,y,P){this.route=C,this.childContexts=y,this.parent=P}get(C,y){return C===As?this.route:C===qi?this.childContexts:this.parent.get(C,y)}}const Ai=new S.OlP("");let kr=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:P}=y,L=Mt([P.queryParams,P.params,P.data]).pipe((0,Ne.w)(([X,fe,it],Je)=>(it={...X,...fe,...it},0===Je?(0,Le.of)(it):Promise.resolve(it)))).subscribe(X=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(y);const fe=(0,S.qFp)(P.component);if(fe)for(const{templateName:it}of fe.inputs)y.activatedComponentRef.setInput(it,X[it]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,L)}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac})}return v})();function Li(v,C,y){if(y&&v.shouldReuseRoute(C.value,y.value.snapshot)){const P=y.value;P._futureSnapshot=C.value;const L=function zt(v,C,y){return C.children.map(P=>{for(const L of y.children)if(v.shouldReuseRoute(P.value,L.value.snapshot))return Li(v,P,L);return Li(v,P)})}(v,C,y);return new $r(P,L)}{if(v.shouldAttach(C.value)){const X=v.retrieve(C.value);if(null!==X){const fe=X.route;return fe.value._futureSnapshot=C.value,fe.children=C.children.map(it=>Li(v,it)),fe}}const P=function Zn(v){return new As(new Ve.X(v.url),new Ve.X(v.params),new Ve.X(v.queryParams),new Ve.X(v.fragment),new Ve.X(v.data),v.outlet,v.component,v)}(C.value),L=C.children.map(X=>Li(v,X));return new $r(P,L)}}const js="ngNavigationCancelingError";function gs(v,C){const{redirectTo:y,navigationBehaviorOptions:P}=dt(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,L=Zr(!1,0,C);return L.url=y,L.navigationBehaviorOptions=P,L}function Zr(v,C,y){const P=new Error("NavigationCancelingError: "+(v||""));return P[js]=!0,P.cancellationCode=C,y&&(P.url=y),P}function ms(v){return v&&v[js]}let zi=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275cmp=S.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[S.jDz],decls:1,vars:0,template:function(P,L){1&P&&S._UZ(0,"router-outlet")},dependencies:[is],encapsulation:2})}return v})();function fo(v){const C=v.children&&v.children.map(fo),y=C?{...v,children:C}:{...v};return!y.component&&!y.loadComponent&&(C||y.loadChildren)&&y.outlet&&y.outlet!==An&&(y.component=zi),y}function Di(v){return v.outlet||An}function Qi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let C=v.parent;C;C=C.parent){const y=C.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class jo{constructor(C,y,P,L,X){this.routeReuseStrategy=C,this.futureState=y,this.currState=P,this.forwardEvent=L,this.inputBindingEnabled=X}activate(C){const y=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,P,C),Fr(this.futureState.root),this.activateChildRoutes(y,P,C)}deactivateChildRoutes(C,y,P){const L=Nr(y);C.children.forEach(X=>{const fe=X.value.outlet;this.deactivateRoutes(X,L[fe],P),delete L[fe]}),Object.values(L).forEach(X=>{this.deactivateRouteAndItsChildren(X,P)})}deactivateRoutes(C,y,P){const L=C.value,X=y?y.value:null;if(L===X)if(L.component){const fe=P.getContext(L.outlet);fe&&this.deactivateChildRoutes(C,y,fe.children)}else this.deactivateChildRoutes(C,y,P);else X&&this.deactivateRouteAndItsChildren(y,P)}deactivateRouteAndItsChildren(C,y){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,y):this.deactivateRouteAndOutlet(C,y)}detachAndStoreRouteSubtree(C,y){const P=y.getContext(C.value.outlet),L=P&&C.value.component?P.children:y,X=Nr(C);for(const fe of Object.keys(X))this.deactivateRouteAndItsChildren(X[fe],L);if(P&&P.outlet){const fe=P.outlet.detach(),it=P.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:fe,route:C,contexts:it})}}deactivateRouteAndOutlet(C,y){const P=y.getContext(C.value.outlet),L=P&&C.value.component?P.children:y,X=Nr(C);for(const fe of Object.keys(X))this.deactivateRouteAndItsChildren(X[fe],L);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(C,y,P){const L=Nr(y);C.children.forEach(X=>{this.activateRoutes(X,L[X.value.outlet],P),this.forwardEvent(new so(X.value.snapshot))}),C.children.length&&this.forwardEvent(new Ms(C.value.snapshot))}activateRoutes(C,y,P){const L=C.value,X=y?y.value:null;if(Fr(L),L===X)if(L.component){const fe=P.getOrCreateContext(L.outlet);this.activateChildRoutes(C,y,fe.children)}else this.activateChildRoutes(C,y,P);else if(L.component){const fe=P.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const it=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),fe.children.onOutletReAttached(it.contexts),fe.attachRef=it.componentRef,fe.route=it.route.value,fe.outlet&&fe.outlet.attach(it.componentRef,it.route.value),Fr(it.route.value),this.activateChildRoutes(C,null,fe.children)}else{const it=Qi(L.snapshot);fe.attachRef=null,fe.route=L,fe.injector=it,fe.outlet&&fe.outlet.activateWith(L,fe.injector),this.activateChildRoutes(C,null,fe.children)}}else this.activateChildRoutes(C,null,P)}}class Ci{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class H{constructor(C,y){this.component=C,this.route=y}}function z(v,C,y){const P=v._root;return Oe(P,C?C._root:null,y,[P.value])}function de(v,C){const y=Symbol(),P=C.get(v,y);return P===y?"function"!=typeof v||(0,S.Z0I)(v)?C.get(v):v:P}function Oe(v,C,y,P,L={canDeactivateChecks:[],canActivateChecks:[]}){const X=Nr(C);return v.children.forEach(fe=>{(function ht(v,C,y,P,L={canDeactivateChecks:[],canActivateChecks:[]}){const X=v.value,fe=C?C.value:null,it=y?y.getContext(v.value.outlet):null;if(fe&&X.routeConfig===fe.routeConfig){const Je=function $t(v,C,y){if("function"==typeof y)return y(v,C);switch(y){case"pathParamsChange":return!_n(v.url,C.url);case"pathParamsOrQueryParamsChange":return!_n(v.url,C.url)||!Mr(v.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pr(v,C)||!Mr(v.queryParams,C.queryParams);default:return!pr(v,C)}}(fe,X,X.routeConfig.runGuardsAndResolvers);Je?L.canActivateChecks.push(new Ci(P)):(X.data=fe.data,X._resolvedData=fe._resolvedData),Oe(v,C,X.component?it?it.children:null:y,P,L),Je&&it&&it.outlet&&it.outlet.isActivated&&L.canDeactivateChecks.push(new H(it.outlet.component,fe))}else fe&&Qt(C,it,L),L.canActivateChecks.push(new Ci(P)),Oe(v,null,X.component?it?it.children:null:y,P,L)})(fe,X[fe.value.outlet],y,P.concat([fe.value]),L),delete X[fe.value.outlet]}),Object.entries(X).forEach(([fe,it])=>Qt(it,y.getContext(fe),L)),L}function Qt(v,C,y){const P=Nr(v),L=v.value;Object.entries(P).forEach(([X,fe])=>{Qt(fe,L.component?C?C.children.getContext(X):null:C,y)}),y.canDeactivateChecks.push(new H(L.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,L))}function un(v){return"function"==typeof v}function os(v){return v instanceof qn||"EmptyError"===v?.name}const Zi=Symbol("INITIAL_VALUE");function vr(){return(0,Ne.w)(v=>Mt(v.map(C=>C.pipe((0,Q.q)(1),function Ge(...v){const C=(0,ye.yG)(v);return(0,jn.e)((y,P)=>{(C?rt(v,y,C):rt(v,y)).subscribe(P)})}(Zi)))).pipe((0,qe.U)(C=>{for(const y of C)if(!0!==y){if(y===Zi)return Zi;if(!1===y||y instanceof ir)return y}return!0}),(0,Xe.h)(C=>C!==Zi),(0,Q.q)(1)))}function Ee(v){return(0,Ht.z)((0,bt.b)(C=>{if(dt(C))throw gs(0,C)}),(0,qe.U)(C=>!0===C))}class Ze{constructor(C){this.segmentGroup=C||null}}class at{constructor(C){this.urlTree=C}}function Wt(v){return Nt(new Ze(v))}function Zt(v){return Nt(new at(v))}class Dn{constructor(C,y){this.urlSerializer=C,this.urlTree=y}noMatchError(C){return new S.vHH(4002,!1)}lineralizeSegments(C,y){let P=[],L=y.root;for(;;){if(P=P.concat(L.segments),0===L.numberOfChildren)return(0,Le.of)(P);if(L.numberOfChildren>1||!L.children[An])return Nt(new S.vHH(4e3,!1));L=L.children[An]}}applyRedirectCommands(C,y,P){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),C,P)}applyRedirectCreateUrlTree(C,y,P,L){const X=this.createSegmentGroup(C,y.root,P,L);return new ir(X,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(C,y){const P={};return Object.entries(C).forEach(([L,X])=>{if("string"==typeof X&&X.startsWith(":")){const it=X.substring(1);P[L]=y[it]}else P[L]=X}),P}createSegmentGroup(C,y,P,L){const X=this.createSegments(C,y.segments,P,L);let fe={};return Object.entries(y.children).forEach(([it,Je])=>{fe[it]=this.createSegmentGroup(C,Je,P,L)}),new Yt(X,fe)}createSegments(C,y,P,L){return y.map(X=>X.path.startsWith(":")?this.findPosParam(C,X,L):this.findOrReturn(X,P))}findPosParam(C,y,P){const L=P[y.path.substring(1)];if(!L)throw new S.vHH(4001,!1);return L}findOrReturn(C,y){let P=0;for(const L of y){if(L.path===C.path)return y.splice(P),L;P++}return C}}const Vn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kr(v,C,y,P,L){const X=hi(v,C,y);return X.matched?(P=function Cs(v,C){return v.providers&&!v._injector&&(v._injector=(0,S.MMx)(v.providers,C,`Route: ${v.path}`)),v._injector??C}(C,P),function pe(v,C,y,P){const L=C.canMatch;if(!L||0===L.length)return(0,Le.of)(!0);const X=L.map(fe=>{const it=de(fe,v);return fr(function ii(v){return v&&un(v.canMatch)}(it)?it.canMatch(C,y):v.runInContext(()=>it(C,y)))});return(0,Le.of)(X).pipe(vr(),Ee())}(P,C,y).pipe((0,qe.U)(fe=>!0===fe?X:{...Vn}))):(0,Le.of)(X)}function hi(v,C,y){if(""===C.path)return"full"===C.pathMatch&&(v.hasChildren()||y.length>0)?{...Vn}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const L=(C.matcher||Mn)(y,v,C);if(!L)return{...Vn};const X={};Object.entries(L.posParams??{}).forEach(([it,Je])=>{X[it]=Je.path});const fe=L.consumed.length>0?{...X,...L.consumed[L.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:L.consumed,remainingSegments:y.slice(L.consumed.length),parameters:fe,positionalParamSegments:L.posParams??{}}}function Yr(v,C,y,P){return y.length>0&&function Ro(v,C,y){return y.some(P=>Pi(v,C,P)&&Di(P)!==An)}(v,y,P)?{segmentGroup:new Yt(C,Jr(P,new Yt(y,v.children))),slicedSegments:[]}:0===y.length&&function Ji(v,C,y){return y.some(P=>Pi(v,C,P))}(v,y,P)?{segmentGroup:new Yt(v.segments,Yi(v,0,y,P,v.children)),slicedSegments:y}:{segmentGroup:new Yt(v.segments,v.children),slicedSegments:y}}function Yi(v,C,y,P,L){const X={};for(const fe of P)if(Pi(v,y,fe)&&!L[Di(fe)]){const it=new Yt([],{});X[Di(fe)]=it}return{...L,...X}}function Jr(v,C){const y={};y[An]=C;for(const P of v)if(""===P.path&&Di(P)!==An){const L=new Yt([],{});y[Di(P)]=L}return y}function Pi(v,C,y){return(!(v.hasChildren()||C.length>0)||"full"!==y.pathMatch)&&""===y.path}class Po{constructor(C,y,P,L,X,fe,it){this.injector=C,this.configLoader=y,this.rootComponentType=P,this.config=L,this.urlTree=X,this.paramsInheritanceStrategy=fe,this.urlSerializer=it,this.allowRedirects=!0,this.applyRedirects=new Dn(this.urlSerializer,this.urlTree)}noMatchError(C){return new S.vHH(4002,!1)}recognize(){const C=Yr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,An).pipe(Tn(y=>{if(y instanceof at)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof Ze?this.noMatchError(y):y}),(0,qe.U)(y=>{const P=new ho([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,{}),L=new $r(P,y),X=new Or("",L),fe=function en(v,C,y=null,P=null){return On(En(v),C,y,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,X.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(X._root),{state:X,tree:fe}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C.root,An).pipe(Tn(P=>{throw P instanceof Ze?this.noMatchError(P):P}))}inheritParamsAndData(C){const y=C.value,P=Ds(y,this.paramsInheritanceStrategy);y.params=Object.freeze(P.params),y.data=Object.freeze(P.data),C.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(C,y,P,L){return 0===P.segments.length&&P.hasChildren()?this.processChildren(C,y,P):this.processSegment(C,y,P,P.segments,L,!0)}processChildren(C,y,P){const L=[];for(const X of Object.keys(P.children))"primary"===X?L.unshift(X):L.push(X);return(0,ue.D)(L).pipe(qt(X=>{const fe=P.children[X],it=function $s(v,C){const y=v.filter(P=>Di(P)===C);return y.push(...v.filter(P=>Di(P)!==C)),y}(y,X);return this.processSegmentGroup(C,it,fe,X)}),function yi(v,C){return(0,jn.e)(function Er(v,C,y,P,L){return(X,fe)=>{let it=y,Je=C,tn=0;X.subscribe((0,Rt.x)(fe,Yn=>{const mi=tn++;Je=it?v(Je,Yn,mi):(it=!0,Yn),P&&fe.next(Je)},L&&(()=>{it&&fe.next(Je),fe.complete()})))}}(v,C,arguments.length>=2,!0))}((X,fe)=>(X.push(...fe),X)),je(null),function Jn(v,C){const y=arguments.length>=2;return P=>P.pipe(v?(0,Xe.h)((L,X)=>v(L,X,P)):vt.y,Ot(1),y?je(C):ke(()=>new qn))}(),(0,nt.z)(X=>{if(null===X)return Wt(P);const fe=K(X);return function li(v){v.sort((C,y)=>C.value.outlet===An?-1:y.value.outlet===An?1:C.value.outlet.localeCompare(y.value.outlet))}(fe),(0,Le.of)(fe)}))}processSegment(C,y,P,L,X,fe){return(0,ue.D)(y).pipe(qt(it=>this.processSegmentAgainstRoute(it._injector??C,y,it,P,L,X,fe).pipe(Tn(Je=>{if(Je instanceof Ze)return(0,Le.of)(null);throw Je}))),Vt(it=>!!it),Tn(it=>{if(os(it))return function Xi(v,C,y){return 0===C.length&&!v.children[y]}(P,L,X)?(0,Le.of)([]):Wt(P);throw it}))}processSegmentAgainstRoute(C,y,P,L,X,fe,it){return function hs(v,C,y,P){return!!(Di(v)===P||P!==An&&Pi(C,y,v))&&("**"===v.path||hi(C,v,y).matched)}(P,L,X,fe)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(C,L,P,X,fe,it):it&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,L,y,P,X,fe):Wt(L):Wt(L)}expandSegmentAgainstRouteUsingRedirect(C,y,P,L,X,fe){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,P,L,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(C,y,P,L,X,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,y,P,L){const X=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Zt(X):this.applyRedirects.lineralizeSegments(P,X).pipe((0,nt.z)(fe=>{const it=new Yt(fe,{});return this.processSegment(C,y,it,fe,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,y,P,L,X,fe){const{matched:it,consumedSegments:Je,remainingSegments:tn,positionalParamSegments:Yn}=hi(y,L,X);if(!it)return Wt(y);const mi=this.applyRedirects.applyRedirectCommands(Je,L.redirectTo,Yn);return L.redirectTo.startsWith("/")?Zt(mi):this.applyRedirects.lineralizeSegments(L,mi).pipe((0,nt.z)(Vr=>this.processSegment(C,P,y,Vr.concat(tn),fe,!1)))}matchSegmentAgainstRoute(C,y,P,L,X,fe){let it;if("**"===P.path){const Je=L.length>0?xr(L).parameters:{},tn=new ho(L,Je,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(P),Di(P),P.component??P._loadedComponent??null,P,ae(P));it=(0,Le.of)({snapshot:tn,consumedSegments:[],remainingSegments:[]}),y.children={}}else it=Kr(y,P,L,C).pipe((0,qe.U)(({matched:Je,consumedSegments:tn,remainingSegments:Yn,parameters:mi})=>Je?{snapshot:new ho(tn,mi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(P),Di(P),P.component??P._loadedComponent??null,P,ae(P)),consumedSegments:tn,remainingSegments:Yn}:null));return it.pipe((0,Ne.w)(Je=>null===Je?Wt(y):this.getChildConfig(C=P._injector??C,P,L).pipe((0,Ne.w)(({routes:tn})=>{const Yn=P._loadedInjector??C,{snapshot:mi,consumedSegments:Vr,remainingSegments:zs}=Je,{segmentGroup:Oo,slicedSegments:Ta}=Yr(y,Vr,zs,tn);if(0===Ta.length&&Oo.hasChildren())return this.processChildren(Yn,tn,Oo).pipe((0,qe.U)(La=>null===La?null:[new $r(mi,La)]));if(0===tn.length&&0===Ta.length)return(0,Le.of)([new $r(mi,[])]);const ku=Di(P)===X;return this.processSegment(Yn,tn,Oo,Ta,ku?An:X,!0).pipe((0,qe.U)(La=>[new $r(mi,La)]))}))))}getChildConfig(C,y,P){return y.children?(0,Le.of)({routes:y.children,injector:C}):y.loadChildren?void 0!==y._loadedRoutes?(0,Le.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function se(v,C,y,P){const L=C.canLoad;if(void 0===L||0===L.length)return(0,Le.of)(!0);const X=L.map(fe=>{const it=de(fe,v);return fr(function _r(v){return v&&un(v.canLoad)}(it)?it.canLoad(C,y):v.runInContext(()=>it(C,y)))});return(0,Le.of)(X).pipe(vr(),Ee())}(C,y,P).pipe((0,nt.z)(L=>L?this.configLoader.loadChildren(C,y).pipe((0,bt.b)(X=>{y._loadedRoutes=X.routes,y._loadedInjector=X.injector})):function zn(v){return Nt(Zr(!1,3))}())):(0,Le.of)({routes:[],injector:C})}}function A(v){const C=v.value.routeConfig;return C&&""===C.path}function K(v){const C=[],y=new Set;for(const P of v){if(!A(P)){C.push(P);continue}const L=C.find(X=>P.value.routeConfig===X.value.routeConfig);void 0!==L?(L.children.push(...P.children),y.add(L)):C.push(P)}for(const P of y){const L=K(P.children);C.push(new $r(P.value,L))}return C.filter(P=>!y.has(P))}function V(v){return v.data||{}}function ae(v){return v.resolve||{}}function hn(v){return"string"==typeof v.title||null===v.title}function Hr(v){return(0,Ne.w)(C=>{const y=v(C);return y?(0,ue.D)(y).pipe((0,qe.U)(()=>C)):(0,Le.of)(C)})}const br=new S.OlP("ROUTES");let wr=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.f3M)(S.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,Le.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const P=fr(y.loadComponent()).pipe((0,qe.U)(ws),(0,bt.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=X}),bn(()=>{this.componentLoaders.delete(y)})),L=new Ie(P,()=>new Ye.x).pipe(xi());return this.componentLoaders.set(y,L),L}loadChildren(y,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Le.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const X=function fs(v,C,y,P){return fr(v.loadChildren()).pipe((0,qe.U)(ws),(0,nt.z)(L=>L instanceof S.YKP||Array.isArray(L)?(0,Le.of)(L):(0,ue.D)(C.compileModuleAsync(L))),(0,qe.U)(L=>{P&&P(v);let X,fe,it=!1;return Array.isArray(L)?(fe=L,!0):(X=L.create(y).injector,fe=X.get(br,[],{optional:!0,self:!0}).flat()),{routes:fe.map(fo),injector:X}}))}(P,this.compiler,y,this.onLoadEndListener).pipe(bn(()=>{this.childrenLoaders.delete(P)})),fe=new Ie(X,()=>new Ye.x).pipe(xi());return this.childrenLoaders.set(P,fe),fe}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function ws(v){return function Ei(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let es=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye.x,this.transitionAbortSubject=new Ye.x,this.configLoader=(0,S.f3M)(wr),this.environmentInjector=(0,S.f3M)(S.lqb),this.urlSerializer=(0,S.f3M)(pi),this.rootContexts=(0,S.f3M)(qi),this.inputBindingEnabled=null!==(0,S.f3M)(Ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new Ps(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new Us(L))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:P})}setupNavigations(y,P,L){return this.transitions=new Ve.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:y.urlHandlingStrategy.extract(P),urlAfterRedirects:y.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:or,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Xe.h)(X=>0!==X.id),(0,qe.U)(X=>({...X,extractedUrl:y.urlHandlingStrategy.extract(X.rawUrl)})),(0,Ne.w)(X=>{this.currentTransition=X;let fe=!1,it=!1;return(0,Le.of)(X).pipe((0,bt.b)(Je=>{this.currentNavigation={id:Je.id,initialUrl:Je.rawUrl,extractedUrl:Je.extractedUrl,trigger:Je.source,extras:Je.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ne.w)(Je=>{const tn=Je.currentBrowserUrl.toString(),Yn=!y.navigated||Je.extractedUrl.toString()!==tn||tn!==Je.currentUrlTree.toString();if(!Yn&&"reload"!==(Je.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Vr="";return this.events.next(new Ys(Je.id,this.urlSerializer.serialize(Je.rawUrl),Vr,0)),Je.resolve(null),be.E}if(y.urlHandlingStrategy.shouldProcessUrl(Je.rawUrl))return(0,Le.of)(Je).pipe((0,Ne.w)(Vr=>{const zs=this.transitions?.getValue();return this.events.next(new Tr(Vr.id,this.urlSerializer.serialize(Vr.extractedUrl),Vr.source,Vr.restoredState)),zs!==this.transitions?.getValue()?be.E:Promise.resolve(Vr)}),function Me(v,C,y,P,L,X){return(0,nt.z)(fe=>function no(v,C,y,P,L,X,fe="emptyOnly"){return new Po(v,C,y,P,L,fe,X).recognize()}(v,C,y,P,fe.extractedUrl,L,X).pipe((0,qe.U)(({state:it,tree:Je})=>({...fe,targetSnapshot:it,urlAfterRedirects:Je}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,bt.b)(Vr=>{X.targetSnapshot=Vr.targetSnapshot,X.urlAfterRedirects=Vr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Vr.urlAfterRedirects};const zs=new Do(Vr.id,this.urlSerializer.serialize(Vr.extractedUrl),this.urlSerializer.serialize(Vr.urlAfterRedirects),Vr.targetSnapshot);this.events.next(zs)}));if(Yn&&y.urlHandlingStrategy.shouldProcessUrl(Je.currentRawUrl)){const{id:Vr,extractedUrl:zs,source:Oo,restoredState:Ta,extras:ku}=Je,La=new Tr(Vr,this.urlSerializer.serialize(zs),Oo,Ta);this.events.next(La);const Gs=ds(0,this.rootComponentType).snapshot;return this.currentTransition=X={...Je,targetSnapshot:Gs,urlAfterRedirects:zs,extras:{...ku,skipLocationChange:!1,replaceUrl:!1}},(0,Le.of)(X)}{const Vr="";return this.events.next(new Ys(Je.id,this.urlSerializer.serialize(Je.extractedUrl),Vr,1)),Je.resolve(null),be.E}}),(0,bt.b)(Je=>{const tn=new _s(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot);this.events.next(tn)}),(0,qe.U)(Je=>(this.currentTransition=X={...Je,guards:z(Je.targetSnapshot,Je.currentSnapshot,this.rootContexts)},X)),function Fi(v,C){return(0,nt.z)(y=>{const{targetSnapshot:P,currentSnapshot:L,guards:{canActivateChecks:X,canDeactivateChecks:fe}}=y;return 0===fe.length&&0===X.length?(0,Le.of)({...y,guardsResult:!0}):function Ri(v,C,y,P){return(0,ue.D)(v).pipe((0,nt.z)(L=>function q(v,C,y,P,L){const X=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,Le.of)(!0);const fe=X.map(it=>{const Je=Qi(C)??L,tn=de(it,Je);return fr(function Ii(v){return v&&un(v.canDeactivate)}(tn)?tn.canDeactivate(v,C,y,P):Je.runInContext(()=>tn(v,C,y,P))).pipe(Vt())});return(0,Le.of)(fe).pipe(vr())}(L.component,L.route,y,C,P)),Vt(L=>!0!==L,!0))}(fe,P,L,v).pipe((0,nt.z)(it=>it&&function Wn(v){return"boolean"==typeof v}(it)?function ys(v,C,y,P){return(0,ue.D)(C).pipe(qt(L=>rt(function _(v,C){return null!==v&&C&&C(new So(v)),(0,Le.of)(!0)}(L.route.parent,P),function W(v,C){return null!==v&&C&&C(new xs(v)),(0,Le.of)(!0)}(L.route,P),function O(v,C,y){const P=C[C.length-1],X=C.slice(0,C.length-1).reverse().map(fe=>function he(v){const C=v.routeConfig?v.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:v,guards:C}:null}(fe)).filter(fe=>null!==fe).map(fe=>Ft(()=>{const it=fe.guards.map(Je=>{const tn=Qi(fe.node)??y,Yn=de(Je,tn);return fr(function di(v){return v&&un(v.canActivateChild)}(Yn)?Yn.canActivateChild(P,v):tn.runInContext(()=>Yn(P,v))).pipe(Vt())});return(0,Le.of)(it).pipe(vr())}));return(0,Le.of)(X).pipe(vr())}(v,L.path,y),function T(v,C,y){const P=C.routeConfig?C.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Le.of)(!0);const L=P.map(X=>Ft(()=>{const fe=Qi(C)??y,it=de(X,fe);return fr(function qr(v){return v&&un(v.canActivate)}(it)?it.canActivate(C,v):fe.runInContext(()=>it(C,v))).pipe(Vt())}));return(0,Le.of)(L).pipe(vr())}(v,L.route,y))),Vt(L=>!0!==L,!0))}(P,X,v,C):(0,Le.of)(it)),(0,qe.U)(it=>({...y,guardsResult:it})))})}(this.environmentInjector,Je=>this.events.next(Je)),(0,bt.b)(Je=>{if(X.guardsResult=Je.guardsResult,dt(Je.guardsResult))throw gs(0,Je.guardsResult);const tn=new Qr(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot,!!Je.guardsResult);this.events.next(tn)}),(0,Xe.h)(Je=>!!Je.guardsResult||(this.cancelNavigationTransition(Je,"",3),!1)),Hr(Je=>{if(Je.guards.canActivateChecks.length)return(0,Le.of)(Je).pipe((0,bt.b)(tn=>{const Yn=new ls(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot);this.events.next(Yn)}),(0,Ne.w)(tn=>{let Yn=!1;return(0,Le.of)(tn).pipe(function st(v,C){return(0,nt.z)(y=>{const{targetSnapshot:P,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,Le.of)(y);let X=0;return(0,ue.D)(L).pipe(qt(fe=>function Gt(v,C,y,P){const L=v.routeConfig,X=v._resolve;return void 0!==L?.title&&!hn(L)&&(X[Hn]=L.title),function er(v,C,y,P){const L=function nr(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===L.length)return(0,Le.of)({});const X={};return(0,ue.D)(L).pipe((0,nt.z)(fe=>function hr(v,C,y,P){const L=Qi(C)??P,X=de(v,L);return fr(X.resolve?X.resolve(C,y):L.runInContext(()=>X(C,y)))}(v[fe],C,y,P).pipe(Vt(),(0,bt.b)(it=>{X[fe]=it}))),Ot(1),function Kn(v){return(0,qe.U)(()=>v)}(X),Tn(fe=>os(fe)?be.E:Nt(fe)))}(X,v,C,P).pipe((0,qe.U)(fe=>(v._resolvedData=fe,v.data=Ds(v,y).resolve,L&&hn(L)&&(v.data[Hn]=L.title),null)))}(fe.route,P,v,C)),(0,bt.b)(()=>X++),Ot(1),(0,nt.z)(fe=>X===L.length?(0,Le.of)(y):be.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,bt.b)({next:()=>Yn=!0,complete:()=>{Yn||this.cancelNavigationTransition(tn,"",2)}}))}),(0,bt.b)(tn=>{const Yn=new Co(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot);this.events.next(Yn)}))}),Hr(Je=>{const tn=Yn=>{const mi=[];Yn.routeConfig?.loadComponent&&!Yn.routeConfig._loadedComponent&&mi.push(this.configLoader.loadComponent(Yn.routeConfig).pipe((0,bt.b)(Vr=>{Yn.component=Vr}),(0,qe.U)(()=>{})));for(const Vr of Yn.children)mi.push(...tn(Vr));return mi};return Mt(tn(Je.targetSnapshot.root)).pipe(je(),(0,Q.q)(1))}),Hr(()=>this.afterPreactivation()),(0,qe.U)(Je=>{const tn=function Ni(v,C,y){const P=Li(v,C._root,y?y._root:void 0);return new cs(P,C)}(y.routeReuseStrategy,Je.targetSnapshot,Je.currentRouterState);return this.currentTransition=X={...Je,targetRouterState:tn},X}),(0,bt.b)(()=>{this.events.next(new $i)}),((v,C,y,P)=>(0,qe.U)(L=>(new jo(C,L.targetRouterState,L.currentRouterState,y,P).activate(v),L)))(this.rootContexts,y.routeReuseStrategy,Je=>this.events.next(Je),this.inputBindingEnabled),(0,Q.q)(1),(0,bt.b)({next:Je=>{fe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jr(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects))),y.titleStrategy?.updateTitle(Je.targetRouterState.snapshot),Je.resolve(!0)},complete:()=>{fe=!0}}),function sn(v){return(0,jn.e)((C,y)=>{(0,lt.Xf)(v).subscribe((0,Rt.x)(y,()=>y.complete(),wt.Z)),!y.closed&&C.subscribe(y)})}(this.transitionAbortSubject.pipe((0,bt.b)(Je=>{throw Je}))),bn(()=>{fe||it||this.cancelNavigationTransition(X,"",1),this.currentNavigation?.id===X.id&&(this.currentNavigation=null)}),Tn(Je=>{if(it=!0,ms(Je))this.events.next(new vi(X.id,this.urlSerializer.serialize(X.extractedUrl),Je.message,Je.cancellationCode)),function Ki(v){return ms(v)&&dt(v.url)}(Je)?this.events.next(new Bs(Je.url)):X.resolve(!1);else{this.events.next(new ar(X.id,this.urlSerializer.serialize(X.extractedUrl),Je,X.targetSnapshot??void 0));try{X.resolve(y.errorHandler(Je))}catch(tn){X.reject(tn)}}return be.E}))}))}cancelNavigationTransition(y,P,L){const X=new vi(y.id,this.urlSerializer.serialize(y.extractedUrl),P,L);this.events.next(X),y.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function si(v){return v!==or}let gr=(()=>{class v{buildTitle(y){let P,L=y.root;for(;void 0!==L;)P=this.getResolvedTitleForRoute(L)??P,L=L.children.find(X=>X.outlet===An);return P}getResolvedTitleForRoute(y){return y.data[Hn]}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:function(){return(0,S.f3M)($o)},providedIn:"root"})}return v})(),$o=(()=>{class v extends gr{constructor(y){super(),this.title=y}updateTitle(y){const P=this.buildTitle(y);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||v)(S.LFG(Un.Dx))};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),Mo=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:function(){return(0,S.f3M)(Mu)},providedIn:"root"})}return v})();class aa{shouldDetach(C){return!1}store(C,y){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,y){return C.routeConfig===y.routeConfig}}let Mu=(()=>{class v extends aa{static#e=this.\u0275fac=function(){let y;return function(L){return(y||(y=S.n5z(v)))(L||v)}}();static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const su=new S.OlP("",{providedIn:"root",factory:()=>({})});let xu=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:function(){return(0,S.f3M)(Nu)},providedIn:"root"})}return v})(),Nu=(()=>{class v{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,P){return y}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var ua=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(ua||{});function po(v,C){v.events.pipe((0,Xe.h)(y=>y instanceof jr||y instanceof vi||y instanceof ar||y instanceof Ys),(0,qe.U)(y=>y instanceof jr||y instanceof Ys?ua.COMPLETE:y instanceof vi&&(0===y.code||1===y.code)?ua.REDIRECTING:ua.FAILED),(0,Xe.h)(y=>y!==ua.REDIRECTING),(0,Q.q)(1)).subscribe(()=>{C()})}function Ea(v){throw v}function Hs(v,C,y){return C.parse("/")}const Pa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},go={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,S.f3M)(S.c2e),this.isNgZoneEnabled=!1,this._events=new Ye.x,this.options=(0,S.f3M)(su,{optional:!0})||{},this.pendingTasks=(0,S.f3M)(S.HDt),this.errorHandler=this.options.errorHandler||Ea,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,S.f3M)(xu),this.routeReuseStrategy=(0,S.f3M)(Mo),this.titleStrategy=(0,S.f3M)(gr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,S.f3M)(br,{optional:!0})?.flat()??[],this.navigationTransitions=(0,S.f3M)(es),this.urlSerializer=(0,S.f3M)(pi),this.location=(0,S.f3M)($n.Ye),this.componentInputBindingEnabled=!!(0,S.f3M)(Ai,{optional:!0}),this.eventsSubscription=new kt.w0,this.isNgZoneEnabled=(0,S.f3M)(S.R0b)instanceof S.R0b&&S.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ds(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:L}=this.navigationTransitions;if(null===L)return void(Ma(P)&&this._events.next(P));if(P instanceof Tr)si(L.source)&&(this.browserUrlTree=L.extractedUrl);else if(P instanceof Ys)this.rawUrlTree=L.rawUrl;else if(P instanceof Do){if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(X,L)}this.browserUrlTree=L.urlAfterRedirects}}else if(P instanceof $i)this.currentUrlTree=L.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L),this.browserUrlTree=L.urlAfterRedirects);else if(P instanceof vi)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(L);else if(P instanceof Bs){const X=this.urlHandlingStrategy.merge(P.url,L.currentRawUrl),fe={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||si(L.source)};this.scheduleNavigation(X,or,null,fe,{resolve:L.resolve,reject:L.reject,promise:L.promise})}P instanceof ar&&this.restoreHistory(L,!0),P instanceof jr&&(this.navigated=!0),Ma(P)&&this._events.next(P)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),or,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const P="popstate"===y.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,P,y.state)},0)}))}navigateToSyncWithBrowser(y,P,L){const X={replaceUrl:!0},fe=L?.navigationId?L:null;if(L){const Je={...L};delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(X.state=Je)}const it=this.parseUrl(y);this.scheduleNavigation(it,P,fe,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,P={}){const{relativeTo:L,queryParams:X,fragment:fe,queryParamsHandling:it,preserveFragment:Je}=P,tn=Je?this.currentUrlTree.fragment:fe;let mi,Yn=null;switch(it){case"merge":Yn={...this.currentUrlTree.queryParams,...X};break;case"preserve":Yn=this.currentUrlTree.queryParams;break;default:Yn=X||null}null!==Yn&&(Yn=this.removeEmptyProps(Yn));try{mi=En(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),mi=this.currentUrlTree.root}return On(mi,y,Yn,tn??null)}navigateByUrl(y,P={skipLocationChange:!1}){const L=dt(y)?y:this.parseUrl(y),X=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(X,or,null,P)}navigate(y,P={skipLocationChange:!1}){return function Vi(v){for(let C=0;C<v.length;C++)if(null==v[C])throw new S.vHH(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,P),P)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let P;try{P=this.urlSerializer.parse(y)}catch(L){P=this.malformedUriErrorHandler(L,this.urlSerializer,y)}return P}isActive(y,P){let L;if(L=!0===P?{...Pa}:!1===P?{...go}:P,dt(y))return Rn(this.currentUrlTree,y,L);const X=this.parseUrl(y);return Rn(this.currentUrlTree,X,L)}removeEmptyProps(y){return Object.keys(y).reduce((P,L)=>{const X=y[L];return null!=X&&(P[L]=X),P},{})}scheduleNavigation(y,P,L,X,fe){if(this.disposed)return Promise.resolve(!1);let it,Je,tn;fe?(it=fe.resolve,Je=fe.reject,tn=fe.promise):tn=new Promise((mi,Vr)=>{it=mi,Je=Vr});const Yn=this.pendingTasks.add();return po(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Yn))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:X,resolve:it,reject:Je,promise:tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tn.catch(mi=>Promise.reject(mi))}setBrowserUrl(y,P){const L=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(L)||P.extras.replaceUrl){const fe={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(L,"",fe)}else{const X={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(L,"",X)}}restoreHistory(y,P=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-this.browserPageId;0!==X?this.location.historyGo(X):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===X&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,P){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:P}:{navigationId:y}}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Ma(v){return!(v instanceof $i||v instanceof Bs)}let Es=(()=>{class v{constructor(y,P,L,X,fe,it){this.router=y,this.route=P,this.tabIndexAttribute=L,this.renderer=X,this.el=fe,this.locationStrategy=it,this.href=null,this.commands=null,this.onChanges=new Ye.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Je=fe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Je||"area"===Je,this.isAnchorElement?this.subscription=y.events.subscribe(tn=>{tn instanceof jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,P,L,X,fe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||P||L||X||fe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,S.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,P){const L=this.renderer,X=this.el.nativeElement;null!==P?L.setAttribute(X,y,P):L.removeAttribute(X,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||v)(S.Y36(mr),S.Y36(As),S.$8M("tabindex"),S.Y36(S.Qsj),S.Y36(S.SBq),S.Y36($n.S$))};static#t=this.\u0275dir=S.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,L){1&P&&S.NdJ("click",function(fe){return L.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&P&&S.uIk("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",S.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",S.VuI],replaceUrl:["replaceUrl","replaceUrl",S.VuI],routerLink:"routerLink"},standalone:!0,features:[S.Xq5,S.TTD]})}return v})();class Ho{}let Na=(()=>{class v{constructor(y,P,L,X,fe){this.router=y,this.injector=L,this.preloadingStrategy=X,this.loader=fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xe.h)(y=>y instanceof jr),qt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,P){const L=[];for(const X of P){X.providers&&!X._injector&&(X._injector=(0,S.MMx)(X.providers,y,`Route: ${X.path}`));const fe=X._injector??y,it=X._loadedInjector??fe;(X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent)&&L.push(this.preloadConfig(fe,X)),(X.children||X._loadedRoutes)&&L.push(this.processRoutes(it,X.children??X._loadedRoutes))}return(0,ue.D)(L).pipe((0,cn.J)())}preloadConfig(y,P){return this.preloadingStrategy.preload(P,()=>{let L;L=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(y,P):(0,Le.of)(null);const X=L.pipe((0,nt.z)(fe=>null===fe?(0,Le.of)(void 0):(P._loadedRoutes=fe.routes,P._loadedInjector=fe.injector,this.processRoutes(fe.injector??y,fe.routes))));if(P.loadComponent&&!P._loadedComponent){const fe=this.loader.loadComponent(P);return(0,ue.D)([X,fe]).pipe((0,cn.J)())}return X})}static#e=this.\u0275fac=function(P){return new(P||v)(S.LFG(mr),S.LFG(S.Sil),S.LFG(S.lqb),S.LFG(Ho),S.LFG(wr))};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Ko=new S.OlP("");let ro=(()=>{class v{constructor(y,P,L,X,fe={}){this.urlSerializer=y,this.transitions=P,this.viewportScroller=L,this.zone=X,this.options=fe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},fe.scrollPositionRestoration=fe.scrollPositionRestoration||"disabled",fe.anchorScrolling=fe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof jr?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Ys&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof bs&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bs(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){S.$Z()};static#t=this.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac})}return v})();function M(v,C){return{\u0275kind:v,\u0275providers:C}}function yr(){const v=(0,S.f3M)(S.zs3);return C=>{const y=v.get(S.z2F);if(C!==y.components[0])return;const P=v.get(mr),L=v.get(Rr);1===v.get(Mi)&&P.initialNavigation(),v.get(Ia,null,S.XFs.Optional)?.setUpPreloading(),v.get(Ko,null,S.XFs.Optional)?.init(),P.resetRootComponentType(y.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const Rr=new S.OlP("",{factory:()=>new Ye.x}),Mi=new S.OlP("",{providedIn:"root",factory:()=>1}),Ia=new S.OlP("");function yd(v){return M(0,[{provide:Ia,useExisting:Na},{provide:Ho,useExisting:v}])}const zr=new S.OlP("ROUTER_FORROOT_GUARD"),ou=[$n.Ye,{provide:pi,useClass:wn},mr,qi,{provide:As,useFactory:function E(v){return v.routerState.root},deps:[mr]},wr,[]];function mc(){return new S.PXZ("Router",mr)}let Ss=(()=>{class v{constructor(y){}static forRoot(y,P){return{ngModule:v,providers:[ou,[],{provide:br,multi:!0,useValue:y},{provide:zr,useFactory:zo,deps:[[mr,new S.FiY,new S.tp0]]},{provide:su,useValue:P||{}},P?.useHash?{provide:$n.S$,useClass:$n.Do}:{provide:$n.S$,useClass:$n.b0},{provide:Ko,useFactory:()=>{const v=(0,S.f3M)($n.EM),C=(0,S.f3M)(S.R0b),y=(0,S.f3M)(su),P=(0,S.f3M)(es),L=(0,S.f3M)(pi);return y.scrollOffset&&v.setOffset(y.scrollOffset),new ro(L,P,v,C,y)}},P?.preloadingStrategy?yd(P.preloadingStrategy).\u0275providers:[],{provide:S.PXZ,multi:!0,useFactory:mc},P?.initialNavigation?xo(P):[],P?.bindToComponentInputs?M(8,[kr,{provide:Ai,useExisting:kr}]).\u0275providers:[],[{provide:ka,useFactory:yr},{provide:S.tb,multi:!0,useExisting:ka}]]}}static forChild(y){return{ngModule:v,providers:[{provide:br,multi:!0,useValue:y}]}}static#e=this.\u0275fac=function(P){return new(P||v)(S.LFG(zr,8))};static#t=this.\u0275mod=S.oAB({type:v});static#n=this.\u0275inj=S.cJS({})}return v})();function zo(v){return"guarded"}function xo(v){return["disabled"===v.initialNavigation?M(3,[{provide:S.ip1,multi:!0,useFactory:()=>{const C=(0,S.f3M)(mr);return()=>{C.setUpLocationChangeListener()}}},{provide:Mi,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?M(2,[{provide:Mi,useValue:0},{provide:S.ip1,multi:!0,deps:[S.zs3],useFactory:C=>{const y=C.get($n.V_,Promise.resolve());return()=>y.then(()=>new Promise(P=>{const L=C.get(mr),X=C.get(Rr);po(L,()=>{P(!0)}),C.get(es).afterPreactivation=()=>(P(!0),X.closed?(0,Le.of)(void 0):X),L.initialNavigation()}))}}]).\u0275providers:[]]}const ka=new S.OlP("")},534:(In,yt,Y)=>{"use strict";Y.d(yt,{Jn:()=>Bi,qX:()=>Rn,rh:()=>us,Xd:()=>ki,Mq:()=>cr,C6:()=>pi,ZF:()=>ti,KN:()=>ee});var S=Y(5861),we=Y(4537),Ce=Y(7879),ze=Y(9058);const ue=(et,Ue)=>Ue.some(dt=>et instanceof dt);let Le,Ve;const ge=new WeakMap,ye=new WeakMap,We=new WeakMap,Rt=new WeakMap,ct=new WeakMap;let mn={get(et,Ue,dt){if(et instanceof IDBTransaction){if("done"===Ue)return ye.get(et);if("objectStoreNames"===Ue)return et.objectStoreNames||We.get(et);if("store"===Ue)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Ae(et[Ue])},set:(et,Ue,dt)=>(et[Ue]=dt,!0),has:(et,Ue)=>et instanceof IDBTransaction&&("done"===Ue||"store"===Ue)||Ue in et};function cn(et){return"function"==typeof et?function qn(et){return et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vt(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(et)?function(...Ue){return et.apply(rt(this),Ue),Ae(ge.get(this))}:function(...Ue){return Ae(et.apply(rt(this),Ue))}:function(Ue,...dt){const en=et.call(rt(this),Ue,...dt);return We.set(en,Ue.sort?Ue.sort():[Ue]),Ae(en)}}(et):(et instanceof IDBTransaction&&function Xt(et){if(ye.has(et))return;const Ue=new Promise((dt,en)=>{const En=()=>{et.removeEventListener("complete",On),et.removeEventListener("error",Sn),et.removeEventListener("abort",Sn)},On=()=>{dt(),En()},Sn=()=>{en(et.error||new DOMException("AbortError","AbortError")),En()};et.addEventListener("complete",On),et.addEventListener("error",Sn),et.addEventListener("abort",Sn)});ye.set(et,Ue)}(et),ue(et,function At(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(et,mn):et)}function Ae(et){if(et instanceof IDBRequest)return function Mt(et){const Ue=new Promise((dt,en)=>{const En=()=>{et.removeEventListener("success",On),et.removeEventListener("error",Sn)},On=()=>{dt(Ae(et.result)),En()},Sn=()=>{en(et.error),En()};et.addEventListener("success",On),et.addEventListener("error",Sn)});return Ue.then(dt=>{dt instanceof IDBCursor&&ge.set(dt,et)}).catch(()=>{}),ct.set(Ue,et),Ue}(et);if(Rt.has(et))return Rt.get(et);const Ue=cn(et);return Ue!==et&&(Rt.set(et,Ue),ct.set(Ue,et)),Ue}const rt=et=>ct.get(et),Ht=["get","getKey","getAll","getAllKeys","count"],Nt=["put","add","delete","clear"],be=new Map;function kt(et,Ue){if(!(et instanceof IDBDatabase)||Ue in et||"string"!=typeof Ue)return;if(be.get(Ue))return be.get(Ue);const dt=Ue.replace(/FromIndex$/,""),en=Ue!==dt,En=Nt.includes(dt);if(!(dt in(en?IDBIndex:IDBObjectStore).prototype)||!En&&!Ht.includes(dt))return;const On=function(){var Sn=(0,S.Z)(function*(dr,...tr){const ni=this.transaction(dr,En?"readwrite":"readonly");let Xn=ni.store;return en&&(Xn=Xn.index(tr.shift())),(yield Promise.all([Xn[dt](...tr),En&&ni.done]))[0]});return function(tr){return Sn.apply(this,arguments)}}();return be.set(Ue,On),On}!function gn(et){mn=et(mn)}(et=>({...et,get:(Ue,dt,en)=>kt(Ue,dt)||et.get(Ue,dt,en),has:(Ue,dt)=>!!kt(Ue,dt)||et.has(Ue,dt)}));class jn{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function xi(et){const Ue=et.getComponent();return"VERSION"===Ue?.type}(dt)){const en=dt.getImmediate();return`${en.library}/${en.version}`}return null}).filter(dt=>dt).join(" ")}}const Ie="@firebase/app",$n=new Ce.Yd("@firebase/app"),Mn="[DEFAULT]",fn={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Mr=new Map,lr=new Map,xr=new Map;function fr(et,Ue){try{et.container.addComponent(Ue)}catch(dt){$n.debug(`Component ${Ue.name} failed to register with FirebaseApp ${et.name}`,dt)}}function ki(et){const Ue=et.name;if(xr.has(Ue))return $n.debug(`There were multiple attempts to register component ${Ue}.`),!1;xr.set(Ue,et);for(const dt of Mr.values())fr(dt,et);for(const dt of lr.values())fr(dt,et);return!0}function Rn(et,Ue){const dt=et.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),et.container.getProvider(Ue)}function us(et){return void 0!==et.settings}const Se=new ze.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ir{constructor(Ue,dt,en){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new we.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw Se.create("app-deleted",{appName:this._name})}}const Bi="10.12.2";function ti(et,Ue={}){let dt=et;"object"!=typeof Ue&&(Ue={name:Ue});const en=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},Ue),En=en.name;if("string"!=typeof En||!En)throw Se.create("bad-app-name",{appName:String(En)});if(dt||(dt=(0,ze.aH)()),!dt)throw Se.create("no-options");const On=Mr.get(En);if(On){if((0,ze.vZ)(dt,On.options)&&(0,ze.vZ)(en,On.config))return On;throw Se.create("duplicate-app",{appName:En})}const Sn=new we.H0(En);for(const tr of xr.values())Sn.addComponent(tr);const dr=new ir(dt,en,Sn);return Mr.set(En,dr),dr}function cr(et=Mn){const Ue=Mr.get(et);if(!Ue&&et===Mn&&(0,ze.aH)())return ti();if(!Ue)throw Se.create("no-app",{appName:et});return Ue}function pi(){return Array.from(Mr.values())}function ee(et,Ue,dt){var en;let En=null!==(en=fn[et])&&void 0!==en?en:et;dt&&(En+=`-${dt}`);const On=En.match(/\s|\//),Sn=Ue.match(/\s|\//);if(On||Sn){const dr=[`Unable to register library "${En}" with version "${Ue}":`];return On&&dr.push(`library name "${En}" contains illegal characters (whitespace or "/")`),On&&Sn&&dr.push("and"),Sn&&dr.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void $n.warn(dr.join(" "))}ki(new we.wA(`${En}-version`,()=>({library:En,version:Ue}),"VERSION"))}const te="firebase-heartbeat-database",Fe=1,Et="firebase-heartbeat-store";let Lt=null;function jt(){return Lt||(Lt=function lt(et,Ue,{blocked:dt,upgrade:en,blocking:En,terminated:On}={}){const Sn=indexedDB.open(et,Ue),dr=Ae(Sn);return en&&Sn.addEventListener("upgradeneeded",tr=>{en(Ae(Sn.result),tr.oldVersion,tr.newVersion,Ae(Sn.transaction),tr)}),dt&&Sn.addEventListener("blocked",tr=>dt(tr.oldVersion,tr.newVersion,tr)),dr.then(tr=>{On&&tr.addEventListener("close",()=>On()),En&&tr.addEventListener("versionchange",ni=>En(ni.oldVersion,ni.newVersion,ni))}).catch(()=>{}),dr}(te,Fe,{upgrade:(et,Ue)=>{if(0===Ue)try{et.createObjectStore(Et)}catch(dt){console.warn(dt)}}}).catch(et=>{throw Se.create("idb-open",{originalErrorMessage:et.message})})),Lt}function Pn(){return(Pn=(0,S.Z)(function*(et){try{const dt=(yield jt()).transaction(Et),en=yield dt.objectStore(Et).get(bi(et));return yield dt.done,en}catch(Ue){if(Ue instanceof ze.ZR)$n.warn(Ue.message);else{const dt=Se.create("idb-get",{originalErrorMessage:Ue?.message});$n.warn(dt.message)}}})).apply(this,arguments)}function rn(et,Ue){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,S.Z)(function*(et,Ue){try{const en=(yield jt()).transaction(Et,"readwrite");yield en.objectStore(Et).put(Ue,bi(et)),yield en.done}catch(dt){if(dt instanceof ze.ZR)$n.warn(dt.message);else{const en=Se.create("idb-set",{originalErrorMessage:dt?.message});$n.warn(en.message)}}})).apply(this,arguments)}function bi(et){return`${et.name}!${et.options.appId}`}class Rs{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new _i(dt),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var Ue=this;return(0,S.Z)(function*(){var dt,en;const On=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=oi();if((null!=(null===(dt=Ue._heartbeatsCache)||void 0===dt?void 0:dt.heartbeats)||(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise,null!=(null===(en=Ue._heartbeatsCache)||void 0===en?void 0:en.heartbeats)))&&Ue._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!Ue._heartbeatsCache.heartbeats.some(dr=>dr.date===Sn))return Ue._heartbeatsCache.heartbeats.push({date:Sn,agent:On}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(dr=>{const tr=new Date(dr.date).valueOf();return Date.now()-tr<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,S.Z)(function*(){var dt;if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null==(null===(dt=Ue._heartbeatsCache)||void 0===dt?void 0:dt.heartbeats)||0===Ue._heartbeatsCache.heartbeats.length)return"";const en=oi(),{heartbeatsToSend:En,unsentEntries:On}=function lo(et,Ue=1024){const dt=[];let en=et.slice();for(const En of et){const On=dt.find(Sn=>Sn.agent===En.agent);if(On){if(On.dates.push(En.date),Zs(dt)>Ue){On.dates.pop();break}}else if(dt.push({agent:En.agent,dates:[En.date]}),Zs(dt)>Ue){dt.pop();break}en=en.slice(1)}return{heartbeatsToSend:dt,unsentEntries:en}}(Ue._heartbeatsCache.heartbeats),Sn=(0,ze.L)(JSON.stringify({version:2,heartbeats:En}));return Ue._heartbeatsCache.lastSentHeartbeatDate=en,On.length>0?(Ue._heartbeatsCache.heartbeats=On,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),Sn})()}}function oi(){return(new Date).toISOString().substring(0,10)}class _i{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,ze.hl)()&&(0,ze.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,S.Z)(function*(){if(yield Ue._canUseIndexedDBPromise){const en=yield function pn(et){return Pn.apply(this,arguments)}(Ue.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ue){var dt=this;return(0,S.Z)(function*(){var en;if(yield dt._canUseIndexedDBPromise){const On=yield dt.read();return rn(dt.app,{lastSentHeartbeatDate:null!==(en=Ue.lastSentHeartbeatDate)&&void 0!==en?en:On.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var dt=this;return(0,S.Z)(function*(){var en;if(yield dt._canUseIndexedDBPromise){const On=yield dt.read();return rn(dt.app,{lastSentHeartbeatDate:null!==(en=Ue.lastSentHeartbeatDate)&&void 0!==en?en:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...Ue.heartbeats]})}})()}}function Zs(et){return(0,ze.L)(JSON.stringify({version:2,heartbeats:et})).length}!function Bn(et){ki(new we.wA("platform-logger",Ue=>new jn(Ue),"PRIVATE")),ki(new we.wA("heartbeat",Ue=>new Rs(Ue),"PRIVATE")),ee(Ie,"0.10.5",et),ee(Ie,"0.10.5","esm2017"),ee("fire-js","")}("")},4537:(In,yt,Y)=>{"use strict";Y.d(yt,{H0:()=>At,wA:()=>Ce});var S=Y(5861),we=Y(9058);class Ce{constructor(ge,ye,We){this.name=ge,this.instanceFactory=ye,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const ze="[DEFAULT]";class ue{constructor(ge,ye){this.name=ge,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const ye=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(ye)){const We=new we.BH;if(this.instancesDeferred.set(ye,We),this.isInitialized(ye)||this.shouldAutoInitialize())try{const Rt=this.getOrInitializeService({instanceIdentifier:ye});Rt&&We.resolve(Rt)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(ge){var ye;const We=this.normalizeInstanceIdentifier(ge?.identifier),Rt=null!==(ye=ge?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(We)&&!this.shouldAutoInitialize()){if(Rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:We})}catch(ct){if(Rt)return null;throw ct}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function Ve(vt){return"EAGER"===vt.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:ze})}catch{}for(const[ye,We]of this.instancesDeferred.entries()){const Rt=this.normalizeInstanceIdentifier(ye);try{const ct=this.getOrInitializeService({instanceIdentifier:Rt});We.resolve(ct)}catch{}}}}clearInstance(ge=ze){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,S.Z)(function*(){const ye=Array.from(ge.instances.values());yield Promise.all([...ye.filter(We=>"INTERNAL"in We).map(We=>We.INTERNAL.delete()),...ye.filter(We=>"_delete"in We).map(We=>We._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=ze){return this.instances.has(ge)}getOptions(ge=ze){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:ye={}}=ge,We=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(We))throw Error(`${this.name}(${We}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Rt=this.getOrInitializeService({instanceIdentifier:We,options:ye});for(const[ct,Mt]of this.instancesDeferred.entries())We===this.normalizeInstanceIdentifier(ct)&&Mt.resolve(Rt);return Rt}onInit(ge,ye){var We;const Rt=this.normalizeInstanceIdentifier(ye),ct=null!==(We=this.onInitCallbacks.get(Rt))&&void 0!==We?We:new Set;ct.add(ge),this.onInitCallbacks.set(Rt,ct);const Mt=this.instances.get(Rt);return Mt&&ge(Mt,Rt),()=>{ct.delete(ge)}}invokeOnInitCallbacks(ge,ye){const We=this.onInitCallbacks.get(ye);if(We)for(const Rt of We)try{Rt(ge,ye)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:ye={}}){let We=this.instances.get(ge);if(!We&&this.component&&(We=this.component.instanceFactory(this.container,{instanceIdentifier:(vt=ge,vt===ze?void 0:vt),options:ye}),this.instances.set(ge,We),this.instancesOptions.set(ge,ye),this.invokeOnInitCallbacks(We,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,We)}catch{}var vt;return We||null}normalizeInstanceIdentifier(ge=ze){return this.component?this.component.multipleInstances?ge:ze:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class At{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const ye=this.getProvider(ge.name);if(ye.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);ye.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const ye=new ue(ge,this);return this.providers.set(ge,ye),ye}getProviders(){return Array.from(this.providers.values())}}},7879:(In,yt,Y)=>{"use strict";Y.d(yt,{Yd:()=>Ve,in:()=>we});const S=[];var we=function(ge){return ge[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge}(we||{});const Ce={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},ze=we.INFO,ue={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Le=(ge,ye,...We)=>{if(ye<ge.logLevel)return;const Rt=(new Date).toISOString(),ct=ue[ye];if(!ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[ct](`[${Rt}]  ${ge.name}:`,...We)};class Ve{constructor(ye){this.name=ye,this._logLevel=ze,this._logHandler=Le,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in we))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?Ce[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...ye),this._logHandler(this,we.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...ye),this._logHandler(this,we.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,we.INFO,...ye),this._logHandler(this,we.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,we.WARN,...ye),this._logHandler(this,we.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...ye),this._logHandler(this,we.ERROR,...ye)}}},3182:(In,yt,Y)=>{"use strict";Y.d(yt,{C6:()=>S.C6,KN:()=>S.KN,Mq:()=>S.Mq,ZF:()=>S.ZF});var S=Y(534);(0,S.KN)("firebase","10.12.2","app")},5861:(In,yt,Y)=>{"use strict";function S(Ce,ze,ue,Le,Ve,At,vt){try{var ge=Ce[At](vt),ye=ge.value}catch(We){return void ue(We)}ge.done?ze(ye):Promise.resolve(ye).then(Le,Ve)}function we(Ce){return function(){var ze=this,ue=arguments;return new Promise(function(Le,Ve){var At=Ce.apply(ze,ue);function vt(ye){S(At,Le,Ve,vt,ge,"next",ye)}function ge(ye){S(At,Le,Ve,vt,ge,"throw",ye)}vt(void 0)})}}Y.d(yt,{Z:()=>we})},7582:(In,yt,Y)=>{"use strict";function ze(Q,Ge){var Xe={};for(var nt in Q)Object.prototype.hasOwnProperty.call(Q,nt)&&Ge.indexOf(nt)<0&&(Xe[nt]=Q[nt]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(nt=Object.getOwnPropertySymbols(Q);je<nt.length;je++)Ge.indexOf(nt[je])<0&&Object.prototype.propertyIsEnumerable.call(Q,nt[je])&&(Xe[nt[je]]=Q[nt[je]])}return Xe}function We(Q,Ge,Xe,nt){return new(Xe||(Xe=Promise))(function(ke,pt){function Vt(Tn){try{bt(nt.next(Tn))}catch(Er){pt(Er)}}function qt(Tn){try{bt(nt.throw(Tn))}catch(Er){pt(Er)}}function bt(Tn){Tn.done?ke(Tn.value):function je(ke){return ke instanceof Xe?ke:new Xe(function(pt){pt(ke)})}(Tn.value).then(Vt,qt)}bt((nt=nt.apply(Q,Ge||[])).next())})}function Ae(Q){return this instanceof Ae?(this.v=Q,this):new Ae(Q)}function rt(Q,Ge,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,nt=Xe.apply(Q,Ge||[]),ke=[];return je={},Vt("next"),Vt("throw"),Vt("return",function pt(Ot){return function(Jn){return Promise.resolve(Jn).then(Ot,Er)}}),je[Symbol.asyncIterator]=function(){return this},je;function Vt(Ot,Jn){nt[Ot]&&(je[Ot]=function(Kn){return new Promise(function(bn,wt){ke.push([Ot,Kn,bn,wt])>1||qt(Ot,Kn)})},Jn&&(je[Ot]=Jn(je[Ot])))}function qt(Ot,Jn){try{!function bt(Ot){Ot.value instanceof Ae?Promise.resolve(Ot.value.v).then(Tn,Er):yi(ke[0][2],Ot)}(nt[Ot](Jn))}catch(Kn){yi(ke[0][3],Kn)}}function Tn(Ot){qt("next",Ot)}function Er(Ot){qt("throw",Ot)}function yi(Ot,Jn){Ot(Jn),ke.shift(),ke.length&&qt(ke[0][0],ke[0][1])}}function Ft(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ge=Q[Symbol.asyncIterator];return Ge?Ge.call(Q):(Q=function Xt(Q){var Ge="function"==typeof Symbol&&Symbol.iterator,Xe=Ge&&Q[Ge],nt=0;if(Xe)return Xe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&nt>=Q.length&&(Q=void 0),{value:Q&&Q[nt++],done:!Q}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Xe={},nt("next"),nt("throw"),nt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function nt(ke){Xe[ke]=Q[ke]&&function(pt){return new Promise(function(Vt,qt){!function je(ke,pt,Vt,qt){Promise.resolve(qt).then(function(bt){ke({value:bt,done:Vt})},pt)}(Vt,qt,(pt=Q[ke](pt)).done,pt.value)})}}}Y.d(yt,{FC:()=>rt,KL:()=>Ft,_T:()=>ze,mG:()=>We,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},In=>{In(In.s=6842)}]);