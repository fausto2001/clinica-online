(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{5588:(sn,ot,Q)=>{"use strict";Q.d(ot,{ET:()=>ba,vr:()=>Py,hJ:()=>pm,JU:()=>ey,QT:()=>yy,ad:()=>mm,cf:()=>Pm,pl:()=>pw,r7:()=>Rm});var gt,at,S=Q(5861),fe=Q(534),Ze=Q(4537),ke=Q(7879),te=Q(9058),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Re={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(Se,he,ve){ve||(ve=0);var Pe=Array(16);if("string"==typeof he)for(var Oe=0;16>Oe;++Oe)Pe[Oe]=he.charCodeAt(ve++)|he.charCodeAt(ve++)<<8|he.charCodeAt(ve++)<<16|he.charCodeAt(ve++)<<24;else for(Oe=0;16>Oe;++Oe)Pe[Oe]=he[ve++]|he[ve++]<<8|he[ve++]<<16|he[ve++]<<24;var Ke=Se.g[3],me=(he=Se.g[0])+(Ke^(ve=Se.g[1])&((Oe=Se.g[2])^Ke))+Pe[0]+3614090360&4294967295;me=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=(ve=(Oe=(Ke=(he=ve+(me<<7&4294967295|me>>>25))+((me=Ke+(Oe^he&(ve^Oe))+Pe[1]+3905402710&4294967295)<<12&4294967295|me>>>20))+((me=Oe+(ve^Ke&(he^ve))+Pe[2]+606105819&4294967295)<<17&4294967295|me>>>15))+((me=ve+(he^Oe&(Ke^he))+Pe[3]+3250441966&4294967295)<<22&4294967295|me>>>10))+((me=he+(Ke^ve&(Oe^Ke))+Pe[4]+4118548399&4294967295)<<7&4294967295|me>>>25))+((me=Ke+(Oe^he&(ve^Oe))+Pe[5]+1200080426&4294967295)<<12&4294967295|me>>>20))+((me=Oe+(ve^Ke&(he^ve))+Pe[6]+2821735955&4294967295)<<17&4294967295|me>>>15))+((me=ve+(he^Oe&(Ke^he))+Pe[7]+4249261313&4294967295)<<22&4294967295|me>>>10))+((me=he+(Ke^ve&(Oe^Ke))+Pe[8]+1770035416&4294967295)<<7&4294967295|me>>>25))+((me=Ke+(Oe^he&(ve^Oe))+Pe[9]+2336552879&4294967295)<<12&4294967295|me>>>20))+((me=Oe+(ve^Ke&(he^ve))+Pe[10]+4294925233&4294967295)<<17&4294967295|me>>>15))+((me=ve+(he^Oe&(Ke^he))+Pe[11]+2304563134&4294967295)<<22&4294967295|me>>>10))+((me=he+(Ke^ve&(Oe^Ke))+Pe[12]+1804603682&4294967295)<<7&4294967295|me>>>25))+((me=Ke+(Oe^he&(ve^Oe))+Pe[13]+4254626195&4294967295)<<12&4294967295|me>>>20))+((me=Oe+(ve^Ke&(he^ve))+Pe[14]+2792965006&4294967295)<<17&4294967295|me>>>15))+((me=ve+(he^Oe&(Ke^he))+Pe[15]+1236535329&4294967295)<<22&4294967295|me>>>10))+((me=he+(Oe^Ke&(ve^Oe))+Pe[1]+4129170786&4294967295)<<5&4294967295|me>>>27))+((me=Ke+(ve^Oe&(he^ve))+Pe[6]+3225465664&4294967295)<<9&4294967295|me>>>23))+((me=Oe+(he^ve&(Ke^he))+Pe[11]+643717713&4294967295)<<14&4294967295|me>>>18))+((me=ve+(Ke^he&(Oe^Ke))+Pe[0]+3921069994&4294967295)<<20&4294967295|me>>>12))+((me=he+(Oe^Ke&(ve^Oe))+Pe[5]+3593408605&4294967295)<<5&4294967295|me>>>27))+((me=Ke+(ve^Oe&(he^ve))+Pe[10]+38016083&4294967295)<<9&4294967295|me>>>23))+((me=Oe+(he^ve&(Ke^he))+Pe[15]+3634488961&4294967295)<<14&4294967295|me>>>18))+((me=ve+(Ke^he&(Oe^Ke))+Pe[4]+3889429448&4294967295)<<20&4294967295|me>>>12))+((me=he+(Oe^Ke&(ve^Oe))+Pe[9]+568446438&4294967295)<<5&4294967295|me>>>27))+((me=Ke+(ve^Oe&(he^ve))+Pe[14]+3275163606&4294967295)<<9&4294967295|me>>>23))+((me=Oe+(he^ve&(Ke^he))+Pe[3]+4107603335&4294967295)<<14&4294967295|me>>>18))+((me=ve+(Ke^he&(Oe^Ke))+Pe[8]+1163531501&4294967295)<<20&4294967295|me>>>12))+((me=he+(Oe^Ke&(ve^Oe))+Pe[13]+2850285829&4294967295)<<5&4294967295|me>>>27))+((me=Ke+(ve^Oe&(he^ve))+Pe[2]+4243563512&4294967295)<<9&4294967295|me>>>23))+((me=Oe+(he^ve&(Ke^he))+Pe[7]+1735328473&4294967295)<<14&4294967295|me>>>18))+((me=ve+(Ke^he&(Oe^Ke))+Pe[12]+2368359562&4294967295)<<20&4294967295|me>>>12))+((me=he+(ve^Oe^Ke)+Pe[5]+4294588738&4294967295)<<4&4294967295|me>>>28))+((me=Ke+(he^ve^Oe)+Pe[8]+2272392833&4294967295)<<11&4294967295|me>>>21))+((me=Oe+(Ke^he^ve)+Pe[11]+1839030562&4294967295)<<16&4294967295|me>>>16))+((me=ve+(Oe^Ke^he)+Pe[14]+4259657740&4294967295)<<23&4294967295|me>>>9))+((me=he+(ve^Oe^Ke)+Pe[1]+2763975236&4294967295)<<4&4294967295|me>>>28))+((me=Ke+(he^ve^Oe)+Pe[4]+1272893353&4294967295)<<11&4294967295|me>>>21))+((me=Oe+(Ke^he^ve)+Pe[7]+4139469664&4294967295)<<16&4294967295|me>>>16))+((me=ve+(Oe^Ke^he)+Pe[10]+3200236656&4294967295)<<23&4294967295|me>>>9))+((me=he+(ve^Oe^Ke)+Pe[13]+681279174&4294967295)<<4&4294967295|me>>>28))+((me=Ke+(he^ve^Oe)+Pe[0]+3936430074&4294967295)<<11&4294967295|me>>>21))+((me=Oe+(Ke^he^ve)+Pe[3]+3572445317&4294967295)<<16&4294967295|me>>>16))+((me=ve+(Oe^Ke^he)+Pe[6]+76029189&4294967295)<<23&4294967295|me>>>9))+((me=he+(ve^Oe^Ke)+Pe[9]+3654602809&4294967295)<<4&4294967295|me>>>28))+((me=Ke+(he^ve^Oe)+Pe[12]+3873151461&4294967295)<<11&4294967295|me>>>21))+((me=Oe+(Ke^he^ve)+Pe[15]+530742520&4294967295)<<16&4294967295|me>>>16))+((me=ve+(Oe^Ke^he)+Pe[2]+3299628645&4294967295)<<23&4294967295|me>>>9))+((me=he+(Oe^(ve|~Ke))+Pe[0]+4096336452&4294967295)<<6&4294967295|me>>>26))+((me=Ke+(ve^(he|~Oe))+Pe[7]+1126891415&4294967295)<<10&4294967295|me>>>22))+((me=Oe+(he^(Ke|~ve))+Pe[14]+2878612391&4294967295)<<15&4294967295|me>>>17))+((me=ve+(Ke^(Oe|~he))+Pe[5]+4237533241&4294967295)<<21&4294967295|me>>>11))+((me=he+(Oe^(ve|~Ke))+Pe[12]+1700485571&4294967295)<<6&4294967295|me>>>26))+((me=Ke+(ve^(he|~Oe))+Pe[3]+2399980690&4294967295)<<10&4294967295|me>>>22))+((me=Oe+(he^(Ke|~ve))+Pe[10]+4293915773&4294967295)<<15&4294967295|me>>>17))+((me=ve+(Ke^(Oe|~he))+Pe[1]+2240044497&4294967295)<<21&4294967295|me>>>11))+((me=he+(Oe^(ve|~Ke))+Pe[8]+1873313359&4294967295)<<6&4294967295|me>>>26))+((me=Ke+(ve^(he|~Oe))+Pe[15]+4264355552&4294967295)<<10&4294967295|me>>>22))+((me=Oe+(he^(Ke|~ve))+Pe[6]+2734768916&4294967295)<<15&4294967295|me>>>17))+((me=ve+(Ke^(Oe|~he))+Pe[13]+1309151649&4294967295)<<21&4294967295|me>>>11))+((Ke=(he=ve+((me=he+(Oe^(ve|~Ke))+Pe[4]+4149444226&4294967295)<<6&4294967295|me>>>26))+((me=Ke+(ve^(he|~Oe))+Pe[11]+3174756917&4294967295)<<10&4294967295|me>>>22))^((Oe=Ke+((me=Oe+(he^(Ke|~ve))+Pe[2]+718787259&4294967295)<<15&4294967295|me>>>17))|~he))+Pe[9]+3951481745&4294967295,Se.g[0]=Se.g[0]+he&4294967295,Se.g[1]=Se.g[1]+(Oe+(me<<21&4294967295|me>>>11))&4294967295,Se.g[2]=Se.g[2]+Oe&4294967295,Se.g[3]=Se.g[3]+Ke&4294967295}function g(Se,he){this.h=he;for(var ve=[],Pe=!0,Oe=Se.length-1;0<=Oe;Oe--){var Ke=0|Se[Oe];Pe&&Ke==he||(ve[Oe]=Ke,Pe=!1)}this.g=ve}(function e(Se,he){function ve(){}ve.prototype=he.prototype,Se.D=he.prototype,Se.prototype=new ve,Se.prototype.constructor=Se,Se.C=function(Pe,Oe,Ke){for(var me=Array(arguments.length-2),Da=2;Da<arguments.length;Da++)me[Da-2]=arguments[Da];return he.prototype[Oe].apply(Pe,me)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Se,he){void 0===he&&(he=Se.length);for(var ve=he-this.blockSize,Pe=this.B,Oe=this.h,Ke=0;Ke<he;){if(0==Oe)for(;Ke<=ve;)c(this,Se,Ke),Ke+=this.blockSize;if("string"==typeof Se){for(;Ke<he;)if(Pe[Oe++]=Se.charCodeAt(Ke++),Oe==this.blockSize){c(this,Pe),Oe=0;break}}else for(;Ke<he;)if(Pe[Oe++]=Se[Ke++],Oe==this.blockSize){c(this,Pe),Oe=0;break}}this.h=Oe,this.o+=he},o.prototype.v=function(){var Se=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Se[0]=128;for(var he=1;he<Se.length-8;++he)Se[he]=0;var ve=8*this.o;for(he=Se.length-8;he<Se.length;++he)Se[he]=255&ve,ve/=256;for(this.u(Se),Se=Array(16),he=ve=0;4>he;++he)for(var Pe=0;32>Pe;Pe+=8)Se[ve++]=this.g[he]>>>Pe&255;return Se};var b={};function P(Se){return-128<=Se&&128>Se?function h(Se,he){var ve=b;return Object.prototype.hasOwnProperty.call(ve,Se)?ve[Se]:ve[Se]=he(Se)}(Se,function(he){return new g([0|he],0>he?-1:0)}):new g([0|Se],0>Se?-1:0)}function k(Se){if(isNaN(Se)||!isFinite(Se))return ne;if(0>Se)return bt(k(-Se));for(var he=[],ve=1,Pe=0;Se>=ve;Pe++)he[Pe]=Se/ve|0,ve*=4294967296;return new g(he,0)}var ne=P(0),ge=P(1),je=P(16777216);function vt(Se){if(0!=Se.h)return!1;for(var he=0;he<Se.g.length;he++)if(0!=Se.g[he])return!1;return!0}function tt(Se){return-1==Se.h}function bt(Se){for(var he=Se.g.length,ve=[],Pe=0;Pe<he;Pe++)ve[Pe]=~Se.g[Pe];return new g(ve,~Se.h).add(ge)}function an(Se,he){return Se.add(bt(he))}function gn(Se,he){for(;(65535&Se[he])!=Se[he];)Se[he+1]+=Se[he]>>>16,Se[he]&=65535,he++}function fn(Se,he){this.g=Se,this.h=he}function Yn(Se,he){if(vt(he))throw Error("division by zero");if(vt(Se))return new fn(ne,ne);if(tt(Se))return he=Yn(bt(Se),he),new fn(bt(he.g),bt(he.h));if(tt(he))return he=Yn(Se,bt(he)),new fn(bt(he.g),he.h);if(30<Se.g.length){if(tt(Se)||tt(he))throw Error("slowDivide_ only works with positive integers.");for(var ve=ge,Pe=he;0>=Pe.l(Se);)ve=Fr(ve),Pe=Fr(Pe);var Oe=Jn(ve,1),Ke=Jn(Pe,1);for(Pe=Jn(Pe,2),ve=Jn(ve,2);!vt(Pe);){var me=Ke.add(Pe);0>=me.l(Se)&&(Oe=Oe.add(ve),Ke=me),Pe=Jn(Pe,1),ve=Jn(ve,1)}return he=an(Se,Oe.j(he)),new fn(Oe,he)}for(Oe=ne;0<=Se.l(he);){for(ve=Math.max(1,Math.floor(Se.m()/he.m())),Pe=48>=(Pe=Math.ceil(Math.log(ve)/Math.LN2))?1:Math.pow(2,Pe-48),me=(Ke=k(ve)).j(he);tt(me)||0<me.l(Se);)me=(Ke=k(ve-=Pe)).j(he);vt(Ke)&&(Ke=ge),Oe=Oe.add(Ke),Se=an(Se,me)}return new fn(Oe,Se)}function Fr(Se){for(var he=Se.g.length+1,ve=[],Pe=0;Pe<he;Pe++)ve[Pe]=Se.i(Pe)<<1|Se.i(Pe-1)>>>31;return new g(ve,Se.h)}function Jn(Se,he){var ve=he>>5;he%=32;for(var Pe=Se.g.length-ve,Oe=[],Ke=0;Ke<Pe;Ke++)Oe[Ke]=0<he?Se.i(Ke+ve)>>>he|Se.i(Ke+ve+1)<<32-he:Se.i(Ke+ve);return new g(Oe,Se.h)}(a=g.prototype).m=function(){if(tt(this))return-bt(this).m();for(var Se=0,he=1,ve=0;ve<this.g.length;ve++){var Pe=this.i(ve);Se+=(0<=Pe?Pe:4294967296+Pe)*he,he*=4294967296}return Se},a.toString=function(Se){if(2>(Se=Se||10)||36<Se)throw Error("radix out of range: "+Se);if(vt(this))return"0";if(tt(this))return"-"+bt(this).toString(Se);for(var he=k(Math.pow(Se,6)),ve=this,Pe="";;){var Oe=Yn(ve,he).g,Ke=((0<(ve=an(ve,Oe.j(he))).g.length?ve.g[0]:ve.h)>>>0).toString(Se);if(vt(ve=Oe))return Ke+Pe;for(;6>Ke.length;)Ke="0"+Ke;Pe=Ke+Pe}},a.i=function(Se){return 0>Se?0:Se<this.g.length?this.g[Se]:this.h},a.l=function(Se){return tt(Se=an(this,Se))?-1:vt(Se)?0:1},a.abs=function(){return tt(this)?bt(this):this},a.add=function(Se){for(var he=Math.max(this.g.length,Se.g.length),ve=[],Pe=0,Oe=0;Oe<=he;Oe++){var Ke=Pe+(65535&this.i(Oe))+(65535&Se.i(Oe)),me=(Ke>>>16)+(this.i(Oe)>>>16)+(Se.i(Oe)>>>16);Pe=me>>>16,ve[Oe]=(me&=65535)<<16|(Ke&=65535)}return new g(ve,-2147483648&ve[ve.length-1]?-1:0)},a.j=function(Se){if(vt(this)||vt(Se))return ne;if(tt(this))return tt(Se)?bt(this).j(bt(Se)):bt(bt(this).j(Se));if(tt(Se))return bt(this.j(bt(Se)));if(0>this.l(je)&&0>Se.l(je))return k(this.m()*Se.m());for(var he=this.g.length+Se.g.length,ve=[],Pe=0;Pe<2*he;Pe++)ve[Pe]=0;for(Pe=0;Pe<this.g.length;Pe++)for(var Oe=0;Oe<Se.g.length;Oe++){var Ke=this.i(Pe)>>>16,me=65535&this.i(Pe),Da=Se.i(Oe)>>>16,rh=65535&Se.i(Oe);ve[2*Pe+2*Oe]+=me*rh,gn(ve,2*Pe+2*Oe),ve[2*Pe+2*Oe+1]+=Ke*rh,gn(ve,2*Pe+2*Oe+1),ve[2*Pe+2*Oe+1]+=me*Da,gn(ve,2*Pe+2*Oe+1),ve[2*Pe+2*Oe+2]+=Ke*Da,gn(ve,2*Pe+2*Oe+2)}for(Pe=0;Pe<he;Pe++)ve[Pe]=ve[2*Pe+1]<<16|ve[2*Pe];for(Pe=he;Pe<2*he;Pe++)ve[Pe]=0;return new g(ve,0)},a.A=function(Se){return Yn(this,Se).h},a.and=function(Se){for(var he=Math.max(this.g.length,Se.g.length),ve=[],Pe=0;Pe<he;Pe++)ve[Pe]=this.i(Pe)&Se.i(Pe);return new g(ve,this.h&Se.h)},a.or=function(Se){for(var he=Math.max(this.g.length,Se.g.length),ve=[],Pe=0;Pe<he;Pe++)ve[Pe]=this.i(Pe)|Se.i(Pe);return new g(ve,this.h|Se.h)},a.xor=function(Se){for(var he=Math.max(this.g.length,Se.g.length),ve=[],Pe=0;Pe<he;Pe++)ve[Pe]=this.i(Pe)^Se.i(Pe);return new g(ve,this.h^Se.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,at=Re.Md5=o,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=k,g.fromString=function Z(Se,he){if(0==Se.length)throw Error("number format error: empty string");if(2>(he=he||10)||36<he)throw Error("radix out of range: "+he);if("-"==Se.charAt(0))return bt(Z(Se.substring(1),he));if(0<=Se.indexOf("-"))throw Error('number format error: interior "-" character');for(var ve=k(Math.pow(he,8)),Pe=ne,Oe=0;Oe<Se.length;Oe+=8){var Ke=Math.min(8,Se.length-Oe),me=parseInt(Se.substring(Oe,Oe+Ke),he);8>Ke?(Ke=k(Math.pow(he,Ke)),Pe=Pe.j(Ke).add(k(me))):Pe=(Pe=Pe.j(ve)).add(k(me))}return Pe},gt=Re.Integer=g}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var Fe,mt,We,wt,xt,zt,Xt,Vn,nr,ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,M,L){return f==Array.prototype||f==Object.prototype||(f[M]=L.value),f},o=function r(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ue&&ue];for(var M=0;M<f.length;++M){var L=f[M];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}(this);!function c(f,M){if(M)e:{var L=o;f=f.split(".");for(var ee=0;ee<f.length-1;ee++){var Ve=f[ee];if(!(Ve in L))break e;L=L[Ve]}(M=M(ee=L[f=f[f.length-1]]))!=ee&&null!=M&&e(L,f,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(f){return f||function(){return function h(f,M){f instanceof String&&(f+="");var L=0,ee=!1,Ve={next:function(){if(!ee&&L<f.length){var Je=L++;return{value:M(Je,f[Je]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return Ve[Symbol.iterator]=function(){return Ve},Ve}(this,function(M,L){return L})}});var g=g||{},b=this||self;function P(f){var M=typeof f;return"array"==(M="object"!=M?M:f?Array.isArray(f)?"array":M:"null")||"object"==M&&"number"==typeof f.length}function k(f){var M=typeof f;return"object"==M&&null!=f||"function"==M}function Z(f,M,L){return f.call.apply(f.bind,arguments)}function ne(f,M,L){if(!f)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var Ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ve,ee),f.apply(M,Ve)}}return function(){return f.apply(M,arguments)}}function ge(f,M,L){return(ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Z:ne).apply(null,arguments)}function je(f,M){var L=Array.prototype.slice.call(arguments,1);return function(){var ee=L.slice();return ee.push.apply(ee,arguments),f.apply(this,ee)}}function vt(f,M){function L(){}L.prototype=M.prototype,f.aa=M.prototype,f.prototype=new L,f.prototype.constructor=f,f.Qb=function(ee,Ve,Je){for(var Ht=Array(arguments.length-2),ai=2;ai<arguments.length;ai++)Ht[ai-2]=arguments[ai];return M.prototype[Ve].apply(ee,Ht)}}function tt(f){const M=f.length;if(0<M){const L=Array(M);for(let ee=0;ee<M;ee++)L[ee]=f[ee];return L}return[]}function bt(f,M){for(let L=1;L<arguments.length;L++){const ee=arguments[L];if(P(ee)){const Ve=f.length||0,Je=ee.length||0;f.length=Ve+Je;for(let Ht=0;Ht<Je;Ht++)f[Ve+Ht]=ee[Ht]}else f.push(ee)}}function gn(f){return/^[\s\xa0]*$/.test(f)}function fn(){var f=b.navigator;return f&&(f=f.userAgent)?f:""}function Yn(f){return Yn[" "](f),f}Yn[" "]=function(){};var Fr=!(-1==fn().indexOf("Gecko")||-1!=fn().toLowerCase().indexOf("webkit")&&-1==fn().indexOf("Edge")||-1!=fn().indexOf("Trident")||-1!=fn().indexOf("MSIE")||-1!=fn().indexOf("Edge"));function Jn(f,M,L){for(const ee in f)M.call(L,f[ee],ee,f)}function he(f){const M={};for(const L in f)M[L]=f[L];return M}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pe(f,M){let L,ee;for(let Ve=1;Ve<arguments.length;Ve++){for(L in ee=arguments[Ve],ee)f[L]=ee[L];for(let Je=0;Je<ve.length;Je++)L=ve[Je],Object.prototype.hasOwnProperty.call(ee,L)&&(f[L]=ee[L])}}function Oe(f){var M=1;f=f.split(":");const L=[];for(;0<M&&f.length;)L.push(f.shift()),M--;return f.length&&L.push(f.join(":")),L}function Ke(f){b.setTimeout(()=>{throw f},0)}function me(){var f=eg;let M=null;return f.g&&(M=f.g,f.g=f.g.next,f.g||(f.h=null),M.next=null),M}var rh=new class an{constructor(M,L){this.i=M,this.j=L,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new Fy,f=>f.reset());class Fy{constructor(){this.next=this.g=this.h=null}set(M,L){this.h=M,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ih,Jl=!1,eg=new class Da{constructor(){this.h=this.g=null}add(M,L){const ee=rh.get();ee.set(M,L),this.h?this.h.next=ee:this.g=ee,this.h=ee}},Om=()=>{const f=b.Promise.resolve(void 0);ih=()=>{f.then(Vy)}};var Vy=()=>{for(var f;f=me();){try{f.h.call(f.g)}catch(L){Ke(L)}var M=rh;M.j(f),100>M.h&&(M.h++,f.next=M.g,M.g=f)}Jl=!1};function uc(){this.s=this.s,this.C=this.C}function Qo(f,M){this.type=f,this.g=this.target=M,this.defaultPrevented=!1}uc.prototype.s=!1,uc.prototype.ma=function(){this.s||(this.s=!0,this.N())},uc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Qo.prototype.h=function(){this.defaultPrevented=!0};var km=function(){if(!b.addEventListener||!Object.defineProperty)return!1;var f=!1,M=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const L=()=>{};b.addEventListener("test",L,M),b.removeEventListener("test",L,M)}catch{}return f}();function oh(f,M){if(Qo.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var L=this.type=f.type,ee=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=M,M=f.relatedTarget){if(Fr){e:{try{Yn(M.nodeName);var Ve=!0;break e}catch{}Ve=!1}Ve||(M=null)}}else"mouseover"==L?M=f.fromElement:"mouseout"==L&&(M=f.toElement);this.relatedTarget=M,ee?(this.clientX=void 0!==ee.clientX?ee.clientX:ee.pageX,this.clientY=void 0!==ee.clientY?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:Uy[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&oh.aa.h.call(this)}}vt(oh,Qo);var Uy={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Zo="closure_listenable_"+(1e6*Math.random()|0),By=0;function jy(f,M,L,ee,Ve){this.listener=f,this.proxy=null,this.src=M,this.type=L,this.capture=!!ee,this.ha=Ve,this.key=++By,this.da=this.fa=!1}function tg(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Xl(f){this.src=f,this.g={},this.h=0}function Hf(f,M){var L=M.type;if(L in f.g){var Je,ee=f.g[L],Ve=Array.prototype.indexOf.call(ee,M,void 0);(Je=0<=Ve)&&Array.prototype.splice.call(ee,Ve,1),Je&&(tg(M),0==f.g[L].length&&(delete f.g[L],f.h--))}}function ng(f,M,L,ee){for(var Ve=0;Ve<f.length;++Ve){var Je=f[Ve];if(!Je.da&&Je.listener==M&&Je.capture==!!L&&Je.ha==ee)return Ve}return-1}Xl.prototype.add=function(f,M,L,ee,Ve){var Je=f.toString();(f=this.g[Je])||(f=this.g[Je]=[],this.h++);var Ht=ng(f,M,ee,Ve);return-1<Ht?(M=f[Ht],L||(M.fa=!1)):((M=new jy(M,this.src,Je,!!ee,Ve)).fa=L,f.push(M)),M};var rg="closure_lm_"+(1e6*Math.random()|0),ig={};function og(f,M,L,ee,Ve){if(ee&&ee.once)return zf(f,M,L,ee,Ve);if(Array.isArray(M)){for(var Je=0;Je<M.length;Je++)og(f,M[Je],L,ee,Ve);return null}return L=sh(L),f&&f[Zo]?f.K(M,L,k(ee)?!!ee.capture:!!ee,Ve):Lm(f,M,L,!1,ee,Ve)}function Lm(f,M,L,ee,Ve,Je){if(!M)throw Error("Invalid event type");var Ht=k(Ve)?!!Ve.capture:!!Ve,ai=ag(f);if(ai||(f[rg]=ai=new Xl(f)),(L=ai.add(M,L,ee,Ht,Je)).proxy)return L;if(ee=function $y(){const M=Hy;return function f(L){return M.call(f.src,f.listener,L)}}(),L.proxy=ee,ee.src=f,ee.listener=L,f.addEventListener)km||(Ve=Ht),void 0===Ve&&(Ve=!1),f.addEventListener(M.toString(),ee,Ve);else if(f.attachEvent)f.attachEvent(Vm(M.toString()),ee);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(ee)}return L}function zf(f,M,L,ee,Ve){if(Array.isArray(M)){for(var Je=0;Je<M.length;Je++)zf(f,M[Je],L,ee,Ve);return null}return L=sh(L),f&&f[Zo]?f.L(M,L,k(ee)?!!ee.capture:!!ee,Ve):Lm(f,M,L,!0,ee,Ve)}function Fm(f,M,L,ee,Ve){if(Array.isArray(M))for(var Je=0;Je<M.length;Je++)Fm(f,M[Je],L,ee,Ve);else ee=k(ee)?!!ee.capture:!!ee,L=sh(L),f&&f[Zo]?(f=f.i,(M=String(M).toString())in f.g&&-1<(L=ng(Je=f.g[M],L,ee,Ve))&&(tg(Je[L]),Array.prototype.splice.call(Je,L,1),0==Je.length&&(delete f.g[M],f.h--))):f&&(f=ag(f))&&(M=f.g[M.toString()],f=-1,M&&(f=ng(M,L,ee,Ve)),(L=-1<f?M[f]:null)&&sg(L))}function sg(f){if("number"!=typeof f&&f&&!f.da){var M=f.src;if(M&&M[Zo])Hf(M.i,f);else{var L=f.type,ee=f.proxy;M.removeEventListener?M.removeEventListener(L,ee,f.capture):M.detachEvent?M.detachEvent(Vm(L),ee):M.addListener&&M.removeListener&&M.removeListener(ee),(L=ag(M))?(Hf(L,f),0==L.h&&(L.src=null,M[rg]=null)):tg(f)}}}function Vm(f){return f in ig?ig[f]:ig[f]="on"+f}function Hy(f,M){if(f.da)f=!0;else{M=new oh(M,this);var L=f.listener,ee=f.ha||f.src;f.fa&&sg(f),f=L.call(ee,M)}return f}function ag(f){return(f=f[rg])instanceof Xl?f:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function sh(f){return"function"==typeof f?f:(f[ca]||(f[ca]=function(M){return f.handleEvent(M)}),f[ca])}function ds(){uc.call(this),this.i=new Xl(this),this.M=this,this.F=null}function hs(f,M){var L,ee=f.F;if(ee)for(L=[];ee;ee=ee.F)L.push(ee);if(f=f.M,ee=M.type||M,"string"==typeof M)M=new Qo(M,f);else if(M instanceof Qo)M.target=M.target||f;else{var Ve=M;Pe(M=new Qo(ee,f),Ve)}if(Ve=!0,L)for(var Je=L.length-1;0<=Je;Je--){var Ht=M.g=L[Je];Ve=Gf(Ht,ee,!0,M)&&Ve}if(Ve=Gf(Ht=M.g=f,ee,!0,M)&&Ve,Ve=Gf(Ht,ee,!1,M)&&Ve,L)for(Je=0;Je<L.length;Je++)Ve=Gf(Ht=M.g=L[Je],ee,!1,M)&&Ve}function Gf(f,M,L,ee){if(!(M=f.i.g[String(M)]))return!0;M=M.concat();for(var Ve=!0,Je=0;Je<M.length;++Je){var Ht=M[Je];if(Ht&&!Ht.da&&Ht.capture==L){var ai=Ht.listener,Mo=Ht.ha||Ht.src;Ht.fa&&Hf(f.i,Ht),Ve=!1!==ai.call(Mo,ee)&&Ve}}return Ve&&!ee.defaultPrevented}function ug(f,M,L){if("function"==typeof f)L&&(f=ge(f,L));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=ge(f.handleEvent,f)}return 2147483647<Number(M)?-1:b.setTimeout(f,M||0)}function cg(f){f.g=ug(()=>{f.g=null,f.i&&(f.i=!1,cg(f))},f.l);const M=f.h;f.h=null,f.m.apply(null,M)}vt(ds,uc),ds.prototype[Zo]=!0,ds.prototype.removeEventListener=function(f,M,L,ee){Fm(this,f,M,L,ee)},ds.prototype.N=function(){if(ds.aa.N.call(this),this.i){var M,f=this.i;for(M in f.g){for(var L=f.g[M],ee=0;ee<L.length;ee++)tg(L[ee]);delete f.g[M],f.h--}}this.F=null},ds.prototype.K=function(f,M,L,ee){return this.i.add(String(f),M,!1,L,ee)},ds.prototype.L=function(f,M,L,ee){return this.i.add(String(f),M,!0,L,ee)};class Wf extends uc{constructor(M,L){super(),this.m=M,this.l=L,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:cg(this)}N(){super.N(),this.g&&(b.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(f){uc.call(this),this.h=f,this.g={}}vt(tl,uc);var zy=[];function lg(f){Jn(f.g,function(M,L){this.g.hasOwnProperty(L)&&sg(M)},f),f.g={}}tl.prototype.N=function(){tl.aa.N.call(this),lg(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qf=b.JSON.stringify,Um=b.JSON.parse,Bm=class{stringify(f){return b.JSON.stringify(f,void 0)}parse(f){return b.JSON.parse(f,void 0)}};function ah(){}function jm(){}ah.prototype.h=null;var uh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ch(){Qo.call(this,"d")}function dg(){Qo.call(this,"c")}vt(ch,Qo),vt(dg,Qo);var cc={},$m=null;function nl(){return $m=$m||new ds}function ed(f){Qo.call(this,cc.La,f)}function td(f){const M=nl();hs(M,new ed(M))}function lh(f,M){Qo.call(this,cc.STAT_EVENT,f),this.stat=M}function Ls(f){const M=nl();hs(M,new lh(M,f))}function Hm(f,M){Qo.call(this,cc.Ma,f),this.size=M}function nd(f,M){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return b.setTimeout(function(){f()},M)}function rd(){this.g=!0}function rl(f,M,L,ee){f.info(function(){return"XMLHTTP TEXT ("+M+"): "+function dh(f,M){if(!f.g)return M;if(!M)return null;try{var L=JSON.parse(M);if(L)for(f=0;f<L.length;f++)if(Array.isArray(L[f])){var ee=L[f];if(!(2>ee.length)){var Ve=ee[1];if(Array.isArray(Ve)&&!(1>Ve.length)){var Je=Ve[0];if("noop"!=Je&&"stop"!=Je&&"close"!=Je)for(var Ht=1;Ht<Ve.length;Ht++)Ve[Ht]=""}}}return qf(L)}catch{return M}}(f,L)+(ee?" "+ee:"")})}cc.La="serverreachability",vt(ed,Qo),cc.STAT_EVENT="statevent",vt(lh,Qo),cc.Ma="timingevent",vt(Hm,Qo),rd.prototype.xa=function(){this.g=!1},rd.prototype.info=function(){};var Qf,Kf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Zf(){}function lc(f,M,L,ee){this.j=f,this.i=M,this.l=L,this.R=ee||1,this.U=new tl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new id}function id(){this.i=null,this.g="",this.h=!1}vt(Zf,ah),Zf.prototype.g=function(){return new XMLHttpRequest},Zf.prototype.i=function(){return{}},Qf=new Zf;var Gm={},fg={};function pg(f,M,L){f.L=1,f.v=qs(la(M)),f.m=L,f.P=!0,Wm(f,null)}function Wm(f,M){f.F=Date.now(),Yf(f),f.A=la(f.v);var L=f.A,ee=f.R;Array.isArray(ee)||(ee=[String(ee)]),cl(L.i,"t",ee),f.C=0,L=f.j.J,f.h=new id,f.g=g_(f.j,L?M:null,!f.m),0<f.O&&(f.M=new Wf(ge(f.Y,f,f.g),f.O)),M=f.U,L=f.g,ee=f.ca;var Ve="readystatechange";Array.isArray(Ve)||(Ve&&(zy[0]=Ve.toString()),Ve=zy);for(var Je=0;Je<Ve.length;Je++){var Ht=og(L,Ve[Je],ee||M.handleEvent,!1,M.h||M);if(!Ht)break;M.g[Ht.key]=Ht}M=f.H?he(f.H):{},f.m?(f.u||(f.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,M)):(f.u="GET",f.g.ea(f.A,f.u,null,M)),td(),function Gy(f,M,L,ee,Ve,Je){f.info(function(){if(f.g)if(Je)for(var Ht="",ai=Je.split("&"),Mo=0;Mo<ai.length;Mo++){var qr=ai[Mo].split("=");if(1<qr.length){var fs=qr[0];qr=qr[1];var ps=fs.split("_");Ht=2<=ps.length&&"type"==ps[1]?Ht+(fs+"=")+qr+"&":Ht+(fs+"=redacted&")}}else Ht=null;else Ht=Je;return"XMLHTTP REQ ("+ee+") [attempt "+Ve+"]: "+M+"\n"+L+"\n"+Ht})}(f.i,f.u,f.A,f.l,f.R,f.m)}function qm(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function qy(f,M){var L=f.C,ee=M.indexOf("\n",L);return-1==ee?fg:(L=Number(M.substring(L,ee)),isNaN(L)?Gm:(ee+=1)+L>M.length?fg:(M=M.slice(ee,ee+L),f.C=ee+L,M))}function Yf(f){f.S=Date.now()+f.I,Km(f,f.I)}function Km(f,M){if(null!=f.B)throw Error("WatchDog timer not null");f.B=nd(ge(f.ba,f),M)}function Jf(f){f.B&&(b.clearTimeout(f.B),f.B=null)}function il(f){0==f.j.G||f.J||h_(f.j,f)}function ol(f){Jf(f);var M=f.M;M&&"function"==typeof M.ma&&M.ma(),f.M=null,lg(f.U),f.g&&(M=f.g,f.g=null,M.abort(),M.ma())}function od(f,M){try{var L=f.j;if(0!=L.G&&(L.g==f||gg(L.h,f)))if(!f.K&&gg(L.h,f)&&3==L.G){try{var ee=L.Da.g.parse(M)}catch{ee=null}if(Array.isArray(ee)&&3==ee.length){var Ve=ee;if(0==Ve[0]){e:if(!L.u){if(L.g){if(!(L.g.F+3e3<f.F))break e;Eg(L),dc(L)}yh(L),Ls(18)}}else L.za=Ve[1],0<L.za-L.T&&37500>Ve[2]&&L.F&&0==L.v&&!L.C&&(L.C=nd(ge(L.Za,L),6e3));if(1>=Ym(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Su(L,11)}else if((f.K||L.g==f)&&Eg(L),!gn(M))for(Ve=L.Da.g.parse(M),M=0;M<Ve.length;M++){let qr=Ve[M];if(L.T=qr[0],qr=qr[1],2==L.G)if("c"==qr[0]){L.K=qr[1],L.ia=qr[2];const fs=qr[3];null!=fs&&(L.la=fs,L.j.info("VER="+L.la));const ps=qr[4];null!=ps&&(L.Aa=ps,L.j.info("SVER="+L.Aa));const hc=qr[5];null!=hc&&"number"==typeof hc&&0<hc&&(L.L=ee=1.5*hc,L.j.info("backChannelRequestTimeoutMs_="+ee)),ee=L;const Qs=f.g;if(Qs){const Ih=Qs.g?Qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ih){var Je=ee.h;Je.g||-1==Ih.indexOf("spdy")&&-1==Ih.indexOf("quic")&&-1==Ih.indexOf("h2")||(Je.j=Je.l,Je.g=new Set,Je.h&&(mg(Je,Je.h),Je.h=null))}if(ee.D){const sp=Qs.g?Qs.g.getResponseHeader("X-HTTP-Session-Id"):null;sp&&(ee.ya=sp,Ci(ee.I,ee.D,sp))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-f.F,L.j.info("Handshake RTT: "+L.R+"ms"));var Ht=f;if((ee=L).qa=Tg(ee,ee.J?ee.ia:null,ee.W),Ht.K){Jm(ee.h,Ht);var ai=Ht,Mo=ee.L;Mo&&(ai.I=Mo),ai.B&&(Jf(ai),Yf(ai)),ee.g=Ht}else d_(ee);0<L.i.length&&op(L)}else"stop"!=qr[0]&&"close"!=qr[0]||Su(L,7);else 3==L.G&&("stop"==qr[0]||"close"==qr[0]?"stop"==qr[0]?Su(L,7):ip(L):"noop"!=qr[0]&&L.l&&L.l.ta(qr),L.v=0)}td()}catch{}}function Qm(f){this.l=f||10,f=b.PerformanceNavigationTiming?0<(f=b.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(b.chrome&&b.chrome.loadTimes&&b.chrome.loadTimes()&&b.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zm(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Ym(f){return f.h?1:f.g?f.g.size:0}function gg(f,M){return f.h?f.h==M:!!f.g&&f.g.has(M)}function mg(f,M){f.g?f.g.add(M):f.h=M}function Jm(f,M){f.h&&f.h==M?f.h=null:f.g&&f.g.has(M)&&f.g.delete(M)}function _g(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let M=f.i;for(const L of f.g.values())M=M.concat(L.D);return M}return tt(f.i)}function Zy(f,M){if(f.forEach&&"function"==typeof f.forEach)f.forEach(M,void 0);else if(P(f)||"string"==typeof f)Array.prototype.forEach.call(f,M,void 0);else for(var L=function Qy(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(P(f)||"string"==typeof f){var M=[];f=f.length;for(var L=0;L<f;L++)M.push(L);return M}M=[],L=0;for(const ee in f)M[L++]=ee;return M}}}(f),ee=function Xm(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(P(f)){for(var M=[],L=f.length,ee=0;ee<L;ee++)M.push(f[ee]);return M}for(ee in M=[],L=0,f)M[L++]=f[ee];return M}(f),Ve=ee.length,Je=0;Je<Ve;Je++)M.call(void 0,ee[Je],L&&L[Je],f)}lc.prototype.ca=function(f){f=f.target;const M=this.M;M&&3==Cu(f)?M.j():this.Y(f)},lc.prototype.Y=function(f){try{if(f==this.g)e:{const ps=Cu(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>ps)&&(3!=ps||this.g&&(this.h.h||this.g.oa()||rp(this.g)))){this.J||4!=ps||7==M||td(),Jf(this);var L=this.g.Z();this.X=L;t:if(qm(this)){var ee=rp(this.g);f="";var Ve=ee.length,Je=4==Cu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ol(this),il(this);var Ht="";break t}this.h.i=new b.TextDecoder}for(M=0;M<Ve;M++)this.h.h=!0,f+=this.h.i.decode(ee[M],{stream:!(Je&&M==Ve-1)});ee.length=0,this.h.g+=f,this.C=0,Ht=this.h.g}else Ht=this.g.oa();if(this.o=200==L,function Wy(f,M,L,ee,Ve,Je,Ht){f.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Ve+"]: "+M+"\n"+L+"\n"+Je+" "+Ht})}(this.i,this.u,this.A,this.l,this.R,ps,L),this.o){if(this.T&&!this.K){t:{if(this.g){var ai,Mo=this.g;if((ai=Mo.g?Mo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gn(ai)){var qr=ai;break t}}qr=null}if(!(L=qr)){this.o=!1,this.s=3,Ls(12),ol(this),il(this);break e}rl(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,od(this,L)}if(this.P){let Qs;for(L=!0;!this.J&&this.C<Ht.length;){if(Qs=qy(this,Ht),Qs==fg){4==ps&&(this.s=4,Ls(14),L=!1),rl(this.i,this.l,null,"[Incomplete Response]");break}if(Qs==Gm){this.s=4,Ls(15),rl(this.i,this.l,Ht,"[Invalid Chunk]"),L=!1;break}rl(this.i,this.l,Qs,null),od(this,Qs)}if(qm(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ps||0!=Ht.length||this.h.h||(this.s=1,Ls(16),L=!1),this.o=this.o&&L,L){if(0<Ht.length&&!this.W){this.W=!0;var fs=this.j;fs.g==this&&fs.ba&&!fs.M&&(fs.j.info("Great, no buffering proxy detected. Bytes received: "+Ht.length),hd(fs),fs.M=!0,Ls(11))}}else rl(this.i,this.l,Ht,"[Invalid Chunked Response]"),ol(this),il(this)}else rl(this.i,this.l,Ht,null),od(this,Ht);4==ps&&ol(this),this.o&&!this.J&&(4==ps?h_(this.j,this):(this.o=!1,Yf(this)))}else(function ph(f){const M={};f=(f.g&&2<=Cu(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let ee=0;ee<f.length;ee++){if(gn(f[ee]))continue;var L=Oe(f[ee]);const Ve=L[0];if("string"!=typeof(L=L[1]))continue;L=L.trim();const Je=M[Ve]||[];M[Ve]=Je,Je.push(L)}!function Se(f,M){for(const L in f)M.call(void 0,f[L],L,f)}(M,function(ee){return ee.join(", ")})})(this.g),400==L&&0<Ht.indexOf("Unknown SID")?(this.s=3,Ls(12)):(this.s=0,Ls(13)),ol(this),il(this)}}}catch{}},lc.prototype.cancel=function(){this.J=!0,ol(this)},lc.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function zm(f,M){f.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(td(),Ls(17)),ol(this),this.s=2,il(this)):Km(this,this.S-f)},Qm.prototype.cancel=function(){if(this.i=_g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sd(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof sd){this.h=f.h,Xf(this,f.j),this.o=f.o,this.g=f.g,ep(this,f.s),this.l=f.l;var M=f.i,L=new nu;L.i=M.i,M.g&&(L.g=new Map(M.g),L.h=M.h),tp(this,L),this.m=f.m}else f&&(M=String(f).match(yg))?(this.h=!1,Xf(this,M[1]||"",!0),this.o=Du(M[2]||""),this.g=Du(M[3]||"",!0),ep(this,M[4]),this.l=Du(M[5]||"",!0),tp(this,M[6]||"",!0),this.m=Du(M[7]||"")):(this.h=!1,this.i=new nu(null,this.h))}function la(f){return new sd(f)}function Xf(f,M,L){f.j=L?Du(M,!0):M,f.j&&(f.j=f.j.replace(/:$/,""))}function ep(f,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);f.s=M}else f.s=null}function tp(f,M,L){M instanceof nu?(f.i=M,function cd(f,M){M&&!f.j&&(Ks(f),f.i=null,f.g.forEach(function(L,ee){var Ve=ee.toLowerCase();ee!=Ve&&(al(this,ee),cl(this,Ve,L))},f)),f.j=M}(f.i,f.h)):(L||(M=mo(M,ad)),f.i=new nu(M,f.h))}function Ci(f,M,L){f.i.set(M,L)}function qs(f){return Ci(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Du(f,M){return f?M?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function mo(f,M,L){return"string"==typeof f?(f=encodeURI(f).replace(M,sl),L&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function sl(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}sd.prototype.toString=function(){var f=[],M=this.j;M&&f.push(mo(M,hh,!0),":");var L=this.g;return(L||"file"==M)&&(f.push("//"),(M=this.o)&&f.push(mo(M,hh,!0),"@"),f.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(L=this.s)&&f.push(":",String(L))),(L=this.l)&&(this.g&&"/"!=L.charAt(0)&&f.push("/"),f.push(mo(L,"/"==L.charAt(0)?vg:da,!0))),(L=this.i.toString())&&f.push("?",L),(L=this.m)&&f.push("#",mo(L,ud)),f.join("")};var f,hh=/[#\/\?@]/g,da=/[#\?:]/g,vg=/[#\?]/g,ad=/[#\?@]/g,ud=/#/g;function nu(f,M){this.h=this.g=null,this.i=f||null,this.j=!!M}function Ks(f){f.g||(f.g=new Map,f.h=0,f.i&&function e_(f,M){if(f){f=f.split("&");for(var L=0;L<f.length;L++){var ee=f[L].indexOf("="),Ve=null;if(0<=ee){var Je=f[L].substring(0,ee);Ve=f[L].substring(ee+1)}else Je=f[L];M(Je,Ve?decodeURIComponent(Ve.replace(/\+/g," ")):"")}}}(f.i,function(M,L){f.add(decodeURIComponent(M.replace(/\+/g," ")),L)}))}function al(f,M){Ks(f),M=Aa(f,M),f.g.has(M)&&(f.i=null,f.h-=f.g.get(M).length,f.g.delete(M))}function ul(f,M){return Ks(f),M=Aa(f,M),f.g.has(M)}function cl(f,M,L){al(f,M),0<L.length&&(f.i=null,f.g.set(Aa(f,M),tt(L)),f.h+=L.length)}function Aa(f,M){return M=String(M),f.j&&(M=M.toLowerCase()),M}function Au(f,M,L,ee,Ve){try{Ve&&(Ve.onload=null,Ve.onerror=null,Ve.onabort=null,Ve.ontimeout=null),ee(L)}catch{}}function r_(){this.g=new Bm}function i_(f,M,L){const ee=L||"";try{Zy(f,function(Ve,Je){let Ht=Ve;k(Ve)&&(Ht=qf(Ve)),M.push(ee+Je+"="+encodeURIComponent(Ht))})}catch(Ve){throw M.push(ee+"type="+encodeURIComponent("_badmap")),Ve}}function ld(f){this.l=f.Ub||null,this.j=f.eb||!1}function fh(f,M){ds.call(this),this.D=f,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function wg(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function dd(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ll(f)}function ll(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function o_(f){let M="";return Jn(f,function(L,ee){M+=ee,M+=":",M+=L,M+="\r\n"}),M}function s_(f,M,L){e:{for(ee in L){var ee=!1;break e}ee=!0}ee||(L=o_(L),"string"==typeof f?null!=L&&encodeURIComponent(String(L)):Ci(f,M,L))}function io(f){ds.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=nu.prototype).add=function(f,M){Ks(this),this.i=null,f=Aa(this,f);var L=this.g.get(f);return L||this.g.set(f,L=[]),L.push(M),this.h+=1,this},a.forEach=function(f,M){Ks(this),this.g.forEach(function(L,ee){L.forEach(function(Ve){f.call(M,Ve,ee,this)},this)},this)},a.na=function(){Ks(this);const f=Array.from(this.g.values()),M=Array.from(this.g.keys()),L=[];for(let ee=0;ee<M.length;ee++){const Ve=f[ee];for(let Je=0;Je<Ve.length;Je++)L.push(M[ee])}return L},a.V=function(f){Ks(this);let M=[];if("string"==typeof f)ul(this,f)&&(M=M.concat(this.g.get(Aa(this,f))));else{f=Array.from(this.g.values());for(let L=0;L<f.length;L++)M=M.concat(f[L])}return M},a.set=function(f,M){return Ks(this),this.i=null,ul(this,f=Aa(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[M]),this.h+=1,this},a.get=function(f,M){return f&&0<(f=this.V(f)).length?String(f[0]):M},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],M=Array.from(this.g.keys());for(var L=0;L<M.length;L++){var ee=M[L];const Je=encodeURIComponent(String(ee)),Ht=this.V(ee);for(ee=0;ee<Ht.length;ee++){var Ve=Je;""!==Ht[ee]&&(Ve+="="+encodeURIComponent(String(Ht[ee]))),f.push(Ve)}}return this.i=f.join("&")},vt(ld,ah),ld.prototype.g=function(){return new fh(this.l,this.j)},ld.prototype.i=(f={},function(){return f}),vt(fh,ds),(a=fh.prototype).open=function(f,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=M,this.readyState=1,ll(this)},a.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(M.body=f),(this.D||b).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dd(this)),this.readyState=0},a.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof b.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wg(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var M=f.value?f.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!f.done}))&&(this.response=this.responseText+=M)}f.done?dd(this):ll(this),3==this.readyState&&wg(this)}},a.Ra=function(f){this.g&&(this.response=this.responseText=f,dd(this))},a.Qa=function(f){this.g&&(this.response=f,dd(this))},a.ga=function(){this.g&&dd(this)},a.setRequestHeader=function(f,M){this.u.append(f,M)},a.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],M=this.h.entries();for(var L=M.next();!L.done;)f.push((L=L.value)[0]+": "+L[1]),L=M.next();return f.join("\r\n")},Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),vt(io,ds);var Yy=/^https?$/i,Jy=["POST","PUT"];function Xy(f,M){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=M,f.m=5,a_(f),np(f)}function a_(f){f.A||(f.A=!0,hs(f,"complete"),hs(f,"error"))}function ev(f){if(f.h&&typeof g<"u"&&(!f.v[1]||4!=Cu(f)||2!=f.Z()))if(f.u&&4==Cu(f))ug(f.Ea,0,f);else if(hs(f,"readystatechange"),4==Cu(f)){f.h=!1;try{const Ht=f.Z();e:switch(Ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var L;if(!(L=M)){var ee;if(ee=0===Ht){var Ve=String(f.D).match(yg)[1]||null;!Ve&&b.self&&b.self.location&&(Ve=b.self.location.protocol.slice(0,-1)),ee=!Yy.test(Ve?Ve.toLowerCase():"")}L=ee}if(L)hs(f,"complete"),hs(f,"success");else{f.m=6;try{var Je=2<Cu(f)?f.g.statusText:""}catch{Je=""}f.l=Je+" ["+f.Z()+"]",a_(f)}}finally{np(f)}}}function np(f,M){if(f.g){u_(f);const L=f.g,ee=f.v[0]?()=>{}:null;f.g=null,f.v=null,M||hs(f,"ready");try{L.onreadystatechange=ee}catch{}}}function u_(f){f.I&&(b.clearTimeout(f.I),f.I=null)}function Cu(f){return f.g?f.g.readyState:0}function rp(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function dl(f,M,L){return L&&L.internalChannelParams&&L.internalChannelParams[f]||M}function gh(f){this.Aa=0,this.i=[],this.j=new rd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dl("baseRetryDelayMs",5e3,f),this.cb=dl("retryDelaySeedMs",1e4,f),this.Wa=dl("forwardChannelMaxRetries",2,f),this.wa=dl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Qm(f&&f.concurrentRequestLimit),this.Da=new r_,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ip(f){if(Ig(f),3==f.G){var M=f.U++,L=la(f.I);if(Ci(L,"SID",f.K),Ci(L,"RID",M),Ci(L,"TYPE","terminate"),_h(f,L),(M=new lc(f,f.j,M)).L=2,M.v=qs(la(L)),L=!1,b.navigator&&b.navigator.sendBeacon)try{L=b.navigator.sendBeacon(M.v.toString(),"")}catch{}!L&&b.Image&&((new Image).src=M.v,L=!0),L||(M.g=g_(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Yf(M)}p_(f)}function dc(f){f.g&&(hd(f),f.g.cancel(),f.g=null)}function Ig(f){dc(f),f.u&&(b.clearTimeout(f.u),f.u=null),Eg(f),f.h.cancel(),f.s&&("number"==typeof f.s&&b.clearTimeout(f.s),f.s=null)}function op(f){if(!Zm(f.h)&&!f.s){f.s=!0;var M=f.Ga;ih||Om(),Jl||(ih(),Jl=!0),eg.add(M,f),f.B=0}}function c_(f,M){var L;L=M?M.l:f.U++;const ee=la(f.I);Ci(ee,"SID",f.K),Ci(ee,"RID",L),Ci(ee,"AID",f.T),_h(f,ee),f.m&&f.o&&s_(ee,f.m,f.o),L=new lc(f,f.j,L,f.B+1),null===f.m&&(L.H=f.o),M&&(f.i=M.D.concat(f.i)),M=l_(f,L,1e3),L.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),mg(f.h,L),pg(L,ee,M)}function _h(f,M){f.H&&Jn(f.H,function(L,ee){Ci(M,ee,L)}),f.l&&Zy({},function(L,ee){Ci(M,ee,L)})}function l_(f,M,L){L=Math.min(f.i.length,L);var ee=f.l?ge(f.l.Na,f.l,f):null;e:{var Ve=f.i;let Je=-1;for(;;){const Ht=["count="+L];-1==Je?0<L?(Je=Ve[0].g,Ht.push("ofs="+Je)):Je=0:Ht.push("ofs="+Je);let ai=!0;for(let Mo=0;Mo<L;Mo++){let qr=Ve[Mo].g;const fs=Ve[Mo].map;if(qr-=Je,0>qr)Je=Math.max(0,Ve[Mo].g-100),ai=!1;else try{i_(fs,Ht,"req"+qr+"_")}catch{ee&&ee(fs)}}if(ai){ee=Ht.join("&");break e}}}return f=f.i.splice(0,L),M.D=f,ee}function d_(f){if(!f.g&&!f.u){f.Y=1;var M=f.Fa;ih||Om(),Jl||(ih(),Jl=!0),eg.add(M,f),f.v=0}}function yh(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=nd(ge(f.Fa,f),f_(f,f.v)),f.v++,0))}function hd(f){null!=f.A&&(b.clearTimeout(f.A),f.A=null)}function vh(f){f.g=new lc(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var M=la(f.qa);Ci(M,"RID","rpc"),Ci(M,"SID",f.K),Ci(M,"AID",f.T),Ci(M,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ci(M,"TO",f.ja),Ci(M,"TYPE","xmlhttp"),_h(f,M),f.m&&f.o&&s_(M,f.m,f.o),f.L&&(f.g.I=f.L);var L=f.g;f=f.ia,L.L=1,L.v=qs(la(M)),L.m=null,L.P=!0,Wm(L,f)}function Eg(f){null!=f.C&&(b.clearTimeout(f.C),f.C=null)}function h_(f,M){var L=null;if(f.g==M){Eg(f),hd(f),f.g=null;var ee=2}else{if(!gg(f.h,M))return;L=M.D,Jm(f.h,M),ee=1}if(0!=f.G)if(M.o)if(1==ee){L=M.m?M.m.length:0,M=Date.now()-M.F;var Ve=f.B;hs(ee=nl(),new Hm(ee,L)),op(f)}else d_(f);else if(3==(Ve=M.s)||0==Ve&&0<M.X||!(1==ee&&function mh(f,M){return!(Ym(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=M.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=nd(ge(f.Ga,f,M),f_(f,f.B)),f.B++,0)))}(f,M)||2==ee&&yh(f)))switch(L&&0<L.length&&(M=f.h,M.i=M.i.concat(L)),Ve){case 1:Su(f,5);break;case 4:Su(f,10);break;case 3:Su(f,6);break;default:Su(f,2)}}function f_(f,M){let L=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(L*=2),L*M}function Su(f,M){if(f.j.info("Error code "+M),2==M){var L=ge(f.fb,f),ee=f.Xa;const Ve=!ee;ee=new sd(ee||"//www.google.com/images/cleardot.gif"),b.location&&"http"==b.location.protocol||Xf(ee,"https"),qs(ee),Ve?function t_(f,M){const L=new rd;if(b.Image){const ee=new Image;ee.onload=je(Au,L,"TestLoadImage: loaded",!0,M,ee),ee.onerror=je(Au,L,"TestLoadImage: error",!1,M,ee),ee.onabort=je(Au,L,"TestLoadImage: abort",!1,M,ee),ee.ontimeout=je(Au,L,"TestLoadImage: timeout",!1,M,ee),b.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=f}else M(!1)}(ee.toString(),L):function n_(f,M){new rd;const ee=new AbortController,Ve=setTimeout(()=>{ee.abort(),Au(0,0,!1,M)},1e4);fetch(f,{signal:ee.signal}).then(Je=>{clearTimeout(Ve),Au(0,0,!!Je.ok,M)}).catch(()=>{clearTimeout(Ve),Au(0,0,!1,M)})}(ee.toString(),L)}else Ls(2);f.G=0,f.l&&f.l.sa(M),p_(f),Ig(f)}function p_(f){if(f.G=0,f.ka=[],f.l){const M=_g(f.h);(0!=M.length||0!=f.i.length)&&(bt(f.ka,M),bt(f.ka,f.i),f.h.i.length=0,tt(f.i),f.i.length=0),f.l.ra()}}function Tg(f,M,L){var ee=L instanceof sd?la(L):new sd(L);if(""!=ee.g)M&&(ee.g=M+"."+ee.g),ep(ee,ee.s);else{var Ve=b.location;ee=Ve.protocol,M=M?M+"."+Ve.hostname:Ve.hostname,Ve=+Ve.port;var Je=new sd(null);ee&&Xf(Je,ee),M&&(Je.g=M),Ve&&ep(Je,Ve),L&&(Je.l=L),ee=Je}return M=f.ya,(L=f.D)&&M&&Ci(ee,L,M),Ci(ee,"VER",f.la),_h(f,ee),ee}function g_(f,M,L){if(M&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new io(f.Ca&&!f.pa?new ld({eb:L}):f.pa)).Ha(f.J),M}function m_(){}function wh(){}function Fs(f,M){ds.call(this),this.g=new gh(M),this.l=f,this.h=M&&M.messageUrlParams||null,f=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(f?f["X-WebChannel-Content-Type"]=M.messageContentType:f={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(f?f["X-WebChannel-Client-Profile"]=M.va:f={"X-WebChannel-Client-Profile":M.va}),this.g.S=f,(f=M&&M.Sb)&&!gn(f)&&(this.g.m=f),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!gn(M)&&(this.g.D=M,null!==(f=this.h)&&M in f&&M in(f=this.h)&&delete f[M]),this.j=new fd(this)}function bg(f){ch.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var M=f.__sm__;if(M){e:{for(const L in M){f=L;break e}f=void 0}(this.i=f)&&(f=this.i,M=null!==M&&f in M?M[f]:void 0),this.data=M}else this.data=f}function __(){dg.call(this),this.status=1}function fd(f){this.g=f}(a=io.prototype).Ha=function(f){this.J=f},a.ea=function(f,M,L,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);M=M?M.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qf.g(),this.v=function tu(f){return f.h||(f.h=f.i())}(this.o?this.o:Qf),this.g.onreadystatechange=ge(this.Ea,this);try{this.B=!0,this.g.open(M,String(f),!0),this.B=!1}catch(Je){return void Xy(this,Je)}if(f=L||"",L=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Ve in ee)L.set(Ve,ee[Ve]);else{if("function"!=typeof ee.keys||"function"!=typeof ee.get)throw Error("Unknown input type for opt_headers: "+String(ee));for(const Je of ee.keys())L.set(Je,ee.get(Je))}ee=Array.from(L.keys()).find(Je=>"content-type"==Je.toLowerCase()),Ve=b.FormData&&f instanceof b.FormData,!(0<=Array.prototype.indexOf.call(Jy,M,void 0))||ee||Ve||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Je,Ht]of L)this.g.setRequestHeader(Je,Ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{u_(this),this.u=!0,this.g.send(f),this.u=!1}catch(Je){Xy(this,Je)}},a.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,hs(this,"complete"),hs(this,"abort"),np(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),np(this,!0)),io.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ev(this):this.bb())},a.bb=function(){ev(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Cu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(f){if(this.g){var M=this.g.responseText;return f&&0==M.indexOf(f)&&(M=M.substring(f.length)),Um(M)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=gh.prototype).la=8,a.G=1,a.connect=function(f,M,L,ee){Ls(0),this.W=f,this.H=M||{},L&&void 0!==ee&&(this.H.OSID=L,this.H.OAID=ee),this.F=this.X,this.I=Tg(this,null,this.W),op(this)},a.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Ve=new lc(this,this.j,f);let Je=this.o;if(this.S&&(Je?(Je=he(Je),Pe(Je,this.S)):Je=this.S),null!==this.m||this.O||(Ve.H=Je,Je=null),this.P)e:{for(var M=0,L=0;L<this.i.length;L++){var ee=this.i[L];if(void 0===(ee="__data__"in ee.map&&"string"==typeof(ee=ee.map.__data__)?ee.length:void 0))break;if(4096<(M+=ee)){M=L;break e}if(4096===M||L===this.i.length-1){M=L+1;break e}}M=1e3}else M=1e3;M=l_(this,Ve,M),Ci(L=la(this.I),"RID",f),Ci(L,"CVER",22),this.D&&Ci(L,"X-HTTP-Session-Id",this.D),_h(this,L),Je&&(this.O?M="headers="+encodeURIComponent(String(o_(Je)))+"&"+M:this.m&&s_(L,this.m,Je)),mg(this.h,Ve),this.Ua&&Ci(L,"TYPE","init"),this.P?(Ci(L,"$req",M),Ci(L,"SID","null"),Ve.T=!0,pg(Ve,L,null)):pg(Ve,L,M),this.G=2}}else 3==this.G&&(f?c_(this,f):0==this.i.length||Zm(this.h)||c_(this))},a.Fa=function(){if(this.u=null,vh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=nd(ge(this.ab,this),f)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ls(10),dc(this),vh(this))},a.Za=function(){null!=this.C&&(this.C=null,dc(this),yh(this),Ls(19))},a.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ls(2)):(this.j.info("Failed to ping google.com"),Ls(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=m_.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},wh.prototype.g=function(f,M){return new Fs(f,M)},vt(Fs,ds),Fs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fs.prototype.close=function(){ip(this.g)},Fs.prototype.o=function(f){var M=this.g;if("string"==typeof f){var L={};L.__data__=f,f=L}else this.u&&((L={}).__data__=qf(f),f=L);M.i.push(new class{constructor(f,M){this.g=f,this.map=M}}(M.Ya++,f)),3==M.G&&op(M)},Fs.prototype.N=function(){this.g.l=null,delete this.j,ip(this.g),delete this.g,Fs.aa.N.call(this)},vt(bg,ch),vt(__,dg),vt(fd,m_),fd.prototype.ua=function(){hs(this.g,"a")},fd.prototype.ta=function(f){hs(this.g,new bg(f))},fd.prototype.sa=function(f){hs(this.g,new __)},fd.prototype.ra=function(){hs(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,Fs.prototype.send=Fs.prototype.o,Fs.prototype.open=Fs.prototype.m,Fs.prototype.close=Fs.prototype.close,nr=le.createWebChannelTransport=function(){return new wh},Vn=le.getStatEventTarget=function(){return nl()},Xt=le.Event=cc,zt=le.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kf.NO_ERROR=0,Kf.TIMEOUT=8,Kf.HTTP_ERROR=6,xt=le.ErrorCode=Kf,hg.COMPLETE="complete",wt=le.EventType=hg,jm.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",ds.prototype.listen=ds.prototype.K,We=le.WebChannel=jm,mt=le.FetchXmlHttpFactory=ld,io.prototype.listenOnce=io.prototype.L,io.prototype.getLastError=io.prototype.Ka,io.prototype.getLastErrorCode=io.prototype.Ba,io.prototype.getStatus=io.prototype.Z,io.prototype.getResponseJson=io.prototype.Oa,io.prototype.getResponseText=io.prototype.oa,io.prototype.send=io.prototype.ea,io.prototype.setWithCredentials=io.prototype.Ha,Fe=le.XhrIo=io}).apply(typeof ue<"u"?ue:typeof self<"u"?self:typeof window<"u"?window:{});const it="@firebase/firestore";class nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");let st="10.12.1";const Pt=new ke.Yd("@firebase/firestore");function Vt(){return Pt.logLevel}function _e(a,...e){if(Pt.logLevel<=ke.in.DEBUG){const r=e.map(ui);Pt.debug(`Firestore (${st}): ${a}`,...r)}}function At(a,...e){if(Pt.logLevel<=ke.in.ERROR){const r=e.map(ui);Pt.error(`Firestore (${st}): ${a}`,...r)}}function Tn(a,...e){if(Pt.logLevel<=ke.in.WARN){const r=e.map(ui);Pt.warn(`Firestore (${st}): ${a}`,...r)}}function ui(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function pe(a="Unexpected state"){const e=`FIRESTORE (${st}) INTERNAL ASSERTION FAILED: `+a;throw At(e),new Error(e)}function Be(a,e){a||pe()}function Le(a,e){return a}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends te.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ne{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class $e{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class He{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(nt.UNAUTHENTICATED))}shutdown(){}}class Me{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class be{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let c=this.i;const h=k=>this.i!==c?(c=this.i,r(k)):Promise.resolve();let g=new Ne;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Ne,e.enqueueRetryable(()=>h(this.currentUser))};const b=()=>{const k=g;e.enqueueRetryable((0,S.Z)(function*(){yield k.promise,yield h(o.currentUser)}))},P=k=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(k=>P(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?P(k):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Ne)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Be("string"==typeof o.accessToken),new $e(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(null===e||"string"==typeof e),new nt(e)}}class Xe{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Dt{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Xe(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ht{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=h=>{null!=h.error&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,_e("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const c=h=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>c(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?c(h):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Be("string"==typeof r.token),this.R=r.token,new kt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rr(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class Kr{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=rr(40);for(let h=0;h<c.length;++h)o.length<20&&c[h]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[h]%62))}return o}}function Tt(a,e){return a<e?-1:a>e?1:0}function Pn(a,e,r){return a.length===e.length&&a.every((o,c)=>r(o,e[c]))}class cn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new z(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new z(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new z(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new cn(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new cn(0,0))}static max(){return new ft(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kt{constructor(e,r,o){void 0===r?r=0:r>e.length&&pe(),void 0===o?o=e.length-r:o>e.length-r&&pe(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Kt.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Kt?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let c=0;c<o;c++){const h=e.get(c),g=r.get(c);if(h<g)return-1;if(h>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Dn extends Kt{construct(e,r,o){return new Dn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new z(Ee.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(c=>c.length>0))}return new Dn(r)}static emptyPath(){return new Dn([])}}const hn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Kt{construct(e,r,o){return new xn(e,r,o)}static isValidIdentifier(e){return hn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const r=[];let o="",c=0;const h=()=>{if(0===o.length)throw new z(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let g=!1;for(;c<e.length;){const b=e[c];if("\\"===b){if(c+1===e.length)throw new z(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[c+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new z(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=P,c+=2}else"`"===b?(g=!g,c++):"."!==b||g?(o+=b,c++):(h(),c++)}if(h(),g)throw new z(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(r)}static emptyPath(){return new xn([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Dn.fromString(e))}static fromName(e){return new pt(Dn.fromString(e).popFirst(5))}static empty(){return new pt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Dn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Dn(e.slice()))}}class _n{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new _n(ft.min(),pt.empty(),-1)}static max(){return new _n(ft.max(),pt.empty(),-1)}}function _o(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=pt.comparator(a.documentKey,e.documentKey),0!==r?r:Tt(a.largestBatchId,e.largestBatchId))}const Gt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qr(a){return br.apply(this,arguments)}function br(){return(br=(0,S.Z)(function*(a){if(a.code!==Ee.FAILED_PRECONDITION||a.message!==Gt)throw a;_e("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ie((o,c)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,c)},this.catchCallback=h=>{this.wrapFailure(r,h).next(o,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ie?r:Ie.resolve(r)}catch(r){return Ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ie.reject(r)}static resolve(e){return new Ie((r,o)=>{r(e)})}static reject(e){return new Ie((r,o)=>{o(e)})}static waitFor(e){return new Ie((r,o)=>{let c=0,h=0,g=!1;e.forEach(b=>{++c,b.next(()=>{++h,g&&h===c&&r()},P=>o(P))}),g=!0,h===c&&r()})}static or(e){let r=Ie.resolve(!1);for(const o of e)r=r.next(c=>c?Ie.resolve(c):o());return r}static forEach(e,r){const o=[];return e.forEach((c,h)=>{o.push(r.call(this,c,h))}),this.waitFor(o)}static mapArray(e,r){return new Ie((o,c)=>{const h=e.length,g=new Array(h);let b=0;for(let P=0;P<h;P++){const k=P;r(e[k]).next(Z=>{g[k]=Z,++b,b===h&&o(g)},Z=>c(Z))}})}static doWhile(e,r){return new Ie((o,c)=>{const h=()=>{!0===e()?r().next(()=>{h()},c):o()};h()})}}function Kn(a){return"IndexedDbTransactionError"===a.name}let Y=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Ae(a){return null==a}function ct(a){return 0===a&&1/a==-1/0}function Ft(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function _t(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function rn(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Cn{constructor(e,r){this.comparator=e,this.root=r||or.EMPTY}insert(e,r){return new Cn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return r+o.left.size;c<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kr(this.root,e,this.comparator,!1)}getReverseIterator(){return new kr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kr(this.root,e,this.comparator,!0)}}class kr{constructor(e,r,o,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?o(e.key,r):1,r&&c&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,r,o,c,h){this.key=e,this.value=r,this.color=o??or.RED,this.left=c??or.EMPTY,this.right=h??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,c,h){return new or(e??this.key,r??this.value,o??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const h=o(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return or.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1,or.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,r,o,c,h){return this}insert(e,r,o){return new or(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jr(this.data.getIterator())}getIteratorFrom(e){return new jr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=o.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Bn(this.comparator);return r.data=e,r}}class jr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new xr([])}unionWith(e){let r=new Bn(xn.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new xr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Pn(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class li extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new li("Invalid base64 string: "+h):h}}(e);return new jn(r)}static fromUint8Array(e){const r=function(c){let h="";for(let g=0;g<c.length;++g)h+=String.fromCharCode(c[g]);return h}(e);return new jn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Rs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(a){if(Be(!!a),"string"==typeof a){let e=0;const r=Rs.exec(a);if(Be(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Nr(a.seconds),nanos:Nr(a.nanos)}}function Nr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Qi(a){return"string"==typeof a?jn.fromBase64String(a):jn.fromUint8Array(a)}function Ps(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function gs(a){const e=a.mapValue.fields.__previous_value__;return Ps(e)?gs(e):e}function Oo(a){const e=Ki(a.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}class ga{constructor(e,r,o,c,h,g,b,P,k){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.longPollingOptions=P,this.useFetchStreams=k}}class vo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vo&&e.projectId===this.projectId&&e.database===this.database}}const Ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ps(a)?4:Io(a)?9007199254740991:10:pe()}function Si(a,e){if(a===e)return!0;const r=Zi(a);if(r!==Zi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Oo(a).isEqual(Oo(e));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const g=Ki(c.timestampValue),b=Ki(h.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return h=e,Qi(a.bytesValue).isEqual(Qi(h.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(c,h){return Nr(c.geoPointValue.latitude)===Nr(h.geoPointValue.latitude)&&Nr(c.geoPointValue.longitude)===Nr(h.geoPointValue.longitude)}(a,e);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return Nr(c.integerValue)===Nr(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const g=Nr(c.doubleValue),b=Nr(h.doubleValue);return g===b?ct(g)===ct(b):isNaN(g)&&isNaN(b)}return!1}(a,e);case 9:return Pn(a.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:return function(c,h){const g=c.mapValue.fields||{},b=h.mapValue.fields||{};if(Ft(g)!==Ft(b))return!1;for(const P in g)if(g.hasOwnProperty(P)&&(void 0===b[P]||!Si(g[P],b[P])))return!1;return!0}(a,e);default:return pe()}var h}function wo(a,e){return void 0!==(a.values||[]).find(r=>Si(r,e))}function Yi(a,e){if(a===e)return 0;const r=Zi(a),o=Zi(e);if(r!==o)return Tt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Tt(a.booleanValue,e.booleanValue);case 2:return function(h,g){const b=Nr(h.integerValue||h.doubleValue),P=Nr(g.integerValue||g.doubleValue);return b<P?-1:b>P?1:b===P?0:isNaN(b)?isNaN(P)?0:-1:1}(a,e);case 3:return ms(a.timestampValue,e.timestampValue);case 4:return ms(Oo(a),Oo(e));case 5:return Tt(a.stringValue,e.stringValue);case 6:return function(h,g){const b=Qi(h),P=Qi(g);return b.compareTo(P)}(a.bytesValue,e.bytesValue);case 7:return function(h,g){const b=h.split("/"),P=g.split("/");for(let k=0;k<b.length&&k<P.length;k++){const Z=Tt(b[k],P[k]);if(0!==Z)return Z}return Tt(b.length,P.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,g){const b=Tt(Nr(h.latitude),Nr(g.latitude));return 0!==b?b:Tt(Nr(h.longitude),Nr(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(h,g){const b=h.values||[],P=g.values||[];for(let k=0;k<b.length&&k<P.length;++k){const Z=Yi(b[k],P[k]);if(Z)return Z}return Tt(b.length,P.length)}(a.arrayValue,e.arrayValue);case 10:return function(h,g){if(h===Ao.mapValue&&g===Ao.mapValue)return 0;if(h===Ao.mapValue)return 1;if(g===Ao.mapValue)return-1;const b=h.fields||{},P=Object.keys(b),k=g.fields||{},Z=Object.keys(k);P.sort(),Z.sort();for(let ne=0;ne<P.length&&ne<Z.length;++ne){const ge=Tt(P[ne],Z[ne]);if(0!==ge)return ge;const je=Yi(b[P[ne]],k[Z[ne]]);if(0!==je)return je}return Tt(P.length,Z.length)}(a.mapValue,e.mapValue);default:throw pe()}}function ms(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Tt(a,e);const r=Ki(a),o=Ki(e),c=Tt(r.seconds,o.seconds);return 0!==c?c:Tt(r.nanos,o.nanos)}function Ri(a){return ko(a)}function ko(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=Ki(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Qi(a.bytesValue).toBase64():"referenceValue"in a?pt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",c=!0;for(const h of r.values||[])c?c=!1:o+=",",o+=ko(h);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const g of o)h?h=!1:c+=",",c+=`${g}:${ko(r.fields[g])}`;return c+"}"}(a.mapValue):pe()}function Dr(a){return!!a&&"integerValue"in a}function hr(a){return!!a&&"arrayValue"in a}function xi(a){return!!a&&"nullValue"in a}function Ni(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function es(a){return!!a&&"mapValue"in a}function oo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return _t(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=oo(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=oo(a.arrayValue.values[r]);return e}return Object.assign({},a)}function Io(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!es(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(r)}setAll(e){let r=xn.emptyPath(),o={},c=[];e.forEach((g,b)=>{if(!r.isImmediateParentOf(b)){const P=this.getFieldsMap(r);this.applyChanges(P,o,c),o={},c=[],r=b.popLast()}g?o[b.lastSegment()]=oo(g):c.push(b.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,o,c)}delete(e){const r=this.field(e.popLast());es(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=r.mapValue.fields[e.get(o)];es(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,o){_t(r,(c,h)=>e[c]=h);for(const c of o)delete e[c]}clone(){return new en(oo(this.value))}}function Er(a){const e=[];return _t(a.fields,(r,o)=>{const c=new xn([r]);if(es(o)){const h=Er(o.mapValue).fields;if(0===h.length)e.push(c);else for(const g of h)e.push(c.child(g))}else e.push(c)}),new xr(e)}class Qn{constructor(e,r,o,c,h,g,b){this.key=e,this.documentType=r,this.version=o,this.readTime=c,this.createTime=h,this.data=g,this.documentState=b}static newInvalidDocument(e){return new Qn(e,0,ft.min(),ft.min(),ft.min(),en.empty(),0)}static newFoundDocument(e,r,o,c){return new Qn(e,1,r,ft.min(),o,c,0)}static newNoDocument(e,r){return new Qn(e,2,r,ft.min(),ft.min(),en.empty(),0)}static newUnknownDocument(e,r){return new Qn(e,3,r,ft.min(),ft.min(),en.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pi{constructor(e,r){this.position=e,this.inclusive=r}}function Yr(a,e,r){let o=0;for(let c=0;c<a.position.length;c++){const h=e[c],g=a.position[c];if(o=h.field.isKeyField()?pt.comparator(pt.fromName(g.referenceValue),r.key):Yi(g,r.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function di(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Si(a.position[r],e.position[r]))return!1;return!0}class fr{constructor(e,r="asc"){this.field=e,this.dir=r}}function Co(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Ti{}class Nt extends Ti{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new ts(e,r,o):"array-contains"===r?new $n(e,o):"in"===r?new Fo(e,o):"not-in"===r?new Ys(e,o):"array-contains-any"===r?new vs(e,o):new Nt(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new ns(e,o):new Lo(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Yi(r,this.value)):null!==r&&Zi(this.value)===Zi(r)&&this.matchesComparison(Yi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Ti{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Fn(e,r)}matches(e){return So(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function So(a){return"and"===a.op}function Ur(a){return function bi(a){for(const e of a.filters)if(e instanceof Fn)return!1;return!0}(a)&&So(a)}function Hi(a){if(a instanceof Nt)return a.field.canonicalString()+a.op.toString()+Ri(a.value);if(Ur(a))return a.filters.map(e=>Hi(e)).join(",");{const e=a.filters.map(r=>Hi(r)).join(",");return`${a.op}(${e})`}}function Oi(a,e){return a instanceof Nt?(o=a,(c=e)instanceof Nt&&o.op===c.op&&o.field.isEqual(c.field)&&Si(o.value,c.value)):a instanceof Fn?function(o,c){return c instanceof Fn&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((h,g,b)=>h&&Oi(g,c.filters[b]),!0)}(a,e):void pe();var o,c}function ys(a){return a instanceof Nt?`${(r=a).field.canonicalString()} ${r.op} ${Ri(r.value)}`:a instanceof Fn?function(r){return r.op.toString()+" {"+r.getFilters().map(ys).join(" ,")+"}"}(a):"Filter";var r}class ts extends Nt{constructor(e,r,o){super(e,r,o),this.key=pt.fromName(o.referenceValue)}matches(e){const r=pt.comparator(e.key,this.key);return this.matchesComparison(r)}}class ns extends Nt{constructor(e,r){super(e,"in",r),this.keys=Eo(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Lo extends Nt{constructor(e,r){super(e,"not-in",r),this.keys=Eo(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Eo(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>pt.fromName(o.referenceValue))}class $n extends Nt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return hr(r)&&wo(r.arrayValue,this.value)}}class Fo extends Nt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&wo(this.value.arrayValue,r)}}class Ys extends Nt{constructor(e,r){super(e,"not-in",r)}matches(e){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!wo(this.value.arrayValue,r)}}class vs extends Nt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!hr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>wo(this.value.arrayValue,o))}}class hi{constructor(e,r=null,o=[],c=[],h=null,g=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=h,this.startAt=g,this.endAt=b,this.ue=null}}function ws(a,e=null,r=[],o=[],c=null,h=null,g=null){return new hi(a,e,r,o,c,h,g)}function Di(a){const e=Le(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Hi(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),Ae(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Ri(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Ri(o)).join(",")),e.ue=r}return e.ue}function Vo(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Co(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Oi(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!di(a.startAt,e.startAt)&&di(a.endAt,e.endAt)}function Gr(a){return pt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class B{constructor(e,r=null,o=[],c=[],h=null,g="F",b=null,P=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=h,this.limitType=g,this.startAt=b,this.endAt=P,this.ce=null,this.le=null,this.he=null}}function ie(a){return new B(a)}function Te(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Rt(a){const e=Le(a);if(null===e.ce){e.ce=[];const r=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),r.add(h.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let b=new Bn(xn.comparator);return g.filters.forEach(P=>{P.getFlattenedFilters().forEach(k=>{k.isInequality()&&(b=b.add(k.field))})}),b})(e).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||e.ce.push(new fr(h,o))}),r.has(xn.keyField().canonicalString())||e.ce.push(new fr(xn.keyField(),o))}return e.ce}function Lt(a){const e=Le(a);return e.le||(e.le=function Rn(a,e){if("F"===a.limitType)return ws(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(c=>new fr(c.field,"desc"===c.dir?"asc":"desc"));const r=a.endAt?new Pi(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new Pi(a.startAt.position,a.startAt.inclusive):null;return ws(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,Rt(a))),e.le}function Sr(a,e,r){return new B(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function $r(a,e){return Vo(Lt(a),Lt(e))&&a.limitType===e.limitType}function ei(a){return`${Di(Lt(a))}|lt:${a.limitType}`}function Lr(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(c=>ys(c)).join(", ")}]`),Ae(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(c=>{return`${(g=c).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(c=>Ri(c)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(c=>Ri(c)).join(",")),`Target(${o})`}(Lt(a))}; limitType=${a.limitType})`}function pi(a,e){return e.isFoundDocument()&&function(o,c){const h=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(h):pt.isDocumentKey(o.path)?o.path.isEqual(h):o.path.isImmediateParentOf(h)}(a,e)&&function(o,c){for(const h of Rt(o))if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(a,e)&&function(o,c){for(const h of o.filters)if(!h.matches(c))return!1;return!0}(a,e)&&(c=e,!((o=a).startAt&&!function(g,b,P){const k=Yr(g,b,P);return g.inclusive?k<=0:k<0}(o.startAt,Rt(o),c)||o.endAt&&!function(g,b,P){const k=Yr(g,b,P);return g.inclusive?k>=0:k>0}(o.endAt,Rt(o),c)));var o,c}function ki(a){return(e,r)=>{let o=!1;for(const c of Rt(a)){const h=Ai(c,e,r);if(0!==h)return h;o=o||c.field.isKeyField()}return 0}}function Ai(a,e,r){const o=a.field.isKeyField()?pt.comparator(e.key,r.key):function(h,g,b){const P=g.data.field(h),k=b.data.field(h);return null!==P&&null!==k?Yi(P,k):pe()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return pe()}}class Zn{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[c,h]of o)if(this.equalsFn(c,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,r]],void this.innerSize++;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],e))return void(c[h]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[r]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){_t(this.inner,(r,o)=>{for(const[c,h]of o)e(c,h)})}isEmpty(){return rn(this.inner)}size(){return this.innerSize}}const gi=new Cn(pt.comparator);function ti(){return gi}const zi=new Cn(pt.comparator);function Ji(...a){let e=zi;for(const r of a)e=e.insert(r.key,r);return e}function rs(a){let e=zi;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Gi(){return is()}function Ca(){return is()}function is(){return new Zn(a=>a.toString(),(a,e)=>a.isEqual(e))}const Ms=new Cn(pt.comparator),Ro=new Bn(pt.comparator);function kn(...a){let e=Ro;for(const r of a)e=e.add(r);return e}const Js=new Bn(Tt);function Xi(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ct(e)?"-0":e}}function Li(a){return{integerValue:""+a}}function Bs(a,e){return function St(a){return"number"==typeof a&&Number.isInteger(a)&&!ct(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?Li(e):Xi(a,e)}class Xs{constructor(){this._=void 0}}function ea(a,e,r){return a instanceof Is?function(c,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&Ps(h)&&(h=gs(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(r,e):a instanceof To?_a(a,e):a instanceof ao?ru(a,e):function(c,h){const g=xs(c,h),b=Es(g)+Es(c.Pe);return Dr(g)&&Dr(c.Pe)?Li(b):Xi(c.serializer,b)}(a,e)}function js(a,e,r){return a instanceof To?_a(a,e):a instanceof ao?ru(a,e):r}function xs(a,e){return a instanceof os?Dr(o=e)||(h=o)&&"doubleValue"in h?e:{integerValue:0}:null;var o,h}class Is extends Xs{}class To extends Xs{constructor(e){super(),this.elements=e}}function _a(a,e){const r=Ts(e);for(const o of a.elements)r.some(c=>Si(c,o))||r.push(o);return{arrayValue:{values:r}}}class ao extends Xs{constructor(e){super(),this.elements=e}}function ru(a,e){let r=Ts(e);for(const o of a.elements)r=r.filter(c=>!Si(c,o));return{arrayValue:{values:r}}}class os extends Xs{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Es(a){return Nr(a.integerValue||a.doubleValue)}function Ts(a){return hr(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Uo{constructor(e,r){this.field=e,this.transform=r}}class $s{constructor(e,r){this.version=e,this.transformResults=r}}class ni{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function T(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class H{}function x(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Pr(a.key,ni.none()):new qt(a.key,a.data,ni.none());{const r=a.data,o=en.empty();let c=new Bn(xn.comparator);for(let h of e.fields)if(!c.has(h)){let g=r.field(h);null===g&&h.length>1&&(h=h.popLast(),g=r.field(h)),null===g?o.delete(h):o.set(h,g),c=c.add(h)}return new cr(a.key,o,new xr(c.toArray()),ni.none())}}function $(a,e,r){a instanceof qt?function(c,h,g){const b=c.value.clone(),P=Tr(c.fieldTransforms,h,g.transformResults);b.setAll(P),h.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(a,e,r):a instanceof cr?function(c,h,g){if(!T(c.precondition,h))return void h.convertToUnknownDocument(g.version);const b=Tr(c.fieldTransforms,h,g.transformResults),P=h.data;P.setAll(Rr(c)),P.setAll(b),h.convertToFoundDocument(g.version,P).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ae(a,e,r,o){return a instanceof qt?function(h,g,b,P){if(!T(h.precondition,g))return b;const k=h.value.clone(),Z=Nn(h.fieldTransforms,P,g);return k.setAll(Z),g.convertToFoundDocument(g.version,k).setHasLocalMutations(),null}(a,e,r,o):a instanceof cr?function(h,g,b,P){if(!T(h.precondition,g))return b;const k=Nn(h.fieldTransforms,P,g),Z=g.data;return Z.setAll(Rr(h)),Z.setAll(k),g.convertToFoundDocument(g.version,Z).setHasLocalMutations(),null===b?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ne=>ne.field))}(a,e,r,o):(b=r,T(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function qe(a,e){let r=null;for(const o of a.fieldTransforms){const c=e.data.field(o.field),h=xs(o.transform,c||null);null!=h&&(null===r&&(r=en.empty()),r.set(o.field,h))}return r||null}function dt(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===c||o&&c&&Pn(o,c,(h,g)=>function iu(a,e){return a.field.isEqual(e.field)&&(c=e.transform,(o=a.transform)instanceof To&&c instanceof To||o instanceof ao&&c instanceof ao?Pn(o.elements,c.elements,Si):o instanceof os&&c instanceof os?Si(o.Pe,c.Pe):o instanceof Is&&c instanceof Is);var o,c}(h,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,c}class qt extends H{constructor(e,r,o,c=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class cr extends H{constructor(e,r,o,c,h=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=c,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Rr(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function Tr(a,e,r){const o=new Map;Be(a.length===r.length);for(let c=0;c<r.length;c++){const h=a[c],g=h.transform,b=e.data.field(h.field);o.set(h.field,js(g,b,r[c]))}return o}function Nn(a,e,r){const o=new Map;for(const c of a){const h=c.transform,g=r.data.field(c.field);o.set(c.field,ea(h,g,e))}return o}class Pr extends H{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sr extends H{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oi{constructor(e,r,o,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(e.key)&&$(h,e,o[c])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=ae(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=ae(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Ca();return this.mutations.forEach(c=>{const h=e.get(c.key),g=h.overlayedDocument;let b=this.applyToLocalView(g,h.mutatedFields);b=r.has(c.key)?null:b;const P=x(g,b);null!==P&&o.set(c.key,P),g.isValidDocument()||g.convertToNoDocument(ft.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),kn())}isEqual(e){return this.batchId===e.batchId&&Pn(this.mutations,e.mutations,(r,o)=>dt(r,o))&&Pn(this.baseMutations,e.baseMutations,(r,o)=>dt(r,o))}}class Bo{constructor(e,r,o,c){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=c}static from(e,r,o){Be(e.mutations.length===o.length);let c=Ms;const h=e.mutations;for(let g=0;g<h.length;g++)c=c.insert(h[g].key,o[g].version);return new Bo(e,r,o,c)}}class uo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fi{constructor(e,r){this.count=e,this.unchangedNames=r}}var Mr,Hn;function ss(a){if(void 0===a)return At("GRPC error has no .code"),Ee.UNKNOWN;switch(a){case Mr.OK:return Ee.OK;case Mr.CANCELLED:return Ee.CANCELLED;case Mr.UNKNOWN:return Ee.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return Ee.INTERNAL;case Mr.UNAVAILABLE:return Ee.UNAVAILABLE;case Mr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Mr.NOT_FOUND:return Ee.NOT_FOUND;case Mr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Mr.ABORTED:return Ee.ABORTED;case Mr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Mr.DATA_LOSS:return Ee.DATA_LOSS;default:return pe()}}(Hn=Mr||(Mr={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";const ou=new gt([4294967295,4294967295],0);function xu(a){const e=function Mu(){return new TextEncoder}().encode(a),r=new at;return r.update(e),new Uint8Array(r.digest())}function Nu(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),c=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new gt([r,o],0),new gt([c,h],0)]}class na{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new jo(`Invalid padding: ${r}`);if(o<0)throw new jo(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new jo(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new jo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=gt.fromNumber(this.Ie)}Ee(e,r,o){let c=e.add(r.multiply(gt.fromNumber(o)));return 1===c.compare(ou)&&(c=new gt([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=xu(e),[o,c]=Nu(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(o,c,h);if(!this.de(g))return!1}return!0}static create(e,r,o){const c=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),g=new na(h,c,r);return o.forEach(b=>g.insert(b)),g}insert(e){if(0===this.Ie)return;const r=xu(e),[o,c]=Nu(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(o,c,h);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ya{constructor(e,r,o,c,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const c=new Map;return c.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ya(ft.min(),c,new Cn(Tt),ti(),kn())}}class co{constructor(e,r,o,c,h){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new co(o,r,kn(),kn(),kn())}}class Sa{constructor(e,r,o,c){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=c}}class $o{constructor(e,r){this.targetId=e,this.me=r}}class zn{constructor(e,r,o=jn.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=c}}class si{constructor(){this.fe=0,this.ge=Pa(),this.pe=jn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=kn(),r=kn(),o=kn();return this.ge.forEach((c,h)=>{switch(h){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:o=o.add(c);break;default:pe()}}),new co(this.pe,this.ye,e,r,o)}ve(){this.we=!1,this.ge=Pa()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ra{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=Vi(),this.Qe=new Cn(Tt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,c)=>{this.ze(c)&&r(c)})}He(e){const r=e.targetId,o=e.me.count,c=this.Je(r);if(c){const h=c.target;if(Gr(h))if(0===o){const g=new pt(h.path);this.Ue(r,g,Qn.newNoDocument(g,ft.min()))}else Be(1===o);else{const g=this.Ye(r);if(g!==o){const b=this.Ze(e),P=b?this.Xe(b,e,g):1;0!==P&&(this.je(r),this.Qe=this.Qe.insert(r,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=r;let g,b;try{g=Qi(o).toUint8Array()}catch(P){if(P instanceof li)return Tn("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw P}try{b=new na(g,c,h)}catch(P){return Tn(P instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",P),null}return 0===b.Ie?null:b}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let c=0;return o.forEach(h=>{const g=this.Le.tt(),b=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;e.mightContain(b)||(this.Ue(r,h,null),c++)}),c}rt(e){const r=new Map;this.Be.forEach((h,g)=>{const b=this.Je(g);if(b){if(h.current&&Gr(b.target)){const P=new pt(b.target.path);null!==this.ke.get(P)||this.it(g,P)||this.Ue(g,P,Qn.newNoDocument(P,e))}h.be&&(r.set(g,h.Ce()),h.ve())}});let o=kn();this.qe.forEach((h,g)=>{let b=!0;g.forEachWhile(P=>{const k=this.Je(P);return!k||"TargetPurposeLimboResolution"===k.purpose||(b=!1,!1)}),b&&(o=o.add(h))}),this.ke.forEach((h,g)=>g.setReadTime(e));const c=new ya(e,r,this.Qe,this.ke,o);return this.ke=ti(),this.qe=Vi(),this.Qe=new Cn(Tt),c}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const c=this.Ge(e);this.it(e,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new si,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Bn(Tt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||_e("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new si),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Vi(){return new Cn(pt.comparator)}function Pa(){return new Cn(pt.comparator)}const Ns={asc:"ASCENDING",desc:"DESCENDING"},Ds={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ho={and:"AND",or:"OR"};class fl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ma(a,e){return a.useProto3Json||Ae(e)?e:{value:e}}function Os(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bo(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function j(a,e){return Os(a,e.toTimestamp())}function w(a){return Be(!!a),ft.fromTimestamp(function(r){const o=Ki(r);return new cn(o.seconds,o.nanos)}(a))}function R(a,e){return F(a,e).canonicalString()}function F(a,e){const r=(c=a,new Dn(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function ce(a){const e=Dn.fromString(a);return Be(Ou(e)),e}function rt(a,e){return R(a.databaseId,e.path)}function ut(a,e){const r=ce(e);if(r.get(1)!==a.databaseId.projectId)throw new z(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new z(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new pt(ra(r))}function Gn(a,e){return R(a.databaseId,e)}function Jr(a){return new Dn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function ra(a){return Be(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function md(a,e,r){return{name:rt(a,e),fields:r.value.mapValue.fields}}function gl(a,e){return{documents:[Gn(a,e.path)]}}function yt(a,e){const r={structuredQuery:{}},o=e.path;let c;null!==e.collectionGroup?(c=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Gn(a,c);const h=function(k){if(0!==k.length)return Na(Fn.create(k,"and"))}(e.filters);h&&(r.structuredQuery.where=h);const g=function(k){if(0!==k.length)return k.map(Z=>{return{field:As((ge=Z).field),direction:mc(ge.dir)};var ge})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const b=Ma(a,e.limit);return null!==b&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(r.structuredQuery.endAt=function(k){return{before:!k.inclusive,values:k.position}}(e.endAt)),{_t:r,parent:c};var k}function su(a){let e=function ar(a){const e=ce(a);return 4===e.length?Dn.emptyPath():ra(e)}(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let c=null;if(o>0){Be(1===o);const Z=r.from[0];Z.allDescendants?c=Z.collectionId:e=e.child(Z.collectionId)}let h=[];r.where&&(h=function(ne){const ge=Wi(ne);return ge instanceof Fn&&Ur(ge)?ge.getFilters():[ge]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(ge=>{return new fr(as((vt=ge).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(vt.direction));var vt}));let b=null;r.limit&&(b=function(ne){let ge;return ge="object"==typeof ne?ne.value:ne,Ae(ge)?null:ge}(r.limit));let P=null;var ne;r.startAt&&(P=new Pi((ne=r.startAt).values||[],!!ne.before));let k=null;return r.endAt&&(k=function(ne){return new Pi(ne.values||[],!ne.before)}(r.endAt)),function oe(a,e,r,o,c,h,g,b){return new B(a,e,r,o,c,h,g,b)}(e,c,g,h,b,"F",P,k)}function Wi(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=as(r.unaryFilter.field);return Nt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=as(r.unaryFilter.field);return Nt.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=as(r.unaryFilter.field);return Nt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=as(r.unaryFilter.field);return Nt.create(g,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(a):void 0!==a.fieldFilter?Nt.create(as((r=a).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Fn.create(r.compositeFilter.filters.map(o=>Wi(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(a):pe();var r}function mc(a){return Ns[a]}function au(a){return Ds[a]}function zo(a){return Ho[a]}function As(a){return{fieldPath:a.canonicalString()}}function as(a){return xn.fromServerFormat(a.fieldPath)}function Na(a){return a instanceof Nt?function(r){if("=="===r.op){if(Ni(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NAN"}};if(xi(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ni(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NOT_NAN"}};if(xi(r.value))return{unaryFilter:{field:As(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(r.field),op:au(r.op),value:r.value}}}(a):a instanceof Fn?function(r){const o=r.getFilters().map(c=>Na(c));return 1===o.length?o[0]:{compositeFilter:{op:zo(r.op),filters:o}}}(a):pe()}function Ah(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ou(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class vi{constructor(e,r,o,c,h=ft.min(),g=ft.min(),b=jn.EMPTY_BYTE_STRING,P=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b,this.expectedCount=P}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cs{constructor(e){this.ct=e}}function W(a){const e=su({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Sr(e,e.limit,"L"):e}class cs{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Nr(e.integerValue));else if("doubleValue"in e){const o=Nr(e.doubleValue);isNaN(o)?this.Et(r,13):(this.Et(r,15),ct(o)?r.dt(0):r.dt(o))}else if("timestampValue"in e){let o=e.timestampValue;this.Et(r,20),"string"==typeof o&&(o=Ki(o)),r.At(`${o.seconds||""}`),r.dt(o.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Qi(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(r,45),r.dt(o.latitude||0),r.dt(o.longitude||0)}else"mapValue"in e?Io(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):pe()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const o=e.fields||{};this.Et(r,55);for(const c of Object.keys(o))this.Rt(c,r),this.It(o[c],r)}wt(e,r){const o=e.values||[];this.Et(r,50);for(const c of o)this.It(c,r)}gt(e,r){this.Et(r,37),pt.fromName(e).path.forEach(o=>{this.Et(r,60),this.St(o,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}cs.bt=new cs;class La{constructor(){this._n=new Lu}addToCollectionParentIndex(e,r){return this._n.add(r),Ie.resolve()}getCollectionParents(e,r){return Ie.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Ie.resolve()}deleteFieldIndex(e,r){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,r){return Ie.resolve()}getDocumentsMatchingTarget(e,r){return Ie.resolve(null)}getIndexType(e,r){return Ie.resolve(0)}getFieldIndexes(e,r){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,r){return Ie.resolve(_n.min())}getMinOffsetFromCollectionGroup(e,r){return Ie.resolve(_n.min())}updateCollectionGroup(e,r,o){return Ie.resolve()}updateIndexEntries(e,r){return Ie.resolve()}}class Lu{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r]||new Bn(Dn.comparator),h=!c.has(o);return this.index[r]=c.add(o),h}has(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Bn(Dn.comparator)).toArray()}}new Uint8Array(0);class Go{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class sa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new sa(0)}static Ln(){return new sa(-1)}}class mp{constructor(){this.changes=new Zn(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Ie.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Id{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Tc{constructor(e,r,o,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(o=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==o&&ae(o.mutation,c,xr.empty(),cn.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,kn()).next(()=>o))}getLocalViewOfDocuments(e,r,o=kn()){const c=Gi();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,o).next(h=>{let g=Ji();return h.forEach((b,P)=>{g=g.insert(b,P.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const o=Gi();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,kn()))}populateOverlays(e,r,o){const c=[];return o.forEach(h=>{r.has(h)||c.push(h)}),this.documentOverlayCache.getOverlays(e,c).next(h=>{h.forEach((g,b)=>{r.set(g,b)})})}computeViews(e,r,o,c){let h=ti();const g=is(),b=is();return r.forEach((P,k)=>{const Z=o.get(k.key);c.has(k.key)&&(void 0===Z||Z.mutation instanceof cr)?h=h.insert(k.key,k):void 0!==Z?(g.set(k.key,Z.mutation.getFieldMask()),ae(Z.mutation,k,Z.mutation.getFieldMask(),cn.now())):g.set(k.key,xr.empty())}),this.recalculateAndSaveOverlays(e,h).next(P=>(P.forEach((k,Z)=>g.set(k,Z)),r.forEach((k,Z)=>{var ne;return b.set(k,new Id(Z,null!==(ne=g.get(k))&&void 0!==ne?ne:null))}),b))}recalculateAndSaveOverlays(e,r){const o=is();let c=new Cn((g,b)=>g-b),h=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const b of g)b.keys().forEach(P=>{const k=r.get(P);if(null===k)return;let Z=o.get(P)||xr.empty();Z=b.applyToLocalView(k,Z),o.set(P,Z);const ne=(c.get(b.batchId)||kn()).add(P);c=c.insert(b.batchId,ne)})}).next(()=>{const g=[],b=c.getReverseIterator();for(;b.hasNext();){const P=b.getNext(),k=P.key,Z=P.value,ne=Ca();Z.forEach(ge=>{if(!h.has(ge)){const je=x(r.get(ge),o.get(ge));null!==je&&ne.set(ge,je),h=h.add(ge)}}),g.push(this.documentOverlayCache.saveOverlays(e,k,ne))}return Ie.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,c){return pt.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):function et(a){return null!==a.collectionGroup}(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,c):this.getDocumentsMatchingCollectionQuery(e,r,o,c);var g}getNextDocuments(e,r,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,c).next(h=>{const g=c-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,c-h.size):Ie.resolve(Gi());let b=-1,P=h;return g.next(k=>Ie.forEach(k,(Z,ne)=>(b<ne.largestBatchId&&(b=ne.largestBatchId),h.get(Z)?Ie.resolve():this.remoteDocumentCache.getEntry(e,Z).next(ge=>{P=P.insert(Z,ge)}))).next(()=>this.populateOverlays(e,k,h)).next(()=>this.computeViews(e,P,k,kn())).next(Z=>({batchId:b,changes:rs(Z)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new pt(r)).next(o=>{let c=Ji();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,o,c){const h=r.collectionGroup;let g=Ji();return this.indexManager.getCollectionParents(e,h).next(b=>Ie.forEach(b,P=>{const k=(ne=r,ge=P.child(h),new B(ge,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,ge;return this.getDocumentsMatchingCollectionQuery(e,k,o,c).next(Z=>{Z.forEach((ne,ge)=>{g=g.insert(ne,ge)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,o,c){let h;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,h,c))).next(g=>{h.forEach((P,k)=>{const Z=k.getKey();null===g.get(Z)&&(g=g.insert(Z,Qn.newInvalidDocument(Z)))});let b=Ji();return g.forEach((P,k)=>{const Z=h.get(P);void 0!==Z&&ae(Z.mutation,k,xr.empty(),cn.now()),pi(r,k)&&(b=b.insert(P,k))}),b})}}class bc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Ie.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:w(c.createTime)}),Ie.resolve();var c}getNamedQuery(e,r){return Ie.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(c=r).name,query:W(c.bundledQuery),readTime:w(c.readTime)}),Ie.resolve();var c}}class _p{constructor(){this.overlays=new Cn(pt.comparator),this.hr=new Map}getOverlay(e,r){return Ie.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Gi();return Ie.forEach(r,c=>this.getOverlay(e,c).next(h=>{null!==h&&o.set(c,h)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((c,h)=>{this.ht(e,r,h)}),Ie.resolve()}removeOverlaysForBatchId(e,r,o){const c=this.hr.get(o);return void 0!==c&&(c.forEach(h=>this.overlays=this.overlays.remove(h)),this.hr.delete(o)),Ie.resolve()}getOverlaysForCollection(e,r,o){const c=Gi(),h=r.length+1,g=new pt(r.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const P=b.getNext().value,k=P.getKey();if(!r.isPrefixOf(k.path))break;k.path.length===h&&P.largestBatchId>o&&c.set(P.getKey(),P)}return Ie.resolve(c)}getOverlaysForCollectionGroup(e,r,o,c){let h=new Cn((k,Z)=>k-Z);const g=this.overlays.getIterator();for(;g.hasNext();){const k=g.getNext().value;if(k.getKey().getCollectionGroup()===r&&k.largestBatchId>o){let Z=h.get(k.largestBatchId);null===Z&&(Z=Gi(),h=h.insert(k.largestBatchId,Z)),Z.set(k.getKey(),k)}}const b=Gi(),P=h.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((k,Z)=>b.set(k,Z)),!(b.size()>=c)););return Ie.resolve(b)}ht(e,r,o){const c=this.overlays.get(o.key);if(null!==c){const g=this.hr.get(c.largestBatchId).delete(o.key);this.hr.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new uo(r,o));let h=this.hr.get(r);void 0===h&&(h=kn(),this.hr.set(r,h)),this.hr.set(r,h.add(o.key))}}class fo{constructor(){this.Pr=new Bn(eo.Ir),this.Tr=new Bn(eo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const o=new eo(e,r);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Ar(new eo(e,r))}Rr(e,r){e.forEach(o=>this.removeReference(o,r))}Vr(e){const r=new pt(new Dn([])),o=new eo(r,e),c=new eo(r,e+1),h=[];return this.Tr.forEachInRange([o,c],g=>{this.Ar(g),h.push(g.key)}),h}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new pt(new Dn([])),o=new eo(r,e),c=new eo(r,e+1);let h=kn();return this.Tr.forEachInRange([o,c],g=>{h=h.add(g.key)}),h}containsKey(e){const r=new eo(e,0),o=this.Pr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class eo{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return pt.comparator(e.key,r.key)||Tt(e.pr,r.pr)}static Er(e,r){return Tt(e.pr,r.pr)||pt.comparator(e.key,r.key)}}class Oh{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Bn(eo.Ir)}checkEmpty(e){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,c){const h=this.yr;this.yr++;const g=new oi(h,r,o,c);this.mutationQueue.push(g);for(const b of c)this.wr=this.wr.add(new eo(b.key,h)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ie.resolve(g)}lookupMutationBatch(e,r){return Ie.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.br(r+1),h=c<0?0:c;return Ie.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new eo(r,0),c=new eo(r,Number.POSITIVE_INFINITY),h=[];return this.wr.forEachInRange([o,c],g=>{const b=this.Sr(g.pr);h.push(b)}),Ie.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Bn(Tt);return r.forEach(c=>{const h=new eo(c,0),g=new eo(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([h,g],b=>{o=o.add(b.pr)})}),Ie.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1;let h=o;pt.isDocumentKey(h)||(h=h.child(""));const g=new eo(new pt(h),0);let b=new Bn(Tt);return this.wr.forEachWhile(P=>{const k=P.key.path;return!!o.isPrefixOf(k)&&(k.length===c&&(b=b.add(P.pr)),!0)},g),Ie.resolve(this.Dr(b))}Dr(e){const r=[];return e.forEach(o=>{const c=this.Sr(o);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){Be(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return Ie.forEach(r.mutations,c=>{const h=new eo(c.key,r.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,r){const o=new eo(r,0),c=this.wr.firstAfterOrEqual(o);return Ie.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return Ie.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ed{constructor(e){this.vr=e,this.docs=new Cn(pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,c=this.docs.get(o),h=c?c.size:0,g=this.vr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Ie.resolve(o?o.document.mutableCopy():Qn.newInvalidDocument(r))}getEntries(e,r){let o=ti();return r.forEach(c=>{const h=this.docs.get(c);o=o.insert(c,h?h.document.mutableCopy():Qn.newInvalidDocument(c))}),Ie.resolve(o)}getDocumentsMatchingQuery(e,r,o,c){let h=ti();const g=r.path,b=new pt(g.child("")),P=this.docs.getIteratorFrom(b);for(;P.hasNext();){const{key:k,value:{document:Z}}=P.getNext();if(!g.isPrefixOf(k.path))break;k.path.length>g.length+1||_o(new _n((a=Z).readTime,a.key,-1),o)<=0||(c.has(Z.key)||pi(r,Z))&&(h=h.insert(Z.key,Z.mutableCopy()))}var a;return Ie.resolve(h)}getAllFromCollectionGroup(e,r,o,c){pe()}Fr(e,r){return Ie.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Td(this)}getSize(e){return Ie.resolve(this.size)}}class Td extends mp{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(e,c)):this.ar.removeEntry(o)}),Ie.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class kh{constructor(e){this.persistence=e,this.Mr=new Zn(r=>Di(r),Vo),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fo,this.targetCount=0,this.Lr=sa.Nn()}forEachTarget(e,r){return this.Mr.forEach((o,c)=>r(c)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Or&&(this.Or=r),Ie.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new sa(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Ie.resolve()}updateTargetData(e,r){return this.qn(r),Ie.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,r,o){let c=0;const h=[];return this.Mr.forEach((g,b)=>{b.sequenceNumber<=r&&null===o.get(b.targetId)&&(this.Mr.delete(g),h.push(this.removeMatchingKeysForTargetId(e,b.targetId)),c++)}),Ie.waitFor(h).next(()=>c)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,r){const o=this.Mr.get(r)||null;return Ie.resolve(o)}addMatchingKeys(e,r,o){return this.Nr.dr(r,o),Ie.resolve()}removeMatchingKeys(e,r,o){this.Nr.Rr(r,o);const c=this.persistence.referenceDelegate,h=[];return c&&r.forEach(g=>{h.push(c.markPotentiallyOrphaned(e,g))}),Ie.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Ie.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Nr.gr(r);return Ie.resolve(o)}containsKey(e,r){return Ie.resolve(this.Nr.containsKey(r))}}class Dc{constructor(e,r){this.Br={},this.overlays={},this.kr=new Y(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new kh(this),this.indexManager=new La,this.remoteDocumentCache=new Ed(o=>this.referenceDelegate.Kr(o)),this.serializer=new Cs(r),this.$r=new bc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _p,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new Oh(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,o){_e("MemoryPersistence","Starting transaction:",e);const c=new $u(this.kr.next());return this.referenceDelegate.Ur(),o(c).next(h=>this.referenceDelegate.Wr(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Gr(e,r){return Ie.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class $u extends Bi{constructor(e){super(),this.currentSequenceNumber=e}}class zs{constructor(e){this.persistence=e,this.zr=new fo,this.jr=null}static Hr(e){return new zs(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,r,o){return this.zr.addReference(o,r),this.Jr.delete(o.toString()),Ie.resolve()}removeReference(e,r,o){return this.zr.removeReference(o,r),this.Jr.add(o.toString()),Ie.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Ie.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(h=>this.Jr.add(h.toString()))}).next(()=>o.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Jr,o=>{const c=pt.fromPath(o);return this.Yr(e,c).next(h=>{h||r.removeEntry(c,ft.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(o=>{o?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Ie.or([()=>Ie.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Vh{constructor(e,r,o,c){this.targetId=e,this.fromCache=r,this.qi=o,this.Qi=c}static Ki(e,r){let o=kn(),c=kn();for(const h of r.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new Vh(e,r.fromCache,o,c)}}class Fg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yp{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,te.G6)()?8:function Mi(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,te.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,o,c){const h={result:null};return this.ji(e,r).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.Hi(e,r,c,o).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new Fg;return this.Ji(e,r,g).next(b=>{if(h.result=b,this.Ui)return this.Yi(e,r,g,b.size)})}).next(()=>h.result)}Yi(e,r,o,c){return o.documentReadCount<this.Wi?(Vt()<=ke.in.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Lr(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ie.resolve()):(Vt()<=ke.in.DEBUG&&_e("QueryEngine","Query:",Lr(r),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Gi*c?(Vt()<=ke.in.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Lr(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lt(r))):Ie.resolve())}ji(e,r){if(Te(r))return Ie.resolve(null);let o=Lt(r);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Sr(r,null,"F"),o=Lt(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(h=>{const g=kn(...h);return this.zi.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,o).next(P=>{const k=this.Zi(r,b);return this.Xi(r,k,g,P.readTime)?this.ji(e,Sr(r,null,"F")):this.es(e,k,r,P)}))})))}Hi(e,r,o,c){return Te(r)||c.isEqual(ft.min())?Ie.resolve(null):this.zi.getDocuments(e,o).next(h=>{const g=this.Zi(r,h);return this.Xi(r,g,o,c)?Ie.resolve(null):(Vt()<=ke.in.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Lr(r)),this.es(e,g,r,function vr(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,c=ft.fromTimestamp(1e9===o?new cn(r+1,0):new cn(r,o));return new _n(c,pt.empty(),e)}(c,-1)).next(b=>b))})}Zi(e,r){let o=new Bn(ki(e));return r.forEach((c,h)=>{pi(e,h)&&(o=o.add(h))}),o}Xi(e,r,o,c){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Ji(e,r,o){return Vt()<=ke.in.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Lr(r)),this.zi.getDocumentsMatchingQuery(e,r,_n.min(),o)}es(e,r,o,c){return this.zi.getDocumentsMatchingQuery(e,o,c).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}class Vg{constructor(e,r,o,c){this.persistence=e,this.ts=r,this.serializer=c,this.ns=new Cn(Tt),this.rs=new Zn(h=>Di(h),Vo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Al(a,e){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,S.Z)(function*(a,e){const r=Le(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let c;return r.mutationQueue.getAllMutationBatches(o).next(h=>(c=h,r._s(e),r.mutationQueue.getAllMutationBatches(o))).next(h=>{const g=[],b=[];let P=kn();for(const k of c){g.push(k.batchId);for(const Z of k.mutations)P=P.add(Z.key)}for(const k of h){b.push(k.batchId);for(const Z of k.mutations)P=P.add(Z.key)}return r.localDocuments.getDocuments(o,P).next(k=>({us:k,removedBatchIds:g,addedBatchIds:b}))})})})).apply(this,arguments)}function Uh(a){const e=Le(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Ss(a,e){const r=Le(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function pu(a,e,r){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,S.Z)(function*(a,e,r){const o=Le(a),c=o.ns.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",h,g=>o.persistence.referenceDelegate.removeTarget(g,c)))}catch(g){if(!Kn(g))throw g;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.ns=o.ns.remove(e),o.rs.delete(c.target)})).apply(this,arguments)}function $a(a,e,r){const o=Le(a);let c=ft.min(),h=kn();return o.persistence.runTransaction("Execute query","readwrite",g=>function(P,k,Z){const ne=Le(P),ge=ne.rs.get(Z);return void 0!==ge?Ie.resolve(ne.ns.get(ge)):ne.Qr.getTargetData(k,Z)}(o,g,Lt(e)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(g,b.targetId).next(P=>{h=P})}).next(()=>o.ts.getDocumentsMatchingQuery(g,e,r?c:ft.min(),r?h:kn())).next(b=>(function Cl(a,e,r){let o=a.ss.get(e)||ft.min();r.forEach((c,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),a.ss.set(e,o)}(o,function Wr(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}(e),b),{documents:b,hs:h})))}class Rl{constructor(){this.activeTargetIds=function ii(){return Js}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mc{constructor(){this.no=new Rl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,o){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Rl,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vp{io(e){}shutdown(){}}class xc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pl=null;function Wu(){return null===Pl?Pl=268435456+Math.round(2147483648*Math.random()):Pl++,"0x"+Pl.toString(16)}const zh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gh{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const po="WebChannelConnection";class Ml extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+r.host,this.So=`projects/${c}/databases/${h}`,this.bo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${h}`}get Do(){return!1}Co(r,o,c,h,g){const b=Wu(),P=this.vo(r,o.toUriEncodedString());_e("RestConnection",`Sending RPC '${r}' ${b}:`,P,c);const k={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(k,h,g),this.Mo(r,P,k,c).then(Z=>(_e("RestConnection",`Received RPC '${r}' ${b}: `,Z),Z),Z=>{throw Tn("RestConnection",`RPC '${r}' ${b} failed with error: `,Z,"url: ",P,"request:",c),Z})}xo(r,o,c,h,g,b){return this.Co(r,o,c,h,g)}Fo(r,o,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+st,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((h,g)=>r[g]=h),c&&c.headers.forEach((h,g)=>r[g]=h)}vo(r,o){return`${this.wo}/v1/${o}:${zh[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,o,c){const h=Wu();return new Promise((g,b)=>{const P=new Fe;P.setWithCredentials(!0),P.listenOnce(wt.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case xt.NO_ERROR:const Z=P.getResponseJson();_e(po,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(Z)),g(Z);break;case xt.TIMEOUT:_e(po,`RPC '${e}' ${h} timed out`),b(new z(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case xt.HTTP_ERROR:const ne=P.getStatus();if(_e(po,`RPC '${e}' ${h} failed with status:`,ne,"response text:",P.getResponseText()),ne>0){let ge=P.getResponseJson();Array.isArray(ge)&&(ge=ge[0]);const je=ge?.error;if(je&&je.status&&je.message){const vt=function(bt){const an=bt.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(an)>=0?an:Ee.UNKNOWN}(je.status);b(new z(vt,je.message))}else b(new z(Ee.UNKNOWN,"Server responded with status "+P.getStatus()))}else b(new z(Ee.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{_e(po,`RPC '${e}' ${h} completed.`)}});const k=JSON.stringify(c);_e(po,`RPC '${e}' ${h} sending request:`,c),P.send(r,"POST",k,o,15)})}Oo(e,r,o){const c=Wu(),h=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=nr(),b=Vn(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;void 0!==k&&(P.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(P.xmlHttpFactory=new mt({})),this.Fo(P.initMessageHeaders,r,o),P.encodeInitMessageHeaders=!0;const Z=h.join("");_e(po,`Creating RPC '${e}' stream ${c}: ${Z}`,P);const ne=g.createWebChannel(Z,P);let ge=!1,je=!1;const vt=new Gh({lo:bt=>{je?_e(po,`Not sending because RPC '${e}' stream ${c} is closed:`,bt):(ge||(_e(po,`Opening RPC '${e}' stream ${c} transport.`),ne.open(),ge=!0),_e(po,`RPC '${e}' stream ${c} sending:`,bt),ne.send(bt))},ho:()=>ne.close()}),tt=(bt,an,gn)=>{bt.listen(an,fn=>{try{gn(fn)}catch(Yn){setTimeout(()=>{throw Yn},0)}})};return tt(ne,We.EventType.OPEN,()=>{je||(_e(po,`RPC '${e}' stream ${c} transport opened.`),vt.mo())}),tt(ne,We.EventType.CLOSE,()=>{je||(je=!0,_e(po,`RPC '${e}' stream ${c} transport closed`),vt.po())}),tt(ne,We.EventType.ERROR,bt=>{je||(je=!0,Tn(po,`RPC '${e}' stream ${c} transport errored:`,bt),vt.po(new z(Ee.UNAVAILABLE,"The operation could not be completed")))}),tt(ne,We.EventType.MESSAGE,bt=>{var an;if(!je){const gn=bt.data[0];Be(!!gn);const Yn=gn.error||(null===(an=gn[0])||void 0===an?void 0:an.error);if(Yn){_e(po,`RPC '${e}' stream ${c} received error:`,Yn);const Fr=Yn.status;let Jn=function(ve){const Pe=Mr[ve];if(void 0!==Pe)return ss(Pe)}(Fr),Se=Yn.message;void 0===Jn&&(Jn=Ee.INTERNAL,Se="Unknown error status: "+Fr+" with message "+Yn.message),je=!0,vt.po(new z(Jn,Se)),ne.close()}else _e(po,`RPC '${e}' stream ${c} received:`,gn),vt.yo(gn)}}),tt(b,Xt.STAT_EVENT,bt=>{bt.stat===zt.PROXY?_e(po,`RPC '${e}' stream ${c} detected buffering proxy`):bt.stat===zt.NOPROXY&&_e(po,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{vt.fo()},0),vt}}function qu(){return typeof document<"u"?document:null}function Ku(a){return new fl(a,!0)}class mu{constructor(e,r,o=1e3,c=1.5,h=6e4){this.oi=e,this.timerId=r,this.No=o,this.Lo=c,this.Bo=h,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),c=Math.max(0,r-o);c>0&&_e("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class za{constructor(e,r,o,c,h,g,b,P){this.oi=e,this.Go=o,this.zo=c,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=P,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new mu(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,S.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,S.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var o=this;return(0,S.Z)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==e?o.Yo.reset():r&&r.code===Ee.RESOURCE_EXHAUSTED?(At(r.toString()),At("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):r&&r.code===Ee.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.jo===r&&this.u_(o,c)},o=>{e(()=>{const c=new z(Ee.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(c)})})}u_(e,r){const o=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(c=>{o(()=>this.c_(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}e_(){var e=this;this.state=5,this.Yo.$o((0,S.Z)(function*(){e.state=0,e.start()}))}c_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wp extends za{constructor(e,r,o,c,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,c,g),this.serializer=h}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function _d(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:pe(),c=e.targetChange.targetIds||[],h=function(k,Z){return k.useProto3Json?(Be(void 0===Z||"string"==typeof Z),jn.fromBase64String(Z||"")):(Be(void 0===Z||Z instanceof Buffer||Z instanceof Uint8Array),jn.fromUint8Array(Z||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(k){const Z=void 0===k.code?Ee.UNKNOWN:ss(k.code);return new z(Z,k.message||"")}(g);r=new zn(o,c,h,b||null)}else if("documentChange"in e){const o=e.documentChange,c=ut(a,o.document.name),h=w(o.document.updateTime),g=o.document.createTime?w(o.document.createTime):ft.min(),b=new en({mapValue:{fields:o.document.fields}}),P=Qn.newFoundDocument(c,h,g,b);r=new Sa(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,c=ut(a,o.document),h=o.readTime?w(o.readTime):ft.min(),g=Qn.newNoDocument(c,h);r=new Sa([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,c=ut(a,o.document);r=new Sa([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return pe();{const o=e.filter,{count:c=0,unchangedNames:h}=o,g=new Fi(c,h);r=new $o(o.targetId,g)}}var k;return r}(this.serializer,e),o=function(h){if(!("targetChange"in h))return ft.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?ft.min():g.readTime?w(g.readTime):ft.min()}(e);return this.listener.h_(r,o)}P_(e){const r={};r.database=Jr(this.serializer),r.addTarget=function(h,g){let b;const P=g.target;if(b=Gr(P)?{documents:gl(h,P)}:{query:yt(h,P)._t},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=bo(h,g.resumeToken);const k=Ma(h,g.expectedCount);null!==k&&(b.expectedCount=k)}else if(g.snapshotVersion.compareTo(ft.min())>0){b.readTime=Os(h,g.snapshotVersion.toTimestamp());const k=Ma(h,g.expectedCount);null!==k&&(b.expectedCount=k)}return b}(this.serializer,e);const o=function ml(a,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.i_(r)}I_(e){const r={};r.database=Jr(this.serializer),r.removeTarget=e,this.i_(r)}}class jg extends za{constructor(e,r,o,c,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,c,g),this.serializer=h,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Ui(a,e){return a&&a.length>0?(Be(void 0!==e),a.map(r=>function(c,h){let g=w(c.updateTime?c.updateTime:h);return g.isEqual(ft.min())&&(g=w(h)),new $s(g,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=w(e.commitTime);return this.listener.A_(o,r)}return Be(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Jr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>function xa(a,e){let r;if(e instanceof qt)r={update:md(a,e.key,e.value)};else if(e instanceof Pr)r={delete:rt(a,e.key)};else if(e instanceof cr)r={update:md(a,e.key,e.data),updateMask:Ah(e.fieldMask)};else{if(!(e instanceof sr))return pe();r={verify:rt(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(h,g){const b=g.transform;if(b instanceof Is)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof To)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ao)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof os)return{fieldPath:g.field.canonicalString(),increment:b.Pe};throw pe()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:j(a,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:pe()),r;var h}(this.serializer,o))};this.i_(r)}}class Wh extends class{}{constructor(e,r,o,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=c,this.m_=!1}f_(){if(this.m_)throw new z(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,o,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,F(r,o),c,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new z(Ee.UNKNOWN,h.toString())})}xo(e,r,o,c,h){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.connection.xo(e,F(r,o),c,g,b,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new z(Ee.UNKNOWN,g.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Ip{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(At(r),this.y_=!1):_e("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class $g{constructor(e,r,o,c,h){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=h,this.O_.io(b=>{o.enqueueAndForget((0,S.Z)(function*(){var P;_u(g)&&(_e("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,S.Z)(function*(Z){const ne=Le(Z);ne.M_.add(4),yield Oc(ne),ne.N_.set("Unknown"),ne.M_.delete(4),yield Nc(ne)}),function k(Z){return P.apply(this,arguments)})(g))}))}),this.N_=new Ip(o,c)}}function Nc(a){return qh.apply(this,arguments)}function qh(){return(qh=(0,S.Z)(function*(a){if(_u(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function Oc(a){return kc.apply(this,arguments)}function kc(){return(kc=(0,S.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function Nl(a,e){const r=Le(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),Kh(r)?Rd(r):Zu(r).Xo()&&Sd(r,e))}function Lc(a,e){const r=Le(a),o=Zu(r);r.F_.delete(e),o.Xo()&&Hg(r,e),0===r.F_.size&&(o.Xo()?o.n_():_u(r)&&r.N_.set("Unknown"))}function Sd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zu(a).P_(e)}function Hg(a,e){a.L_.xe(e),Zu(a).I_(e)}function Rd(a){a.L_=new Ra({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Zu(a).start(),a.N_.w_()}function Kh(a){return _u(a)&&!Zu(a).Zo()&&a.F_.size>0}function _u(a){return 0===Le(a).M_.size}function Ep(a){a.L_=void 0}function Qh(a){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,S.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function L_(a){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,S.Z)(function*(a){a.F_.forEach((e,r)=>{Sd(a,e)})})).apply(this,arguments)}function F_(a,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,S.Z)(function*(a,e){Ep(a),Kh(a)?(a.N_.D_(e),Rd(a)):a.N_.set("Unknown")})).apply(this,arguments)}function V_(a,e,r){return bp.apply(this,arguments)}function bp(){return bp=(0,S.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof zn&&2===e.state&&e.cause)try{yield(o=(0,S.Z)(function*(h,g){const b=g.cause;for(const P of g.targetIds)h.F_.has(P)&&(yield h.remoteSyncer.rejectListen(P,b),h.F_.delete(P),h.L_.removeTarget(P))}),function c(h,g){return o.apply(this,arguments)})(a,e)}catch(o){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Pd(a,o)}else if(e instanceof Sa?a.L_.Ke(e):e instanceof $o?a.L_.He(e):a.L_.We(e),!r.isEqual(ft.min()))try{const o=yield Uh(a.localStore);r.compareTo(o)>=0&&(yield function(h,g){const b=h.L_.rt(g);return b.targetChanges.forEach((P,k)=>{if(P.resumeToken.approximateByteSize()>0){const Z=h.F_.get(k);Z&&h.F_.set(k,Z.withResumeToken(P.resumeToken,g))}}),b.targetMismatches.forEach((P,k)=>{const Z=h.F_.get(P);if(!Z)return;h.F_.set(P,Z.withResumeToken(jn.EMPTY_BYTE_STRING,Z.snapshotVersion)),Hg(h,P);const ne=new vi(Z.target,P,k,Z.sequenceNumber);Sd(h,ne)}),h.remoteSyncer.applyRemoteEvent(b)}(a,r))}catch(o){_e("RemoteStore","Failed to raise snapshot:",o),yield Pd(a,o)}var o}),bp.apply(this,arguments)}function Pd(a,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,S.Z)(function*(a,e,r){if(!Kn(e))throw e;a.M_.add(1),yield Oc(a),a.N_.set("Offline"),r||(r=()=>Uh(a.localStore)),a.asyncQueue.enqueueRetryable((0,S.Z)(function*(){_e("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Nc(a)}))})).apply(this,arguments)}function kl(a,e){return e().catch(r=>Pd(a,r,e))}function Ga(a){return Md.apply(this,arguments)}function Md(){return(Md=(0,S.Z)(function*(a){const e=Le(a),r=Wa(e);let o=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Dp(e);)try{const c=yield Ss(e.localStore,o);if(null===c){0===e.v_.length&&r.n_();break}o=c.batchId,Ap(e,c)}catch(c){yield Pd(e,c)}Qu(e)&&Jh(e)})).apply(this,arguments)}function Dp(a){return _u(a)&&a.v_.length<10}function Ap(a,e){a.v_.push(e);const r=Wa(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function Qu(a){return _u(a)&&!Wa(a).Zo()&&a.v_.length>0}function Jh(a){Wa(a).start()}function Cp(a){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,S.Z)(function*(a){Wa(a).V_()})).apply(this,arguments)}function xd(a){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,S.Z)(function*(a){const e=Wa(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function zg(a,e,r){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,S.Z)(function*(a,e,r){const o=a.v_.shift(),c=Bo.from(o,e,r);yield kl(a,()=>a.remoteSyncer.applySuccessfulWrite(c)),yield Ga(a)})).apply(this,arguments)}function Gg(a,e){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,S.Z)(function*(a,e){var r;e&&Wa(a).E_&&(yield(r=(0,S.Z)(function*(c,h){if(function bs(a){switch(a){default:return pe();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}(b=h.code)&&b!==Ee.ABORTED){const g=c.v_.shift();Wa(c).t_(),yield kl(c,()=>c.remoteSyncer.rejectFailedWrite(g.batchId,h)),yield Ga(c)}var b}),function o(c,h){return r.apply(this,arguments)})(a,e)),Qu(a)&&Jh(a)}),Ll.apply(this,arguments)}function Nd(a,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,S.Z)(function*(a,e){const r=Le(a);r.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const o=_u(r);r.M_.add(3),yield Oc(r),o&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Nc(r)})).apply(this,arguments)}function tf(a,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,S.Z)(function*(a,e){const r=Le(a);e?(r.M_.delete(2),yield Nc(r)):e||(r.M_.add(2),yield Oc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Zu(a){return a.B_||(a.B_=function(r,o,c){const h=Le(r);return h.f_(),new wp(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(a.datastore,a.asyncQueue,{Po:Qh.bind(null,a),To:L_.bind(null,a),Ao:F_.bind(null,a),h_:V_.bind(null,a)}),a.x_.push(function(){var e=(0,S.Z)(function*(r){r?(a.B_.t_(),Kh(a)?Rd(a):a.N_.set("Unknown")):(yield a.B_.stop(),Ep(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function Wa(a){return a.k_||(a.k_=function(r,o,c){const h=Le(r);return h.f_(),new jg(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:Cp.bind(null,a),Ao:Gg.bind(null,a),R_:xd.bind(null,a),A_:zg.bind(null,a)}),a.x_.push(function(){var e=(0,S.Z)(function*(r){r?(a.k_.t_(),yield Ga(a)):(yield a.k_.stop(),a.v_.length>0&&(_e("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class rf{constructor(e,r,o,c,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=c,this.removalCallback=h,this.deferred=new Ne,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,c,h){const g=Date.now()+o,b=new rf(e,r,g,c,h);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new z(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function go(a,e){if(At("AsyncQueue",`${e}: ${a}`),Kn(a))return new z(Ee.UNAVAILABLE,`${e}: ${a}`);throw a}class yu{constructor(e){this.comparator=e?(r,o)=>e(r,o)||pt.comparator(r.key,o.key):(r,o)=>pt.comparator(r.key,o.key),this.keyedMap=Ji(),this.sortedSet=new Cn(this.comparator)}static emptySet(e){return new yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=o.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new yu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class sf{constructor(){this.q_=new Cn(pt.comparator)}track(e){const r=e.doc.key,o=this.q_.get(r);o?0!==e.type&&3===o.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==o.type?this.q_=this.q_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.q_=this.q_.remove(r):1===e.type&&2===o.type?this.q_=this.q_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):pe():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,o)=>{e.push(o)}),e}}class vu{constructor(e,r,o,c,h,g,b,P,k){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=P,this.hasCachedResults=k}static fromInitialDocuments(e,r,o,c,h){const g=[];return r.forEach(b=>{g.push({type:0,doc:b})}),new vu(e,r,yu.emptySet(r),g,o,c,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$r(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==o[c].type||!r[c].doc.isEqual(o[c].doc))return!1;return!0}}class Wo{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Fl{constructor(){this.queries=new Zn(e=>ei(e),$r),this.onlineState="Unknown",this.z_=new Set}}function Od(a,e){return kd.apply(this,arguments)}function kd(){return(kd=(0,S.Z)(function*(a,e){const r=Le(a);let o=3;const c=e.query;let h=r.queries.get(c);h?!h.W_()&&e.G_()&&(o=2):(h=new Wo,o=e.G_()?0:1);try{switch(o){case 0:h.K_=yield r.onListen(c,!0);break;case 1:h.K_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(g){const b=go(g,`Initialization of query '${Lr(e.query)}' failed`);return void e.onError(b)}r.queries.set(c,h),h.U_.push(e),e.j_(r.onlineState),h.K_&&e.H_(h.K_)&&uf(r)})).apply(this,arguments)}function af(a,e){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,S.Z)(function*(a,e){const r=Le(a),o=e.query;let c=3;const h=r.queries.get(o);if(h){const g=h.U_.indexOf(e);g>=0&&(h.U_.splice(g,1),0===h.U_.length?c=e.G_()?0:1:!h.W_()&&e.G_()&&(c=2))}switch(c){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Wg(a,e){const r=Le(a);let o=!1;for(const c of e){const g=r.queries.get(c.query);if(g){for(const b of g.U_)b.H_(c)&&(o=!0);g.K_=c}}o&&uf(r)}function Sp(a,e,r){const o=Le(a),c=o.queries.get(e);if(c)for(const h of c.U_)h.onError(r);o.queries.delete(e)}function uf(a){a.z_.forEach(e=>{e.next()})}var v,d;(d=v||(v={})).J_="default",d.Cache="cache";class p{constructor(e,r,o){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new vu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==v.Cache}}class Qe{constructor(e){this.key=e}}class Et{constructor(e){this.key=e}}class Jt{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=kn(),this.mutatedKeys=kn(),this.Ia=ki(e),this.Ta=new yu(this.Ia)}get Ea(){return this.la}da(e,r){const o=r?r.Aa:new sf,c=r?r.Ta:this.Ta;let h=r?r.mutatedKeys:this.mutatedKeys,g=c,b=!1;const P="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,k="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((Z,ne)=>{const ge=c.get(Z),je=pi(this.query,ne)?ne:null,vt=!!ge&&this.mutatedKeys.has(ge.key),tt=!!je&&(je.hasLocalMutations||this.mutatedKeys.has(je.key)&&je.hasCommittedMutations);let bt=!1;ge&&je?ge.data.isEqual(je.data)?vt!==tt&&(o.track({type:3,doc:je}),bt=!0):this.Ra(ge,je)||(o.track({type:2,doc:je}),bt=!0,(P&&this.Ia(je,P)>0||k&&this.Ia(je,k)<0)&&(b=!0)):!ge&&je?(o.track({type:0,doc:je}),bt=!0):ge&&!je&&(o.track({type:1,doc:ge}),bt=!0,(P||k)&&(b=!0)),bt&&(je?(g=g.add(je),h=tt?h.add(Z):h.delete(Z)):(g=g.delete(Z),h=h.delete(Z)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const Z="F"===this.query.limitType?g.last():g.first();g=g.delete(Z.key),h=h.delete(Z.key),o.track({type:1,doc:Z})}return{Ta:g,Aa:o,Xi:b,mutatedKeys:h}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,c){const h=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const g=e.Aa.Q_();g.sort((Z,ne)=>function(je,vt){const tt=bt=>{switch(bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return tt(je)-tt(vt)}(Z.type,ne.type)||this.Ia(Z.doc,ne.doc)),this.Va(o),c=null!=c&&c;const b=r&&!c?this.ma():[],P=0===this.Pa.size&&this.current&&!c?1:0,k=P!==this.ha;return this.ha=P,0!==g.length||k?{snapshot:new vu(this.query,e.Ta,h,g,e.mutatedKeys,0===P,k,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:b}:{fa:b}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new sf,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=kn(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const r=[];return e.forEach(o=>{this.Pa.has(o)||r.push(new Et(o))}),this.Pa.forEach(o=>{e.has(o)||r.push(new Qe(o))}),r}pa(e){this.la=e.hs,this.Pa=kn();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return vu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class vn{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class gr{constructor(e){this.key=e,this.wa=!1}}class no{constructor(e,r,o,c,h,g){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Sa={},this.ba=new Zn(b=>ei(b),$r),this.Da=new Map,this.Ca=new Set,this.va=new Cn(pt.comparator),this.Fa=new Map,this.Ma=new fo,this.xa={},this.Oa=new Map,this.Na=sa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Ws(a,e){return wu.apply(this,arguments)}function wu(){return(wu=(0,S.Z)(function*(a,e,r=!0){const o=If(a);let c;const h=o.ba.get(e);return h?(o.sharedClientState.addLocalQueryTarget(h.targetId),c=h.view.ya()):c=yield Fd(o,e,r,!0),c})).apply(this,arguments)}function Vl(a,e){return qa.apply(this,arguments)}function qa(){return(qa=(0,S.Z)(function*(a,e){const r=If(a);yield Fd(r,e,!0,!1)})).apply(this,arguments)}function Fd(a,e,r,o){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,S.Z)(function*(a,e,r,o){const c=yield function Gs(a,e){const r=Le(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return r.Qr.getTargetData(o,e).next(h=>h?(c=h,Ie.resolve(c)):r.Qr.allocateTargetId(o).next(g=>(c=new vi(e,g,"TargetPurposeListen",o.currentSequenceNumber),r.Qr.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=r.ns.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(o.targetId,o),r.rs.set(e,o.targetId)),o})}(a.localStore,Lt(e)),h=c.targetId,g=r?a.sharedClientState.addLocalQueryTarget(h):"not-current";let b;return o&&(b=yield function Uc(a,e,r,o,c){return Bl.apply(this,arguments)}(a,e,h,"current"===g,c.resumeToken)),a.isPrimaryClient&&r&&Nl(a.remoteStore,c),b})).apply(this,arguments)}function Bl(){return Bl=(0,S.Z)(function*(a,e,r,o,c){a.Ba=(ne,ge,je)=>{return(vt=(0,S.Z)(function*(bt,an,gn,fn){let Yn=an.view.da(gn);Yn.Xi&&(Yn=yield $a(bt.localStore,an.query,!1).then(({documents:he})=>an.view.da(he,Yn)));const Fr=fn&&fn.targetChanges.get(an.targetId),Jn=fn&&null!=fn.targetMismatches.get(an.targetId),Se=an.view.applyChanges(Yn,bt.isPrimaryClient,Fr,Jn);return mf(bt,an.targetId,Se.fa),Se.snapshot}),function tt(bt,an,gn,fn){return vt.apply(this,arguments)})(a,ne,ge,je);var vt};const h=yield $a(a.localStore,e,!0),g=new Jt(e,h.hs),b=g.da(h.documents),P=co.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,c),k=g.applyChanges(b,a.isPrimaryClient,P);mf(a,r,k.fa);const Z=new vn(e,r,g);return a.ba.set(e,Z),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),k.snapshot}),Bl.apply(this,arguments)}function cf(a,e,r){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,S.Z)(function*(a,e,r){const o=Le(a),c=o.ba.get(e),h=o.Da.get(c.targetId);if(h.length>1)return o.Da.set(c.targetId,h.filter(g=>!$r(g,e))),void o.ba.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield pu(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),r&&Lc(o.remoteStore,c.targetId),Hc(o,c.targetId)}).catch(Qr))):(Hc(o,c.targetId),yield pu(o.localStore,c.targetId,!0))})).apply(this,arguments)}function Vd(a,e){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,S.Z)(function*(a,e){const r=Le(a),o=r.ba.get(e),c=r.Da.get(o.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Lc(r.remoteStore,o.targetId))})).apply(this,arguments)}function $c(){return($c=(0,S.Z)(function*(a,e,r){const o=function Ju(a){const e=Le(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U_.bind(null,e),e}(a);try{const c=yield function(g,b){const P=Le(g),k=cn.now(),Z=b.reduce((je,vt)=>je.add(vt.key),kn());let ne,ge;return P.persistence.runTransaction("Locally write mutations","readwrite",je=>{let vt=ti(),tt=kn();return P.os.getEntries(je,Z).next(bt=>{vt=bt,vt.forEach((an,gn)=>{gn.isValidDocument()||(tt=tt.add(an))})}).next(()=>P.localDocuments.getOverlayedDocuments(je,vt)).next(bt=>{ne=bt;const an=[];for(const gn of b){const fn=qe(gn,ne.get(gn.key).overlayedDocument);null!=fn&&an.push(new cr(gn.key,fn,Er(fn.value.mapValue),ni.exists(!0)))}return P.mutationQueue.addMutationBatch(je,k,an,b)}).next(bt=>{ge=bt;const an=bt.applyToLocalDocumentSet(ne,tt);return P.documentOverlayCache.saveOverlays(je,bt.batchId,an)})}).then(()=>({batchId:ge.batchId,changes:rs(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(g,b,P){let k=g.xa[g.currentUser.toKey()];k||(k=new Cn(Tt)),k=k.insert(b,P),g.xa[g.currentUser.toKey()]=k}(o,c.batchId,r),yield Ka(o,c.changes),yield Ga(o.remoteStore)}catch(c){const h=go(c,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function qg(a,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,S.Z)(function*(a,e){const r=Le(a);try{const o=yield function Rc(a,e){const r=Le(a),o=e.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const b=[];e.targetChanges.forEach((Z,ne)=>{const ge=c.get(ne);if(!ge)return;b.push(r.Qr.removeMatchingKeys(h,Z.removedDocuments,ne).next(()=>r.Qr.addMatchingKeys(h,Z.addedDocuments,ne)));let je=ge.withSequenceNumber(h.currentSequenceNumber);var tt,bt,an;null!==e.targetMismatches.get(ne)?je=je.withResumeToken(jn.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):Z.resumeToken.approximateByteSize()>0&&(je=je.withResumeToken(Z.resumeToken,o)),c=c.insert(ne,je),bt=je,an=Z,(0===(tt=ge).resumeToken.approximateByteSize()||bt.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=3e8||an.addedDocuments.size+an.modifiedDocuments.size+an.removedDocuments.size>0)&&b.push(r.Qr.updateTargetData(h,je))});let P=ti(),k=kn();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(h,Z))}),b.push(function Bh(a,e,r){let o=kn(),c=kn();return r.forEach(h=>o=o.add(h)),e.getEntries(a,o).next(h=>{let g=ti();return r.forEach((b,P)=>{const k=h.get(b);P.isFoundDocument()!==k.isFoundDocument()&&(c=c.add(b)),P.isNoDocument()&&P.version.isEqual(ft.min())?(e.removeEntry(b,P.readTime),g=g.insert(b,P)):!k.isValidDocument()||P.version.compareTo(k.version)>0||0===P.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(P),g=g.insert(b,P)):_e("LocalStore","Ignoring outdated watch update for ",b,". Current version:",k.version," Watch version:",P.version)}),{cs:g,ls:c}})}(h,g,e.documentUpdates).next(Z=>{P=Z.cs,k=Z.ls})),!o.isEqual(ft.min())){const Z=r.Qr.getLastRemoteSnapshotVersion(h).next(ne=>r.Qr.setTargetsMetadata(h,h.currentSequenceNumber,o));b.push(Z)}return Ie.waitFor(b).next(()=>g.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,P,k)).next(()=>P)}).then(h=>(r.ns=c,h))}(r.localStore,e);e.targetChanges.forEach((c,h)=>{const g=r.Fa.get(h);g&&(Be(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.wa=!0:c.modifiedDocuments.size>0?Be(g.wa):c.removedDocuments.size>0&&(Be(g.wa),g.wa=!1))}),yield Ka(r,o,e)}catch(o){yield Qr(o)}})).apply(this,arguments)}function lf(a,e,r){const o=Le(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const c=[];o.ba.forEach((h,g)=>{const b=g.view.j_(e);b.snapshot&&c.push(b.snapshot)}),function(g,b){const P=Le(g);P.onlineState=b;let k=!1;P.queries.forEach((Z,ne)=>{for(const ge of ne.U_)ge.j_(b)&&(k=!0)}),k&&uf(P)}(o.eventManager,e),c.length&&o.Sa.h_(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Kg(a,e,r){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,S.Z)(function*(a,e,r){const o=Le(a);o.sharedClientState.updateQueryState(e,"rejected",r);const c=o.Fa.get(e),h=c&&c.key;if(h){let g=new Cn(pt.comparator);g=g.insert(h,Qn.newNoDocument(h,ft.min()));const b=kn().add(h),P=new ya(ft.min(),new Map,new Cn(Tt),g,b);yield qg(o,P),o.va=o.va.remove(h),o.Fa.delete(e),zc(o)}else yield pu(o.localStore,e,!1).then(()=>Hc(o,e,r)).catch(Qr)})).apply(this,arguments)}function Qg(a,e){return df.apply(this,arguments)}function df(){return(df=(0,S.Z)(function*(a,e){const r=Le(a),o=e.batch.batchId;try{const c=yield function to(a,e){const r=Le(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),h=r.os.newChangeBuffer({trackRemovals:!0});return function(b,P,k,Z){const ne=k.batch,ge=ne.keys();let je=Ie.resolve();return ge.forEach(vt=>{je=je.next(()=>Z.getEntry(P,vt)).next(tt=>{const bt=k.docVersions.get(vt);Be(null!==bt),tt.version.compareTo(bt)<0&&(ne.applyToRemoteDocument(tt,k),tt.isValidDocument()&&(tt.setReadTime(k.commitVersion),Z.addEntry(tt)))})}),je.next(()=>b.mutationQueue.removeMutationBatch(P,ne))}(r,o,e,h).next(()=>h.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let P=kn();for(let k=0;k<b.mutationResults.length;++k)b.mutationResults[k].transformResults.length>0&&(P=P.add(b.batch.mutations[k].key));return P}(e))).next(()=>r.localDocuments.getDocuments(o,c))})}(r.localStore,e);pf(r,o,null),ff(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Ka(r,c)}catch(c){yield Qr(c)}})).apply(this,arguments)}function U_(a,e,r){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,S.Z)(function*(a,e,r){const o=Le(a);try{const c=yield function(g,b){const P=Le(g);return P.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let Z;return P.mutationQueue.lookupMutationBatch(k,b).next(ne=>(Be(null!==ne),Z=ne.keys(),P.mutationQueue.removeMutationBatch(k,ne))).next(()=>P.mutationQueue.performConsistencyCheck(k)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(k,Z,b)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,Z)).next(()=>P.localDocuments.getDocuments(k,Z))})}(o.localStore,e);pf(o,e,r),ff(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Ka(o,c)}catch(c){yield Qr(c)}})).apply(this,arguments)}function ff(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function pf(a,e,r){const o=Le(a);let c=o.xa[o.currentUser.toKey()];if(c){const h=c.get(e);h&&(r?h.reject(r):h.resolve(),c=c.remove(e)),o.xa[o.currentUser.toKey()]=c}}function Hc(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Da.get(e))a.ba.delete(o),r&&a.Sa.ka(o,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(o=>{a.Ma.containsKey(o)||gf(a,o)})}function gf(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(Lc(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),zc(a))}function mf(a,e,r){for(const o of r)o instanceof Qe?(a.Ma.addReference(o.key,e),_f(a,o)):o instanceof Et?(_e("SyncEngine","Document no longer in limbo: "+o.key),a.Ma.removeReference(o.key,e),a.Ma.containsKey(o.key)||gf(a,o.key)):pe()}function _f(a,e){const r=e.key,o=r.path.canonicalString();a.va.get(r)||a.Ca.has(o)||(_e("SyncEngine","New document in limbo: "+r),a.Ca.add(o),zc(a))}function zc(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new pt(Dn.fromString(e)),o=a.Na.next();a.Fa.set(o,new gr(r)),a.va=a.va.insert(r,o),Nl(a.remoteStore,new vi(Lt(ie(r.path)),o,"TargetPurposeLimboResolution",Y.oe))}}function Ka(a,e,r){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,S.Z)(function*(a,e,r){const o=Le(a),c=[],h=[],g=[];var b;o.ba.isEmpty()||(o.ba.forEach((b,P)=>{g.push(o.Ba(P,e,r).then(k=>{if((k||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(P.targetId,k&&!k.fromCache?"current":"not-current"),k){c.push(k);const Z=Vh.Ki(P.targetId,k);h.push(Z)}}))}),yield Promise.all(g),o.Sa.h_(c),yield(b=(0,S.Z)(function*(k,Z){const ne=Le(k);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>Ie.forEach(Z,je=>Ie.forEach(je.qi,vt=>ne.persistence.referenceDelegate.addReference(ge,je.targetId,vt)).next(()=>Ie.forEach(je.Qi,vt=>ne.persistence.referenceDelegate.removeReference(ge,je.targetId,vt)))))}catch(ge){if(!Kn(ge))throw ge;_e("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of Z){const je=ge.targetId;if(!ge.fromCache){const vt=ne.ns.get(je),bt=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);ne.ns=ne.ns.insert(je,bt)}}}),function P(k,Z){return b.apply(this,arguments)})(o.localStore,h))}),Ud.apply(this,arguments)}function yf(a,e){return vf.apply(this,arguments)}function vf(){return(vf=(0,S.Z)(function*(a,e){const r=Le(a);if(!r.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const o=yield Al(r.localStore,e);r.currentUser=e,(h=r).Oa.forEach(b=>{b.forEach(P=>{P.reject(new z(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Oa.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ka(r,o.us)}var h})).apply(this,arguments)}function Mp(a,e){const r=Le(a),o=r.Fa.get(e);if(o&&o.wa)return kn().add(o.key);{let c=kn();const h=r.Da.get(e);if(!h)return c;for(const g of h){const b=r.ba.get(g);c=c.unionWith(b.view.Ea)}return c}}function If(a){const e=Le(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=qg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kg.bind(null,e),e.Sa.h_=Wg.bind(null,e.eventManager),e.Sa.ka=Sp.bind(null,e.eventManager),e}class jl{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,S.Z)(function*(){r.serializer=Ku(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return function fu(a,e,r,o){return new Vg(a,e,r,o)}(this.persistence,new yp,e.initialUser,this.serializer)}createPersistence(e){return new Dc(zs.Hr,this.serializer)}createSharedClientState(e){return new Mc}terminate(){var e=this;return(0,S.Z)(function*(){var r,o;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wc{initialize(e,r){var o=this;return(0,S.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>lf(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=yf.bind(null,o.syncEngine),yield tf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fl}createDatastore(e){const r=Ku(e.databaseInfo.databaseId),o=new Ml(e.databaseInfo);return new Wh(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,c=this.datastore,h=e.asyncQueue,g=r=>lf(this.syncEngine,r,0),b=xc.D()?new xc:new vp,new $g(o,c,h,g,b);var o,c,h,g,b}createSyncEngine(e,r){return function(c,h,g,b,P,k,Z){const ne=new no(c,h,g,b,P,k);return Z&&(ne.La=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,S.Z)(function*(){var r,o;yield(o=(0,S.Z)(function*(h){const g=Le(h);_e("RemoteStore","RemoteStore shutting down."),g.M_.add(5),yield Oc(g),g.O_.shutdown(),g.N_.set("Unknown")}),function c(h){return o.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):At("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Xu{constructor(e,r,o,c){var h=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=nt.UNAUTHENTICATED,this.clientId=Kr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,S.Z)(function*(b){_e("FirestoreClient","Received user=",b.uid),yield h.authCredentialListener(b),h.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(_e("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ne;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,S.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const c=go(o,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function ec(a,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,S.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var c=(0,S.Z)(function*(h){o.isEqual(h)||(yield Al(e.localStore,h),o=h)});return function(h){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Fp.apply(this,arguments)}function nm(a,e){return rm.apply(this,arguments)}function rm(){return(rm=(0,S.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function im(a){return om.apply(this,arguments)}(a);_e("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Nd(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,c)=>Nd(e.remoteStore,c)),a._onlineComponents=e})).apply(this,arguments)}function om(){return(om=(0,S.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ec(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function q_(a){return"FirebaseError"===a.name?a.code===Ee.FAILED_PRECONDITION||a.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}(r))throw r;Tn("Error using user provided cache. Falling back to memory cache: "+r),yield ec(a,new jl)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),yield ec(a,new jl);return a._offlineComponents})).apply(this,arguments)}function zd(a){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,S.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),yield nm(a,a._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),yield nm(a,new Wc))),a._onlineComponents})).apply(this,arguments)}function Za(a){return bf.apply(this,arguments)}function bf(){return(bf=(0,S.Z)(function*(a){const e=yield zd(a),r=e.eventManager;return r.onListen=Ws.bind(null,e.syncEngine),r.onUnlisten=cf.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Vl.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Vd.bind(null,e.syncEngine),r})).apply(this,arguments)}function dm(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Bp=new Map;function Hl(a,e,r){if(!r)throw new z(Ee.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Af(a){if(!pt.isDocumentKey(a))throw new z(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function hm(a){if(pt.isDocumentKey(a))throw new z(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Eu(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":pe()}function Ar(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new z(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Eu(a);throw new z(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class Cf{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new z(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new z(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function J_(a,e,r,o){if(!0===e&&!0===o)throw new z(Ee.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new z(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new z(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new z(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zl{constructor(e,r,o,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new z(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cf(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new He;switch(o.type){case"firstParty":return new Dt(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new z(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Bp.get(r);o&&(_e("ComponentProvider","Removing Datastore"),Bp.delete(r),o.terminate())}(this),Promise.resolve()}}class qo{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class ro{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class Ya extends qo{constructor(e,r,o){super(e,r,ie(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new pt(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function pm(a,e,...r){if(a=(0,te.m9)(a),Hl("collection","path",e),a instanceof zl){const o=Dn.fromString(e,...r);return hm(o),new Ya(a,null,o)}{if(!(a instanceof ro||a instanceof Ya))throw new z(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Dn.fromString(e,...r));return hm(o),new Ya(a.firestore,null,o)}}function ey(a,e,...r){if(a=(0,te.m9)(a),1===arguments.length&&(e=Kr.newId()),Hl("doc","path",e),a instanceof zl){const o=Dn.fromString(e,...r);return Af(o),new ro(a,null,new pt(o))}{if(!(a instanceof ro||a instanceof Ya))throw new z(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(Dn.fromString(e,...r));return Af(o),new ro(a.firestore,a instanceof Ya?a.converter:null,new pt(o))}}class gm{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new mu(this,"async_queue_retry"),this.hu=()=>{const r=qu();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=qu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=qu();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Ne;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,S.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Kn(r))throw r;_e("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(o=>{throw this.au=o,this.uu=!1,At("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=r,r}enqueueAfterDelay(e,r,o){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const c=rf.createAndSchedule(this,e,r,o,h=>this.Eu(h));return this._u.push(c),c}Pu(){this.au&&pe()}verifyOperationInProgress(){}du(){var e=this;return(0,S.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Rf(a){return function(r,o){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(a)}class _i extends zl{constructor(e,r,o,c){super(e,r,o,c),this.type="firestore",this._queue=new gm,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ry(this),this._firestoreClient.terminate()}}function mm(a,e){const r="object"==typeof a?a:(0,fe.Mq)(),o="string"==typeof a?a:e||"(default)",c=(0,fe.qX)(r,"firestore").getImmediate({identifier:o});if(!c._initialized){const h=(0,te.P0)("firestore");h&&function X_(a,e,r,o={}){var c;const h=(a=Ar(a,zl))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&Tn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),o.mockUserToken){let b,P;if("string"==typeof o.mockUserToken)b=o.mockUserToken,P=nt.MOCK_USER;else{b=(0,te.Sg)(o.mockUserToken,null===(c=a._app)||void 0===c?void 0:c.options.projectId);const k=o.mockUserToken.sub||o.mockUserToken.user_id;if(!k)throw new z(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new nt(k)}a._authCredentials=new Me(new $e(b,P))}}(c,...h)}return c}function Ii(a){return a._firestoreClient||ry(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function ry(a){var e,r,o;const c=a._freezeSettings(),h=(P=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new ga(a._databaseId,P,a._persistenceKey,(Z=c).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,dm(Z.experimentalLongPollingOptions),Z.useFetchStreams));var P,Z;a._firestoreClient=new Xu(a._authCredentials,a._appCheckCredentials,a._queue,h),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=c.localCache)&&void 0!==o&&o._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(jn.fromBase64String(e))}catch(r){throw new z(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ua(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new z(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xf{constructor(e){this._methodName=e}}class Nf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new z(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new z(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}const ql=/^__.*__$/;class sy{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new cr(e,this.data,this.fieldMask,r,this.fieldTransforms):new qt(e,this.data,r,this.fieldTransforms)}}class vm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new cr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function wm(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Kl{constructor(e,r,o,c,h,g){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===h&&this.mu(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Kl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.gu({path:o,yu:!1});return c.wu(e),c}Su(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.gu({path:o,yu:!1});return c.mu(),c}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return bu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(wm(this.fu)&&ql.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Im{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Ku(e)}Fu(e,r,o,c=!1){return new Kl({fu:e,methodName:r,vu:o,path:xn.emptyPath(),yu:!1,Cu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ql(a){const e=a._freezeSettings(),r=Ku(a._databaseId);return new Im(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Of(a,e,r,o,c,h={}){const g=a.Fu(h.merge||h.mergeFields?2:0,e,r,c);qd("Data must be an object, but it was:",g,o);const b=kf(o,g);let P,k;if(h.merge)P=new xr(g.fieldMask),k=g.fieldTransforms;else if(h.mergeFields){const Z=[];for(const ne of h.mergeFields){const ge=Qc(e,ne,r);if(!g.contains(ge))throw new z(Ee.INVALID_ARGUMENT,`Field '${ge}' is specified in your field mask but missing from your input data.`);Lf(Z,ge)||Z.push(ge)}P=new xr(Z),k=g.fieldTransforms.filter(ne=>P.covers(ne.field))}else P=null,k=g.fieldTransforms;return new sy(new en(b),P,k)}class qc extends xf{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}class Hp extends xf{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=function ay(a,e,r){return new Kl({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}(this,e,!0),o=this.Mu.map(h=>Tu(h,r)),c=new To(o);return new Uo(e.path,c)}isEqual(e){return e instanceof Hp&&(0,te.vZ)(this.Mu,e.Mu)}}function Tu(a,e){if(Kc(a=(0,te.m9)(a)))return qd("Unsupported field value:",e,a),kf(a,e);if(a instanceof xf)return function(o,c){if(!wm(c.fu))throw c.Du(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Du(`${o._methodName}() is not currently supported inside arrays`);const h=o._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(o,c){const h=[];let g=0;for(const b of o){let P=Tu(b,c.bu(g));null==P&&(P={nullValue:"NULL_VALUE"}),h.push(P),g++}return{arrayValue:{values:h}}}(a,e)}return function(o,c){if(null===(o=(0,te.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Bs(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const h=cn.fromDate(o);return{timestampValue:Os(c.serializer,h)}}if(o instanceof cn){const h=new cn(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Os(c.serializer,h)}}if(o instanceof Nf)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ua)return{bytesValue:bo(c.serializer,o._byteString)};if(o instanceof ro){const h=c.databaseId,g=o.firestore._databaseId;if(!g.isEqual(h))throw c.Du(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:R(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c.Du(`Unsupported field value: ${Eu(o)}`)}(a,e)}function kf(a,e){const r={};return rn(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_t(a,(o,c)=>{const h=Tu(c,e.pu(o));null!=h&&(r[o]=h)}),{mapValue:{fields:r}}}function Kc(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof cn||a instanceof Nf||a instanceof ua||a instanceof ro||a instanceof xf)}function qd(a,e,r){if(!Kc(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=Eu(r);throw e.Du("an object"===o?a+" a custom object":a+" "+o)}var c}function Qc(a,e,r){if((e=(0,te.m9)(e))instanceof nc)return e._internalPath;if("string"==typeof e)return Zc(a,e);throw bu("Field path arguments must be of type string or ",a,!1,void 0,r)}const Kd=new RegExp("[~\\*/\\[\\]]");function Zc(a,e,r){if(e.search(Kd)>=0)throw bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new nc(...e.split("."))._internalPath}catch{throw bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function bu(a,e,r,o,c){const h=o&&!o.isEmpty(),g=void 0!==c;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let P="";return(h||g)&&(P+=" (found",h&&(P+=` in field ${o}`),g&&(P+=` in document ${c}`),P+=")"),new z(Ee.INVALID_ARGUMENT,b+a+P)}function Lf(a,e){return a.some(r=>r.isEqual(e))}class Qd{constructor(e,r,o,c,h){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ff(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Gp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Ff extends Qd{data(){return super.data()}}function Gp(a,e){return"string"==typeof e?Zc(a,e):e instanceof nc?e._internalPath:e._delegate._internalPath}class py{convertValue(e,r="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw pe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return _t(e,(c,h)=>{o[c]=this.convertValue(h,r)}),o}convertGeoPoint(e){return new Nf(Nr(e.latitude),Nr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=gs(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const r=Ki(e);return new cn(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Dn.fromString(e);Be(Ou(o));const c=new vo(o.get(1),o.get(3)),h=new pt(o.popFirst(5));return c.isEqual(r)||At(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function ic(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class oc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends Qd{constructor(e,r,o,c,h,g){super(e,r,o,c,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Gp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Zl extends Jc{data(e={}){return super.data(e)}}class Xd{constructor(e,r,o,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new oc(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Zl(this._firestore,this._userDataWriter,o.key,o,new oc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new z(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map(b=>({type:"added",doc:new Zl(c._firestore,c._userDataWriter,b.doc.key,b.doc,new oc(c._snapshot.mutatedKeys.has(b.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:g++}))}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(b=>h||3!==b.type).map(b=>{const P=new Zl(c._firestore,c._userDataWriter,b.doc.key,b.doc,new oc(c._snapshot.mutatedKeys.has(b.doc.key),c._snapshot.fromCache),c.query.converter);let k=-1,Z=-1;return 0!==b.type&&(k=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),Z=g.indexOf(b.doc.key)),{type:Qp(b.type),doc:P,oldIndex:k,newIndex:Z}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Qp(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}function yy(a){a=Ar(a,ro);const e=Ar(a.firestore,_i);return function K_(a,e,r={}){const o=new Ne;return a.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function(h,g,b,P,k){const Z=new Tf({next:ge=>{g.enqueueAndForget(()=>af(h,ne));const je=ge.docs.has(b);!je&&ge.fromCache?k.reject(new z(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):je&&ge.fromCache&&P&&"server"===P.source?k.reject(new z(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):k.resolve(ge)},error:ge=>k.reject(ge)}),ne=new p(ie(b.path),Z,{includeMetadataChanges:!0,ra:!0});return Od(h,ne)}(yield Za(a),a.asyncQueue,e,r,o)})),o.promise}(Ii(e),a._key).then(r=>Xa(e,a,r))}class sc extends py{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,r)}}function pw(a,e,r){a=Ar(a,ro);const o=Ar(a.firestore,_i),c=ic(a.converter,e,r);return Xc(o,[Of(Ql(o),"setDoc",a._key,c,null!==a.converter,r).toMutation(a._key,ni.none())])}function Rm(a,e,r,...o){a=Ar(a,ro);const c=Ar(a.firestore,_i),h=Ql(c);let g;return g="string"==typeof(e=(0,te.m9)(e))||e instanceof nc?function Wd(a,e,r,o,c,h){const g=a.Fu(1,e,r),b=[Qc(e,o,r)],P=[c];if(h.length%2!=0)throw new z(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ge=0;ge<h.length;ge+=2)b.push(Qc(e,h[ge])),P.push(h[ge+1]);const k=[],Z=en.empty();for(let ge=b.length-1;ge>=0;--ge)if(!Lf(k,b[ge])){const je=b[ge];let vt=P[ge];vt=(0,te.m9)(vt);const tt=g.Su(je);if(vt instanceof qc)k.push(je);else{const bt=Tu(vt,tt);null!=bt&&(k.push(je),Z.set(je,bt))}}const ne=new xr(k);return new vm(Z,ne,g.fieldTransforms)}(h,"updateDoc",a._key,e,r,o):function uy(a,e,r,o){const c=a.Fu(1,e,r);qd("Data must be an object, but it was:",c,o);const h=[],g=en.empty();_t(o,(P,k)=>{const Z=Zc(e,P,r);k=(0,te.m9)(k);const ne=c.Su(Z);if(k instanceof qc)h.push(Z);else{const ge=Tu(k,ne);null!=ge&&(h.push(Z),g.set(Z,ge))}});const b=new xr(h);return new vm(g,b,c.fieldTransforms)}(h,"updateDoc",a._key,e),Xc(c,[g.toMutation(a._key,ni.exists(!0))])}function ba(a,e){const r=Ar(a.firestore,_i),o=ey(a),c=ic(a.converter,e);return Xc(r,[Of(Ql(a.firestore),"addDoc",o._key,c,null!==a.converter,{}).toMutation(o._key,ni.exists(!1))]).then(()=>o)}function Pm(a,...e){var r,o,c;a=(0,te.m9)(a);let h={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||Rf(e[g])||(h=e[g],g++);const b={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Rf(e[g])){const ne=e[g];e[g]=null===(r=ne.next)||void 0===r?void 0:r.bind(ne),e[g+1]=null===(o=ne.error)||void 0===o?void 0:o.bind(ne),e[g+2]=null===(c=ne.complete)||void 0===c?void 0:c.bind(ne)}let P,k,Z;if(a instanceof ro)k=Ar(a.firestore,_i),Z=ie(a._key.path),P={next:ne=>{e[g]&&e[g](Xa(k,a,ne))},error:e[g+1],complete:e[g+2]};else{const ne=Ar(a,qo);k=Ar(ne.firestore,_i),Z=ne._query;const ge=new sc(k);P={next:je=>{e[g]&&e[g](new Xd(k,ge,ne,je))},error:e[g+1],complete:e[g+2]},function Vf(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new z(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(a._query)}return function(ge,je,vt,tt){const bt=new Tf(tt),an=new p(je,bt,vt);return ge.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return Od(yield Za(ge),an)})),()=>{bt.$a(),ge.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return af(yield Za(ge),an)}))}}(Ii(k),Z,b,P)}function Xc(a,e){return function(o,c){const h=new Ne;return o.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function jc(a,e,r){return $c.apply(this,arguments)}(yield function Gd(a){return zd(a).then(e=>e.syncEngine)}(o),c,h)})),h.promise}(Ii(a),e)}function Xa(a,e,r){const o=r.docs.get(e._key),c=new sc(a);return new Jc(a,c,e._key,o,new oc(r.hasPendingWrites,r.fromCache),e.converter)}function Py(...a){return new Hp("arrayUnion",a)}!function(e,r=!0){st=fe.Jn,(0,fe.Xd)(new Ze.wA("firestore",(o,{instanceIdentifier:c,options:h})=>{const g=o.getProvider("app").getImmediate(),b=new _i(new be(o.getProvider("auth-internal")),new ht(o.getProvider("app-check-internal")),function(k,Z){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new z(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(k.options.projectId,Z)}(g,c),g);return h=Object.assign({useFetchStreams:r},h),b._setSettings(h),b},"PUBLIC").setMultipleInstances(!0)),(0,fe.KN)(it,"4.6.3",e),(0,fe.KN)(it,"4.6.3","esm2017")}()},9058:(sn,ot,Q)=>{"use strict";Q.d(ot,{BH:()=>st,G6:()=>Ee,L:()=>at,LL:()=>be,P0:()=>nr,Pz:()=>nt,Sg:()=>Pt,ZR:()=>Me,aH:()=>it,b$:()=>ui,eu:()=>Ne,hl:()=>z,m9:()=>wn,ne:()=>_r,pd:()=>mn,q4:()=>Vn,ru:()=>Tn,tV:()=>ue,uI:()=>Mt,vZ:()=>Dn,w1:()=>Be,xO:()=>pt,xb:()=>ft,z$:()=>Vt,zd:()=>mr});const ke=function(de){const K=[];let J=0;for(let q=0;q<de.length;q++){let Y=de.charCodeAt(q);Y<128?K[J++]=Y:Y<2048?(K[J++]=Y>>6|192,K[J++]=63&Y|128):55296==(64512&Y)&&q+1<de.length&&56320==(64512&de.charCodeAt(q+1))?(Y=65536+((1023&Y)<<10)+(1023&de.charCodeAt(++q)),K[J++]=Y>>18|240,K[J++]=Y>>12&63|128,K[J++]=Y>>6&63|128,K[J++]=63&Y|128):(K[J++]=Y>>12|224,K[J++]=Y>>6&63|128,K[J++]=63&Y|128)}return K},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,K){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let Y=0;Y<de.length;Y+=3){const Ae=de[Y],ct=Y+1<de.length,St=ct?de[Y+1]:0,Ot=Y+2<de.length,on=Ot?de[Y+2]:0;let wr=(15&St)<<2|on>>6,ci=63&on;Ot||(ci=64,ct||(wr=64)),q.push(J[Ae>>2],J[(3&Ae)<<4|St>>4],J[wr],J[ci])}return q.join("")},encodeString(de,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(de):this.encodeByteArray(ke(de),K)},decodeString(de,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(de):function(de){const K=[];let J=0,q=0;for(;J<de.length;){const Y=de[J++];if(Y<128)K[q++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ae=de[J++];K[q++]=String.fromCharCode((31&Y)<<6|63&Ae)}else if(Y>239&&Y<365){const Ot=((7&Y)<<18|(63&de[J++])<<12|(63&de[J++])<<6|63&de[J++])-65536;K[q++]=String.fromCharCode(55296+(Ot>>10)),K[q++]=String.fromCharCode(56320+(1023&Ot))}else{const Ae=de[J++],ct=de[J++];K[q++]=String.fromCharCode((15&Y)<<12|(63&Ae)<<6|63&ct)}}return K.join("")}(this.decodeStringToByteArray(de,K))},decodeStringToByteArray(de,K){this.init_();const J=K?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let Y=0;Y<de.length;){const Ae=J[de.charAt(Y++)],St=Y<de.length?J[de.charAt(Y)]:0;++Y;const on=Y<de.length?J[de.charAt(Y)]:64;++Y;const Wt=Y<de.length?J[de.charAt(Y)]:64;if(++Y,null==Ae||null==St||null==on||null==Wt)throw new Re;q.push(Ae<<2|St>>4),64!==on&&(q.push(St<<4&240|on>>2),64!==Wt&&q.push(on<<6&192|Wt))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const at=function(de){return function(de){const K=ke(de);return De.encodeByteArray(K,!0)}(de).replace(/\./g,"")},ue=function(de){try{return De.decodeString(de,!0)}catch(K){console.error("base64Decode failed: ",K)}return null},Xt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=de&&ue(de[1]);return K&&JSON.parse(K)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},Vn=de=>{var K,J;return null===(J=null===(K=Xt())||void 0===K?void 0:K.emulatorHosts)||void 0===J?void 0:J[de]},nr=de=>{const K=Vn(de);if(!K)return;const J=K.lastIndexOf(":");if(J<=0||J+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const q=parseInt(K.substring(J+1),10);return"["===K[0]?[K.substring(1,J-1),q]:[K.substring(0,J),q]},it=()=>{var de;return null===(de=Xt())||void 0===de?void 0:de.config},nt=de=>{var K;return null===(K=Xt())||void 0===K?void 0:K[`_${de}`]};class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,J)=>{this.resolve=K,this.reject=J})}wrapCallback(K){return(J,q)=>{J?this.reject(J):this.resolve(q),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(J):K(J,q))}}}function Pt(de,K){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=K||"demo-project",Y=de.iat||0,Ae=de.sub||de.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:Y,exp:Y+3600,auth_time:Y,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},de);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(ct)),""].join(".")}function Vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Tn(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function ui(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){const de=Vt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Ee(){return!function _e(){var de;const K=null===(de=Xt())||void 0===de?void 0:de.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((de,K)=>{try{let J=!0;const q="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(q);Y.onsuccess=()=>{Y.result.close(),J||self.indexedDB.deleteDatabase(q),de(!0)},Y.onupgradeneeded=()=>{J=!1},Y.onerror=()=>{var Ae;K((null===(Ae=Y.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(J){K(J)}})}class Me extends Error{constructor(K,J,q){super(J),this.code=K,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(K,J,q){this.service=K,this.serviceName=J,this.errors=q}create(K,...J){const q=J[0]||{},Y=`${this.service}/${K}`,Ae=this.errors[K],ct=Ae?function Xe(de,K){return de.replace(Dt,(J,q)=>{const Y=K[q];return null!=Y?String(Y):`<${q}?>`})}(Ae,q):"Error";return new Me(Y,`${this.serviceName}: ${ct} (${Y}).`,q)}}const Dt=/\{\$([^}]+)}/g;function ft(de){for(const K in de)if(Object.prototype.hasOwnProperty.call(de,K))return!1;return!0}function Dn(de,K){if(de===K)return!0;const J=Object.keys(de),q=Object.keys(K);for(const Y of J){if(!q.includes(Y))return!1;const Ae=de[Y],ct=K[Y];if(hn(Ae)&&hn(ct)){if(!Dn(Ae,ct))return!1}else if(Ae!==ct)return!1}for(const Y of q)if(!J.includes(Y))return!1;return!0}function hn(de){return null!==de&&"object"==typeof de}function pt(de){const K=[];for(const[J,q]of Object.entries(de))Array.isArray(q)?q.forEach(Y=>{K.push(encodeURIComponent(J)+"="+encodeURIComponent(Y))}):K.push(encodeURIComponent(J)+"="+encodeURIComponent(q));return K.length?"&"+K.join("&"):""}function mr(de){const K={};return de.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[Y,Ae]=q.split("=");K[decodeURIComponent(Y)]=decodeURIComponent(Ae)}}),K}function mn(de){const K=de.indexOf("?");if(!K)return"";const J=de.indexOf("#",K);return de.substring(K,J>0?J:void 0)}function _r(de,K){const J=new dr(de,K);return J.subscribe.bind(J)}class dr{constructor(K,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{K(this)}).catch(q=>{this.error(q)})}next(K){this.forEachObserver(J=>{J.next(K)})}error(K){this.forEachObserver(J=>{J.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,J,q){let Y;if(void 0===K&&void 0===J&&void 0===q)throw new Error("Missing Observer.");Y=function qn(de,K){if("object"!=typeof de||null===de)return!1;for(const J of K)if(J in de&&"function"==typeof de[J])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:J,complete:q},void 0===Y.next&&(Y.next=vr),void 0===Y.error&&(Y.error=vr),void 0===Y.complete&&(Y.complete=vr);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ae}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,K)}sendOne(K,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{J(this.observers[K])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}function wn(de){return de&&de._delegate?de._delegate:de}},2333:(sn,ot,Q)=>{"use strict";Q.d(ot,{e:()=>Re});var S=Q(3960),fe=Q(5619),Ze=Q(3519),ke=Q.n(Ze),te=Q(4946),De=Q(2271);let Re=(()=>{class gt{constructor(ue,le){this.router=ue,this.fire=le;const Fe=localStorage.getItem("currentUser"),mt=Fe?JSON.parse(Fe):null;this.currentUserSubject=new fe.X(mt||{user:"",pass:""}),this.currentUser=this.currentUserSubject.asObservable()}getPacientes(){const ue=(0,S.hJ)(this.fire,"pacientes");return(0,S.BS)(ue,{idField:"idDoc"})}getEspecialistas(){const ue=(0,S.hJ)(this.fire,"especialistas");return(0,S.BS)(ue,{idField:"idDoc"})}getAdmins(){const ue=(0,S.hJ)(this.fire,"admin");return(0,S.BS)(ue,{idField:"idDoc"})}login(ue,le){this.getAdmins().subscribe(Fe=>{const mt=Fe.find(We=>We.dni==ue&&We.contrase\u00f1a==le);mt?(mt.perfil="admin",this.currentUserSubject.next(mt),console.log(mt),localStorage.setItem("currentUser",JSON.stringify(mt)),ke().fire({title:"admin",text:"En unos segundos ser\xe1s redirigido",icon:"success"}),this.router.navigateByUrl("/usuarios")):this.getPacientes().subscribe(We=>{const wt=We.find(xt=>xt.dni==ue&&xt.contrase\u00f1a==le);wt?wt.validado?(wt.perfil="paciente",this.currentUserSubject.next(wt),localStorage.setItem("currentUser",JSON.stringify(wt)),ke().fire({title:"Paciente encontrado!",text:"En unos segundos ser\xe1s redirigido",icon:"success"}),this.router.navigateByUrl("/mi-perfil")):ke().fire({title:"Tu mail no fue validado a\xfan!",text:"Debes validar tu mail primero.",icon:"warning"}):(console.log("test"),this.getEspecialistas().subscribe(xt=>{const zt=xt.find(Xt=>Xt.dni==ue&&Xt.contrase\u00f1a==le);zt?zt.validado?(this.currentUserSubject.next(zt),zt.perfil="especialista",localStorage.setItem("currentUser",JSON.stringify(zt)),console.log(this.currentUser),ke().fire({title:"Especialista encontrado!",text:"En unos segundos ser\xe1s redirigido",icon:"success"}),this.router.navigateByUrl("/mi-perfil")):ke().fire({title:"Todav\xeda no fuiste validado por el administrador!",text:"Debes esperar a validaci\xf3n del administrador.",icon:"warning"}):ke().fire({title:"El usuario no fue encontrado!",text:"Reescrib\xed tu usuario o contrase\xf1a, por favor.",icon:"error"})}))})})}esAdmin(){const ue=this.currentUserSubject.value;return ue&&"admin"==ue.perfil}esEspecialista(){const ue=this.currentUserSubject.value;return ue&&"especialista"==ue.perfil}esPaciente(){const ue=this.currentUserSubject.value;return ue&&"paciente"==ue.perfil}static#e=this.\u0275fac=function(le){return new(le||gt)(te.LFG(De.F0),te.LFG(S.gg))};static#t=this.\u0275prov=te.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})()},7035:(sn,ot,Q)=>{"use strict";var S=Q(6593),fe=Q(2271),Ze=Q(4946);const ke=[{path:"",loadChildren:()=>Q.e(519).then(Q.bind(Q,1519)).then(We=>We.BienvenidaModule)},{path:"login",loadChildren:()=>Promise.all([Q.e(223),Q.e(560)]).then(Q.bind(Q,3560)).then(We=>We.LoginModule)},{path:"registro",loadChildren:()=>Promise.all([Q.e(223),Q.e(592),Q.e(87)]).then(Q.bind(Q,4087)).then(We=>We.RegistroModule)},{path:"usuarios",loadChildren:()=>Promise.all([Q.e(223),Q.e(592),Q.e(530)]).then(Q.bind(Q,2530)).then(We=>We.UsuariosModule)},{path:"mail-activacion",loadChildren:()=>Q.e(886).then(Q.bind(Q,2886)).then(We=>We.MailActivacionModule)},{path:"mi-perfil",loadChildren:()=>Promise.all([Q.e(223),Q.e(462)]).then(Q.bind(Q,5462)).then(We=>We.MiPerfilModule)},{path:"solicitar-turno",loadChildren:()=>Promise.all([Q.e(223),Q.e(784)]).then(Q.bind(Q,666)).then(We=>We.SolicitarTurnoModule)},{path:"turnos",loadChildren:()=>Promise.all([Q.e(223),Q.e(593)]).then(Q.bind(Q,593)).then(We=>We.TurnosModule)},{path:"mis-turnos",loadChildren:()=>Promise.all([Q.e(223),Q.e(957)]).then(Q.bind(Q,9957)).then(We=>We.MisTurnosModule)}];let te=(()=>{class We{static#e=this.\u0275fac=function(zt){return new(zt||We)};static#t=this.\u0275mod=Ze.oAB({type:We});static#n=this.\u0275inj=Ze.cJS({imports:[fe.Bz.forRoot(ke),fe.Bz]})}return We})();var De=Q(2333);let Re=(()=>{class We{constructor(xt){this.authService=xt,this.title="clinica-online"}ngOnInit(){this.authService.currentUser.subscribe(xt=>{this.usuarioActivo=xt,console.log(this.usuarioActivo)})}static#e=this.\u0275fac=function(zt){return new(zt||We)(Ze.Y36(De.e))};static#t=this.\u0275cmp=Ze.Xpm({type:We,selectors:[["app-root"]],decls:1,vars:0,template:function(zt,Xt){1&zt&&Ze._UZ(0,"router-outlet")},dependencies:[fe.lC]})}return We})();var gt=Q(721),at=Q(90),ue=Q(3960),le=Q(5017),Fe=Q(6814);let mt=(()=>{class We{static#e=this.\u0275fac=function(zt){return new(zt||We)};static#t=this.\u0275mod=Ze.oAB({type:We,bootstrap:[Re]});static#n=this.\u0275inj=Ze.cJS({imports:[Fe.ez,S.b2,te,fe.Bz,(0,gt.hX)(()=>(0,gt.ZF)({projectId:"clinica-online-47d16",appId:"1:406208429027:web:12dee30e70d237e3d43ed6",storageBucket:"clinica-online-47d16.appspot.com",apiKey:"AIzaSyB9VGncLe0OChtq_Orfa-E4ntVqOCek2h4",authDomain:"clinica-online-47d16.firebaseapp.com",messagingSenderId:"406208429027",measurementId:"G-BSJF70LDNX"})),(0,at.AR)(()=>(0,at.v0)()),(0,ue.Cm)(()=>(0,ue.ad)()),(0,le.Vq)(()=>(0,le.cF)())]})}return We})();S.q6().bootstrapModule(mt).catch(We=>console.error(We))},5619:(sn,ot,Q)=>{"use strict";Q.d(ot,{X:()=>fe});var S=Q(8645);class fe extends S.x{constructor(ke){super(),this._value=ke}get value(){return this.getValue()}_subscribe(ke){const te=super._subscribe(ke);return!te.closed&&ke.next(this._value),te}getValue(){const{hasError:ke,thrownError:te,_value:De}=this;if(ke)throw te;return this._throwIfClosed(),De}next(ke){super.next(this._value=ke)}}},5592:(sn,ot,Q)=>{"use strict";Q.d(ot,{y:()=>gt});var S=Q(305),fe=Q(7394),Ze=Q(4850),ke=Q(8407),te=Q(2653),De=Q(4674),Re=Q(1441);let gt=(()=>{class Fe{constructor(We){We&&(this._subscribe=We)}lift(We){const wt=new Fe;return wt.source=this,wt.operator=We,wt}subscribe(We,wt,xt){const zt=function le(Fe){return Fe&&Fe instanceof S.Lv||function ue(Fe){return Fe&&(0,De.m)(Fe.next)&&(0,De.m)(Fe.error)&&(0,De.m)(Fe.complete)}(Fe)&&(0,fe.Nn)(Fe)}(We)?We:new S.Hp(We,wt,xt);return(0,Re.x)(()=>{const{operator:Xt,source:Vn}=this;zt.add(Xt?Xt.call(zt,Vn):Vn?this._subscribe(zt):this._trySubscribe(zt))}),zt}_trySubscribe(We){try{return this._subscribe(We)}catch(wt){We.error(wt)}}forEach(We,wt){return new(wt=at(wt))((xt,zt)=>{const Xt=new S.Hp({next:Vn=>{try{We(Vn)}catch(nr){zt(nr),Xt.unsubscribe()}},error:zt,complete:xt});this.subscribe(Xt)})}_subscribe(We){var wt;return null===(wt=this.source)||void 0===wt?void 0:wt.subscribe(We)}[Ze.L](){return this}pipe(...We){return(0,ke.U)(We)(this)}toPromise(We){return new(We=at(We))((wt,xt)=>{let zt;this.subscribe(Xt=>zt=Xt,Xt=>xt(Xt),()=>wt(zt))})}}return Fe.create=mt=>new Fe(mt),Fe})();function at(Fe){var mt;return null!==(mt=Fe??te.config.Promise)&&void 0!==mt?mt:Promise}},8645:(sn,ot,Q)=>{"use strict";Q.d(ot,{x:()=>Re});var S=Q(5592),fe=Q(7394);const ke=(0,Q(2306).d)(at=>function(){at(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=Q(9039),De=Q(1441);let Re=(()=>{class at extends S.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Fe=new gt(this,this);return Fe.operator=le,Fe}_throwIfClosed(){if(this.closed)throw new ke}next(le){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(le)}})}error(le){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(le)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Fe,isStopped:mt,observers:We}=this;return Fe||mt?fe.Lc:(this.currentObservers=null,We.push(le),new fe.w0(()=>{this.currentObservers=null,(0,te.P)(We,le)}))}_checkFinalizedStatuses(le){const{hasError:Fe,thrownError:mt,isStopped:We}=this;Fe?le.error(mt):We&&le.complete()}asObservable(){const le=new S.y;return le.source=this,le}}return at.create=(ue,le)=>new gt(ue,le),at})();class gt extends Re{constructor(ue,le){super(),this.destination=ue,this.source=le}next(ue){var le,Fe;null===(Fe=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Fe||Fe.call(le,ue)}error(ue){var le,Fe;null===(Fe=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Fe||Fe.call(le,ue)}complete(){var ue,le;null===(le=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===le||le.call(ue)}_subscribe(ue){var le,Fe;return null!==(Fe=null===(le=this.source)||void 0===le?void 0:le.subscribe(ue))&&void 0!==Fe?Fe:fe.Lc}}},305:(sn,ot,Q)=>{"use strict";Q.d(ot,{Hp:()=>xt,Lv:()=>Fe});var S=Q(4674),fe=Q(7394),Ze=Q(2653),ke=Q(3894),te=Q(2420);const De=at("C",void 0,void 0);function at(it,nt,st){return{kind:it,value:nt,error:st}}var ue=Q(7599),le=Q(1441);class Fe extends fe.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,fe.Nn)(nt)&&nt.add(this)):this.destination=nr}static create(nt,st,Pt){return new xt(nt,st,Pt)}next(nt){this.isStopped?Vn(function gt(it){return at("N",it,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?Vn(function Re(it){return at("E",void 0,it)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?Vn(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function We(it,nt){return mt.call(it,nt)}class wt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:st}=this;if(st.next)try{st.next(nt)}catch(Pt){zt(Pt)}}error(nt){const{partialObserver:st}=this;if(st.error)try{st.error(nt)}catch(Pt){zt(Pt)}else zt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(st){zt(st)}}}class xt extends Fe{constructor(nt,st,Pt){let Vt;if(super(),(0,S.m)(nt)||!nt)Vt={next:nt??void 0,error:st??void 0,complete:Pt??void 0};else{let Mt;this&&Ze.config.useDeprecatedNextContext?(Mt=Object.create(nt),Mt.unsubscribe=()=>this.unsubscribe(),Vt={next:nt.next&&We(nt.next,Mt),error:nt.error&&We(nt.error,Mt),complete:nt.complete&&We(nt.complete,Mt)}):Vt=nt}this.destination=new wt(Vt)}}function zt(it){Ze.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(it):(0,ke.h)(it)}function Vn(it,nt){const{onStoppedNotification:st}=Ze.config;st&&ue.z.setTimeout(()=>st(it,nt))}const nr={closed:!0,next:te.Z,error:function Xt(it){throw it},complete:te.Z}},7394:(sn,ot,Q)=>{"use strict";Q.d(ot,{Lc:()=>De,w0:()=>te,Nn:()=>Re});var S=Q(4674);const Ze=(0,Q(2306).d)(at=>function(le){at(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Fe,mt)=>`${mt+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ke=Q(9039);class te{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const We of le)We.remove(this);else le.remove(this);const{initialTeardown:Fe}=this;if((0,S.m)(Fe))try{Fe()}catch(We){ue=We instanceof Ze?We.errors:[We]}const{_finalizers:mt}=this;if(mt){this._finalizers=null;for(const We of mt)try{gt(We)}catch(wt){ue=ue??[],wt instanceof Ze?ue=[...ue,...wt.errors]:ue.push(wt)}}if(ue)throw new Ze(ue)}}add(ue){var le;if(ue&&ue!==this)if(this.closed)gt(ue);else{if(ue instanceof te){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ue)}}_hasParent(ue){const{_parentage:le}=this;return le===ue||Array.isArray(le)&&le.includes(ue)}_addParent(ue){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ue),le):le?[le,ue]:ue}_removeParent(ue){const{_parentage:le}=this;le===ue?this._parentage=null:Array.isArray(le)&&(0,ke.P)(le,ue)}remove(ue){const{_finalizers:le}=this;le&&(0,ke.P)(le,ue),ue instanceof te&&ue._removeParent(this)}}te.EMPTY=(()=>{const at=new te;return at.closed=!0,at})();const De=te.EMPTY;function Re(at){return at instanceof te||at&&"closed"in at&&(0,S.m)(at.remove)&&(0,S.m)(at.add)&&(0,S.m)(at.unsubscribe)}function gt(at){(0,S.m)(at)?at():at.unsubscribe()}},2653:(sn,ot,Q)=>{"use strict";Q.d(ot,{config:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(sn,ot,Q)=>{"use strict";Q.d(ot,{E:()=>fe});const fe=new(Q(5592).y)(te=>te.complete())},2459:(sn,ot,Q)=>{"use strict";Q.d(ot,{D:()=>nt});var S=Q(4829),fe=Q(3093),Ze=Q(5137),De=Q(5592),gt=Q(4971),at=Q(4674),ue=Q(7103);function Fe(st,Pt){if(!st)throw new Error("Iterable cannot be null");return new De.y(Vt=>{(0,ue.f)(Vt,Pt,()=>{const Mt=st[Symbol.asyncIterator]();(0,ue.f)(Vt,Pt,()=>{Mt.next().then(_e=>{_e.done?Vt.complete():Vt.next(_e.value)})},0,!0)})})}var mt=Q(8382),We=Q(4026),wt=Q(4266),xt=Q(3664),zt=Q(5726),Xt=Q(9853),Vn=Q(541);function nt(st,Pt){return Pt?function it(st,Pt){if(null!=st){if((0,mt.c)(st))return function ke(st,Pt){return(0,S.Xf)(st).pipe((0,Ze.R)(Pt),(0,fe.Q)(Pt))}(st,Pt);if((0,wt.z)(st))return function Re(st,Pt){return new De.y(Vt=>{let Mt=0;return Pt.schedule(function(){Mt===st.length?Vt.complete():(Vt.next(st[Mt++]),Vt.closed||this.schedule())})})}(st,Pt);if((0,We.t)(st))return function te(st,Pt){return(0,S.Xf)(st).pipe((0,Ze.R)(Pt),(0,fe.Q)(Pt))}(st,Pt);if((0,zt.D)(st))return Fe(st,Pt);if((0,xt.T)(st))return function le(st,Pt){return new De.y(Vt=>{let Mt;return(0,ue.f)(Vt,Pt,()=>{Mt=st[gt.h](),(0,ue.f)(Vt,Pt,()=>{let _e,At;try{({value:_e,done:At}=Mt.next())}catch(Tn){return void Vt.error(Tn)}At?Vt.complete():Vt.next(_e)},0,!0)}),()=>(0,at.m)(Mt?.return)&&Mt.return()})}(st,Pt);if((0,Vn.L)(st))return function nr(st,Pt){return Fe((0,Vn.Q)(st),Pt)}(st,Pt)}throw(0,Xt.z)(st)}(st,Pt):(0,S.Xf)(st)}},4829:(sn,ot,Q)=>{"use strict";Q.d(ot,{Xf:()=>mt});var S=Q(7582),fe=Q(4266),Ze=Q(4026),ke=Q(5592),te=Q(8382),De=Q(5726),Re=Q(9853),gt=Q(3664),at=Q(541),ue=Q(4674),le=Q(3894),Fe=Q(4850);function mt(it){if(it instanceof ke.y)return it;if(null!=it){if((0,te.c)(it))return function We(it){return new ke.y(nt=>{const st=it[Fe.L]();if((0,ue.m)(st.subscribe))return st.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,fe.z)(it))return function wt(it){return new ke.y(nt=>{for(let st=0;st<it.length&&!nt.closed;st++)nt.next(it[st]);nt.complete()})}(it);if((0,Ze.t)(it))return function xt(it){return new ke.y(nt=>{it.then(st=>{nt.closed||(nt.next(st),nt.complete())},st=>nt.error(st)).then(null,le.h)})}(it);if((0,De.D)(it))return Xt(it);if((0,gt.T)(it))return function zt(it){return new ke.y(nt=>{for(const st of it)if(nt.next(st),nt.closed)return;nt.complete()})}(it);if((0,at.L)(it))return function Vn(it){return Xt((0,at.Q)(it))}(it)}throw(0,Re.z)(it)}function Xt(it){return new ke.y(nt=>{(function nr(it,nt){var st,Pt,Vt,Mt;return(0,S.mG)(this,void 0,void 0,function*(){try{for(st=(0,S.KL)(it);!(Pt=yield st.next()).done;)if(nt.next(Pt.value),nt.closed)return}catch(_e){Vt={error:_e}}finally{try{Pt&&!Pt.done&&(Mt=st.return)&&(yield Mt.call(st))}finally{if(Vt)throw Vt.error}}nt.complete()})})(it,nt).catch(st=>nt.error(st))})}},2096:(sn,ot,Q)=>{"use strict";Q.d(ot,{of:()=>Ze});var S=Q(4564),fe=Q(2459);function Ze(...ke){const te=(0,S.yG)(ke);return(0,fe.D)(ke,te)}},8251:(sn,ot,Q)=>{"use strict";Q.d(ot,{x:()=>fe});var S=Q(305);function fe(ke,te,De,Re,gt){return new Ze(ke,te,De,Re,gt)}class Ze extends S.Lv{constructor(te,De,Re,gt,at,ue){super(te),this.onFinalize=at,this.shouldUnsubscribe=ue,this._next=De?function(le){try{De(le)}catch(Fe){te.error(Fe)}}:super._next,this._error=gt?function(le){try{gt(le)}catch(Fe){te.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(le){te.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},2181:(sn,ot,Q)=>{"use strict";Q.d(ot,{h:()=>Ze});var S=Q(9360),fe=Q(8251);function Ze(ke,te){return(0,S.e)((De,Re)=>{let gt=0;De.subscribe((0,fe.x)(Re,at=>ke.call(te,at,gt++)&&Re.next(at)))})}},7398:(sn,ot,Q)=>{"use strict";Q.d(ot,{U:()=>Ze});var S=Q(9360),fe=Q(8251);function Ze(ke,te){return(0,S.e)((De,Re)=>{let gt=0;De.subscribe((0,fe.x)(Re,at=>{Re.next(ke.call(te,at,gt++))}))})}},7537:(sn,ot,Q)=>{"use strict";Q.d(ot,{J:()=>Ze});var S=Q(1631),fe=Q(2737);function Ze(ke=1/0){return(0,S.z)(fe.y,ke)}},1631:(sn,ot,Q)=>{"use strict";Q.d(ot,{z:()=>gt});var S=Q(7398),fe=Q(4829),Ze=Q(9360),ke=Q(7103),te=Q(8251),Re=Q(4674);function gt(at,ue,le=1/0){return(0,Re.m)(ue)?gt((Fe,mt)=>(0,S.U)((We,wt)=>ue(Fe,We,mt,wt))((0,fe.Xf)(at(Fe,mt))),le):("number"==typeof ue&&(le=ue),(0,Ze.e)((Fe,mt)=>function De(at,ue,le,Fe,mt,We,wt,xt){const zt=[];let Xt=0,Vn=0,nr=!1;const it=()=>{nr&&!zt.length&&!Xt&&ue.complete()},nt=Pt=>Xt<Fe?st(Pt):zt.push(Pt),st=Pt=>{We&&ue.next(Pt),Xt++;let Vt=!1;(0,fe.Xf)(le(Pt,Vn++)).subscribe((0,te.x)(ue,Mt=>{mt?.(Mt),We?nt(Mt):ue.next(Mt)},()=>{Vt=!0},void 0,()=>{if(Vt)try{for(Xt--;zt.length&&Xt<Fe;){const Mt=zt.shift();wt?(0,ke.f)(ue,wt,()=>st(Mt)):st(Mt)}it()}catch(Mt){ue.error(Mt)}}))};return at.subscribe((0,te.x)(ue,nt,()=>{nr=!0,it()})),()=>{xt?.()}}(Fe,mt,at,le)))}},3093:(sn,ot,Q)=>{"use strict";Q.d(ot,{Q:()=>ke});var S=Q(7103),fe=Q(9360),Ze=Q(8251);function ke(te,De=0){return(0,fe.e)((Re,gt)=>{Re.subscribe((0,Ze.x)(gt,at=>(0,S.f)(gt,te,()=>gt.next(at),De),()=>(0,S.f)(gt,te,()=>gt.complete(),De),at=>(0,S.f)(gt,te,()=>gt.error(at),De)))})}},5137:(sn,ot,Q)=>{"use strict";Q.d(ot,{R:()=>fe});var S=Q(9360);function fe(Ze,ke=0){return(0,S.e)((te,De)=>{De.add(Ze.schedule(()=>te.subscribe(De),ke))})}},4664:(sn,ot,Q)=>{"use strict";Q.d(ot,{w:()=>ke});var S=Q(4829),fe=Q(9360),Ze=Q(8251);function ke(te,De){return(0,fe.e)((Re,gt)=>{let at=null,ue=0,le=!1;const Fe=()=>le&&!at&&gt.complete();Re.subscribe((0,Ze.x)(gt,mt=>{at?.unsubscribe();let We=0;const wt=ue++;(0,S.Xf)(te(mt,wt)).subscribe(at=(0,Ze.x)(gt,xt=>gt.next(De?De(mt,xt,wt,We++):xt),()=>{at=null,Fe()}))},()=>{le=!0,Fe()}))})}},8180:(sn,ot,Q)=>{"use strict";Q.d(ot,{q:()=>ke});var S=Q(6232),fe=Q(9360),Ze=Q(8251);function ke(te){return te<=0?()=>S.E:(0,fe.e)((De,Re)=>{let gt=0;De.subscribe((0,Ze.x)(Re,at=>{++gt<=te&&(Re.next(at),te<=gt&&Re.complete())}))})}},9397:(sn,ot,Q)=>{"use strict";Q.d(ot,{b:()=>te});var S=Q(4674),fe=Q(9360),Ze=Q(8251),ke=Q(2737);function te(De,Re,gt){const at=(0,S.m)(De)||Re||gt?{next:De,error:Re,complete:gt}:De;return at?(0,fe.e)((ue,le)=>{var Fe;null===(Fe=at.subscribe)||void 0===Fe||Fe.call(at);let mt=!0;ue.subscribe((0,Ze.x)(le,We=>{var wt;null===(wt=at.next)||void 0===wt||wt.call(at,We),le.next(We)},()=>{var We;mt=!1,null===(We=at.complete)||void 0===We||We.call(at),le.complete()},We=>{var wt;mt=!1,null===(wt=at.error)||void 0===wt||wt.call(at,We),le.error(We)},()=>{var We,wt;mt&&(null===(We=at.unsubscribe)||void 0===We||We.call(at)),null===(wt=at.finalize)||void 0===wt||wt.call(at)}))}):ke.y}},7599:(sn,ot,Q)=>{"use strict";Q.d(ot,{z:()=>S});const S={setTimeout(fe,Ze,...ke){const{delegate:te}=S;return te?.setTimeout?te.setTimeout(fe,Ze,...ke):setTimeout(fe,Ze,...ke)},clearTimeout(fe){const{delegate:Ze}=S;return(Ze?.clearTimeout||clearTimeout)(fe)},delegate:void 0}},4971:(sn,ot,Q)=>{"use strict";Q.d(ot,{h:()=>fe});const fe=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(sn,ot,Q)=>{"use strict";Q.d(ot,{L:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(sn,ot,Q)=>{"use strict";Q.d(ot,{_6:()=>De,jO:()=>ke,yG:()=>te});var S=Q(4674);function Ze(Re){return Re[Re.length-1]}function ke(Re){return(0,S.m)(Ze(Re))?Re.pop():void 0}function te(Re){return function fe(Re){return Re&&(0,S.m)(Re.schedule)}(Ze(Re))?Re.pop():void 0}function De(Re,gt){return"number"==typeof Ze(Re)?Re.pop():gt}},7453:(sn,ot,Q)=>{"use strict";Q.d(ot,{D:()=>te});const{isArray:S}=Array,{getPrototypeOf:fe,prototype:Ze,keys:ke}=Object;function te(Re){if(1===Re.length){const gt=Re[0];if(S(gt))return{args:gt,keys:null};if(function De(Re){return Re&&"object"==typeof Re&&fe(Re)===Ze}(gt)){const at=ke(gt);return{args:at.map(ue=>gt[ue]),keys:at}}}return{args:Re,keys:null}}},9039:(sn,ot,Q)=>{"use strict";function S(fe,Ze){if(fe){const ke=fe.indexOf(Ze);0<=ke&&fe.splice(ke,1)}}Q.d(ot,{P:()=>S})},2306:(sn,ot,Q)=>{"use strict";function S(fe){const ke=fe(te=>{Error.call(te),te.stack=(new Error).stack});return ke.prototype=Object.create(Error.prototype),ke.prototype.constructor=ke,ke}Q.d(ot,{d:()=>S})},2714:(sn,ot,Q)=>{"use strict";function S(fe,Ze){return fe.reduce((ke,te,De)=>(ke[te]=Ze[De],ke),{})}Q.d(ot,{n:()=>S})},1441:(sn,ot,Q)=>{"use strict";Q.d(ot,{O:()=>ke,x:()=>Ze});var S=Q(2653);let fe=null;function Ze(te){if(S.config.useDeprecatedSynchronousErrorHandling){const De=!fe;if(De&&(fe={errorThrown:!1,error:null}),te(),De){const{errorThrown:Re,error:gt}=fe;if(fe=null,Re)throw gt}}else te()}function ke(te){S.config.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=te)}},7103:(sn,ot,Q)=>{"use strict";function S(fe,Ze,ke,te=0,De=!1){const Re=Ze.schedule(function(){ke(),De?fe.add(this.schedule(null,te)):this.unsubscribe()},te);if(fe.add(Re),!De)return Re}Q.d(ot,{f:()=>S})},2737:(sn,ot,Q)=>{"use strict";function S(fe){return fe}Q.d(ot,{y:()=>S})},4266:(sn,ot,Q)=>{"use strict";Q.d(ot,{z:()=>S});const S=fe=>fe&&"number"==typeof fe.length&&"function"!=typeof fe},5726:(sn,ot,Q)=>{"use strict";Q.d(ot,{D:()=>fe});var S=Q(4674);function fe(Ze){return Symbol.asyncIterator&&(0,S.m)(Ze?.[Symbol.asyncIterator])}},4674:(sn,ot,Q)=>{"use strict";function S(fe){return"function"==typeof fe}Q.d(ot,{m:()=>S})},8382:(sn,ot,Q)=>{"use strict";Q.d(ot,{c:()=>Ze});var S=Q(4850),fe=Q(4674);function Ze(ke){return(0,fe.m)(ke[S.L])}},3664:(sn,ot,Q)=>{"use strict";Q.d(ot,{T:()=>Ze});var S=Q(4971),fe=Q(4674);function Ze(ke){return(0,fe.m)(ke?.[S.h])}},4026:(sn,ot,Q)=>{"use strict";Q.d(ot,{t:()=>fe});var S=Q(4674);function fe(Ze){return(0,S.m)(Ze?.then)}},541:(sn,ot,Q)=>{"use strict";Q.d(ot,{L:()=>ke,Q:()=>Ze});var S=Q(7582),fe=Q(4674);function Ze(te){return(0,S.FC)(this,arguments,function*(){const Re=te.getReader();try{for(;;){const{value:gt,done:at}=yield(0,S.qq)(Re.read());if(at)return yield(0,S.qq)(void 0);yield yield(0,S.qq)(gt)}}finally{Re.releaseLock()}})}function ke(te){return(0,fe.m)(te?.getReader)}},9360:(sn,ot,Q)=>{"use strict";Q.d(ot,{A:()=>fe,e:()=>Ze});var S=Q(4674);function fe(ke){return(0,S.m)(ke?.lift)}function Ze(ke){return te=>{if(fe(te))return te.lift(function(De){try{return ke(De,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(sn,ot,Q)=>{"use strict";Q.d(ot,{Z:()=>ke});var S=Q(7398);const{isArray:fe}=Array;function ke(te){return(0,S.U)(De=>function Ze(te,De){return fe(De)?te(...De):te(De)}(te,De))}},2420:(sn,ot,Q)=>{"use strict";function S(){}Q.d(ot,{Z:()=>S})},8407:(sn,ot,Q)=>{"use strict";Q.d(ot,{U:()=>Ze,z:()=>fe});var S=Q(2737);function fe(...ke){return Ze(ke)}function Ze(ke){return 0===ke.length?S.y:1===ke.length?ke[0]:function(De){return ke.reduce((Re,gt)=>gt(Re),De)}}},3894:(sn,ot,Q)=>{"use strict";Q.d(ot,{h:()=>Ze});var S=Q(2653),fe=Q(7599);function Ze(ke){fe.z.setTimeout(()=>{const{onUnhandledError:te}=S.config;if(!te)throw ke;te(ke)})}},9853:(sn,ot,Q)=>{"use strict";function S(fe){return new TypeError(`You provided ${null!==fe&&"object"==typeof fe?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(ot,{z:()=>S})},3519:function(sn){sn.exports=function(){"use strict";function ot(j,w){(null==w||w>j.length)&&(w=j.length);for(var R=0,F=Array(w);R<w;R++)F[R]=j[R];return F}function fe(j,w,R){if("function"==typeof j?j===w:j.has(w))return arguments.length<3?w:R;throw new TypeError("Private element is not present on this object")}function ke(j,w,R){return w=We(w),function it(j,w){if(w&&("object"==typeof w||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function Ze(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(j)}(j,xt()?Reflect.construct(w,R||[],We(j).constructor):w.apply(j,R))}function De(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function Re(j,w){return j.get(fe(j,w))}function gt(j,w,R){(function te(j,w){if(w.has(j))throw new TypeError("Cannot initialize the same private elements twice on an object")})(j,w),w.set(j,R)}function Fe(j,w,R){return w&&function le(j,w){for(var R=0;R<w.length;R++){var F=w[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(j,_e(F.key),F)}}(j.prototype,w),Object.defineProperty(j,"prototype",{writable:!1}),j}function mt(){return mt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(j,w,R){var F=function Pt(j,w){for(;!{}.hasOwnProperty.call(j,w)&&null!==(j=We(j)););return j}(j,w);if(F){var ce=Object.getOwnPropertyDescriptor(F,w);return ce.get?ce.get.call(arguments.length<3?j:R):ce.value}},mt.apply(null,arguments)}function We(j){return(We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(j)}function xt(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xt=function(){return!!j})()}function nt(j,w){return(nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,F){return R.__proto__=F,R})(j,w)}function st(j,w){return function Q(j){if(Array.isArray(j))return j}(j)||function Xt(j,w){var R=null==j?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(null!=R){var F,ce,rt,ut,Gn=[],ar=!0,Jr=!1;try{if(rt=(R=R.call(j)).next,0!==w)for(;!(ar=(F=rt.call(R)).done)&&(Gn.push(F.value),Gn.length!==w);ar=!0);}catch(ra){Jr=!0,ce=ra}finally{try{if(!ar&&null!=R.return&&(ut=R.return(),Object(ut)!==ut))return}finally{if(Jr)throw ce}}return Gn}}(j,w)||Tn(j,w)||function Vn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(j){return function S(j){if(Array.isArray(j))return ot(j)}(j)||function zt(j){if(typeof Symbol<"u"&&null!=j[Symbol.iterator]||null!=j["@@iterator"])return Array.from(j)}(j)||Tn(j)||function nr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(j){var w=function Mt(j,w){if("object"!=typeof j||!j)return j;var R=j[Symbol.toPrimitive];if(void 0!==R){var F=R.call(j,w);if("object"!=typeof F)return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(j,"string");return"symbol"==typeof w?w:w+""}function At(j){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(j)}function Tn(j,w){if(j){if("string"==typeof j)return ot(j,w);var R={}.toString.call(j).slice(8,-1);return"Object"===R&&j.constructor&&(R=j.constructor.name),"Map"===R||"Set"===R?Array.from(j):"Arguments"===R||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?ot(j,w):void 0}}var pe={},bn=function(w){return new Promise(function(R){if(!w)return R();var F=window.scrollX,ce=window.scrollY;pe.restoreFocusTimeout=setTimeout(function(){pe.previousActiveElement instanceof HTMLElement?(pe.previousActiveElement.focus(),pe.previousActiveElement=null):document.body&&document.body.focus(),R()},100),window.scrollTo(F,ce)})},z=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(j,w){return j[w]="swal2-"+w,j},{}),$e=["success","warning","info","question","error"].reduce(function(j,w){return j[w]="swal2-"+w,j},{}),He="SweetAlert2:",Me=function(w){return w.charAt(0).toUpperCase()+w.slice(1)},be=function(w){console.warn("".concat(He," ").concat("object"===At(w)?w.join(" "):w))},Xe=function(w){console.error("".concat(He," ").concat(w))},Dt=[],ht=function(w,R){!function(w){Dt.includes(w)||(Dt.push(w),be(w))}('"'.concat(w,'" is deprecated and will be removed in the next major release. Please use "').concat(R,'" instead.'))},un=function(w){return"function"==typeof w?w():w},rr=function(w){return w&&"function"==typeof w.toPromise},Kr=function(w){return rr(w)?w.toPromise():Promise.resolve(w)},Tt=function(w){return w&&Promise.resolve(w)===w},Pn=function(){return document.body.querySelector(".".concat(z.container))},Mn=function(w){var R=Pn();return R?R.querySelector(w):null},cn=function(w){return Mn(".".concat(w))},ft=function(){return cn(z.popup)},Kt=function(){return cn(z.icon)},hn=function(){return cn(z.title)},xn=function(){return cn(z["html-container"])},pt=function(){return cn(z.image)},mr=function(){return cn(z["progress-steps"])},mn=function(){return cn(z["validation-message"])},tn=function(){return Mn(".".concat(z.actions," .").concat(z.confirm))},_r=function(){return Mn(".".concat(z.actions," .").concat(z.cancel))},dr=function(){return Mn(".".concat(z.actions," .").concat(z.deny))},qn=function(){return Mn(".".concat(z.loader))},vr=function(){return cn(z.actions)},yi=function(){return cn(z.footer)},_n=function(){return cn(z["timer-progress-bar"])},_o=function(){return cn(z.close)},Bi=function(){var w=ft();if(!w)return[];var R=w.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),F=Array.from(R).sort(function(ut,Gn){var ar=parseInt(ut.getAttribute("tabindex")||"0"),Jr=parseInt(Gn.getAttribute("tabindex")||"0");return ar>Jr?1:ar<Jr?-1:0}),ce=w.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),rt=Array.from(ce).filter(function(ut){return"-1"!==ut.getAttribute("tabindex")});return Vt(new Set(F.concat(rt))).filter(function(ut){return Ot(ut)})},Qr=function(){return Bt(document.body,z.shown)&&!Bt(document.body,z["toast-shown"])&&!Bt(document.body,z["no-backdrop"])},br=function(){var w=ft();return!!w&&Bt(w,z.toast)},Un=function(w,R){if(w.textContent="",R){var ce=(new DOMParser).parseFromString(R,"text/html"),rt=ce.querySelector("head");rt&&Array.from(rt.childNodes).forEach(function(Gn){w.appendChild(Gn)});var ut=ce.querySelector("body");ut&&Array.from(ut.childNodes).forEach(function(Gn){Gn instanceof HTMLVideoElement||Gn instanceof HTMLAudioElement?w.appendChild(Gn.cloneNode(!0)):w.appendChild(Gn)})}},Bt=function(w,R){if(!R)return!1;for(var F=R.split(/\s+/),ce=0;ce<F.length;ce++)if(!w.classList.contains(F[ce]))return!1;return!0},Hr=function(w,R,F){if(function(w,R){Array.from(w.classList).forEach(function(F){!Object.values(z).includes(F)&&!Object.values($e).includes(F)&&!Object.values(R.showClass||{}).includes(F)&&w.classList.remove(F)})}(w,R),R.customClass&&R.customClass[F]){if("string"!=typeof R.customClass[F]&&!R.customClass[F].forEach)return void be("Invalid type of customClass.".concat(F,'! Expected string or iterable object, got "').concat(At(R.customClass[F]),'"'));wn(w,R.customClass[F])}},ln=function(w,R){if(!R)return null;switch(R){case"select":case"textarea":case"file":return w.querySelector(".".concat(z.popup," > .").concat(z[R]));case"checkbox":return w.querySelector(".".concat(z.popup," > .").concat(z.checkbox," input"));case"radio":return w.querySelector(".".concat(z.popup," > .").concat(z.radio," input:checked"))||w.querySelector(".".concat(z.popup," > .").concat(z.radio," input:first-child"));case"range":return w.querySelector(".".concat(z.popup," > .").concat(z.range," input"));default:return w.querySelector(".".concat(z.popup," > .").concat(z.input))}},Kn=function(w){if(w.focus(),"file"!==w.type){var R=w.value;w.value="",w.value=R}},Xr=function(w,R,F){!w||!R||("string"==typeof R&&(R=R.split(/\s+/).filter(Boolean)),R.forEach(function(ce){Array.isArray(w)?w.forEach(function(rt){F?rt.classList.add(ce):rt.classList.remove(ce)}):F?w.classList.add(ce):w.classList.remove(ce)}))},wn=function(w,R){Xr(w,R,!0)},de=function(w,R){Xr(w,R,!1)},K=function(w,R){for(var F=Array.from(w.children),ce=0;ce<F.length;ce++){var rt=F[ce];if(rt instanceof HTMLElement&&Bt(rt,R))return rt}},J=function(w,R,F){F==="".concat(parseInt(F))&&(F=parseInt(F)),F||0===parseInt(F)?w.style.setProperty(R,"number"==typeof F?"".concat(F,"px"):F):w.style.removeProperty(R)},q=function(w){w&&(w.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Y=function(w){w&&(w.style.display="none")},Ae=function(w){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";w&&new MutationObserver(function(){St(w,w.innerHTML,R)}).observe(w,{childList:!0,subtree:!0})},ct=function(w,R,F,ce){var rt=w.querySelector(R);rt&&rt.style.setProperty(F,ce)},St=function(w,R){R?q(w,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Y(w)},Ot=function(w){return!(!w||!(w.offsetWidth||w.offsetHeight||w.getClientRects().length))},En=function(w){return w.scrollHeight>w.clientHeight},Wt=function(w){var R=window.getComputedStyle(w),F=parseFloat(R.getPropertyValue("animation-duration")||"0"),ce=parseFloat(R.getPropertyValue("transition-duration")||"0");return F>0||ce>0},wr=function(w){var R=arguments.length>1&&void 0!==arguments[1]&&arguments[1],F=_n();F&&Ot(F)&&(R&&(F.style.transition="none",F.style.width="100%"),setTimeout(function(){F.style.transition="width ".concat(w/1e3,"s linear"),F.style.width="0%"},10))},ji=function(){return typeof window>"u"||typeof document>"u"},ri='\n <div aria-labelledby="'.concat(z.title,'" aria-describedby="').concat(z["html-container"],'" class="').concat(z.popup,'" tabindex="-1">\n   <button type="button" class="').concat(z.close,'"></button>\n   <ul class="').concat(z["progress-steps"],'"></ul>\n   <div class="').concat(z.icon,'"></div>\n   <img class="').concat(z.image,'" />\n   <h2 class="').concat(z.title,'" id="').concat(z.title,'"></h2>\n   <div class="').concat(z["html-container"],'" id="').concat(z["html-container"],'"></div>\n   <input class="').concat(z.input,'" id="').concat(z.input,'" />\n   <input type="file" class="').concat(z.file,'" />\n   <div class="').concat(z.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(z.select,'" id="').concat(z.select,'"></select>\n   <div class="').concat(z.radio,'"></div>\n   <label class="').concat(z.checkbox,'">\n     <input type="checkbox" id="').concat(z.checkbox,'" />\n     <span class="').concat(z.label,'"></span>\n   </label>\n   <textarea class="').concat(z.textarea,'" id="').concat(z.textarea,'"></textarea>\n   <div class="').concat(z["validation-message"],'" id="').concat(z["validation-message"],'"></div>\n   <div class="').concat(z.actions,'">\n     <div class="').concat(z.loader,'"></div>\n     <button type="button" class="').concat(z.confirm,'"></button>\n     <button type="button" class="').concat(z.deny,'"></button>\n     <button type="button" class="').concat(z.cancel,'"></button>\n   </div>\n   <div class="').concat(z.footer,'"></div>\n   <div class="').concat(z["timer-progress-bar-container"],'">\n     <div class="').concat(z["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),zr=function(){pe.currentInstance.resetValidationMessage()},ze=function(w){var R=function(){var w=Pn();return!!w&&(w.remove(),de([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0)}();if(ji())Xe("SweetAlert2 requires document to initialize");else{var F=document.createElement("div");F.className=z.container,R&&wn(F,z["no-transition"]),Un(F,ri);var ce=function(w){return"string"==typeof w?document.querySelector(w):w}(w.target);ce.appendChild(F),function(w){var R=ft();R.setAttribute("role",w.toast?"alert":"dialog"),R.setAttribute("aria-live",w.toast?"polite":"assertive"),w.toast||R.setAttribute("aria-modal","true")}(w),function(w){"rtl"===window.getComputedStyle(w).direction&&wn(Pn(),z.rtl)}(ce),function(){var w=ft(),R=K(w,z.input),F=K(w,z.file),ce=w.querySelector(".".concat(z.range," input")),rt=w.querySelector(".".concat(z.range," output")),ut=K(w,z.select),Gn=w.querySelector(".".concat(z.checkbox," input")),ar=K(w,z.textarea);R.oninput=zr,F.onchange=zr,ut.onchange=zr,Gn.onchange=zr,ar.oninput=zr,ce.oninput=function(){zr(),rt.value=ce.value},ce.onchange=function(){zr(),rt.value=ce.value}}()}},Ce=function(w,R){w instanceof HTMLElement?R.appendChild(w):"object"===At(w)?Ye(w,R):w&&Un(R,w)},Ye=function(w,R){w.jquery?$t(R,w):Un(R,w.toString())},$t=function(w,R){if(w.textContent="",0 in R)for(var F=0;F in R;F++)w.appendChild(R[F].cloneNode(!0));else w.appendChild(R.cloneNode(!0))},nn=function(){if(ji())return!1;var j=document.createElement("div");return typeof j.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof j.style.animation<"u"&&"animationend"}(),yn=function(w,R){var F=vr(),ce=qn();!F||!ce||(R.showConfirmButton||R.showDenyButton||R.showCancelButton?q(F):Y(F),Hr(F,R,"actions"),function dn(j,w,R){var F=tn(),ce=dr(),rt=_r();!F||!ce||!rt||(Ln(F,"confirm",R),Ln(ce,"deny",R),Ln(rt,"cancel",R),function ir(j,w,R,F){F.buttonsStyling?(wn([j,w,R],z.styled),F.confirmButtonColor&&(j.style.backgroundColor=F.confirmButtonColor,wn(j,z["default-outline"])),F.denyButtonColor&&(w.style.backgroundColor=F.denyButtonColor,wn(w,z["default-outline"])),F.cancelButtonColor&&(R.style.backgroundColor=F.cancelButtonColor,wn(R,z["default-outline"]))):de([j,w,R],z.styled)}(F,ce,rt,R),R.reverseButtons&&(R.toast?(j.insertBefore(rt,F),j.insertBefore(ce,F)):(j.insertBefore(rt,w),j.insertBefore(ce,w),j.insertBefore(F,w))))}(F,ce,R),Un(ce,R.loaderHtml||""),Hr(ce,R,"loader"))};function Ln(j,w,R){var F=Me(w);St(j,R["show".concat(F,"Button")],"inline-block"),Un(j,R["".concat(w,"ButtonText")]||""),j.setAttribute("aria-label",R["".concat(w,"ButtonAriaLabel")]||""),j.className=z[w],Hr(j,R,"".concat(w,"Button"))}var On=function(w,R){var F=Pn();F&&(function Vr(j,w){"string"==typeof w?j.style.background=w:w||wn([document.documentElement,document.body],z["no-backdrop"])}(F,R.backdrop),function qi(j,w){w&&(w in z?wn(j,z[w]):(be('The "position" parameter is not valid, defaulting to "center"'),wn(j,z.center)))}(F,R.position),function Vs(j,w){w&&wn(j,z["grow-".concat(w)])}(F,R.grow),Hr(F,R,"container"))};var Wn={innerParams:new WeakMap,domCache:new WeakMap},In=["input","file","range","select","radio","checkbox","textarea"],_t=function(w){if(w.input){if(!ur[w.input])return void Xe("Unexpected type of input! Expected ".concat(Object.keys(ur).join(" | "),', got "').concat(w.input,'"'));var R=Bn(w.input),F=ur[w.input](R,w);q(R),w.inputAutoFocus&&setTimeout(function(){Kn(F)})}},rn=function(w,R){var F=ln(ft(),w);if(F)for(var ce in function(w){for(var R=0;R<w.attributes.length;R++){var F=w.attributes[R].name;["id","type","value","style"].includes(F)||w.removeAttribute(F)}}(F),R)F.setAttribute(ce,R[ce])},Cn=function(w){var R=Bn(w.input);"object"===At(w.customClass)&&wn(R,w.customClass.input)},kr=function(w,R){(!w.placeholder||R.inputPlaceholder)&&(w.placeholder=R.inputPlaceholder)},or=function(w,R,F){if(F.inputLabel){var ce=document.createElement("label"),rt=z["input-label"];ce.setAttribute("for",w.id),ce.className=rt,"object"===At(F.customClass)&&wn(ce,F.customClass.inputLabel),ce.innerText=F.inputLabel,R.insertAdjacentElement("beforebegin",ce)}},Bn=function(w){return K(ft(),z[w]||z.input)},jr=function(w,R){["string","number"].includes(At(R))?w.value="".concat(R):Tt(R)||be('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(At(R),'"'))},ur={};ur.text=ur.email=ur.password=ur.number=ur.tel=ur.url=ur.search=ur.date=ur["datetime-local"]=ur.time=ur.week=ur.month=function(j,w){return jr(j,w.inputValue),or(j,j,w),kr(j,w),j.type=w.input,j},ur.file=function(j,w){return or(j,j,w),kr(j,w),j},ur.range=function(j,w){var R=j.querySelector("input"),F=j.querySelector("output");return jr(R,w.inputValue),R.type=w.input,jr(F,w.inputValue),or(R,j,w),j},ur.select=function(j,w){if(j.textContent="",w.inputPlaceholder){var R=document.createElement("option");Un(R,w.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,j.appendChild(R)}return or(j,j,w),j},ur.radio=function(j){return j.textContent="",j},ur.checkbox=function(j,w){var R=ln(ft(),"checkbox");R.value="1",R.checked=!!w.inputValue;var F=j.querySelector("span");return Un(F,w.inputPlaceholder),R},ur.textarea=function(j,w){jr(j,w.inputValue),kr(j,w),or(j,j,w);return setTimeout(function(){if("MutationObserver"in window){var F=parseInt(window.getComputedStyle(ft()).width);new MutationObserver(function(){if(document.body.contains(j)){var ut=j.offsetWidth+(ce=j,parseInt(window.getComputedStyle(ce).marginLeft)+parseInt(window.getComputedStyle(ce).marginRight));ut>F?ft().style.width="".concat(ut,"px"):J(ft(),"width",w.width)}var ce}).observe(j,{attributes:!0,attributeFilter:["style"]})}}),j};var xr=function(w,R){var F=xn();F&&(Ae(F),Hr(F,R,"htmlContainer"),R.html?(Ce(R.html,F),q(F,"block")):R.text?(F.textContent=R.text,q(F,"block")):Y(F),function(w,R){var F=ft();if(F){var ce=Wn.innerParams.get(w),rt=!ce||R.input!==ce.input;In.forEach(function(ut){var Gn=K(F,z[ut]);Gn&&(rn(ut,R.inputAttributes),Gn.className=z[ut],rt&&Y(Gn))}),R.input&&(rt&&_t(R),Cn(R))}}(w,R))},jn=function(w,R){for(var F=0,ce=Object.entries($e);F<ce.length;F++){var rt=st(ce[F],2);R.icon!==rt[0]&&de(w,rt[1])}wn(w,R.icon&&$e[R.icon]),Ps(w,R),Rs(),Hr(w,R,"icon")},Rs=function(){var w=ft();if(w)for(var R=window.getComputedStyle(w).getPropertyValue("background-color"),F=w.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),ce=0;ce<F.length;ce++)F[ce].style.backgroundColor=R},Qi=function(w,R){if(R.icon||R.iconHtml){var F=w.innerHTML,ce="";R.iconHtml?ce=gs(R.iconHtml):"success"===R.icon?(ce='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',F=F.replace(/ style=".*?"/g,"")):"error"===R.icon?ce='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':R.icon&&(ce=gs({question:"?",warning:"!",info:"i"}[R.icon])),F.trim()!==ce.trim()&&Un(w,ce)}},Ps=function(w,R){if(R.iconColor){w.style.color=R.iconColor,w.style.borderColor=R.iconColor;for(var F=0,ce=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];F<ce.length;F++)ct(w,ce[F],"background-color",R.iconColor);ct(w,".swal2-success-ring","border-color",R.iconColor)}},gs=function(w){return'<div class="'.concat(z["icon-content"],'">').concat(w,"</div>")},vo=function(w,R){var F=R.showClass||{};w.className="".concat(z.popup," ").concat(Ot(w)?F.popup:""),R.toast?(wn([document.documentElement,document.body],z["toast-shown"]),wn(w,z.toast)):wn(w,z.modal),Hr(w,R,"popup"),"string"==typeof R.customClass&&wn(w,R.customClass),R.icon&&wn(w,z["icon-".concat(R.icon)])},Xo=function(w){var R=document.createElement("li");return wn(R,z["progress-step"]),Un(R,w),R},Zi=function(w){var R=document.createElement("li");return wn(R,z["progress-step-line"]),w.progressStepsDistance&&J(R,"width",w.progressStepsDistance),R},wo=function(w,R){(function(w,R){var F=Pn(),ce=ft();if(F&&ce){if(R.toast){J(F,"width",R.width),ce.style.width="100%";var rt=qn();rt&&ce.insertBefore(rt,Kt())}else J(ce,"width",R.width);J(ce,"padding",R.padding),R.color&&(ce.style.color=R.color),R.background&&(ce.style.background=R.background),Y(mn()),vo(ce,R)}})(0,R),On(0,R),function(w,R){var F=mr();if(F){var ce=R.progressSteps,rt=R.currentProgressStep;if(!ce||0===ce.length||void 0===rt)return void Y(F);q(F),F.textContent="",rt>=ce.length&&be("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),ce.forEach(function(ut,Gn){var ar=Xo(ut);if(F.appendChild(ar),Gn===rt&&wn(ar,z["active-progress-step"]),Gn!==ce.length-1){var Jr=Zi(R);F.appendChild(Jr)}})}}(0,R),function(w,R){var F=Wn.innerParams.get(w),ce=Kt();if(ce){if(F&&R.icon===F.icon)return Qi(ce,R),void jn(ce,R);if(!R.icon&&!R.iconHtml)return void Y(ce);if(R.icon&&-1===Object.keys($e).indexOf(R.icon))return Xe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(R.icon,'"')),void Y(ce);q(ce),Qi(ce,R),jn(ce,R),wn(ce,R.showClass&&R.showClass.icon)}}(w,R),function(w,R){var F=pt();if(F){if(!R.imageUrl)return void Y(F);q(F,""),F.setAttribute("src",R.imageUrl),F.setAttribute("alt",R.imageAlt||""),J(F,"width",R.imageWidth),J(F,"height",R.imageHeight),F.className=z.image,Hr(F,R,"image")}}(0,R),function(w,R){var F=hn();F&&(Ae(F),St(F,R.title||R.titleText,"block"),R.title&&Ce(R.title,F),R.titleText&&(F.innerText=R.titleText),Hr(F,R,"title"))}(0,R),function(w,R){var F=_o();F&&(Un(F,R.closeButtonHtml||""),Hr(F,R,"closeButton"),St(F,R.showCloseButton),F.setAttribute("aria-label",R.closeButtonAriaLabel||""))}(0,R),xr(w,R),yn(0,R),function(w,R){var F=yi();F&&(Ae(F),St(F,R.footer,"block"),R.footer&&Ce(R.footer,F),Hr(F,R,"footer"))}(0,R);var F=ft();"function"==typeof R.didRender&&F&&R.didRender(F)},ms=function(){var w;return null===(w=tn())||void 0===w?void 0:w.click()},Ei=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Sn=function(w){w.keydownTarget&&w.keydownHandlerAdded&&(w.keydownTarget.removeEventListener("keydown",w.keydownHandler,{capture:w.keydownListenerCapture}),w.keydownHandlerAdded=!1)},hr=function(w,R){var F,ce=Bi();if(ce.length)return(w+=R)===ce.length?w=0:-1===w&&(w=ce.length-1),void ce[w].focus();null===(F=ft())||void 0===F||F.focus()},xi=["ArrowRight","ArrowDown"],Ni=["ArrowLeft","ArrowUp"],es=function(w,R,F){w&&(R.isComposing||229===R.keyCode||(w.stopKeydownPropagation&&R.stopPropagation(),"Enter"===R.key?oo(R,w):"Tab"===R.key?Io(R):[].concat(xi,Ni).includes(R.key)?ma(R.key):"Escape"===R.key&&_s(R,w,F)))},oo=function(w,R){if(un(R.allowEnterKey)){var F=ln(ft(),R.input);if(w.target&&F&&w.target instanceof HTMLElement&&w.target.outerHTML===F.outerHTML){if(["textarea","file"].includes(R.input))return;ms(),w.preventDefault()}}},Io=function(w){for(var R=w.target,F=Bi(),ce=-1,rt=0;rt<F.length;rt++)if(R===F[rt]){ce=rt;break}hr(ce,w.shiftKey?-1:1),w.stopPropagation(),w.preventDefault()},ma=function(w){var R=vr(),F=tn(),ce=dr(),rt=_r();if(R&&F&&ce&&rt&&(!(document.activeElement instanceof HTMLElement)||[F,ce,rt].includes(document.activeElement))){var Gn=xi.includes(w)?"nextElementSibling":"previousElementSibling",ar=document.activeElement;if(ar){for(var Jr=0;Jr<R.children.length;Jr++){if(!(ar=ar[Gn]))return;if(ar instanceof HTMLButtonElement&&Ot(ar))break}ar instanceof HTMLButtonElement&&ar.focus()}}},_s=function(w,R,F){un(R.allowEscapeKey)&&(w.preventDefault(),F(Ei.esc))},Ir={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},en=function(){Array.from(document.body.children).forEach(function(R){R.hasAttribute("data-previous-aria-hidden")?(R.setAttribute("aria-hidden",R.getAttribute("data-previous-aria-hidden")||""),R.removeAttribute("data-previous-aria-hidden")):R.removeAttribute("aria-hidden")})},Er=typeof window<"u"&&!!window.GestureEvent,Pi=function(){var R,w=Pn();w&&(w.ontouchstart=function(F){R=Yr(F)},w.ontouchmove=function(F){R&&(F.preventDefault(),F.stopPropagation())})},Yr=function(w){var R=w.target,F=Pn(),ce=xn();return!(!F||!ce||di(w)||fr(w)||R!==F&&(En(F)||!(R instanceof HTMLElement)||"INPUT"===R.tagName||"TEXTAREA"===R.tagName||En(ce)&&ce.contains(R)))},di=function(w){return w.touches&&w.touches.length&&"stylus"===w.touches[0].touchType},fr=function(w){return w.touches&&w.touches.length>1},Nt=null,Fn=function(w){null===Nt&&(document.body.scrollHeight>window.innerHeight||"scroll"===w)&&(Nt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Nt+function(){var w=document.createElement("div");w.className=z["scrollbar-measure"],document.body.appendChild(w);var R=w.getBoundingClientRect().width-w.clientWidth;return document.body.removeChild(w),R}(),"px"))};function $i(j,w,R,F){br()?Lo(j,F):(bn(R).then(function(){return Lo(j,F)}),Sn(pe)),Er?(w.setAttribute("style","display:none !important"),w.removeAttribute("class"),w.innerHTML=""):w.remove(),Qr()&&(null!==Nt&&(document.body.style.paddingRight="".concat(Nt,"px"),Nt=null),function(){if(Bt(document.body,z.iosfix)){var w=parseInt(document.body.style.top,10);de(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=-1*w}}(),en()),function Ur(){de([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}()}function bi(j){j=ys(j);var w=Ir.swalPromiseResolve.get(this),R=Hi(this);this.isAwaitingPromise?j.isDismissed||(so(this),w(j)):R&&w(j)}var Hi=function(w){var R=ft();if(!R)return!1;var F=Wn.innerParams.get(w);if(!F||Bt(R,F.hideClass.popup))return!1;de(R,F.showClass.popup),wn(R,F.hideClass.popup);var ce=Pn();return de(ce,F.showClass.backdrop),wn(ce,F.hideClass.backdrop),ts(w,R,F),!0};function Oi(j){var w=Ir.swalPromiseReject.get(this);so(this),w&&w(j)}var so=function(w){w.isAwaitingPromise&&(delete w.isAwaitingPromise,Wn.innerParams.get(w)||w._destroy())},ys=function(w){return typeof w>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},w)},ts=function(w,R,F){var ce=Pn(),rt=nn&&Wt(R);"function"==typeof F.willClose&&F.willClose(R),rt?ns(w,R,ce,F.returnFocus,F.didClose):$i(w,ce,F.returnFocus,F.didClose)},ns=function(w,R,F,ce,rt){nn&&(pe.swalCloseEventFinishedCallback=$i.bind(null,w,F,ce,rt),R.addEventListener(nn,function(ut){ut.target===R&&(pe.swalCloseEventFinishedCallback(),delete pe.swalCloseEventFinishedCallback)}))},Lo=function(w,R){setTimeout(function(){"function"==typeof R&&R.bind(w.params)(),w._destroy&&w._destroy()})},Eo=function(w){var R=ft();if(R||new bo,R=ft()){var F=qn();br()?Y(Kt()):$n(R,w),q(F),R.setAttribute("data-loading","true"),R.setAttribute("aria-busy","true"),R.focus()}},$n=function(w,R){var F=vr(),ce=qn();!F||!ce||(!R&&Ot(tn())&&(R=tn()),q(F),R&&(Y(R),ce.setAttribute("data-button-to-replace",R.className),F.insertBefore(ce,R)),wn([w,F],z.loading))},vs=function(w){return w.checked?1:0},hi=function(w){return w.checked?w.value:null},ws=function(w){return w.files&&w.files.length?null!==w.getAttribute("multiple")?w.files:w.files[0]:null},Di=function(w,R){var F=ft();if(F){var ce=function(ut){"select"===R.input?function Gr(j,w,R){var F=K(j,z.select);if(F){var ce=function(ut,Gn,ar){var Jr=document.createElement("option");Jr.value=ar,Un(Jr,Gn),Jr.selected=U(ar,R.inputValue),ut.appendChild(Jr)};w.forEach(function(rt){var ut=rt[0],Gn=rt[1];if(Array.isArray(Gn)){var ar=document.createElement("optgroup");ar.label=ut,ar.disabled=!1,F.appendChild(ar),Gn.forEach(function(Jr){return ce(ar,Jr[1],Jr[0])})}else ce(F,Gn,ut)}),F.focus()}}(F,fi(ut),R):"radio"===R.input&&function Us(j,w,R){var F=K(j,z.radio);if(F){w.forEach(function(rt){var ut=rt[0],Gn=rt[1],ar=document.createElement("input"),Jr=document.createElement("label");ar.type="radio",ar.name=z.radio,ar.value=ut,U(ut,R.inputValue)&&(ar.checked=!0);var ra=document.createElement("span");Un(ra,Gn),ra.className=z.label,Jr.appendChild(ar),Jr.appendChild(ra),F.appendChild(Jr)});var ce=F.querySelectorAll("input");ce.length&&ce[0].focus()}}(F,fi(ut),R)};rr(R.inputOptions)||Tt(R.inputOptions)?(Eo(tn()),Kr(R.inputOptions).then(function(rt){w.hideLoading(),ce(rt)})):"object"===At(R.inputOptions)?ce(R.inputOptions):Xe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(At(R.inputOptions)))}},Vo=function(w,R){var F=w.getInput();F&&(Y(F),Kr(R.inputValue).then(function(ce){F.value="".concat("number"===R.input?parseFloat(ce)||0:ce),q(F),F.focus(),w.hideLoading()}).catch(function(ce){Xe("Error in inputValue promise: ".concat(ce)),F.value="",q(F),F.focus(),w.hideLoading()}))};var fi=function j(w){var R=[];return w instanceof Map?w.forEach(function(F,ce){var rt=F;"object"===At(rt)&&(rt=j(rt)),R.push([ce,rt])}):Object.keys(w).forEach(function(F){var ce=w[F];"object"===At(ce)&&(ce=j(ce)),R.push([F,ce])}),R},U=function(w,R){return!!R&&R.toString()===w.toString()},B=void 0,et=function(w,R){var F=Wn.innerParams.get(w);if(F.input){var ce=w.getInput(),rt=function(w,R){var F=w.getInput();if(!F)return null;switch(R.input){case"checkbox":return vs(F);case"radio":return hi(F);case"file":return ws(F);default:return R.inputAutoTrim?F.value.trim():F.value}}(w,F);F.inputValidator?Rt(w,rt,R):ce&&!ce.checkValidity()?(w.enableButtons(),w.showValidationMessage(F.validationMessage||ce.validationMessage)):"deny"===R?Lt(w,rt):tr(w,rt)}else Xe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Me(R)))},Rt=function(w,R,F){var ce=Wn.innerParams.get(w);w.disableInput(),Promise.resolve().then(function(){return Kr(ce.inputValidator(R,ce.validationMessage))}).then(function(ut){w.enableButtons(),w.enableInput(),ut?w.showValidationMessage(ut):"deny"===F?Lt(w,R):tr(w,R)})},Lt=function(w,R){var F=Wn.innerParams.get(w||B);F.showLoaderOnDeny&&Eo(dr()),F.preDeny?(w.isAwaitingPromise=!0,Promise.resolve().then(function(){return Kr(F.preDeny(R,F.validationMessage))}).then(function(rt){!1===rt?(w.hideLoading(),so(w)):w.close({isDenied:!0,value:typeof rt>"u"?R:rt})}).catch(function(rt){return Rn(w||B,rt)})):w.close({isDenied:!0,value:R})},Yt=function(w,R){w.close({isConfirmed:!0,value:R})},Rn=function(w,R){w.rejectPromise(R)},tr=function(w,R){var F=Wn.innerParams.get(w||B);F.showLoaderOnConfirm&&Eo(),F.preConfirm?(w.resetValidationMessage(),w.isAwaitingPromise=!0,Promise.resolve().then(function(){return Kr(F.preConfirm(R,F.validationMessage))}).then(function(rt){Ot(mn())||!1===rt?(w.hideLoading(),so(w)):Yt(w,typeof rt>"u"?R:rt)}).catch(function(rt){return Rn(w||B,rt)})):Yt(w,R)};function Sr(){var j=Wn.innerParams.get(this);if(j){var w=Wn.domCache.get(this);Y(w.loader),br()?j.icon&&q(Kt()):$r(w),de([w.popup,w.actions],z.loading),w.popup.removeAttribute("aria-busy"),w.popup.removeAttribute("data-loading"),w.confirmButton.disabled=!1,w.denyButton.disabled=!1,w.cancelButton.disabled=!1}}var $r=function(w){var R=w.popup.getElementsByClassName(w.loader.getAttribute("data-button-to-replace"));R.length?q(R[0],"inline-block"):!Ot(tn())&&!Ot(dr())&&!Ot(_r())&&Y(w.actions)};function ei(){var j=Wn.innerParams.get(this),w=Wn.domCache.get(this);return w?ln(w.popup,j.input):null}function Lr(j,w,R){var F=Wn.domCache.get(j);w.forEach(function(ce){F[ce].disabled=R})}function pi(j,w){var R=ft();if(R&&j)if("radio"===j.type)for(var F=R.querySelectorAll('[name="'.concat(z.radio,'"]')),ce=0;ce<F.length;ce++)F[ce].disabled=w;else j.disabled=w}function Wr(){Lr(this,["confirmButton","denyButton","cancelButton"],!1)}function ki(){Lr(this,["confirmButton","denyButton","cancelButton"],!0)}function Ai(){pi(this.getInput(),!1)}function Zn(){pi(this.getInput(),!0)}function gi(j){var w=Wn.domCache.get(this),R=Wn.innerParams.get(this);Un(w.validationMessage,j),w.validationMessage.className=z["validation-message"],R.customClass&&R.customClass.validationMessage&&wn(w.validationMessage,R.customClass.validationMessage),q(w.validationMessage);var F=this.getInput();F&&(F.setAttribute("aria-invalid","true"),F.setAttribute("aria-describedby",z["validation-message"]),Kn(F),wn(F,z.inputerror))}function ti(){var j=Wn.domCache.get(this);j.validationMessage&&Y(j.validationMessage);var w=this.getInput();w&&(w.removeAttribute("aria-invalid"),w.removeAttribute("aria-describedby"),de(w,z.inputerror))}var zi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ji=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],rs={},Gi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ca=function(w){return Object.prototype.hasOwnProperty.call(zi,w)},is=function(w){return-1!==Ji.indexOf(w)},Ms=function(w){return rs[w]},Ro=function(w){Ca(w)||be('Unknown parameter "'.concat(w,'"'))},kn=function(w){Gi.includes(w)&&be('The parameter "'.concat(w,'" is incompatible with toasts'))},Js=function(w){var R=Ms(w);R&&ht(w,R)};function Xi(j){var w=ft(),R=Wn.innerParams.get(this);if(w&&!Bt(w,R.hideClass.popup)){var F=Li(j),ce=Object.assign({},R,F);wo(this,ce),Wn.innerParams.set(this,ce),Object.defineProperties(this,{params:{value:Object.assign({},this.params,j),writable:!1,enumerable:!0}})}else be("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Li=function(w){var R={};return Object.keys(w).forEach(function(F){is(F)?R[F]=w[F]:be("Invalid parameter to update: ".concat(F))}),R};function Bs(){var j=Wn.domCache.get(this),w=Wn.innerParams.get(this);w?(j.popup&&pe.swalCloseEventFinishedCallback&&(pe.swalCloseEventFinishedCallback(),delete pe.swalCloseEventFinishedCallback),"function"==typeof w.didDestroy&&w.didDestroy(),Xs(this)):ea(this)}var Xs=function(w){ea(w),delete w.params,delete pe.keydownHandler,delete pe.keydownTarget,delete pe.currentInstance},ea=function(w){w.isAwaitingPromise?(js(Wn,w),w.isAwaitingPromise=!0):(js(Ir,w),js(Wn,w),delete w.isAwaitingPromise,delete w.disableButtons,delete w.enableButtons,delete w.getInput,delete w.disableInput,delete w.enableInput,delete w.hideLoading,delete w.disableLoading,delete w.showValidationMessage,delete w.resetValidationMessage,delete w.close,delete w.closePopup,delete w.closeModal,delete w.closeToast,delete w.rejectPromise,delete w.update,delete w._destroy)},js=function(w,R){for(var F in w)w[F].delete(R)},xs=Object.freeze({__proto__:null,_destroy:Bs,close:bi,closeModal:bi,closePopup:bi,closeToast:bi,disableButtons:ki,disableInput:Zn,disableLoading:Sr,enableButtons:Wr,enableInput:Ai,getInput:ei,handleAwaitingPromise:so,hideLoading:Sr,rejectPromise:Oi,resetValidationMessage:ti,showValidationMessage:gi,update:Xi}),To=function(w,R,F){R.popup.onclick=function(){w&&(_a(w)||w.timer||w.input)||F(Ei.close)}},_a=function(w){return!!(w.showConfirmButton||w.showDenyButton||w.showCancelButton||w.showCloseButton)},ao=!1,ru=function(w){w.popup.onmousedown=function(){w.container.onmouseup=function(R){w.container.onmouseup=function(){},R.target===w.container&&(ao=!0)}}},os=function(w){w.container.onmousedown=function(R){R.target===w.container&&R.preventDefault(),w.popup.onmouseup=function(F){w.popup.onmouseup=function(){},(F.target===w.popup||F.target instanceof HTMLElement&&w.popup.contains(F.target))&&(ao=!0)}}},Es=function(w,R,F){R.container.onclick=function(ce){ao?ao=!1:ce.target===R.container&&un(w.allowOutsideClick)&&F(Ei.backdrop)}},Uo=function(w){return w instanceof Element||function(w){return"object"===At(w)&&w.jquery}(w)};var H=function(){if(pe.timeout)return function(){var w=_n();if(w){var R=parseInt(window.getComputedStyle(w).width);w.style.removeProperty("transition"),w.style.width="100%";var F=parseInt(window.getComputedStyle(w).width);w.style.width="".concat(R/F*100,"%")}}(),pe.timeout.stop()},x=function(){if(pe.timeout){var w=pe.timeout.start();return wr(w),w}},dt=!1,qt={};var Rr=function(w){for(var R=w.target;R&&R!==document;R=R.parentNode)for(var F in qt){var ce=R.getAttribute(F);if(ce)return void qt[F].fire({template:ce})}},Tr=Object.freeze({__proto__:null,argsToParams:function(w){var R={};return"object"!==At(w[0])||Uo(w[0])?["title","html","icon"].forEach(function(F,ce){var rt=w[ce];"string"==typeof rt||Uo(rt)?R[F]=rt:void 0!==rt&&Xe("Unexpected type of ".concat(F,'! Expected "string" or "Element", got ').concat(At(rt)))}):Object.assign(R,w[0]),R},bindClickHandler:function cr(){qt[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,dt||(document.body.addEventListener("click",Rr),dt=!0)},clickCancel:function(){var w;return null===(w=_r())||void 0===w?void 0:w.click()},clickConfirm:ms,clickDeny:function(){var w;return null===(w=dr())||void 0===w?void 0:w.click()},enableLoading:Eo,fire:function $s(){for(var w=arguments.length,R=new Array(w),F=0;F<w;F++)R[F]=arguments[F];return function ue(j,w,R){if(xt())return Reflect.construct.apply(null,arguments);var F=[null];return F.push.apply(F,w),new(j.bind.apply(j,F))}(this,R)},getActions:vr,getCancelButton:_r,getCloseButton:_o,getConfirmButton:tn,getContainer:Pn,getDenyButton:dr,getFocusableElements:Bi,getFooter:yi,getHtmlContainer:xn,getIcon:Kt,getIconContent:function(){return cn(z["icon-content"])},getImage:pt,getInputLabel:function(){return cn(z["input-label"])},getLoader:qn,getPopup:ft,getProgressSteps:mr,getTimerLeft:function(){return pe.timeout&&pe.timeout.getTimerLeft()},getTimerProgressBar:_n,getTitle:hn,getValidationMessage:mn,increaseTimer:function(w){if(pe.timeout){var R=pe.timeout.increase(w);return wr(R,!0),R}},isDeprecatedParameter:Ms,isLoading:function(){var w=ft();return!!w&&w.hasAttribute("data-loading")},isTimerRunning:function(){return!(!pe.timeout||!pe.timeout.isRunning())},isUpdatableParameter:is,isValidParameter:Ca,isVisible:function(){return Ot(ft())},mixin:function ni(j){var w=function(R){function F(){return De(this,F),ke(this,F,arguments)}return function wt(j,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),w&&nt(j,w)}(F,R),Fe(F,[{key:"_main",value:function(rt,ut){return mt(We(F.prototype),"_main",this).call(this,rt,Object.assign({},j,ut))}}])}(this);return w},resumeTimer:x,showLoading:Eo,stopTimer:H,toggleTimer:function(){var w=pe.timeout;return w&&(w.running?H():x())}}),Nn=function(){return Fe(function j(w,R){De(this,j),this.callback=w,this.remaining=R,this.running=!1,this.start()},[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(R){var F=this.running;return F&&this.stop(),this.remaining+=R,F&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),Pr=["swal-title","swal-html","swal-footer"],oi=function(w){var R={};return Array.from(w.querySelectorAll("swal-param")).forEach(function(ce){ss(ce,["name","value"]);var rt=ce.getAttribute("name"),ut=ce.getAttribute("value");R[rt]="boolean"==typeof zi[rt]?"false"!==ut:"object"===At(zi[rt])?JSON.parse(ut):ut}),R},Bo=function(w){var R={};return Array.from(w.querySelectorAll("swal-function-param")).forEach(function(ce){var rt=ce.getAttribute("name"),ut=ce.getAttribute("value");R[rt]=new Function("return ".concat(ut))()}),R},uo=function(w){var R={};return Array.from(w.querySelectorAll("swal-button")).forEach(function(ce){ss(ce,["type","color","aria-label"]);var rt=ce.getAttribute("type");R["".concat(rt,"ButtonText")]=ce.innerHTML,R["show".concat(Me(rt),"Button")]=!0,ce.hasAttribute("color")&&(R["".concat(rt,"ButtonColor")]=ce.getAttribute("color")),ce.hasAttribute("aria-label")&&(R["".concat(rt,"ButtonAriaLabel")]=ce.getAttribute("aria-label"))}),R},Po=function(w){var R={},F=w.querySelector("swal-image");return F&&(ss(F,["src","width","height","alt"]),F.hasAttribute("src")&&(R.imageUrl=F.getAttribute("src")||void 0),F.hasAttribute("width")&&(R.imageWidth=F.getAttribute("width")||void 0),F.hasAttribute("height")&&(R.imageHeight=F.getAttribute("height")||void 0),F.hasAttribute("alt")&&(R.imageAlt=F.getAttribute("alt")||void 0)),R},Fi=function(w){var R={},F=w.querySelector("swal-icon");return F&&(ss(F,["type","color"]),F.hasAttribute("type")&&(R.icon=F.getAttribute("type")),F.hasAttribute("color")&&(R.iconColor=F.getAttribute("color")),R.iconHtml=F.innerHTML),R},Mr=function(w){var R={},F=w.querySelector("swal-input");F&&(ss(F,["type","label","placeholder","value"]),R.input=F.getAttribute("type")||"text",F.hasAttribute("label")&&(R.inputLabel=F.getAttribute("label")),F.hasAttribute("placeholder")&&(R.inputPlaceholder=F.getAttribute("placeholder")),F.hasAttribute("value")&&(R.inputValue=F.getAttribute("value")));var ce=Array.from(w.querySelectorAll("swal-input-option"));return ce.length&&(R.inputOptions={},ce.forEach(function(rt){ss(rt,["value"]);var ut=rt.getAttribute("value");R.inputOptions[ut]=rt.innerHTML})),R},Hn=function(w,R){var F={};for(var ce in R){var rt=R[ce],ut=w.querySelector(rt);ut&&(ss(ut,[]),F[rt.replace(/^swal-/,"")]=ut.innerHTML.trim())}return F},bs=function(w){var R=Pr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(w.children).forEach(function(F){var ce=F.tagName.toLowerCase();R.includes(ce)||be("Unrecognized element <".concat(ce,">"))})},ss=function(w,R){Array.from(w.attributes).forEach(function(F){-1===R.indexOf(F.name)&&be(['Unrecognized attribute "'.concat(F.name,'" on <').concat(w.tagName.toLowerCase(),">."),"".concat(R.length?"Allowed attributes are: ".concat(R.join(", ")):"To set the value, use HTML within the element.")])})},Mu=function(w){var R=Pn(),F=ft();"function"==typeof w.willOpen&&w.willOpen(F);var rt=window.getComputedStyle(document.body).overflowY;na(R,F,w),setTimeout(function(){xu(R,F)},10),Qr()&&(Nu(R,w.scrollbarPadding,rt),function(){var w=Pn();Array.from(document.body.children).forEach(function(F){F.contains(w)||(F.hasAttribute("aria-hidden")&&F.setAttribute("data-previous-aria-hidden",F.getAttribute("aria-hidden")||""),F.setAttribute("aria-hidden","true"))})}()),!br()&&!pe.previousActiveElement&&(pe.previousActiveElement=document.activeElement),"function"==typeof w.didOpen&&setTimeout(function(){return w.didOpen(F)}),de(R,z["no-transition"])},ou=function j(w){var R=ft();if(w.target===R&&nn){var F=Pn();R.removeEventListener(nn,j),F.style.overflowY="auto"}},xu=function(w,R){nn&&Wt(R)?(w.style.overflowY="hidden",R.addEventListener(nn,ou)):w.style.overflowY="auto"},Nu=function(w,R,F){(function(){if(Er&&!Bt(document.body,z.iosfix)){var w=document.body.scrollTop;document.body.style.top="".concat(-1*w,"px"),wn(document.body,z.iosfix),Pi()}})(),R&&"hidden"!==F&&Fn(F),setTimeout(function(){w.scrollTop=0})},na=function(w,R,F){wn(w,F.showClass.backdrop),F.animation?(R.style.setProperty("opacity","0","important"),q(R,"grid"),setTimeout(function(){wn(R,F.showClass.popup),R.style.removeProperty("opacity")},10)):q(R,"grid"),wn([document.documentElement,document.body],z.shown),F.heightAuto&&F.backdrop&&!F.toast&&wn([document.documentElement,document.body],z["height-auto"])},jo={email:function(w,R){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(w)?Promise.resolve():Promise.resolve(R||"Invalid email address")},url:function(w,R){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(w)?Promise.resolve():Promise.resolve(R||"Invalid URL")}};function Sa(j){(function ya(j){j.inputValidator||("email"===j.input&&(j.inputValidator=jo.email),"url"===j.input&&(j.inputValidator=jo.url))})(j),j.showLoaderOnConfirm&&!j.preConfirm&&be("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function co(j){(!j.target||"string"==typeof j.target&&!document.querySelector(j.target)||"string"!=typeof j.target&&!j.target.appendChild)&&(be('Target parameter is not valid, defaulting to "body"'),j.target="body")}(j),"string"==typeof j.title&&(j.title=j.title.split("\n").join("<br />")),ze(j)}var $o,zn=new WeakMap,si=function(){return Fe(function j(){if(De(this,j),gt(this,zn,void 0),!(typeof window>"u")){$o=this;for(var w=arguments.length,R=new Array(w),F=0;F<w;F++)R[F]=arguments[F];var ce=Object.freeze(this.constructor.argsToParams(R));this.params=ce,this.isAwaitingPromise=!1,function at(j,w,R){return j.set(fe(j,w),R),R}(zn,this,this._main($o.params))}},[{key:"_main",value:function(R){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(w){for(var R in!1===w.backdrop&&w.allowOutsideClick&&be('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),w)Ro(R),w.toast&&kn(R),Js(R)}(Object.assign({},F,R)),pe.currentInstance){var ce=Ir.swalPromiseResolve.get(pe.currentInstance),rt=pe.currentInstance.isAwaitingPromise;pe.currentInstance._destroy(),rt||ce({isDismissed:!0}),Qr()&&en()}pe.currentInstance=$o;var ut=Vi(R,F);Sa(ut),Object.freeze(ut),pe.timeout&&(pe.timeout.stop(),delete pe.timeout),clearTimeout(pe.restoreFocusTimeout);var Gn=Pa($o);return wo($o,ut),Wn.innerParams.set($o,ut),Ra($o,Gn,ut)}},{key:"then",value:function(R){return Re(zn,this).then(R)}},{key:"finally",value:function(R){return Re(zn,this).finally(R)}}])}(),Ra=function(w,R,F){return new Promise(function(ce,rt){var ut=function(ar){w.close({isDismissed:!0,dismiss:ar})};Ir.swalPromiseResolve.set(w,ce),Ir.swalPromiseReject.set(w,rt),R.confirmButton.onclick=function(){!function(w){var R=Wn.innerParams.get(w);w.disableButtons(),R.input?et(w,"confirm"):tr(w,!0)}(w)},R.denyButton.onclick=function(){!function(w){var R=Wn.innerParams.get(w);w.disableButtons(),R.returnInputValueOnDeny?et(w,"deny"):Lt(w,!1)}(w)},R.cancelButton.onclick=function(){!function(w,R){w.disableButtons(),R(Ei.cancel)}(w,ut)},R.closeButton.onclick=function(){ut(Ei.close)},function(w,R,F){w.toast?To(w,R,F):(ru(R),os(R),Es(w,R,F))}(F,R,ut),function(w,R,F){Sn(w),R.toast||(w.keydownHandler=function(ce){return es(R,ce,F)},w.keydownTarget=R.keydownListenerCapture?window:ft(),w.keydownListenerCapture=R.keydownListenerCapture,w.keydownTarget.addEventListener("keydown",w.keydownHandler,{capture:w.keydownListenerCapture}),w.keydownHandlerAdded=!0)}(pe,F,ut),function(w,R){"select"===R.input||"radio"===R.input?Di(w,R):["text","email","number","tel","textarea"].some(function(F){return F===R.input})&&(rr(R.inputValue)||Tt(R.inputValue))&&(Eo(tn()),Vo(w,R))}(w,F),Mu(F),Ns(pe,F,ut),Ds(R,F),setTimeout(function(){R.container.scrollTop=0})})},Vi=function(w,R){var F=function(w){var R="string"==typeof w.template?document.querySelector(w.template):w.template;if(!R)return{};var F=R.content;return bs(F),Object.assign(oi(F),Bo(F),uo(F),Po(F),Fi(F),Mr(F),Hn(F,Pr))}(w),ce=Object.assign({},zi,R,F,w);return ce.showClass=Object.assign({},zi.showClass,ce.showClass),ce.hideClass=Object.assign({},zi.hideClass,ce.hideClass),!1===ce.animation&&(ce.showClass={backdrop:"swal2-noanimation"},ce.hideClass={}),ce},Pa=function(w){var R={popup:ft(),container:Pn(),actions:vr(),confirmButton:tn(),denyButton:dr(),cancelButton:_r(),loader:qn(),closeButton:_o(),validationMessage:mn(),progressSteps:mr()};return Wn.domCache.set(w,R),R},Ns=function(w,R,F){var ce=_n();Y(ce),R.timer&&(w.timeout=new Nn(function(){F("timer"),delete w.timeout},R.timer),R.timerProgressBar&&(q(ce),Hr(ce,R,"timerProgressBar"),setTimeout(function(){w.timeout&&w.timeout.running&&wr(R.timer)})))},Ds=function(w,R){if(!R.toast){if(!un(R.allowEnterKey))return void fl();Ho(w,R)||hr(-1,1)}},Ho=function(w,R){return R.focusDeny&&Ot(w.denyButton)?(w.denyButton.focus(),!0):R.focusCancel&&Ot(w.cancelButton)?(w.cancelButton.focus(),!0):!(!R.focusConfirm||!Ot(w.confirmButton)||(w.confirmButton.focus(),0))},fl=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Ma=new Date,Os=localStorage.getItem("swal-initiation");Os?(Ma.getTime()-Date.parse(Os))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var j=document.createElement("audio");j.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",j.loop=!0,document.body.appendChild(j),setTimeout(function(){j.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Ma))}si.prototype.disableButtons=ki,si.prototype.enableButtons=Wr,si.prototype.getInput=ei,si.prototype.disableInput=Zn,si.prototype.enableInput=Ai,si.prototype.hideLoading=Sr,si.prototype.disableLoading=Sr,si.prototype.showValidationMessage=gi,si.prototype.resetValidationMessage=ti,si.prototype.close=bi,si.prototype.closePopup=bi,si.prototype.closeModal=bi,si.prototype.closeToast=bi,si.prototype.rejectPromise=Oi,si.prototype.update=Xi,si.prototype._destroy=Bs,Object.assign(si,Tr),Object.keys(xs).forEach(function(j){si[j]=function(){var w;return $o&&$o[j]?(w=$o)[j].apply(w,arguments):null}}),si.DismissReason=Ei,si.version="11.11.1";var bo=si;return bo.default=bo,bo}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ot,Q){var S=ot.createElement("style");if(ot.getElementsByTagName("head")[0].appendChild(S),S.styleSheet)S.styleSheet.disabled||(S.styleSheet.cssText=Q);else try{S.innerHTML=Q}catch{S.innerText=Q}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},6814:(sn,ot,Q)=>{"use strict";Q.d(ot,{Do:()=>xt,EM:()=>Yr,HT:()=>ke,JF:()=>Ti,K0:()=>De,Mx:()=>nn,NF:()=>Ut,O5:()=>Wn,PM:()=>en,S$:()=>mt,V_:()=>gt,Ye:()=>zt,b0:()=>wt,bD:()=>Io,ez:()=>oo,mk:()=>ir,q:()=>Ze,sg:()=>Vr,w_:()=>te});var S=Q(4946);let fe=null;function Ze(){return fe}function ke(T){fe||(fe=T)}class te{}const De=new S.OlP("DocumentToken");let Re=(()=>{class T{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function($){return new($||T)};static#t=this.\u0275prov=S.Yz7({token:T,factory:function(){return(0,S.f3M)(at)},providedIn:"platform"})}return T})();const gt=new S.OlP("Location Initialized");let at=(()=>{class T extends Re{constructor(){super(),this._doc=(0,S.f3M)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ze().getBaseHref(this._doc)}onPopState(x){const $=Ze().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",x,!1),()=>$.removeEventListener("popstate",x)}onHashChange(x){const $=Ze().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",x,!1),()=>$.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,$,ae){this._history.pushState(x,$,ae)}replaceState(x,$,ae){this._history.replaceState(x,$,ae)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function($){return new($||T)};static#t=this.\u0275prov=S.Yz7({token:T,factory:function(){return new T},providedIn:"platform"})}return T})();function ue(T,H){if(0==T.length)return H;if(0==H.length)return T;let x=0;return T.endsWith("/")&&x++,H.startsWith("/")&&x++,2==x?T+H.substring(1):1==x?T+H:T+"/"+H}function le(T){const H=T.match(/#|\?|$/),x=H&&H.index||T.length;return T.slice(0,x-("/"===T[x-1]?1:0))+T.slice(x)}function Fe(T){return T&&"?"!==T[0]?"?"+T:T}let mt=(()=>{class T{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function($){return new($||T)};static#t=this.\u0275prov=S.Yz7({token:T,factory:function(){return(0,S.f3M)(wt)},providedIn:"root"})}return T})();const We=new S.OlP("appBaseHref");let wt=(()=>{class T extends mt{constructor(x,$){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=$??this._platformLocation.getBaseHrefFromDOM()??(0,S.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return ue(this._baseHref,x)}path(x=!1){const $=this._platformLocation.pathname+Fe(this._platformLocation.search),ae=this._platformLocation.hash;return ae&&x?`${$}${ae}`:$}pushState(x,$,ae,qe){const dt=this.prepareExternalUrl(ae+Fe(qe));this._platformLocation.pushState(x,$,dt)}replaceState(x,$,ae,qe){const dt=this.prepareExternalUrl(ae+Fe(qe));this._platformLocation.replaceState(x,$,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function($){return new($||T)(S.LFG(Re),S.LFG(We,8))};static#t=this.\u0275prov=S.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),xt=(()=>{class T extends mt{constructor(x,$){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(x){const $=ue(this._baseHref,x);return $.length>0?"#"+$:$}pushState(x,$,ae,qe){let dt=this.prepareExternalUrl(ae+Fe(qe));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.pushState(x,$,dt)}replaceState(x,$,ae,qe){let dt=this.prepareExternalUrl(ae+Fe(qe));0==dt.length&&(dt=this._platformLocation.pathname),this._platformLocation.replaceState(x,$,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function($){return new($||T)(S.LFG(Re),S.LFG(We,8))};static#t=this.\u0275prov=S.Yz7({token:T,factory:T.\u0275fac})}return T})(),zt=(()=>{class T{constructor(x){this._subject=new S.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const $=this._locationStrategy.getBaseHref();this._basePath=function it(T){if(new RegExp("^(https?:)?//").test(T)){const[,x]=T.split(/\/\/[^\/]+/);return x}return T}(le(nr($))),this._locationStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,$=""){return this.path()==this.normalize(x+Fe($))}normalize(x){return T.stripTrailingSlash(function Vn(T,H){if(!T||!H.startsWith(T))return H;const x=H.substring(T.length);return""===x||["/",";","?","#"].includes(x[0])?x:H}(this._basePath,nr(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,$="",ae=null){this._locationStrategy.pushState(ae,"",x,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Fe($)),ae)}replaceState(x,$="",ae=null){this._locationStrategy.replaceState(ae,"",x,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Fe($)),ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)})),()=>{const $=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice($,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",$){this._urlChangeListeners.forEach(ae=>ae(x,$))}subscribe(x,$,ae){return this._subject.subscribe({next:x,error:$,complete:ae})}static#e=this.normalizeQueryParams=Fe;static#t=this.joinWithSlash=ue;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function($){return new($||T)(S.LFG(mt))};static#i=this.\u0275prov=S.Yz7({token:T,factory:function(){return function Xt(){return new zt((0,S.LFG)(mt))}()},providedIn:"root"})}return T})();function nr(T){return T.replace(/\/index.html$/,"")}function nn(T,H){H=encodeURIComponent(H);for(const x of T.split(";")){const $=x.indexOf("="),[ae,qe]=-1==$?[x,""]:[x.slice(0,$),x.slice($+1)];if(ae.trim()===H)return decodeURIComponent(qe)}return null}const yn=/\s+/,dn=[];let ir=(()=>{class T{constructor(x,$,ae,qe){this._iterableDiffers=x,this._keyValueDiffers=$,this._ngEl=ae,this._renderer=qe,this.initialClasses=dn,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(yn):dn}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(yn):x}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const $ of x)this._updateState($,!0);else if(null!=x)for(const $ of Object.keys(x))this._updateState($,!!x[$]);this._applyStateDiff()}_updateState(x,$){const ae=this.stateMap.get(x);void 0!==ae?(ae.enabled!==$&&(ae.changed=!0,ae.enabled=$),ae.touched=!0):this.stateMap.set(x,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const $=x[0],ae=x[1];ae.changed?(this._toggleClass($,ae.enabled),ae.changed=!1):ae.touched||(ae.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),ae.touched=!1}}_toggleClass(x,$){(x=x.trim()).length>0&&x.split(yn).forEach(ae=>{$?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}static#e=this.\u0275fac=function($){return new($||T)(S.Y36(S.ZZ4),S.Y36(S.aQg),S.Y36(S.SBq),S.Y36(S.Qsj))};static#t=this.\u0275dir=S.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return T})();class On{constructor(H,x,$,ae){this.$implicit=H,this.ngForOf=x,this.index=$,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class T{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,$,ae){this._viewContainer=x,this._template=$,this._differs=ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const $=this._viewContainer;x.forEachOperation((ae,qe,dt)=>{if(null==ae.previousIndex)$.createEmbeddedView(this._template,new On(ae.item,this._ngForOf,-1,-1),null===dt?void 0:dt);else if(null==dt)$.remove(null===qe?void 0:qe);else if(null!==qe){const qt=$.get(qe);$.move(qt,dt),qi(qt,ae)}});for(let ae=0,qe=$.length;ae<qe;ae++){const qt=$.get(ae).context;qt.index=ae,qt.count=qe,qt.ngForOf=this._ngForOf}x.forEachIdentityChange(ae=>{qi($.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(x,$){return!0}static#e=this.\u0275fac=function($){return new($||T)(S.Y36(S.s_b),S.Y36(S.Rgc),S.Y36(S.ZZ4))};static#t=this.\u0275dir=S.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return T})();function qi(T,H){T.context.$implicit=H.item}let Wn=(()=>{class T{constructor(x,$){this._viewContainer=x,this._context=new In,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Ft("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Ft("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,$){return!0}static#e=this.\u0275fac=function($){return new($||T)(S.Y36(S.s_b),S.Y36(S.Rgc))};static#t=this.\u0275dir=S.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return T})();class In{constructor(){this.$implicit=null,this.ngIf=null}}function Ft(T,H){if(H&&!H.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,S.AaK)(H)}'.`)}let oo=(()=>{class T{static#e=this.\u0275fac=function($){return new($||T)};static#t=this.\u0275mod=S.oAB({type:T});static#n=this.\u0275inj=S.cJS({})}return T})();const Io="browser",ma="server";function Ut(T){return T===Io}function en(T){return T===ma}let Yr=(()=>{class T{static#e=this.\u0275prov=(0,S.Yz7)({token:T,providedIn:"root",factory:()=>new di((0,S.LFG)(De),window)})}return T})();class di{constructor(H,x){this.document=H,this.window=x,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const x=function fr(T,H){const x=T.getElementById(H)||T.getElementsByName(H)[0];if(x)return x;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const $=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let ae=$.currentNode;for(;ae;){const qe=ae.shadowRoot;if(qe){const dt=qe.getElementById(H)||qe.querySelector(`[name="${H}"]`);if(dt)return dt}ae=$.nextNode()}}return null}(this.document,H);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(H){this.supportsScrolling()&&(this.window.history.scrollRestoration=H)}scrollToElement(H){const x=H.getBoundingClientRect(),$=x.left+this.window.pageXOffset,ae=x.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo($-qe[0],ae-qe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ti{}},4946:(sn,ot,Q)=>{"use strict";Q.d(ot,{tb:()=>Bv,AFp:()=>Im,ip1:()=>BE,hGG:()=>BA,z2F:()=>fp,Ojb:()=>Hp,sBO:()=>bA,Sil:()=>zD,EJc:()=>jD,Xts:()=>Gl,SBq:()=>jf,lqb:()=>Ja,qLn:()=>Xa,vpe:()=>eu,XFs:()=>Gt,OlP:()=>ln,zs3:()=>ba,ZZ4:()=>Wv,aQg:()=>qv,soG:()=>P_,YKP:()=>zI,h0i:()=>bh,PXZ:()=>mA,R0b:()=>Ko,FiY:()=>xc,Lbi:()=>qc,g9A:()=>Of,Qsj:()=>my,FYo:()=>gy,JOm:()=>Vc,tp0:()=>Wu,Rgc:()=>Ng,dDg:()=>hA,eoX:()=>KE,q4F:()=>Jc,GfV:()=>oc,s_b:()=>S_,ifc:()=>Ln,VuI:()=>YA,MMx:()=>WI,Lck:()=>bb,eFA:()=>JE,Gpc:()=>Mt,f3M:()=>er,$WT:()=>xi,_c5:()=>UA,qFp:()=>XA,rg0:()=>uo,c2e:()=>jE,zSh:()=>ym,HDt:()=>$E,wAp:()=>cp,vHH:()=>Be,lri:()=>WE,rWj:()=>qE,cg1:()=>fv,kL8:()=>gI,dqk:()=>Bt,Z0I:()=>_r,eJc:()=>Pv,QGY:()=>tv,F4k:()=>Tw,RDi:()=>If,AaK:()=>st,qOj:()=>il,Xq5:()=>e_,TTD:()=>ss,_Bn:()=>HI,jDz:()=>qI,xp6:()=>bt,uIk:()=>vg,ekj:()=>av,Suo:()=>vE,Xpm:()=>Xo,lG2:()=>ko,Yz7:()=>pt,cJS:()=>mn,oAB:()=>Yi,Yjl:()=>Ei,Y36:()=>gn,_UZ:()=>ai,qZA:()=>Ht,TgZ:()=>Je,EpF:()=>Ew,n5z:()=>Oh,LFG:()=>Zr,$8M:()=>Dc,$Z:()=>fn,NdJ:()=>nv,CRH:()=>wE,oxw:()=>Sw,Q6J:()=>L,s9C:()=>rv,MGl:()=>y_,DdM:()=>eE,VKq:()=>tE,iGM:()=>yE,KtG:()=>ml,CHM:()=>su,LSH:()=>Cf,P3R:()=>pm,YNc:()=>wh,_uU:()=>Yw,Oqu:()=>cv,hij:()=>I_,AsE:()=>lv,lnq:()=>dv,HOy:()=>hv});var S=Q(8645),fe=Q(7394),Ze=Q(5592),ke=Q(7537),te=Q(4829),De=Q(6232),Re=Q(4564),gt=Q(2459),ue=Q(5619),le=Q(2096),Fe=Q(305),mt=Q(9360);function We(t={}){const{connector:n=(()=>new S.x),resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:u=!0}=t;return l=>{let m,I,A,O=0,G=!1,re=!1;const we=()=>{I?.unsubscribe(),I=void 0},xe=()=>{we(),m=A=void 0,G=re=!1},lt=()=>{const Ct=m;xe(),Ct?.unsubscribe()};return(0,mt.e)((Ct,Qt)=>{O++,!re&&!G&&we();const pn=A=A??n();Qt.add(()=>{O--,0===O&&!re&&!G&&(I=wt(lt,u))}),pn.subscribe(Qt),!m&&O>0&&(m=new Fe.Hp({next:It=>pn.next(It),error:It=>{re=!0,we(),I=wt(xe,i,It),pn.error(It)},complete:()=>{G=!0,we(),I=wt(xe,s),pn.complete()}}),(0,te.Xf)(Ct).subscribe(m))})(l)}}function wt(t,n,...i){if(!0===n)return void t();if(!1===n)return;const s=new Fe.Hp({next:()=>{s.unsubscribe(),t()}});return(0,te.Xf)(n(...i)).subscribe(s)}var xt=Q(4664),zt=Q(2737),Xt=Q(8251);function nr(t,n){return t===n}function it(t){for(let n in t)if(t[n]===it)return n;throw Error("Could not find renamed property on target object.")}function nt(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function st(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Pt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Vt=it({__forward_ref__:it});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return st(this())},t}function _e(t){return At(t)?t():t}function At(t){return"function"==typeof t&&t.hasOwnProperty(Vt)&&t.__forward_ref__===Mt}function Tn(t){return t&&!!t.\u0275providers}const pe="https://g.co/ng/security#xss";class Be extends Error{constructor(n,i){super(function bn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Le(t){return"string"==typeof t?t:null==t?"":String(t)}function He(t,n){throw new Be(-201,!1)}function ft(t,n){null==t&&function Kt(t,n,i,s){throw new Error(`ASSERTION ERROR: ${t}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,t,null,"!=")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mn(t){return{providers:t.providers||[],imports:t.imports||[]}}function tn(t){return dr(t,vr)||dr(t,_n)}function _r(t){return null!==tn(t)}function dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function qn(t){return t&&(t.hasOwnProperty(yi)||t.hasOwnProperty(_o))?t[yi]:null}const vr=it({\u0275prov:it}),yi=it({\u0275inj:it}),_n=it({ngInjectableDef:it}),_o=it({ngInjectorDef:it});var Gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Gt||{});let Bi;function br(t){const n=Bi;return Bi=t,n}function Ie(t,n,i){const s=tn(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&Gt.Optional?null:void 0!==n?n:void He(st(t))}const Bt=globalThis;class ln{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=pt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ot={},on="__NG_DI_FLAG__",En="ngTempTokenPath",wr=/\n/gm,ji="__source";let ri;function zr(t){const n=ri;return ri=t,n}function Jo(t,n=Gt.Default){if(void 0===ri)throw new Be(-203,!1);return null===ri?Ie(t,void 0,n):ri.get(t,n&Gt.Optional?null:void 0,n)}function Zr(t,n=Gt.Default){return(function Qr(){return Bi}()||Jo)(_e(t),n)}function er(t,n=Gt.Default){return Zr(t,ze(n))}function ze(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ce(t){const n=[];for(let i=0;i<t.length;i++){const s=_e(t[i]);if(Array.isArray(s)){if(0===s.length)throw new Be(900,!1);let u,l=Gt.Default;for(let m=0;m<s.length;m++){const I=s[m],A=$t(I);"number"==typeof A?-1===A?u=I.token:l|=A:u=I}n.push(Zr(u,l))}else n.push(Zr(s))}return n}function Ye(t,n){return t[on]=n,t.prototype[on]=n,t}function $t(t){return t[on]}function dn(t){return{toString:t}.toString()}var ir=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ir||{}),Ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ln||{});const Or={},On=[],Vr=it({\u0275cmp:it}),qi=it({\u0275dir:it}),Vs=it({\u0275pipe:it}),Wn=it({\u0275mod:it}),In=it({\u0275fac:it}),Ft=it({__NG_ELEMENT_ID__:it}),_t=it({__NG_ENV_ID__:it});function Zt(t,n,i){let s=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const l=n.length;if(u+l===s||t.charCodeAt(u+l)<=32)return u}i=u+1}}function rn(t,n,i){let s=0;for(;s<i.length;){const u=i[s];if("number"==typeof u){if(0!==u)break;s++;const l=i[s++],m=i[s++],I=i[s++];t.setAttribute(n,m,I,l)}else{const l=u,m=i[++s];kr(l)?t.setProperty(n,l,m):t.setAttribute(n,l,m),s++}}return s}function Cn(t){return 3===t||4===t||6===t}function kr(t){return 64===t.charCodeAt(0)}function or(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const u=n[s];"number"==typeof u?i=u:0===i||Bn(t,i,u,null,-1===i||2===i?n[++s]:null)}}return t}function Bn(t,n,i,s,u){let l=0,m=t.length;if(-1===n)m=-1;else for(;l<t.length;){const I=t[l++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=l-1;break}}}for(;l<t.length;){const I=t[l];if("number"==typeof I)break;if(I===i){if(null===s)return void(null!==u&&(t[l+1]=u));if(s===t[l+1])return void(t[l+2]=u)}l++,null!==s&&l++,null!==u&&l++}-1!==m&&(t.splice(m,0,n),l=m+1),t.splice(l++,0,i),null!==s&&t.splice(l++,0,s),null!==u&&t.splice(l++,0,u)}const jr="ng-template";function ur(t,n,i){let s=0,u=!0;for(;s<t.length;){let l=t[s++];if("string"==typeof l&&u){const m=t[s++];if(i&&"class"===l&&-1!==Zt(m.toLowerCase(),n,0))return!0}else{if(1===l){for(;s<t.length&&"string"==typeof(l=t[s++]);)if(l.toLowerCase()===n)return!0;return!1}"number"==typeof l&&(u=!1)}}return!1}function xr(t){return 4===t.type&&t.value!==jr}function li(t,n,i){return n===(4!==t.type||i?t.value:jr)}function No(t,n,i){let s=4;const u=t.attrs||[],l=function Qi(t){for(let n=0;n<t.length;n++)if(Cn(t[n]))return n;return t.length}(u);let m=!1;for(let I=0;I<n.length;I++){const A=n[I];if("number"!=typeof A){if(!m)if(4&s){if(s=2|1&s,""!==A&&!li(t,A,i)||""===A&&1===n.length){if(jn(s))return!1;m=!0}}else{const O=8&s?A:n[++I];if(8&s&&null!==t.attrs){if(!ur(t.attrs,O,i)){if(jn(s))return!1;m=!0}continue}const re=Rs(8&s?"class":A,u,xr(t),i);if(-1===re){if(jn(s))return!1;m=!0;continue}if(""!==O){let we;we=re>l?"":u[re+1].toLowerCase();const xe=8&s?we:null;if(xe&&-1!==Zt(xe,O,0)||2&s&&O!==we){if(jn(s))return!1;m=!0}}}}else{if(!m&&!jn(s)&&!jn(A))return!1;if(m&&jn(A))continue;m=!1,s=A|1&s}}return jn(s)||m}function jn(t){return 0==(1&t)}function Rs(t,n,i,s){if(null===n)return-1;let u=0;if(s||!i){let l=!1;for(;u<n.length;){const m=n[u];if(m===t)return u;if(3===m||6===m)l=!0;else{if(1===m||2===m){let I=n[++u];for(;"string"==typeof I;)I=n[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=l?1:2}return-1}return function Ps(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function Ki(t,n,i=!1){for(let s=0;s<n.length;s++)if(No(t,n[s],i))return!0;return!1}function Oo(t,n){return t?":not("+n.trim()+")":n}function ga(t){let n=t[0],i=1,s=2,u="",l=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&s){const I=t[++i];u+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?u+="."+m:4&s&&(u+=" "+m);else""!==u&&!jn(m)&&(n+=Oo(l,u),u=""),s=m,l=l||!jn(s);i++}return""!==u&&(n+=Oo(l,u)),n}function Xo(t){return dn(()=>{const n=es(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ln.Emulated,styles:t.styles||On,_:null,schemas:t.schemas||null,tView:null,id:""};oo(i);const s=t.dependencies;return i.directiveDefs=Io(s,!1),i.pipeDefs=Io(s,!0),i.id=function _s(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Si(t){return Sn(t)||Dr(t)}function wo(t){return null!==t}function Yi(t){return dn(()=>({type:t.type,bootstrap:t.bootstrap||On,declarations:t.declarations||On,imports:t.imports||On,exports:t.exports||On,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ri(t,n){if(null==t)return Or;const i={};for(const s in t)if(t.hasOwnProperty(s)){let u=t[s],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),i[u]=s,n&&(n[u]=l)}return i}function ko(t){return dn(()=>{const n=es(t);return oo(n),n})}function Ei(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sn(t){return t[Vr]||null}function Dr(t){return t[qi]||null}function hr(t){return t[Vs]||null}function xi(t){const n=Sn(t)||Dr(t)||hr(t);return null!==n&&n.standalone}function Ni(t,n){const i=t[Wn]||null;if(!i&&!0===n)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return i}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Or,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||On,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ri(t.inputs,n),outputs:Ri(t.outputs)}}function oo(t){t.features?.forEach(n=>n(t))}function Io(t,n){if(!t)return null;const i=n?hr:Si;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(wo)}const Ir=0,Ut=1,en=2,Er=3,Qn=4,Pi=5,Yr=6,di=7,fr=8,Co=9,Ti=10,Nt=11,Fn=12,So=13,$i=14,Ur=15,bi=16,Hi=17,Oi=18,so=19,ys=20,ts=21,ns=22,Lo=23,Eo=24,$n=25,Ys=1,vs=2,hi=7,Di=9,Gr=11;function fi(t){return Array.isArray(t)&&"object"==typeof t[Ys]}function U(t){return Array.isArray(t)&&!0===t[Ys]}function B(t){return 0!=(4&t.flags)}function oe(t){return t.componentOffset>-1}function ie(t){return 1==(1&t.flags)}function Te(t){return!!t.template}function et(t){return 0!=(512&t[en])}function Ms(t,n){return t.hasOwnProperty(In)?t[In]:null}let ii=null,Xi=!1;function Li(t){const n=ii;return ii=t,n}const Bs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ea(t){if(!Ts(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ao(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Is(t){t.dirty=!0,function js(t){if(void 0===t.liveConsumerNode)return;const n=Xi;Xi=!0;try{for(const i of t.liveConsumerNode)i.dirty||Is(i)}finally{Xi=n}}(t),t.consumerMarkedDirty?.(t)}function To(t){return t&&(t.nextProducerIndex=0),Li(t)}function _a(t,n){if(Li(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ts(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Es(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ao(t){Uo(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(ea(i),s!==i.version))return!0}return!1}function ru(t){if(Uo(t),Ts(t))for(let n=0;n<t.producerNode.length;n++)Es(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Es(t,n){if(function iu(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Uo(t),1===t.liveConsumerNode.length)for(let s=0;s<t.producerNode.length;s++)Es(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];Uo(u),u.producerIndexOfThis[s]=n}}function Ts(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ae=null;function uo(t){const n=Li(null);try{return t()}finally{Li(n)}}const Fi=()=>{},Mr=(()=>({...Bs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Fi}))();class bs{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function ss(){return ta}function ta(t){return t.type.prototype.ngOnChanges&&(t.setInput=ou),Mu}function Mu(){const t=Nu(this),n=t?.current;if(n){const i=t.previous;if(i===Or)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function ou(t,n,i,s){const u=this.declaredInputs[i],l=Nu(t)||function na(t,n){return t[xu]=n}(t,{previous:Or,current:null}),m=l.current||(l.current={}),I=l.previous,A=I[u];m[u]=new bs(A&&A.currentValue,n,I===Or),t[s]=n}ss.ngInherit=!0;const xu="__ngSimpleChanges__";function Nu(t){return t[xu]||null}const co=function(t,n,i){};function zn(t){for(;Array.isArray(t);)t=t[Ir];return t}function Ra(t,n){return zn(n[t])}function Vi(t,n){return zn(n[t.index])}function Ns(t,n){return t.data[n]}function Ho(t,n){const i=n[t];return fi(i)?i:i[Ir]}function bo(t,n){return null==n?null:t[n]}function j(t){t[Hi]=0}function w(t){1024&t[en]||(t[en]|=1024,F(t,1))}function R(t){1024&t[en]&&(t[en]&=-1025,F(t,-1))}function F(t,n){let i=t[Er];if(null===i)return;i[Pi]+=n;let s=i;for(i=i[Er];null!==i&&(1===n&&1===s[Pi]||-1===n&&0===s[Pi]);)i[Pi]+=n,s=i,i=i[Er]}const ut={lFrame:lr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gc(){return ut.bindingsEnabled}function yt(){return ut.lFrame.lView}function pr(){return ut.lFrame.tView}function su(t){return ut.lFrame.contextLView=t,t[fr]}function ml(t){return ut.lFrame.contextLView=null,t}function Wi(){let t=mc();for(;null!==t&&64===t.type;)t=t.parent;return t}function mc(){return ut.lFrame.currentTNode}function zo(t,n){const i=ut.lFrame;i.currentTNode=t,i.isParent=n}function As(){return ut.lFrame.isParent}function vi(){const t=ut.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Cs(){return ut.lFrame.bindingIndex}function ia(){return ut.lFrame.bindingIndex++}function us(t){const n=ut.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function _(t,n){const i=ut.lFrame;i.bindingIndex=i.bindingRootIndex=t,N(n)}function N(t){ut.lFrame.currentDirectiveIndex=t}function se(){return ut.lFrame.currentQueryIndex}function Ge(t){ut.lFrame.currentQueryIndex=t}function Ue(t){const n=t[Ut];return 2===n.type?n.declTNode:1===n.type?t[Yr]:null}function jt(t,n,i){if(i&Gt.SkipSelf){let u=n,l=t;for(;!(u=u.parent,null!==u||i&Gt.Host||(u=Ue(l),null===u||(l=l[$i],10&u.type))););if(null===u)return!1;n=u,t=l}const s=ut.lFrame=Br();return s.currentTNode=n,s.lView=t,!0}function An(t){const n=Br(),i=t[Ut];ut.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Br(){const t=ut.lFrame,n=null===t?null:t.child;return null===n?lr(t):n}function lr(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function lo(){const t=ut.lFrame;return ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const cs=lo;function wa(){const t=lo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ho(){return ut.lFrame.selectedIndex}function uu(t){ut.lFrame.selectedIndex=t}function mi(){const t=ut.lFrame;return Ns(t.tView,t.selectedIndex)}let yl=!0;function _c(){return yl}function ks(t){yl=t}function ka(t,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const l=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:A,ngAfterViewChecked:O,ngOnDestroy:G}=l;m&&(t.contentHooks??=[]).push(-i,m),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),A&&(t.viewHooks??=[]).push(-i,A),O&&((t.viewHooks??=[]).push(i,O),(t.viewCheckHooks??=[]).push(i,O)),null!=G&&(t.destroyHooks??=[]).push(i,G)}}function yc(t,n,i){La(t,n,3,i)}function lu(t,n,i,s){(3&t[en])===i&&La(t,n,i,s)}function vc(t,n){let i=t[en];(3&i)===n&&(i&=8191,i+=1,t[en]=i)}function La(t,n,i,s){const l=s??-1,m=n.length-1;let I=0;for(let A=void 0!==s?65535&t[Hi]:0;A<m;A++)if("number"==typeof n[A+1]){if(I=n[A],null!=s&&I>=s)break}else n[A]<0&&(t[Hi]+=65536),(I<l||-1==l)&&(wl(t,i,n,A),t[Hi]=(4294901760&t[Hi])+A+2),A++}function Lu(t,n){co(4,t,n);const i=Li(null);try{n.call(t)}finally{Li(i),co(5,t,n)}}function wl(t,n,i,s){const u=i[s]<0,l=i[s+1],I=t[u?-i[s]:i[s]];u?t[en]>>13<t[Hi]>>16&&(3&t[en])===n&&(t[en]+=8192,Lu(I,l)):Lu(I,l)}const Fu=-1;class Vu{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function Va(t){return t!==Fu}function Ua(t){return 32767&t}function ls(t,n){let i=function Ba(t){return t>>16}(t),s=n;for(;i>0;)s=s[$i],i--;return s}let Tl=!0;function sa(t){const n=Tl;return Tl=t,n}const Ia=255,wc=5;let hu=0;const Hs={};function Uu(t,n){const i=wd(t,n);if(-1!==i)return i;const s=n[Ut];s.firstCreatePass&&(t.injectorIndex=n.length,Mh(s.data,t),Mh(n,null),Mh(s.blueprint,null));const u=Bu(t,n),l=t.injectorIndex;if(Va(u)){const m=Ua(u),I=ls(u,n),A=I[Ut].data;for(let O=0;O<8;O++)n[l+O]=I[m+O]|A[m+O]}return n[l+8]=u,l}function Mh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function wd(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Bu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,u=n;for(;null!==u;){if(s=kh(u),null===s)return Fu;if(i++,u=u[$i],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return Fu}function Ic(t,n,i){!function Ph(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Ft)&&(s=i[Ft]),null==s&&(s=i[Ft]=hu++);const u=s&Ia;n.data[t+(u>>wc)]|=1<<u}(t,n,i)}function bl(t,n,i){if(i&Gt.Optional||void 0!==t)return t;He()}function xh(t,n,i,s){if(i&Gt.Optional&&void 0===s&&(s=null),!(i&(Gt.Self|Gt.Host))){const u=t[Co],l=br(void 0);try{return u?u.get(n,s,i&Gt.Optional):Ie(n,s,i&Gt.Optional)}finally{br(l)}}return bl(s,0,i)}function Nh(t,n,i,s=Gt.Default,u){if(null!==t){if(2048&n[en]&&!(s&Gt.Self)){const m=function Td(t,n,i,s,u){let l=t,m=n;for(;null!==l&&null!==m&&2048&m[en]&&!(512&m[en]);){const I=Ec(l,m,i,s|Gt.Self,Hs);if(I!==Hs)return I;let A=l.parent;if(!A){const O=m[ys];if(O){const G=O.get(i,Hs,s);if(G!==Hs)return G}A=kh(m),m=m[$i]}l=A}return u}(t,n,i,s,Hs);if(m!==Hs)return m}const l=Ec(t,n,i,s,Hs);if(l!==Hs)return l}return xh(n,i,s,u)}function Ec(t,n,i,s,u){const l=function Dl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ft)?t[Ft]:void 0;return"number"==typeof n?n>=0?n&Ia:eo:n}(i);if("function"==typeof l){if(!jt(n,t,s))return s&Gt.Host?bl(u,0,s):xh(n,i,s,u);try{let m;if(m=l(s),null!=m||s&Gt.Optional)return m;He()}finally{cs()}}else if("number"==typeof l){let m=null,I=wd(t,n),A=Fu,O=s&Gt.Host?n[Ur][Yr]:null;for((-1===I||s&Gt.SkipSelf)&&(A=-1===I?Bu(t,n):n[I+8],A!==Fu&&Tc(s,!1)?(m=n[Ut],I=Ua(A),n=ls(A,n)):I=-1);-1!==I;){const G=n[Ut];if(Id(l,I,G.data)){const re=ju(I,n,i,m,s,O);if(re!==Hs)return re}A=n[I+8],A!==Fu&&Tc(s,n[Ut].data[I+8]===O)&&Id(l,I,n)?(m=G,I=Ua(A),n=ls(A,n)):I=-1}}return u}function ju(t,n,i,s,u,l){const m=n[Ut],I=m.data[t+8],G=aa(I,m,i,null==s?oe(I)&&Tl:s!=m&&0!=(3&I.type),u&Gt.Host&&l===I);return null!==G?Ea(n,m,G,I):Hs}function aa(t,n,i,s,u){const l=t.providerIndexes,m=n.data,I=1048575&l,A=t.directiveStart,G=l>>20,we=u?I+G:t.directiveEnd;for(let xe=s?I:I+G;xe<we;xe++){const lt=m[xe];if(xe<A&&i===lt||xe>=A&&lt.type===i)return xe}if(u){const xe=m[A];if(xe&&Te(xe)&&xe.type===i)return A}return null}function Ea(t,n,i,s){let u=t[i];const l=n.data;if(function Fa(t){return t instanceof Vu}(u)){const m=u;m.resolving&&function z(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Be(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Le(t)}(l[i]));const I=sa(m.canSeeViewProviders);m.resolving=!0;const O=m.injectImpl?br(m.injectImpl):null;jt(t,s,Gt.Default);try{u=t[i]=m.factory(void 0,l,t,s),n.firstCreatePass&&i>=s.directiveStart&&function vl(t,n,i){const{ngOnChanges:s,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(s){const m=ta(n);(i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m)}u&&(i.preOrderHooks??=[]).push(0-t,u),l&&((i.preOrderHooks??=[]).push(t,l),(i.preOrderCheckHooks??=[]).push(t,l))}(i,l[i],n)}finally{null!==O&&br(O),sa(I),m.resolving=!1,cs()}}return u}function Id(t,n,i){return!!(i[n+(t>>wc)]&1<<t)}function Tc(t,n){return!(t&Gt.Self||t&Gt.Host&&n)}class fo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return Nh(this._tNode,this._lView,n,ze(s),i)}}function eo(){return new fo(Wi(),yt())}function Oh(t){return dn(()=>{const n=t.prototype.constructor,i=n[In]||Ed(n),s=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==s;){const l=u[In]||Ed(u);if(l&&l!==i)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function Ed(t){return At(t)?()=>{const n=Ed(_e(t));return n&&n()}:Ms(t)}function kh(t){const n=t[Ut],i=n.type;return 2===i?n.declTNode:1===i?t[Yr]:null}function Dc(t){return function mp(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let u=0;for(;u<s;){const l=i[u];if(Cn(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<s&&"string"==typeof i[u];)u++;else{if(l===n)return i[u+1];u+=2}}}return null}(Wi(),t)}const zs="__parameters__";function ja(t,n,i){return dn(()=>{const s=function Ac(t){return function(...i){if(t){const s=t(...i);for(const u in s)this[u]=s[u]}}}(n);function u(...l){if(this instanceof u)return s.apply(this,l),this;const m=new u(...l);return I.annotation=m,I;function I(A,O,G){const re=A.hasOwnProperty(zs)?A[zs]:Object.defineProperty(A,zs,{value:[]})[zs];for(;re.length<=G;)re.push(null);return(re[G]=re[G]||[]).push(m),A}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Gs(t,n){t.forEach(i=>Array.isArray(i)?Gs(i,n):n(i))}function pu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Hu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Do(t,n,i){let s=Ha(t,n);return s>=0?t[1|s]=i:(s=~s,function Cl(t,n,i,s){let u=t.length;if(u==n)t.push(i,s);else if(1===u)t.push(s,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function Ad(t,n){const i=Ha(t,n);if(i>=0)return t[1|i]}function Ha(t,n){return function Sl(t,n,i){let s=0,u=t.length>>i;for(;u!==s;){const l=s+(u-s>>1),m=t[l<<i];if(n===m)return l<<i;m>n?u=l:s=l+1}return~(u<<i)}(t,n,1)}const xc=Ye(ja("Optional"),8),Wu=Ye(ja("SkipSelf"),4);function Fc(t){return 128==(128&t.flags)}var Vc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vc||{});const Nd=new Map;let ef=0;const vu="__ngContext__";function Wo(t,n){fi(n)?(t[vu]=n[so],function nf(t){Nd.set(t[so],t)}(n)):t[vu]=n}let E;function V(t,n){return E(t,n)}function ye(t){const n=t[Er];return U(n)?n[Er]:n}function Jt(t){return gr(t[Fn])}function vn(t){return gr(t[Qn])}function gr(t){for(;null!==t&&!U(t);)t=t[Qn];return t}function no(t,n,i,s,u){if(null!=s){let l,m=!1;U(s)?l=s:fi(s)&&(m=!0,s=s[Ir]);const I=zn(s);0===t&&null!==i?null==u?Qg(n,i,I):Iu(n,i,I,u||null,!0):1===t&&null!==i?Iu(n,i,I,u||null,!0):2===t?function yf(t,n,i){const s=hf(t,n);s&&function U_(t,n,i,s){t.removeChild(n,i,s)}(t,s,n,i)}(n,I,m):3===t&&n.destroyNode(I),null!=l&&function Np(t,n,i,s,u){const l=i[hi];l!==zn(i)&&no(n,t,s,l,u);for(let I=Gr;I<i.length;I++){const A=i[I];Bd(A[Ut],A,t,n,s,l)}}(n,t,l,i,u)}}function qa(t,n,i){return t.createElement(n,i)}function Vd(t,n){const i=t[Di],s=i.indexOf(n);R(n),i.splice(s,1)}function Yu(t,n){if(t.length<=Gr)return;const i=Gr+n,s=t[i];if(s){const u=s[bi];null!==u&&u!==t&&Vd(u,s),n>0&&(t[i-1][Qn]=s[Qn]);const l=Hu(t,Gr+n);!function Fd(t,n){Bd(t,n,n[Nt],2,null,null),n[Ir]=null,n[Yr]=null}(s[Ut],s);const m=l[Oi];null!==m&&m.detachView(l[Ut]),s[Er]=null,s[Qn]=null,s[en]&=-129}return s}function jc(t,n){if(!(256&n[en])){const i=n[Nt];n[Lo]&&ru(n[Lo]),n[Eo]&&ru(n[Eo]),i.destroyNode&&Bd(t,n,i,3,null,null),function Bl(t){let n=t[Fn];if(!n)return $c(t[Ut],t);for(;n;){let i=null;if(fi(n))i=n[Fn];else{const s=n[Gr];s&&(i=s)}if(!i){for(;n&&!n[Qn]&&n!==t;)fi(n)&&$c(n[Ut],n),n=n[Er];null===n&&(n=t),fi(n)&&$c(n[Ut],n),i=n&&n[Qn]}n=i}}(n)}}function $c(t,n){if(!(256&n[en])){n[en]&=-129,n[en]|=256,function Rp(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const u=n[i[s]];if(!(u instanceof Vu)){const l=i[s+1];if(Array.isArray(l))for(let m=0;m<l.length;m+=2){const I=u[l[m]],A=l[m+1];co(4,I,A);try{A.call(I)}finally{co(5,I,A)}}else{co(4,u,l);try{l.call(u)}finally{co(5,u,l)}}}}}(t,n),function qg(t,n){const i=t.cleanup,s=n[di];if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const m=i[l+3];m>=0?s[m]():s[-m].unsubscribe(),l+=2}else i[l].call(s[i[l+1]]);null!==s&&(n[di]=null);const u=n[ts];if(null!==u){n[ts]=null;for(let l=0;l<u.length;l++)(0,u[l])()}}(t,n),1===n[Ut].type&&n[Nt].destroy();const i=n[bi];if(null!==i&&U(n[Er])){i!==n[Er]&&Vd(i,n);const s=n[Oi];null!==s&&s.detachView(t)}!function Wa(t){Nd.delete(t[so])}(n)}}function lf(t,n,i){return function Kg(t,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[Ir];{const{componentOffset:u}=s;if(u>-1){const{encapsulation:l}=t.data[s.directiveStart+u];if(l===Ln.None||l===Ln.Emulated)return null}return Vi(s,i)}}(t,n.parent,i)}function Iu(t,n,i,s,u){t.insertBefore(n,i,s,u)}function Qg(t,n,i){t.appendChild(n,i)}function df(t,n,i,s,u){null!==s?Iu(t,n,i,s,u):Qg(t,n,i)}function hf(t,n){return t.parentNode(n)}let gf,Hd,Ef,Hc=function pf(t,n,i){return 40&t.type?Vi(t,i):null};function _f(t,n,i,s){const u=lf(t,s,n),l=n[Nt],I=function ff(t,n,i){return Hc(t,n,i)}(s.parent||n[Yr],s,n);if(null!=u)if(Array.isArray(i))for(let A=0;A<i.length;A++)df(l,u,i[A],I,!1);else df(l,u,i,I,!1);void 0!==gf&&gf(l,s,n,i,u)}function zc(t,n){if(null!==n){const i=n.type;if(3&i)return Vi(n,t);if(4&i)return Ud(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return zc(t,s);{const u=t[n.index];return U(u)?Ud(-1,u):zn(u)}}if(32&i)return V(n,t)()||zn(t[n.index]);{const s=Ka(t,n);return null!==s?Array.isArray(s)?s[0]:zc(ye(t[Ur]),s):zc(t,n.next)}}return null}function Ka(t,n){return null!==n?t[Ur][Yr].projection[n.projection]:null}function Ud(t,n){const i=Gr+t+1;if(i<n.length){const s=n[i],u=s[Ut].firstChild;if(null!==u)return zc(s,u)}return n[hi]}function Mp(t,n,i,s,u,l,m){for(;null!=i;){const I=s[i.index],A=i.type;if(m&&0===n&&(I&&Wo(zn(I),s),i.flags|=2),32!=(32&i.flags))if(8&A)Mp(t,n,i.child,s,u,l,!1),no(n,t,u,I,l);else if(32&A){const O=V(i,s);let G;for(;G=O();)no(n,t,u,G,l);no(n,t,u,I,l)}else 16&A?Yg(t,n,s,i,u,l):no(n,t,u,I,l);i=m?i.projectionNext:i.next}}function Bd(t,n,i,s,u,l){Mp(i,s,t.firstChild,n,u,l,!1)}function Yg(t,n,i,s,u,l){const m=i[Ur],A=m[Yr].projection[s.projection];if(Array.isArray(A))for(let O=0;O<A.length;O++)no(n,t,u,A[O],l);else{let O=A;const G=m[Er];Fc(s)&&(O.flags|=128),Mp(t,n,O,G,u,l,!0)}}function Jg(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function wf(t,n,i){const{mergedAttrs:s,classes:u,styles:l}=i;null!==s&&rn(t,n,s),null!==u&&Jg(t,n,u),null!==l&&function Op(t,n,i){t.setAttribute(n,"style",i)}(t,n,l)}function If(t){Hd=t}function Lp(t){return function jl(){if(void 0===Ef&&(Ef=null,Bt.trustedTypes))try{Ef=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ef}()?.createScriptURL(t)||t}class Wc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pe})`}}function Xu(t){return t instanceof Wc?t.changingThisBreaksApplicationSecurity:t}function ec(t,n){const i=function Fp(t){return t instanceof Wc&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${pe})`)}return i===n}const am=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Eu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Eu||{});function Cf(t){const n=Sf();return n?n.sanitize(Eu.URL,t)||"":ec(t,"URL")?Xu(t):function Gd(t){return(t=String(t)).match(am)?t:"unsafe:"+t}(Le(t))}function zl(t){const n=Sf();if(n)return Lp(n.sanitize(Eu.RESOURCE_URL,t)||"");if(ec(t,"ResourceURL"))return Lp(Xu(t));throw new Be(904,!1)}function pm(t,n,i){return function Ya(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?zl:Cf}(n,i)(t)}function Sf(){const t=yt();return t&&t[Ti].sanitizer}const Gl=new ln("ENVIRONMENT_INITIALIZER"),gm=new ln("INJECTOR",-1),Rf=new ln("INJECTOR_DEF_TYPES");class jp{get(n,i=Ot){if(i===Ot){const s=new Error(`NullInjectorError: No provider for ${st(n)}!`);throw s.name="NullInjectorError",s}return i}}function _i(...t){return{\u0275providers:ny(0,t),\u0275fromNgModule:!0}}function ny(t,...n){const i=[],s=new Set;let u;const l=m=>{i.push(m)};return Gs(n,m=>{const I=m;Ii(I,l,[],s)&&(u||=[],u.push(I))}),void 0!==u&&mm(u,l),i}function mm(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:u}=t[i];_m(u,l=>{n(l,s)})}}function Ii(t,n,i,s){if(!(t=_e(t)))return!1;let u=null,l=qn(t);const m=!l&&Sn(t);if(l||m){if(m&&!m.standalone)return!1;u=t}else{const A=t.ngModule;if(l=qn(A),!l)return!1;u=A}const I=s.has(u);if(m){if(I)return!1;if(s.add(u),m.dependencies){const A="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const O of A)Ii(O,n,i,s)}}else{if(!l)return!1;{if(null!=l.imports&&!I){let O;s.add(u);try{Gs(l.imports,G=>{Ii(G,n,i,s)&&(O||=[],O.push(G))})}finally{}void 0!==O&&mm(O,n)}if(!I){const O=Ms(u)||(()=>new u);n({provide:u,useFactory:O,deps:On},u),n({provide:Rf,useValue:u,multi:!0},u),n({provide:Gl,useValue:()=>Zr(u),multi:!0},u)}const A=l.providers;if(null!=A&&!I){const O=t;_m(A,G=>{n(G,O)})}}}return u!==t&&void 0!==t.providers}function _m(t,n){for(let i of t)Tn(i)&&(i=i.\u0275providers),Array.isArray(i)?_m(i,n):n(i)}const ew=it({provide:String,useValue:it});function Pf(t){return null!==t&&"object"==typeof t&&ew in t}function Wl(t){return"function"==typeof t}const ym=new ln("Set Injector scope."),$p={},nw={};let Mf;function tc(){return void 0===Mf&&(Mf=new jp),Mf}class Ja{}class ua extends Ja{get destroyed(){return this._destroyed}constructor(n,i,s,u){super(),this.parent=i,this.source=s,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kl(n,m=>this.processProvider(m)),this.records.set(gm,ql(void 0,this)),u.has("environment")&&this.records.set(Ja,ql(void 0,this));const l=this.records.get(ym);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Rf.multi,On,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=zr(this),s=br(void 0);try{return n()}finally{zr(i),br(s)}}get(n,i=Ot,s=Gt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(_t))return n[_t](this);s=ze(s);const l=zr(this),m=br(void 0);try{if(!(s&Gt.SkipSelf)){let A=this.records.get(n);if(void 0===A){const O=function wm(t){return"function"==typeof t||"object"==typeof t&&t instanceof ln}(n)&&tn(n);A=O&&this.injectableDefInScope(O)?ql(nc(n),$p):null,this.records.set(n,A)}if(null!=A)return this.hydrate(n,A)}return(s&Gt.Self?tc():this.parent).get(n,i=s&Gt.Optional&&i===Ot?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[En]=I[En]||[]).unshift(st(n)),l)throw I;return function nn(t,n,i,s){const u=t[En];throw n[ji]&&u.unshift(n[ji]),t.message=function yn(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=st(n);if(Array.isArray(n))u=n.map(st).join(" -> ");else if("object"==typeof n){let l=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];l.push(m+":"+("string"==typeof I?JSON.stringify(I):st(I)))}u=`{${l.join(", ")}}`}return`${i}${s?"("+s+")":""}[${u}]: ${t.replace(wr,"\n  ")}`}("\n"+t.message,u,i,s),t.ngTokenPath=u,t[En]=null,t}(I,n,"R3InjectorError",this.source)}throw I}finally{br(m),zr(l)}}resolveInjectorInitializers(){const n=zr(this),i=br(void 0);try{const u=this.get(Gl.multi,On,Gt.Self);for(const l of u)l()}finally{zr(n),br(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(st(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(n){let i=Wl(n=_e(n))?n:_e(n&&n.provide);const s=function xf(t){return Pf(t)?ql(void 0,t.useValue):ql(Nf(t),$p)}(n);if(Wl(n)||!0!==n.multi)this.records.get(i);else{let u=this.records.get(i);u||(u=ql(void 0,$p,!0),u.factory=()=>Ce(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===$p&&(i.value=nw,i.value=i.factory()),"object"==typeof i.value&&i.value&&function vm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=_e(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function nc(t){const n=tn(t),i=null!==n?n.factory:Ms(t);if(null!==i)return i;if(t instanceof ln)throw new Be(204,!1);if(t instanceof Function)return function rw(t){const n=t.length;if(n>0)throw function $a(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}(n,"?"),new Be(204,!1);const i=function yr(t){return t&&(t[vr]||t[_n])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Be(204,!1)}function Nf(t,n,i){let s;if(Wl(t)){const u=_e(t);return Ms(u)||nc(u)}if(Pf(t))s=()=>_e(t.useValue);else if(function oy(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Ce(t.deps||[]));else if(function iy(t){return!(!t||!t.useExisting)}(t))s=()=>Zr(_e(t.useExisting));else{const u=_e(t&&(t.useClass||t.provide));if(!function sy(t){return!!t.deps}(t))return Ms(u)||nc(u);s=()=>new u(...Ce(t.deps))}return s}function ql(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Kl(t,n){for(const i of t)Array.isArray(i)?Kl(i,n):i&&Tn(i)?Kl(i.\u0275providers,n):n(i)}const Im=new ln("AppId",{providedIn:"root",factory:()=>Ql}),Ql="ng",Of=new ln("Platform Initializer"),qc=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hp=new ln("CSP nonce",{providedIn:"root",factory:()=>function Ju(){if(void 0!==Hd)return Hd;if(typeof document<"u")return document;throw new Be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cy=(t,n,i)=>null;function rc(t,n,i=!1){return cy(t,n,i)}class aw{}class hy{}class Sm{resolveComponentFactory(n){throw function Cm(t){const n=Error(`No component factory found for ${st(t)}.`);return n.ngComponent=t,n}(n)}}let Jd=(()=>{class t{static#e=this.NULL=new Sm}return t})();function py(){return ic(Wi(),yt())}function ic(t,n){return new jf(Vi(t,n))}let jf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=py}return t})();function uw(t){return t instanceof jf?t.nativeElement:t}class gy{}let my=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function cw(){const t=yt(),i=Ho(Wi().index,t);return(fi(i)?i:t)[Nt]}()}return t})(),lw=(()=>{class t{static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null})}return t})();class oc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Jc=new oc("16.2.12"),Zl={};function Rm(t,n=null,i=null,s){const u=Iy(t,n,i,s);return u.resolveInjectorInitializers(),u}function Iy(t,n=null,i=null,s,u=new Set){const l=[i||On,_i(t)];return s=s||("object"==typeof t?void 0:st(t)),new ua(l,n||tc(),s||null,u)}let ba=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ot;static#t=this.NULL=new jp;static create(i,s){if(Array.isArray(i))return Rm({name:""},s,i,"");{const u=i.name??"";return Rm({name:u},i.parent,i.providers,u)}}static#n=this.\u0275prov=pt({token:t,providedIn:"any",factory:()=>Zr(gm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Xc(t){return t.ngOriginalError}class Xa{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Xc(n);for(;i&&Xc(i);)i=Xc(i);return i||null}}function Zp(t){return n=>{setTimeout(t,void 0,n)}}const eu=class Ty extends S.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let u=n,l=i||(()=>null),m=s;if(n&&"object"==typeof n){const A=n;u=A.next?.bind(A),l=A.error?.bind(A),m=A.complete?.bind(A)}this.__isAsync&&(l=Zp(l),u&&(u=Zp(u)),m&&(m=Zp(m)));const I=super.subscribe({next:u,error:l,complete:m});return n instanceof fe.w0&&n.add(I),I}};function by(...t){}class Ko{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eu(!1),this.onMicrotaskEmpty=new eu(!1),this.onStable=new eu(!1),this.onError=new eu(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&i,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function mw(){const t="function"==typeof Bt.requestAnimationFrame;let n=Bt[t?"requestAnimationFrame":"setTimeout"],i=Bt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function _w(t){const n=()=>{!function Ay(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jp(t),t.isCheckStableRunning=!0,Yp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,u,l,m,I)=>{if(function yw(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(u,l,m,I);try{return xm(t),i.invokeTask(u,l,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),eh(t)}},onInvoke:(i,s,u,l,m,I,A)=>{try{return xm(t),i.invoke(u,l,m,I,A)}finally{t.shouldCoalesceRunChangeDetection&&n(),eh(t)}},onHasTask:(i,s,u,l)=>{i.hasTask(u,l),s===u&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,Jp(t),Yp(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(i,s,u,l)=>(i.handleError(u,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ko.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Ko.isInAngularZone())throw new Be(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,u){const l=this._inner,m=l.scheduleEventTask("NgZoneEvent: "+u,n,Dy,by,by);try{return l.runTask(m,i,s)}finally{l.cancelTask(m)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const Dy={};function Yp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eh(t){t._nesting--,Yp(t)}class Cy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eu,this.onMicrotaskEmpty=new eu,this.onStable=new eu,this.onError=new eu}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,u){return n.apply(i,s)}}const Sy=new ln("",{providedIn:"root",factory:Ry});function Ry(){const t=er(Ko);let n=!0;return function at(...t){const n=(0,Re.yG)(t),i=(0,Re._6)(t,1/0),s=t;return s.length?1===s.length?(0,te.Xf)(s[0]):(0,ke.J)(i)((0,gt.D)(s,n)):De.E}(new Ze.y(u=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(n),u.complete()})}),new Ze.y(u=>{let l;t.runOutsideAngular(()=>{l=t.onStable.subscribe(()=>{Ko.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Ko.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),m.unsubscribe()}}).pipe(We()))}function ac(t){return t instanceof Function?t():t}let Nm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Yl(t){for(;t;){t[en]|=64;const n=ye(t);if(et(t)&&!n)return t;t=n}return null}const Ly=new ln("",{providedIn:"root",factory:()=>!1});let k=null;function Z(t,n){return t[n]??vt()}function ne(t,n){const i=vt();i.producerNode?.length&&(t[n]=k,i.lView=t,k=je())}const ge={...Bs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yl(t.lView)},lView:null};function je(){return Object.create(ge)}function vt(){return k??=je(),k}const tt={};function bt(t){an(pr(),yt(),ho()+t,!1)}function an(t,n,i,s){if(!s)if(3==(3&n[en])){const l=t.preOrderCheckHooks;null!==l&&yc(n,l,i)}else{const l=t.preOrderHooks;null!==l&&lu(n,l,0,i)}uu(i)}function gn(t,n=Gt.Default){const i=yt();return null===i?Zr(t,n):Nh(Wi(),i,_e(t),n)}function fn(){throw new Error("invalid")}function Fr(t,n,i,s,u,l,m,I,A,O,G){const re=n.blueprint.slice();return re[Ir]=u,re[en]=140|s,(null!==O||t&&2048&t[en])&&(re[en]|=2048),j(re),re[Er]=re[$i]=t,re[fr]=i,re[Ti]=m||t&&t[Ti],re[Nt]=I||t&&t[Nt],re[Co]=A||t&&t[Co]||null,re[Yr]=l,re[so]=function tf(){return ef++}(),re[ns]=G,re[ys]=O,re[Ur]=2==n.type?t[Ur]:re,re}function Jn(t,n,i,s,u){let l=t.data[n];if(null===l)l=function Se(t,n,i,s,u){const l=mc(),m=As(),A=t.data[n]=function uc(t,n,i,s,u,l){let m=n?n.injectorIndex:-1,I=0;return function va(){return null!==ut.skipHydrationRootTNode}()&&(I|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?l:l&&l.parent,i,n,s,u);return null===t.firstChild&&(t.firstChild=A),null!==l&&(m?null==l.child&&null!==A.parent&&(l.child=A):null===l.next&&(l.next=A,A.prev=l)),A}(t,n,i,s,u),function y(){return ut.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=i,l.value=s,l.attrs=u;const m=function au(){const t=ut.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===m?-1:m.injectorIndex}return zo(l,!0),l}function he(t,n,i,s){if(0===i)return-1;const u=n.length;for(let l=0;l<i;l++)n.push(s),t.blueprint.push(s),t.data.push(null);return u}function ve(t,n,i,s,u){const l=Z(n,Lo),m=ho(),I=2&s;try{uu(-1),I&&n.length>$n&&an(t,n,$n,!1),co(I?2:0,u);const O=I?l:null,G=To(O);try{null!==O&&(O.dirty=!1),i(s,u)}finally{_a(O,G)}}finally{I&&null===n[Lo]&&ne(n,Lo),uu(m),co(I?3:1,u)}}function Pe(t,n,i){if(B(n)){const s=Li(null);try{const l=n.directiveEnd;for(let m=n.directiveStart;m<l;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{Li(s)}}}function Oe(t,n,i){gc()&&(function ig(t,n,i,s){const u=i.directiveStart,l=i.directiveEnd;oe(i)&&function ag(t,n,i){const s=Vi(n,t),u=me(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=Wf(t,Fr(t,u,null,m,s,n,null,t[Ti].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=I}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||Uu(i,n),Wo(s,n);const m=i.initialInputs;for(let I=u;I<l;I++){const A=t.data[I],O=Ea(n,t,I,i);Wo(O,n),null!==m&&ds(0,I-u,O,A,0,m),Te(A)&&(Ho(i.index,n)[fr]=Ea(n,t,I,i))}}(t,n,i,Vi(i,n)),64==(64&i.flags)&&og(t,n,i))}function Ke(t,n,i=Vi){const s=n.localNames;if(null!==s){let u=n.index+1;for(let l=0;l<s.length;l+=2){const m=s[l+1],I=-1===m?i(n,t):t[m];t[u++]=I}}}function me(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Da(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Da(t,n,i,s,u,l,m,I,A,O,G){const re=$n+s,we=re+u,xe=function rh(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:tt);return i}(re,we),lt="function"==typeof O?O():O;return xe[Ut]={type:t,blueprint:xe,template:i,queries:null,viewQuery:I,declTNode:n,data:xe.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:we,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:lt,incompleteFirstPass:!1,ssrId:G}}let Jl=t=>null;function Qo(t,n,i,s){for(let u in t)if(t.hasOwnProperty(u)){i=null===i?{}:i;const l=t[u];null===s?km(i,n,u,l):s.hasOwnProperty(u)&&km(i,n,s[u],l)}return i}function km(t,n,i,s){t.hasOwnProperty(i)?t[i].push(n,s):t[i]=[n,s]}function Zo(t,n,i,s,u,l,m,I){const A=Vi(n,i);let G,O=n.inputs;!I&&null!=O&&(G=O[s])?(ah(t,i,G,s,u),oe(n)&&function By(t,n){const i=Ho(n,t);16&i[en]||(i[en]|=64)}(i,n.index)):3&n.type&&(s=function Uy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),u=null!=m?m(u,n.value||"",s):u,l.setProperty(A,s,u))}function Xl(t,n,i,s){if(gc()){const u=null===s?null:{"":-1},l=function $y(t,n){const i=t.directiveRegistry;let s=null,u=null;if(i)for(let l=0;l<i.length;l++){const m=i[l];if(Ki(n,m.selectors,!1))if(s||(s=[]),Te(m))if(null!==m.findHostDirectiveDefs){const I=[];u=u||new Map,m.findHostDirectiveDefs(m,I,u),s.unshift(...I,m),zf(t,n,I.length)}else s.unshift(m),zf(t,n,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,s,u),s.push(m)}return null===s?null:[s,u]}(t,i);let m,I;null===l?m=I=null:[m,I]=l,null!==m&&Hf(t,n,i,m,u,I),u&&function Fm(t,n,i){if(n){const s=t.localNames=[];for(let u=0;u<n.length;u+=2){const l=i[n[u+1]];if(null==l)throw new Be(-301,!1);s.push(n[u],l)}}}(i,s,u)}i.mergedAttrs=or(i.mergedAttrs,i.attrs)}function Hf(t,n,i,s,u,l){for(let O=0;O<s.length;O++)Ic(Uu(i,n),t,s[O].type);!function Vm(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let O=0;O<s.length;O++){const G=s[O];G.providersResolver&&G.providersResolver(G)}let m=!1,I=!1,A=he(t,n,s.length,null);for(let O=0;O<s.length;O++){const G=s[O];i.mergedAttrs=or(i.mergedAttrs,G.hostAttrs),Hy(t,i,n,A,G),sg(A,G,u),null!==G.contentQueries&&(i.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(i.flags|=64);const re=G.type.prototype;!m&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!I&&(re.ngOnChanges||re.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),A++}!function oh(t,n,i){const u=n.directiveEnd,l=t.data,m=n.attrs,I=[];let A=null,O=null;for(let G=n.directiveStart;G<u;G++){const re=l[G],we=i?i.get(re):null,lt=we?we.outputs:null;A=Qo(re.inputs,G,A,we?we.inputs:null),O=Qo(re.outputs,G,O,lt);const Ct=null===A||null===m||xr(n)?null:Gf(A,G,m);I.push(Ct)}null!==A&&(A.hasOwnProperty("class")&&(n.flags|=8),A.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=A,n.outputs=O}(t,i,l)}function og(t,n,i){const s=i.directiveStart,u=i.directiveEnd,l=i.index,m=function C(){return ut.lFrame.currentDirectiveIndex}();try{uu(l);for(let I=s;I<u;I++){const A=t.data[I],O=n[I];N(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Lm(A,O)}}finally{uu(-1),N(m)}}function Lm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function zf(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function sg(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;Te(n)&&(i[""]=t)}}function Hy(t,n,i,s,u){t.data[s]=u;const l=u.factory||(u.factory=Ms(u.type)),m=new Vu(l,Te(u),gn);t.blueprint[s]=m,i[s]=m,function ng(t,n,i,s,u){const l=u.hostBindings;if(l){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~n.index;(function rg(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,s,l)}}(t,n,s,he(t,i,u.hostVars,tt),u)}function ca(t,n,i,s,u,l){const m=Vi(t,n);!function sh(t,n,i,s,u,l,m){if(null==l)t.removeAttribute(n,u,i);else{const I=null==m?Le(l):m(l,s||"",u);t.setAttribute(n,u,I,i)}}(n[Nt],m,l,t.value,i,s,u)}function ds(t,n,i,s,u,l){const m=l[n];if(null!==m)for(let I=0;I<m.length;)hs(s,i,m[I++],m[I++],m[I++])}function hs(t,n,i,s,u){const l=Li(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(s)&&(u=m[s].call(n,u)),null!==t.setInput?t.setInput(n,u,i,s):n[s]=u}finally{Li(l)}}function Gf(t,n,i){let s=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===s&&(s=[]);const m=t[l];for(let I=0;I<m.length;I+=2)if(m[I]===n){s.push(l,m[I+1],i[u+1]);break}}u+=2}else u+=2;else u+=4}return s}function ug(t,n,i,s){return[t,!0,!1,n,null,0,s,i,null,null,null]}function cg(t,n){const i=t.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const l=i[s+1];if(-1!==l){const m=t.data[l];Ge(i[s]),m.contentQueries(2,n[l],l)}}}function Wf(t,n){return t[Fn]?t[So][Qn]=n:t[Fn]=n,t[So]=n,n}function tl(t,n,i){Ge(0);const s=Li(null);try{n(t,i)}finally{Li(s)}}function lg(t){return t[di]||(t[di]=[])}function qf(t){return t.cleanup||(t.cleanup=[])}function Bm(t,n){const i=t[Co],s=i?i.get(Xa,null):null;s&&s.handleError(n)}function ah(t,n,i,s,u){for(let l=0;l<i.length;){const m=i[l++],I=i[l++];hs(t.data[m],n[m],s,I,u)}}function tu(t,n,i){const s=Ra(n,t);!function wu(t,n,i){t.setValue(n,i)}(t[Nt],s,i)}function jm(t,n){const i=Ho(n,t),s=i[Ut];!function uh(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const u=i[Ir];null!==u&&null===i[ns]&&(i[ns]=rc(u,i[Co])),ch(s,i,i[fr])}function ch(t,n,i){An(n);try{const s=t.viewQuery;null!==s&&tl(1,s,i);const u=t.template;null!==u&&ve(t,n,u,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&cg(t,n),t.staticViewQueries&&tl(2,t.viewQuery,i);const l=t.components;null!==l&&function dg(t,n){for(let i=0;i<n.length;i++)jm(t,n[i])}(n,l)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[en]&=-5,wa()}}let cc=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,s,u){const l=typeof Zone>"u"?null:Zone.current,m=function Po(t,n,i){const s=Object.create(Mr);i&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const u=m=>{s.cleanupFn=m};return s.ref={notify:()=>Is(s),run:()=>{if(s.dirty=!1,s.hasRun&&!ao(s))return;s.hasRun=!0;const m=To(s);try{s.cleanupFn(),s.cleanupFn=Fi,s.fn(u)}finally{_a(s,m)}},cleanup:()=>s.cleanupFn()},s.ref}(i,O=>{this.all.has(O)&&this.queue.set(O,l)},u);let I;this.all.add(m),m.notify();const A=()=>{m.cleanup(),I?.(),this.all.delete(m),this.queue.delete(m)};return I=s?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[i,s]of this.queue)this.queue.delete(i),s?s.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t})}return t})();function nl(t,n,i){let s=i?t.styles:null,u=i?t.classes:null,l=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?l=I:1==l?u=Pt(u,I):2==l&&(s=Pt(s,I+": "+n[++m]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=u:t.classesWithoutHost=u}function ed(t,n,i,s,u=!1){for(;null!==i;){const l=n[i.index];null!==l&&s.push(zn(l)),U(l)&&td(l,s);const m=i.type;if(8&m)ed(t,n,i.child,s);else if(32&m){const I=V(i,n);let A;for(;A=I();)s.push(A)}else if(16&m){const I=Ka(n,i);if(Array.isArray(I))s.push(...I);else{const A=ye(n[Ur]);ed(A[Ut],A,I,s,!0)}}i=u?i.projectionNext:i.next}return s}function td(t,n){for(let i=Gr;i<t.length;i++){const s=t[i],u=s[Ut].firstChild;null!==u&&ed(s[Ut],s,u,n)}t[hi]!==t[Ir]&&n.push(t[hi])}function lh(t,n,i,s=!0){const u=n[Ti],l=u.rendererFactory,m=u.afterRenderEventManager;l.begin?.(),m?.begin();try{nd(t,n,t.template,i)}catch(A){throw s&&Bm(n,A),A}finally{l.end?.(),u.effectManager?.flush(),m?.end()}}function nd(t,n,i,s){const u=n[en];if(256!=(256&u)){n[Ti].effectManager?.flush(),An(n);try{j(n),function yd(t){return ut.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&ve(t,n,i,2,s);const m=3==(3&u);if(m){const O=t.preOrderCheckHooks;null!==O&&yc(n,O,null)}else{const O=t.preOrderHooks;null!==O&&lu(n,O,0,null),vc(n,0)}if(function Gy(t){for(let n=Jt(t);null!==n;n=vn(n)){if(!n[vs])continue;const i=n[Di];for(let s=0;s<i.length;s++){w(i[s])}}}(n),rd(n,2),null!==t.contentQueries&&cg(t,n),m){const O=t.contentCheckHooks;null!==O&&yc(n,O)}else{const O=t.contentHooks;null!==O&&lu(n,O,1),vc(n,1)}!function Yn(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const s=Z(n,Eo);try{for(let u=0;u<i.length;u++){const l=i[u];if(l<0)uu(~l);else{const m=l,I=i[++u],A=i[++u];_(I,m),s.dirty=!1;const O=To(s);try{A(2,n[m])}finally{_a(s,O)}}}}finally{null===n[Eo]&&ne(n,Eo),uu(-1)}}(t,n);const I=t.components;null!==I&&zm(n,I,0);const A=t.viewQuery;if(null!==A&&tl(2,A,s),m){const O=t.viewCheckHooks;null!==O&&yc(n,O)}else{const O=t.viewHooks;null!==O&&lu(n,O,2),vc(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[en]&=-73,R(n)}finally{wa()}}}function rd(t,n){for(let i=Jt(t);null!==i;i=vn(i))for(let s=Gr;s<i.length;s++)rl(i[s],n)}function Wy(t,n,i){rl(Ho(n,t),i)}function rl(t,n){if(!function Ma(t){return 128==(128&t[en])}(t))return;const i=t[Ut],s=t[en];if(80&s&&0===n||1024&s||2===n)nd(i,t,i.template,t[fr]);else if(t[Pi]>0){rd(t,1);const u=i.components;null!==u&&zm(t,u,1)}}function zm(t,n,i){for(let s=0;s<n.length;s++)Wy(t,n[s],i)}class dh{get rootNodes(){const n=this._lView,i=n[Ut];return ed(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(n){this._lView[fr]=n}get destroyed(){return 256==(256&this._lView[en])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Er];if(U(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Yu(n,s),Hu(i,s))}this._attachedToViewContainer=!1}jc(this._lView[Ut],this._lView)}onDestroy(n){!function ce(t,n){if(256==(256&t[en]))throw new Be(911,!1);null===t[ts]&&(t[ts]=[]),t[ts].push(n)}(this._lView,n)}markForCheck(){Yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[en]&=-129}reattach(){this._lView[en]|=128}detectChanges(){lh(this._lView[Ut],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uc(t,n){Bd(t,n,n[Nt],2,null,null)}(this._lView[Ut],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=n}}class Kf extends dh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;lh(n[Ut],n,n[fr],!1)}checkNoChanges(){}get context(){return null}}class hg extends Jd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Sn(n);return new id(i,this.ngModule)}}function Qf(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class lc{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=ze(s);const u=this.injector.get(n,Zl,s);return u!==Zl||i===Zl?u:this.parentInjector.get(n,i,s)}}class id extends hy{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=Qf(n.inputs);if(null!==i)for(const u of s)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return s}get outputs(){return Qf(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function vo(t){return t.map(ga).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,u){let l=(u=u||this.ngModule)instanceof Ja?u:u?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const m=l?new lc(n,l):n,I=m.get(gy,null);if(null===I)throw new Be(407,!1);const re={rendererFactory:I,sanitizer:m.get(lw,null),effectManager:m.get(cc,null),afterRenderEventManager:m.get(Nm,null)},we=I.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",lt=s?function Fy(t,n,i,s){const l=s.get(Ly,!1)||i===Ln.ShadowDom,m=t.selectRootElement(n,l);return function ih(t){Jl(t)}(m),m}(we,s,this.componentDef.encapsulation,m):qa(we,xe,function Zf(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(xe)),pn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let It=null;null!==lt&&(It=rc(lt,m,!0));const Xn=Da(0,null,null,1,0,null,null,null,null,null,null),Cr=Fr(null,Xn,null,pn,null,null,re,we,m,null,It);let wi,pa;An(Cr);try{const hl=this.componentDef;let pp,Qv=null;hl.findHostDirectiveDefs?(pp=[],Qv=new Map,hl.findHostDirectiveDefs(hl,pp,Qv),pp.push(hl)):pp=[hl];const eC=function fg(t,n){const i=t[Ut],s=$n;return t[s]=n,Jn(i,s,2,"#host",null)}(Cr,lt),tC=function pg(t,n,i,s,u,l,m){const I=u[Ut];!function Wm(t,n,i,s){for(const u of t)n.mergedAttrs=or(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(nl(n,n.mergedAttrs,!0),null!==i&&wf(s,i,n))}(s,t,n,m);let A=null;null!==n&&(A=rc(n,u[Co]));const O=l.rendererFactory.createRenderer(n,i);let G=16;i.signals?G=4096:i.onPush&&(G=64);const re=Fr(u,me(i),null,G,u[t.index],t,l,O,null,null,A);return I.firstCreatePass&&zf(I,t,s.length-1),Wf(u,re),u[t.index]=re}(eC,lt,hl,pp,Cr,re,we);pa=Ns(Xn,$n),lt&&function qy(t,n,i,s){if(s)rn(t,i,["ng-version",Jc.full]);else{const{attrs:u,classes:l}=function Ao(t){const n=[],i=[];let s=1,u=2;for(;s<t.length;){let l=t[s];if("string"==typeof l)2===u?""!==l&&n.push(l,t[++s]):8===u&&i.push(l);else{if(!jn(u))break;u=l}s++}return{attrs:n,classes:i}}(n.selectors[0]);u&&rn(t,i,u),l&&l.length>0&&Jg(t,i,l.join(" "))}}(we,hl,lt,s),void 0!==i&&function Yf(t,n,i){const s=t.projection=[];for(let u=0;u<n.length;u++){const l=i[u];s.push(null!=l?Array.from(l):null)}}(pa,this.ngContentSelectors,i),wi=function qm(t,n,i,s,u,l){const m=Wi(),I=u[Ut],A=Vi(m,u);Hf(I,u,m,i,null,s);for(let G=0;G<i.length;G++)Wo(Ea(u,I,m.directiveStart+G,m),u);og(I,u,m),A&&Wo(A,u);const O=Ea(u,I,m.directiveStart+m.componentOffset,m);if(t[fr]=u[fr]=O,null!==l)for(const G of l)G(O,n);return Pe(I,m,t),O}(tC,hl,pp,Qv,Cr,[Km]),ch(Xn,Cr,null)}finally{wa()}return new Gm(this.componentType,wi,ic(pa,Cr),Cr,pa)}}class Gm extends aw{constructor(n,i,s,u,l){super(),this.location=s,this._rootLView=u,this._tNode=l,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Kf(u),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let u;if(null!==s&&(u=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const l=this._rootLView;ah(l[Ut],l,u,n,i),this.previousInputValues.set(n,i),Yl(Ho(this._tNode.index,l))}}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Km(){const t=Wi();ka(yt()[Ut],t)}function il(t){let n=function Jf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let u;if(Te(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Be(903,!1);u=n.\u0275dir}if(u){if(i){s.push(u);const m=t;m.inputs=od(t.inputs),m.inputTransforms=od(t.inputTransforms),m.declaredInputs=od(t.declaredInputs),m.outputs=od(t.outputs);const I=u.hostBindings;I&&Zm(t,I);const A=u.viewQuery,O=u.contentQueries;if(A&&Ky(t,A),O&&Qm(t,O),nt(t.inputs,u.inputs),nt(t.declaredInputs,u.declaredInputs),nt(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),nt(m.inputTransforms,u.inputTransforms)),Te(u)&&u.data.animation){const G=t.data;G.animation=(G.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let m=0;m<l.length;m++){const I=l[m];I&&I.ngInherit&&I(t),I===il&&(i=!1)}}n=Object.getPrototypeOf(n)}!function ol(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const u=t[s];u.hostVars=n+=u.hostVars,u.hostAttrs=or(u.hostAttrs,i=or(i,u.hostAttrs))}}(s)}function od(t){return t===Or?{}:t===On?[]:t}function Ky(t,n){const i=t.viewQuery;t.viewQuery=i?(s,u)=>{n(s,u),i(s,u)}:n}function Qm(t,n){const i=t.contentQueries;t.contentQueries=i?(s,u,l)=>{n(s,u,l),i(s,u,l)}:n}function Zm(t,n){const i=t.hostBindings;t.hostBindings=i?(s,u)=>{n(s,u),i(s,u)}:n}function e_(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const u=n[s];Array.isArray(u)&&u[2]&&(i[s]=u[2])}t.inputTransforms=i}function la(t){return!!tp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qs(t,n,i){return t[n]=i}function mo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function sl(t,n,i,s){const u=mo(t,n,i);return mo(t,n+1,s)||u}function vg(t,n,i,s){const u=yt();return mo(u,ia(),n)&&(pr(),ca(mi(),u,t,n,i,s)),vg}function ud(t,n,i,s){return mo(t,ia(),i)?n+Le(i)+s:tt}function Ks(t,n,i,s,u,l,m,I){const O=function hh(t,n,i,s,u){const l=sl(t,n,i,s);return mo(t,n+2,u)||l}(t,Cs(),i,u,m);return us(3),O?n+Le(i)+s+Le(u)+l+Le(m)+I:tt}function al(t,n,i,s,u,l,m,I,A,O){const re=function da(t,n,i,s,u,l){const m=sl(t,n,i,s);return sl(t,n+2,u,l)||m}(t,Cs(),i,u,m,A);return us(4),re?n+Le(i)+s+Le(u)+l+Le(m)+I+Le(A)+O:tt}function wh(t,n,i,s,u,l,m,I){const A=yt(),O=pr(),G=t+$n,re=O.firstCreatePass?function m_(t,n,i,s,u,l,m,I,A){const O=n.consts,G=Jn(n,t,4,m||null,bo(O,I));Xl(n,i,G,bo(O,A)),ka(n,G);const re=G.tView=Da(2,G,s,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O,null);return null!==n.queries&&(n.queries.template(n,G),re.queries=n.queries.embeddedTView(G)),G}(G,O,A,n,i,s,u,l,m):O.data[G];zo(re,!1);const we=Fs(O,A,re,t);_c()&&_f(O,A,we,re),Wo(we,A),Wf(A,A[G]=ug(we,A,we,re)),ie(re)&&Oe(O,A,re),null!=m&&Ke(A,re,I)}let Fs=function bg(t,n,i,s){return ks(!0),n[Nt].createComment("")};function L(t,n,i){const s=yt();return mo(s,ia(),n)&&Zo(pr(),mi(),s,t,n,s[Nt],i,!1),L}function ee(t,n,i,s,u){const m=u?"class":"style";ah(t,i,n.inputs[m],m,s)}function Je(t,n,i,s){const u=yt(),l=pr(),m=$n+t,I=u[Nt],A=l.firstCreatePass?function Ve(t,n,i,s,u,l){const m=n.consts,A=Jn(n,t,2,s,bo(m,u));return Xl(n,i,A,bo(m,l)),null!==A.attrs&&nl(A,A.attrs,!1),null!==A.mergedAttrs&&nl(A,A.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,A),A}(m,l,u,n,i,s):l.data[m],O=Mo(l,u,A,I,n,t);u[m]=O;const G=ie(A);return zo(A,!0),wf(I,O,A),32!=(32&A.flags)&&_c()&&_f(l,u,O,A),0===function Jr(){return ut.lFrame.elementDepthCount}()&&Wo(O,u),function ra(){ut.lFrame.elementDepthCount++}(),G&&(Oe(l,u,A),Pe(l,A,u)),null!==s&&Ke(u,A),Je}function Ht(){let t=Wi();As()?function as(){ut.lFrame.isParent=!1}():(t=t.parent,zo(t,!1));const n=t;(function _d(t){return ut.skipHydrationRootTNode===t})(n)&&function gl(){ut.skipHydrationRootTNode=null}(),function md(){ut.lFrame.elementDepthCount--}();const i=pr();return i.firstCreatePass&&(ka(i,t),B(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function El(t){return 0!=(8&t.flags)}(n)&&ee(i,n,yt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Go(t){return 0!=(16&t.flags)}(n)&&ee(i,n,yt(),n.stylesWithoutHost,!1),Ht}function ai(t,n,i,s){return Je(t,n,i,s),Ht(),ai}let Mo=(t,n,i,s,u,l)=>(ks(!0),qa(s,u,function Ch(){return ut.lFrame.currentNamespace}()));function Ew(){return yt()}function tv(t){return!!t&&"function"==typeof t.then}function Tw(t){return!!t&&"function"==typeof t.subscribe}function nv(t,n,i,s){const u=yt(),l=pr(),m=Wi();return function Dw(t,n,i,s,u,l,m){const I=ie(s),O=t.firstCreatePass&&qf(t),G=n[fr],re=lg(n);let we=!0;if(3&s.type||m){const Ct=Vi(s,n),Qt=m?m(Ct):Ct,pn=re.length,It=m?Cr=>m(zn(Cr[s.index])):s.index;let Xn=null;if(!m&&I&&(Xn=function M0(t,n,i,s){const u=t.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const m=u[l];if(m===i&&u[l+1]===s){const I=n[di],A=u[l+2];return I.length>A?I[A]:null}"string"==typeof m&&(l+=2)}return null}(t,n,u,s.index)),null!==Xn)(Xn.__ngLastListenerFn__||Xn).__ngNextListenerFn__=l,Xn.__ngLastListenerFn__=l,we=!1;else{l=Cw(s,n,G,l,!1);const Cr=i.listen(Qt,u,l);re.push(l,Cr),O&&O.push(u,It,pn,pn+1)}}else l=Cw(s,n,G,l,!1);const xe=s.outputs;let lt;if(we&&null!==xe&&(lt=xe[u])){const Ct=lt.length;if(Ct)for(let Qt=0;Qt<Ct;Qt+=2){const wi=n[lt[Qt]][lt[Qt+1]].subscribe(l),pa=re.length;re.push(l,wi),O&&O.push(u,s.index,pa,-(pa+1))}}}(l,u,u[Nt],m,t,n,s),nv}function Aw(t,n,i,s){try{return co(6,n,i),!1!==i(s)}catch(u){return Bm(t,u),!1}finally{co(7,n,i)}}function Cw(t,n,i,s,u){return function l(m){if(m===Function)return s;Yl(t.componentOffset>-1?Ho(t.index,n):n);let A=Aw(n,i,s,m),O=l.__ngNextListenerFn__;for(;O;)A=Aw(n,i,O,m)&&A,O=O.__ngNextListenerFn__;return u&&!1===A&&m.preventDefault(),A}}function Sw(t=1){return function ku(t){return(ut.lFrame.contextLView=function Oa(t,n){for(;t>0;)n=n[$i],t--;return n}(t,ut.lFrame.contextLView))[fr]}(t)}function rv(t,n,i){return y_(t,"",n,"",i),rv}function y_(t,n,i,s,u){const l=yt(),m=ud(l,n,i,s);return m!==tt&&Zo(pr(),mi(),l,t,m,l[Nt],u,!1),y_}function v_(t,n){return t<<17|n<<2}function pd(t){return t>>17&32767}function iv(t){return 2|t}function Eh(t){return(131068&t)>>2}function ov(t,n){return-131069&t|n<<2}function sv(t){return 1|t}function Fw(t,n,i,s,u){const l=t[i+1],m=null===n;let I=s?pd(l):Eh(l),A=!1;for(;0!==I&&(!1===A||m);){const G=t[I+1];B0(t[I],n)&&(A=!0,t[I+1]=s?sv(G):iv(G)),I=s?pd(G):Eh(G)}A&&(t[i+1]=s?iv(l):sv(l))}function B0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ha(t,n)>=0}function av(t,n){return function Ru(t,n,i,s){const u=yt(),l=pr(),m=us(2);l.firstUpdatePass&&function Ww(t,n,i,s){const u=t.data;if(null===u[i+1]){const l=u[ho()],m=function Gw(t,n){return n>=t.expandoStartIndex}(t,i);(function Zw(t,n){return 0!=(t.flags&(n?8:16))})(l,s)&&null===n&&!m&&(n=!1),n=function Q0(t,n,i,s){const u=function W(t){const n=ut.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=s?n.residualClasses:n.residualStyles;if(null===u)0===(s?n.classBindings:n.styleBindings)&&(i=Dg(i=uv(null,t,n,i,s),n.attrs,s),l=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==u)if(i=uv(u,t,n,i,s),null===l){let A=function Z0(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==Eh(s))return t[pd(s)]}(t,n,s);void 0!==A&&Array.isArray(A)&&(A=uv(null,t,n,A[1],s),A=Dg(A,n.attrs,s),function Y0(t,n,i,s){t[pd(i?n.classBindings:n.styleBindings)]=s}(t,n,s,A))}else l=function J0(t,n,i){let s;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)s=Dg(s,t[l].hostAttrs,i);return Dg(s,n.attrs,i)}(t,n,s)}return void 0!==l&&(s?n.residualClasses=l:n.residualStyles=l),i}(u,l,n,s),function V0(t,n,i,s,u,l){let m=l?n.classBindings:n.styleBindings,I=pd(m),A=Eh(m);t[s]=i;let G,O=!1;if(Array.isArray(i)?(G=i[1],(null===G||Ha(i,G)>0)&&(O=!0)):G=i,u)if(0!==A){const we=pd(t[I+1]);t[s+1]=v_(we,I),0!==we&&(t[we+1]=ov(t[we+1],s)),t[I+1]=function L0(t,n){return 131071&t|n<<17}(t[I+1],s)}else t[s+1]=v_(I,0),0!==I&&(t[I+1]=ov(t[I+1],s)),I=s;else t[s+1]=v_(A,0),0===I?I=s:t[A+1]=ov(t[A+1],s),A=s;O&&(t[s+1]=iv(t[s+1])),Fw(t,G,s,!0),Fw(t,G,s,!1),function U0(t,n,i,s,u){const l=u?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Ha(l,n)>=0&&(i[s+1]=sv(i[s+1]))}(n,G,t,s,l),m=v_(I,A),l?n.classBindings=m:n.styleBindings=m}(u,l,n,i,m,s)}}(l,t,m,s),n!==tt&&mo(u,m,n)&&function Kw(t,n,i,s,u,l,m,I){if(!(3&n.type))return;const A=t.data,O=A[I+1],G=function F0(t){return 1==(1&t)}(O)?Qw(A,n,i,u,Eh(O),m):void 0;w_(G)||(w_(l)||function k0(t){return 2==(2&t)}(O)&&(l=Qw(A,null,i,u,I,m)),function B_(t,n,i,s,u){if(n)u?t.addClass(i,s):t.removeClass(i,s);else{let l=-1===s.indexOf("-")?void 0:Vc.DashCase;null==u?t.removeStyle(i,s,l):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),l|=Vc.Important),t.setStyle(i,s,u,l))}}(s,m,Ra(ho(),i),u,l))}(l,l.data[ho()],u,u[Nt],t,u[m+1]=function nT(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=st(Xu(t)))),t}(n,i),s,m)}(t,n,null,!0),av}function uv(t,n,i,s,u){let l=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(l=n[I],s=Dg(s,l.hostAttrs,u),l!==t);)I++;return null!==t&&(i.directiveStylingLast=I),s}function Dg(t,n,i){const s=i?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const m=n[l];"number"==typeof m?u=m:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Do(t,m,!!i||n[++l]))}return void 0===t?null:t}function Qw(t,n,i,s,u,l){const m=null===n;let I;for(;u>0;){const A=t[u],O=Array.isArray(A),G=O?A[1]:A,re=null===G;let we=i[u+1];we===tt&&(we=re?On:void 0);let xe=re?Ad(we,s):G===s?we:void 0;if(O&&!w_(xe)&&(xe=Ad(A,s)),w_(xe)&&(I=xe,m))return I;const lt=t[u+1];u=m?pd(lt):Eh(lt)}if(null!==n){let A=l?n.residualClasses:n.residualStyles;null!=A&&(I=Ad(A,s))}return I}function w_(t){return void 0!==t}function Yw(t,n=""){const i=yt(),s=pr(),u=t+$n,l=s.firstCreatePass?Jn(s,u,1,n,null):s.data[u],m=Jw(s,i,l,n,t);i[u]=m,_c()&&_f(s,i,m,l),zo(l,!1)}let Jw=(t,n,i,s,u)=>(ks(!0),function Ws(t,n){return t.createText(n)}(n[Nt],s));function cv(t){return I_("",t,""),cv}function I_(t,n,i){const s=yt(),u=ud(s,t,n,i);return u!==tt&&tu(s,ho(),u),I_}function lv(t,n,i,s,u){const l=yt(),m=function nu(t,n,i,s,u,l){const I=sl(t,Cs(),i,u);return us(2),I?n+Le(i)+s+Le(u)+l:tt}(l,t,n,i,s,u);return m!==tt&&tu(l,ho(),m),lv}function dv(t,n,i,s,u,l,m){const I=yt(),A=Ks(I,t,n,i,s,u,l,m);return A!==tt&&tu(I,ho(),A),dv}function hv(t,n,i,s,u,l,m,I,A){const O=yt(),G=al(O,t,n,i,s,u,l,m,I,A);return G!==tt&&tu(O,ho(),G),hv}const Th=void 0;var bT=["en",[["a","p"],["AM","PM"],Th],[["AM","PM"],Th,Th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Th,"{1} 'at' {0}",Th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TT(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let up={};function fv(t){const n=function DT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=mI(n);if(i)return i;const s=n.split("-")[0];if(i=mI(s),i)return i;if("en"===s)return bT;throw new Be(701,!1)}function gI(t){return fv(t)[cp.PluralCase]}function mI(t){return t in up||(up[t]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[t]),up[t]}var cp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(cp||{});const lp="en-US";let _I=lp;function mv(t,n,i,s,u){if(t=_e(t),Array.isArray(t))for(let l=0;l<t.length;l++)mv(t[l],n,i,s,u);else{const l=pr(),m=yt(),I=Wi();let A=Wl(t)?t:_e(t.provide);const O=Nf(t),G=1048575&I.providerIndexes,re=I.directiveStart,we=I.providerIndexes>>20;if(Wl(t)||!t.multi){const xe=new Vu(O,u,gn),lt=yv(A,n,u?G:G+we,re);-1===lt?(Ic(Uu(I,m),l,A),_v(l,t,n.length),n.push(A),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),i.push(xe),m.push(xe)):(i[lt]=xe,m[lt]=xe)}else{const xe=yv(A,n,G+we,re),lt=yv(A,n,G,G+we),Qt=lt>=0&&i[lt];if(u&&!Qt||!u&&!(xe>=0&&i[xe])){Ic(Uu(I,m),l,A);const pn=function Tb(t,n,i,s,u){const l=new Vu(t,i,gn);return l.multi=[],l.index=n,l.componentProviders=0,$I(l,u,s&&!i),l}(u?Eb:Ib,i.length,u,s,O);!u&&Qt&&(i[lt].providerFactory=pn),_v(l,t,n.length,0),n.push(A),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),i.push(pn),m.push(pn)}else _v(l,t,xe>-1?xe:lt,$I(i[u?lt:xe],O,!u&&s));!u&&s&&Qt&&i[lt].componentProviders++}}}function _v(t,n,i,s){const u=Wl(n),l=function tw(t){return!!t.useClass}(n);if(u||l){const A=(l?_e(n.useClass):n).prototype.ngOnDestroy;if(A){const O=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const G=O.indexOf(i);-1===G?O.push(i,[s,A]):O[G+1].push(s,A)}else O.push(i,A)}}}function $I(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function yv(t,n,i,s){for(let u=i;u<s;u++)if(n[u]===t)return u;return-1}function Ib(t,n,i,s){return vv(this.multi,[])}function Eb(t,n,i,s){const u=this.multi;let l;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Ea(i,i[Ut],this.providerFactory.index,s);l=I.slice(0,m),vv(u,l);for(let A=m;A<I.length;A++)l.push(I[A])}else l=[],vv(u,l);return l}function vv(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function HI(t,n=[]){return i=>{i.providersResolver=(s,u)=>function wb(t,n,i){const s=pr();if(s.firstCreatePass){const u=Te(t);mv(i,s.data,s.blueprint,u,!0),mv(n,s.data,s.blueprint,u,!1)}}(s,u?u(t):t,n)}}class bh{}class zI{}function bb(t,n){return new wv(t,n??null,[])}class wv extends bh{constructor(n,i,s){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hg(this);const u=Ni(n);this._bootstrapComponents=ac(u.bootstrap),this._r3Injector=Iy(n,i,[{provide:bh,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver},...s],st(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Iv extends zI{constructor(n){super(),this.moduleType=n}create(n){return new wv(this.moduleType,n,[])}}class GI extends bh{constructor(n){super(),this.componentFactoryResolver=new hg(this),this.instance=null;const i=new ua([...n.providers,{provide:bh,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver}],n.parent||tc(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function WI(t,n,i=null){return new GI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let Ab=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=ny(0,i.type),u=s.length>0?WI([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,u)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pt({token:t,providedIn:"environment",factory:()=>new t(Zr(Ja))})}return t})();function qI(t){t.getStandaloneInjector=n=>n.get(Ab).getOrCreateStandaloneInjector(t)}function eE(t,n,i){const s=vi()+t,u=yt();return u[s]===tt?qs(u,s,i?n.call(i):n()):function Du(t,n){return t[n]}(u,s)}function tE(t,n,i,s){return function nE(t,n,i,s,u,l){const m=n+i;return mo(t,m,u)?qs(t,m+1,l?s.call(l,u):s(u)):function Mg(t,n){const i=t[n];return i===tt?void 0:i}(t,m+1)}(yt(),vi(),t,n,i,s)}function Zb(){return this._results[Symbol.iterator]()}class Tv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new eu)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Tv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Zb)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const u=function Ss(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Bh(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let u=t[s],l=n[s];if(i&&(u=i(u),l=i(l)),l!==u)return!1}return!0}(s._results,u,i))&&(s._results=u,s.length=u.length,s.last=u[this.length-1],s.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Jb(t,n,i,s=!0){const u=n[Ut];if(function cf(t,n,i,s){const u=Gr+s,l=i.length;s>0&&(i[u-1][Qn]=n),s<l-Gr?(n[Qn]=i[u],pu(i,Gr+s,n)):(i.push(n),n[Qn]=null),n[Er]=i;const m=n[bi];null!==m&&i!==m&&function Bc(t,n){const i=t[Di];n[Ur]!==n[Er][Er][Ur]&&(t[vs]=!0),null===i?t[Di]=[n]:i.push(n)}(m,n);const I=n[Oi];null!==I&&I.insertView(t),n[en]|=128}(u,n,t,i),s){const l=Ud(i,t),m=n[Nt],I=hf(m,t[hi]);null!==I&&function Ul(t,n,i,s,u,l){s[Ir]=u,s[Yr]=n,Bd(t,s,i,1,u,l)}(u,t[Yr],m,n,I,l)}}let Ng=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tD}return t})();const Xb=Ng,eD=class extends Xb{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const u=function Yb(t,n,i,s){const u=n.tView,I=Fr(t,u,i,4096&t[en]?4096:16,null,n,null,null,null,s?.injector??null,s?.hydrationInfo??null);I[bi]=t[n.index];const O=t[Oi];return null!==O&&(I[Oi]=O.createEmbeddedView(u)),ch(u,I,i),I}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:s});return new dh(u)}};function tD(){return A_(Wi(),yt())}function A_(t,n){return 4&t.type?new eD(n,t,ic(t,n)):null}let S_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=aD}return t})();function aD(){return fE(Wi(),yt())}const uD=S_,dE=class extends uD{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bu(this._hostTNode,this._hostLView);if(Va(n)){const i=ls(n,this._hostLView),s=Ua(n);return new fo(i[Ut].data[s+8],i)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=hE(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Gr}createEmbeddedView(n,i,s){let u,l;"number"==typeof s?u=s:null!=s&&(u=s.index,l=s.injector);const I=n.createEmbeddedViewImpl(i||{},l,null);return this.insertImpl(I,u,false),I}createComponent(n,i,s,u,l){const m=n&&!function Rc(t){return"function"==typeof t}(n);let I;if(m)I=i;else{const Ct=i||{};I=Ct.index,s=Ct.injector,u=Ct.projectableNodes,l=Ct.environmentInjector||Ct.ngModuleRef}const A=m?n:new id(Sn(n)),O=s||this.parentInjector;if(!l&&null==A.ngModule){const Qt=(m?O:this.parentInjector).get(Ja,null);Qt&&(l=Qt)}Sn(A.componentType??{});const xe=A.create(O,u,null,l);return this.insertImpl(xe.hostView,I,false),xe}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,s){const u=n._lView;if(function Os(t){return U(t[Er])}(u)){const A=this.indexOf(n);if(-1!==A)this.detach(A);else{const O=u[Er],G=new dE(O,O[Yr],O[Er]);G.detach(G.indexOf(n))}}const m=this._adjustIndex(i),I=this._lContainer;return Jb(I,u,m,!s),n.attachToViewContainerRef(),pu(bv(I),m,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=hE(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Yu(this._lContainer,i);s&&(Hu(bv(this._lContainer),i),jc(s[Ut],s))}detach(n){const i=this._adjustIndex(n,-1),s=Yu(this._lContainer,i);return s&&null!=Hu(bv(this._lContainer),i)?new dh(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function hE(t){return t[8]}function bv(t){return t[8]||(t[8]=[])}function fE(t,n){let i;const s=n[t.index];return U(s)?i=s:(i=ug(s,n,null,t),n[t.index]=i,Wf(n,i)),pE(i,n,t,s),new dE(i,t,n)}let pE=function gE(t,n,i,s){if(t[hi])return;let u;u=8&i.type?zn(s):function cD(t,n){const i=t[Nt],s=i.createComment(""),u=Vi(n,t);return Iu(i,hf(i,u),s,function Pp(t,n){return t.nextSibling(n)}(i,u),!1),s}(n,i),t[hi]=u};class Dv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Dv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let l=0;l<s;l++){const m=i.getByIndex(l);u.push(this.queries[m.indexInDeclarationView].clone())}return new Av(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==TE(n,i).matches&&this.queries[i].setDirty()}}class mE{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class Cv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const u=null!==i?i.length:0,l=this.getByIndex(s).embeddedTView(n,u);l&&(l.indexInDeclarationView=s,null!==i?i.push(l):i=[l])}return null!==i?new Cv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Sv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Sv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let u=0;u<s.length;u++){const l=s[u];this.matchTNodeWithReadOption(n,i,hD(i,l)),this.matchTNodeWithReadOption(n,i,aa(i,n,l,!1,!1))}else s===Ng?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,aa(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const u=this.metadata.read;if(null!==u)if(u===jf||u===S_||u===Ng&&4&i.type)this.addMatch(i.index,-2);else{const l=aa(i,n,u,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function hD(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function pD(t,n,i,s){return-1===i?function fD(t,n){return 11&t.type?ic(t,n):4&t.type?A_(t,n):null}(n,t):-2===i?function gD(t,n,i){return i===jf?ic(n,t):i===Ng?A_(n,t):i===S_?fE(n,t):void 0}(t,n,s):Ea(t,t[Ut],i,n)}function _E(t,n,i,s){const u=n[Oi].queries[s];if(null===u.matches){const l=t.data,m=i.matches,I=[];for(let A=0;A<m.length;A+=2){const O=m[A];I.push(O<0?null:pD(n,l[O],m[A+1],i.metadata.read))}u.matches=I}return u.matches}function Rv(t,n,i,s){const u=t.queries.getByIndex(i),l=u.matches;if(null!==l){const m=_E(t,n,u,i);for(let I=0;I<l.length;I+=2){const A=l[I];if(A>0)s.push(m[I/2]);else{const O=l[I+1],G=n[-A];for(let re=Gr;re<G.length;re++){const we=G[re];we[bi]===we[Er]&&Rv(we[Ut],we,O,s)}if(null!==G[Di]){const re=G[Di];for(let we=0;we<re.length;we++){const xe=re[we];Rv(xe[Ut],xe,O,s)}}}}}return s}function yE(t){const n=yt(),i=pr(),s=se();Ge(s+1);const u=TE(i,s);if(t.dirty&&function fl(t){return 4==(4&t[en])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const l=u.crossesNgTemplate?Rv(i,n,s,[]):_E(i,n,u,s);t.reset(l,uw),t.notifyOnChanges()}return!0}return!1}function vE(t,n,i,s){const u=pr();if(u.firstCreatePass){const l=Wi();(function EE(t,n,i){null===t.queries&&(t.queries=new Cv),t.queries.track(new Sv(n,i))})(u,new mE(n,i,s),l.index),function yD(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}!function IE(t,n,i){const s=new Tv(4==(4&i));(function Vy(t,n,i,s){const u=lg(n);u.push(i),t.firstCreatePass&&qf(t).push(s,u.length-1)})(t,n,s,s.destroy),null===n[Oi]&&(n[Oi]=new Av),n[Oi].queries.push(new Dv(s))}(u,yt(),i)}function wE(){return function _D(t,n){return t[Oi].queries[n].queryList}(yt(),se())}function TE(t,n){return t.queries.getByIndex(n)}function Pv(t){return!!Ni(t)}const BE=new ln("Application Initializer");let kv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s}),this.appInits=er(BE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const u of this.appInits){const l=u();if(tv(l))i.push(l);else if(Tw(l)){const m=new Promise((I,A)=>{l.subscribe({complete:I,error:A})});i.push(m)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(u=>{this.reject(u)}),0===i.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jE=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const P_=new ln("LocaleId",{providedIn:"root",factory:()=>er(P_,Gt.Optional|Gt.SkipSelf)||function BD(){return typeof $localize<"u"&&$localize.locale||lp}()}),jD=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $E=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HD{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let zD=(()=>{class t{compileModuleSync(i){return new Iv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),l=ac(Ni(i).declarations).reduce((m,I)=>{const A=Sn(I);return A&&m.push(new id(A)),m},[]);return new HD(s,l)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const WE=new ln(""),qE=new ln("");let Vv,hA=(()=>{class t{constructor(i,s,u){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vv||(function fA(t){Vv=t}(u),u.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ko.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,u){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==l),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:u})}whenStable(i,s,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,u){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(Zr(Ko),Zr(KE),Zr(qE))};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac})}return t})(),KE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return Vv?.findTestabilityInTree(this,i,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),gd=null;const QE=new ln("AllowMultipleToken"),Uv=new ln("PlatformDestroyListeners"),Bv=new ln("appBootstrapListener");class mA{constructor(n,i){this.name=n,this.token=i}}function JE(t,n,i=[]){const s=`Platform: ${n}`,u=new ln(s);return(l=[])=>{let m=jv();if(!m||m.injector.get(QE,!1)){const I=[...i,...l,{provide:u,useValue:!0}];t?t(I):function _A(t){if(gd&&!gd.get(QE,!1))throw new Be(400,!1);(function ZE(){!function dt(t){ae=t}(()=>{throw new Be(600,!1)})})(),gd=t;const n=t.get(e0);(function YE(t){t.get(Of,null)?.forEach(i=>i())})(t)}(function XE(t=[],n){return ba.create({name:n,providers:[{provide:ym,useValue:"platform"},{provide:Uv,useValue:new Set([()=>gd=null])},...t]})}(I,s))}return function vA(t){const n=jv();if(!n)throw new Be(401,!1);return n}()}}function jv(){return gd?.get(e0)??null}let e0=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const u=function wA(t="zone.js",n){return"noop"===t?new Cy:"zone.js"===t?new Ko(n):t}(s?.ngZone,function t0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return u.run(()=>{const l=function Db(t,n,i){return new wv(t,n,i)}(i.moduleType,this.injector,function a0(t){return[{provide:Ko,useFactory:t},{provide:Gl,multi:!0,useFactory:()=>{const n=er(EA,{optional:!0});return()=>n.initialize()}},{provide:s0,useFactory:IA},{provide:Sy,useFactory:Ry}]}(()=>u)),m=l.injector.get(Xa,null);return u.runOutsideAngular(()=>{const I=u.onError.subscribe({next:A=>{m.handleError(A)}});l.onDestroy(()=>{x_(this._modules,l),I.unsubscribe()})}),function n0(t,n,i){try{const s=i();return tv(s)?s.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(m,u,()=>{const I=l.injector.get(kv);return I.runInitializers(),I.donePromise.then(()=>(function yI(t){ft(t,"Expected localeId to be defined"),"string"==typeof t&&(_I=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(P_,lp)||lp),this._moduleDoBootstrap(l),l))})})}bootstrapModule(i,s=[]){const u=r0({},s);return function pA(t,n,i){const s=new Iv(i);return Promise.resolve(s)}(0,0,i).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(i){const s=i.injector.get(fp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(u=>s.bootstrap(u));else{if(!i.instance.ngDoBootstrap)throw new Be(-403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(Uv,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(Zr(ba))};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function r0(t,n){return Array.isArray(n)?n.reduce(r0,t):{...t,...n}}let fp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=er(s0),this.zoneIsStable=er(Sy),this.componentTypes=[],this.components=[],this.isStable=er($E).hasPendingTasks.pipe((0,xt.w)(i=>i?(0,le.of)(!1):this.zoneIsStable),function Vn(t,n=zt.y){return t=t??nr,(0,mt.e)((i,s)=>{let u,l=!0;i.subscribe((0,Xt.x)(s,m=>{const I=n(m);(l||!t(u,I))&&(l=!1,u=I,s.next(m))}))})}(),We()),this._injector=er(Ja)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const u=i instanceof hy;if(!this._injector.get(kv).done)throw!u&&xi(i),new Be(405,!1);let m;m=u?i:this._injector.get(Jd).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const I=function gA(t){return t.isBoundToModule}(m)?void 0:this._injector.get(bh),O=m.create(ba.NULL,[],s||m.selector,I),G=O.location.nativeElement,re=O.injector.get(WE,null);return re?.registerApplication(G),O.onDestroy(()=>{this.detachView(O.hostView),x_(this.components,O),re?.unregisterApplication(G)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;x_(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const s=this._injector.get(Bv,[]);s.push(...this._bootstrapListeners),s.forEach(u=>u(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>x_(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Be(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function x_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const s0=new ln("",{providedIn:"root",factory:()=>er(Xa).handleError.bind(void 0)});function IA(){const t=er(Ko),n=er(Xa);return i=>t.runOutsideAngular(()=>n.handleError(i))}let EA=(()=>{class t{constructor(){this.zone=er(Ko),this.applicationRef=er(fp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let bA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=DA}return t})();function DA(t){return function AA(t,n,i){if(oe(t)&&!i){const s=Ho(t.index,n);return new dh(s,s)}return 47&t.type?new dh(n[Ur],n):null}(Wi(),yt(),16==(16&t))}class d0{constructor(){}supports(n){return la(n)}create(n){return new xA(n)}}const MA=(t,n)=>n;class xA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,u=0,l=null;for(;i||s;){const m=!s||i&&i.currentIndex<f0(s,u,l)?i:s,I=f0(m,u,l),A=m.currentIndex;if(m===s)u--,s=s._nextRemoved;else if(i=i._next,null==m.previousIndex)u++;else{l||(l=[]);const O=I-u,G=A-u;if(O!=G){for(let we=0;we<O;we++){const xe=we<l.length?l[we]:l[we]=0,lt=xe+we;G<=lt&&lt<O&&(l[we]=xe+1)}l[m.previousIndex]=G-O}}I!==A&&n(m,I,A)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!la(n))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,m,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)l=n[I],m=this._trackByFn(I,l),null!==i&&Object.is(i.trackById,m)?(s&&(i=this._verifyReinsertion(i,l,m,I)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,m,I),s=!0),i=i._next}else u=0,function ep(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,I=>{m=this._trackByFn(u,I),null!==i&&Object.is(i.trackById,m)?(s&&(i=this._verifyReinsertion(i,I,m,u)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,u),s=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,u)):n=this._addAfter(new NA(i,s),l,u),n}_verifyReinsertion(n,i,s,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new h0),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new h0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class NA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class h0{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new OA,this.map.set(i,s)),s.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f0(t,n,i){const s=t.previousIndex;if(null===s)return s;let u=0;return i&&s<i.length&&(u=i[s]),s+n+u}class p0{constructor(){}supports(n){return n instanceof Map||tp(n)}create(){return new kA}}class kA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||tp(n)))throw new Be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const l=this._getOrCreateRecordForKey(u,s);i=this._insertBeforeOrAppend(i,l)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const l=u._prev,m=u._next;return l&&(l._next=m),m&&(m._prev=l),u._next=null,u._prev=null,u}const s=new LA(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class LA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function g0(){return new Wv([new d0])}let Wv=(()=>{class t{static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:g0});constructor(i){this.factories=i}static create(i,s){if(null!=s){const u=s.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||g0()),deps:[[t,new Wu,new xc]]}}find(i){const s=this.factories.find(u=>u.supports(i));if(null!=s)return s;throw new Be(901,!1)}}return t})();function m0(){return new qv([new p0])}let qv=(()=>{class t{static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:m0});constructor(i){this.factories=i}static create(i,s){if(s){const u=s.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:s=>t.create(i,s||m0()),deps:[[t,new Wu,new xc]]}}find(i){const s=this.factories.find(u=>u.supports(i));if(s)return s;throw new Be(901,!1)}}return t})();const UA=JE(null,"core",[]);let BA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(s){return new(s||t)(Zr(fp))};static#t=this.\u0275mod=Yi({type:t});static#n=this.\u0275inj=mn({})}return t})();function YA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XA(t){const n=Sn(t);if(!n)return null;const i=new id(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},721:(sn,ot,Q)=>{"use strict";Q.d(ot,{Ot:()=>ke,ZF:()=>zt,hX:()=>mt,z6:()=>te});var S=Q(3182),fe=Q(4946),Ze=Q(4810);class ke{constructor(nt){return nt}}class te{constructor(){return(0,S.C6)()}}const gt=new fe.OlP("angularfire2._apps"),at={provide:ke,useFactory:function Re(it){return it&&1===it.length?it[0]:new ke((0,S.Mq)())},deps:[[new fe.FiY,gt]]},ue={provide:te,deps:[[new fe.FiY,gt]]};function le(it){return(nt,st)=>{const Pt=nt.runOutsideAngular(()=>it(st));return new ke(Pt)}}let Fe=(()=>{class it{constructor(st){(0,S.KN)("angularfire",Ze.q4.full,"core"),(0,S.KN)("angularfire",Ze.q4.full,"app"),(0,S.KN)("angular",fe.q4F.full,st.toString())}static \u0275fac=function(Pt){return new(Pt||it)(fe.LFG(fe.Lbi))};static \u0275mod=fe.oAB({type:it});static \u0275inj=fe.cJS({providers:[at,ue]})}return it})();function mt(it,...nt){return{ngModule:Fe,providers:[{provide:gt,useFactory:le(it),multi:!0,deps:[fe.R0b,fe.zs3,Ze.HU,...nt]}]}}const zt=(0,Ze.u3)(S.ZF,!0)},90:(sn,ot,Q)=>{"use strict";Q.d(ot,{dh:()=>Ku,Xb:()=>Kh,v0:()=>Zh,JB:()=>Pd,AR:()=>Nc,oo:()=>Ll,P6:()=>Wa});var S=Q(4810),fe=Q(4946),Ze=Q(721),ke=Q(3182),te=Q(5861),De=Q(534),Re=Q(9058),gt=Q(7879),at=Q(7582),ue=Q(4537);const Vn=function zt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nr=new Re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new gt.Yd("@firebase/auth");function Pt(v,...d){nt.logLevel<=gt.in.ERROR&&nt.error(`Auth (${De.Jn}): ${v}`,...d)}function Vt(v,...d){throw ui(v,...d)}function Mt(v,...d){return ui(v,...d)}function _e(v,d,p){const E=Object.assign(Object.assign({},Vn()),{[d]:p});return new Re.LL("auth","Firebase",E).create(d,{appName:v.name})}function At(v){return _e(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ui(v,...d){if("string"!=typeof v){const p=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(p,...E)}return nr.create(v,...d)}function pe(v,d,...p){if(!v)throw ui(d,...p)}function Be(v){const d="INTERNAL ASSERTION FAILED: "+v;throw Pt(d),new Error(d)}function bn(v,d){v||Be(d)}function Le(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function z(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class He{constructor(d,p){this.shortDelay=d,this.longDelay=p,bn(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Re.uI)()||(0,Re.b$)()}get(){return function Ne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ee(){return"http:"===z()||"https:"===z()}()||(0,Re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(v,d){bn(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class be{static initialize(d,p,E){this.fetchImpl=d,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Dt=new He(3e4,6e4);function kt(v,d){return v.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:v.tenantId}):d}function ht(v,d,p,E){return un.apply(this,arguments)}function un(){return(un=(0,te.Z)(function*(v,d,p,E,V={}){return rr(v,V,(0,te.Z)(function*(){let X={},ye={};E&&("GET"===d?ye=E:X={body:JSON.stringify(E)});const Qe=(0,Re.xO)(Object.assign({key:v.config.apiKey},ye)).slice(1),Et=yield v._getAdditionalHeaders();return Et["Content-Type"]="application/json",v.languageCode&&(Et["X-Firebase-Locale"]=v.languageCode),be.fetch()(Mn(v,v.config.apiHost,p,Qe),Object.assign({method:d,headers:Et,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function rr(v,d,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,te.Z)(function*(v,d,p){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Xe),d);try{const V=new ft(v),X=yield Promise.race([p(),V.promise]);V.clearNetworkTimeout();const ye=yield X.json();if("needConfirmation"in ye)throw Kt(v,"account-exists-with-different-credential",ye);if(X.ok&&!("errorMessage"in ye))return ye;{const Qe=X.ok?ye.errorMessage:ye.error.message,[Et,Jt]=Qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw Kt(v,"credential-already-in-use",ye);if("EMAIL_EXISTS"===Et)throw Kt(v,"email-already-in-use",ye);if("USER_DISABLED"===Et)throw Kt(v,"user-disabled",ye);const vn=E[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Jt)throw _e(v,vn,Jt);Vt(v,vn)}}catch(V){if(V instanceof Re.ZR)throw V;Vt(v,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function Tt(v,d,p,E){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,te.Z)(function*(v,d,p,E,V={}){const X=yield ht(v,d,p,E,V);return"mfaPendingCredential"in X&&Vt(v,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function Mn(v,d,p,E){const V=`${d}${p}?${E}`;return v.config.emulator?Me(v.config,V):`${v.config.apiScheme}://${V}`}function cn(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ft{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Mt(this.auth,"network-request-failed")),Dt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(v,d,p){const E={appName:v.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const V=Mt(v,d,E);return V.customData._tokenResponse=p,V}function hn(v){return void 0!==v&&void 0!==v.enterprise}class xn{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===d)return cn(p.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function mn(v,d){return tn.apply(this,arguments)}function tn(){return(tn=(0,te.Z)(function*(v,d){return ht(v,"GET","/v2/recaptchaConfig",kt(v,d))})).apply(this,arguments)}function dr(){return(dr=(0,te.Z)(function*(v,d){return ht(v,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function vr(v,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,te.Z)(function*(v,d){return ht(v,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function _n(v){if(v)try{const d=new Date(Number(v));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Bi(){return(Bi=(0,te.Z)(function*(v,d=!1){const p=(0,Re.m9)(v),E=yield p.getIdToken(d),V=br(E);pe(V&&V.exp&&V.auth_time&&V.iat,p.auth,"internal-error");const X="object"==typeof V.firebase?V.firebase:void 0,ye=X?.sign_in_provider;return{claims:V,token:E,authTime:_n(Qr(V.auth_time)),issuedAtTime:_n(Qr(V.iat)),expirationTime:_n(Qr(V.exp)),signInProvider:ye||null,signInSecondFactor:X?.sign_in_second_factor||null}})).apply(this,arguments)}function Qr(v){return 1e3*Number(v)}function br(v){const[d,p,E]=v.split(".");if(void 0===d||void 0===p||void 0===E)return Pt("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,Re.tV)(p);return V?JSON.parse(V):(Pt("Failed to decode base64 JWT payload"),null)}catch(V){return Pt("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Ie(v){const d=br(v);return pe(d,"internal-error"),pe(typeof d.exp<"u","internal-error"),pe(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Un(v,d){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,te.Z)(function*(v,d,p=!1){if(p)return d;try{return yield d}catch(E){throw E instanceof Re.ZR&&function Mi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Hr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const V=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,te.Z)(function*(){yield p.iteration()}),E)}iteration(){var d=this;return(0,te.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class ln{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kn(v){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,te.Z)(function*(v){var d;const p=v.auth,E=yield v.getIdToken(),V=yield Un(v,vr(p,{idToken:E}));pe(V?.users.length,p,"internal-error");const X=V.users[0];v._notifyReloadListener(X);const ye=null!==(d=X.providerUserInfo)&&void 0!==d&&d.length?J(X.providerUserInfo):[],Qe=function K(v,d){return[...v.filter(E=>!d.some(V=>V.providerId===E.providerId)),...d]}(v.providerData,ye),vn=!!v.isAnonymous&&!(v.email&&X.passwordHash||Qe?.length),gr={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:Qe,metadata:new ln(X.createdAt,X.lastLoginAt),isAnonymous:vn};Object.assign(v,gr)})).apply(this,arguments)}function de(){return(de=(0,te.Z)(function*(v){const d=(0,Re.m9)(v);yield Kn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function J(v){return v.map(d=>{var{providerId:p}=d,E=(0,at._T)(d,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Y(){return(Y=(0,te.Z)(function*(v,d){const p=yield rr(v,{},(0,te.Z)(function*(){const E=(0,Re.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:V,apiKey:X}=v.config,ye=Mn(v,V,"/v1/token",`key=${X}`),Qe=yield v._getAdditionalHeaders();return Qe["Content-Type"]="application/x-www-form-urlencoded",be.fetch()(ye,{method:"POST",headers:Qe,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function ct(){return(ct=(0,te.Z)(function*(v,d){return ht(v,"POST","/v2/accounts:revokeToken",kt(v,d))})).apply(this,arguments)}class St{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){pe(d.idToken,"internal-error"),pe(typeof d.idToken<"u","internal-error"),pe(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Ie(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}updateFromIdToken(d){pe(0!==d.length,"internal-error");const p=Ie(d);this.updateTokensAndExpiration(d,null,p)}getToken(d,p=!1){var E=this;return(0,te.Z)(function*(){return p||!E.accessToken||E.isExpired?(pe(E.refreshToken,d,"user-token-expired"),E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null):E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var E=this;return(0,te.Z)(function*(){const{accessToken:V,refreshToken:X,expiresIn:ye}=yield function q(v,d){return Y.apply(this,arguments)}(d,p);E.updateTokensAndExpiration(V,X,Number(ye))})()}updateTokensAndExpiration(d,p,E){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,p){const{refreshToken:E,accessToken:V,expirationTime:X}=p,ye=new St;return E&&(pe("string"==typeof E,"internal-error",{appName:d}),ye.refreshToken=E),V&&(pe("string"==typeof V,"internal-error",{appName:d}),ye.accessToken=V),X&&(pe("number"==typeof X,"internal-error",{appName:d}),ye.expirationTime=X),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new St,this.toJSON())}_performRefresh(){return Be("not implemented")}}function Ot(v,d){pe("string"==typeof v||typeof v>"u","internal-error",{appName:d})}class on{constructor(d){var{uid:p,auth:E,stsTokenManager:V}=d,X=(0,at._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new ln(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,te.Z)(function*(){const E=yield Un(p,p.stsTokenManager.getToken(p.auth,d));return pe(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(d){return function Gt(v){return Bi.apply(this,arguments)}(this,d)}reload(){return function wn(v){return de.apply(this,arguments)}(this)}_assign(d){this!==d&&(pe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new on(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var E=this;return(0,te.Z)(function*(){let V=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),V=!0),p&&(yield Kn(E)),yield E.auth._persistUserIfCurrent(E),V&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,te.Z)(function*(){if((0,De.rh)(d.auth.app))return Promise.reject(At(d.auth));const p=yield d.getIdToken();return yield Un(d,function _r(v,d){return dr.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var E,V,X,ye,Qe,Et,Jt,vn;const gr=null!==(E=p.displayName)&&void 0!==E?E:void 0,no=null!==(V=p.email)&&void 0!==V?V:void 0,Ws=null!==(X=p.phoneNumber)&&void 0!==X?X:void 0,wu=null!==(ye=p.photoURL)&&void 0!==ye?ye:void 0,Vl=null!==(Qe=p.tenantId)&&void 0!==Qe?Qe:void 0,qa=null!==(Et=p._redirectEventId)&&void 0!==Et?Et:void 0,Fd=null!==(Jt=p.createdAt)&&void 0!==Jt?Jt:void 0,Ul=null!==(vn=p.lastLoginAt)&&void 0!==vn?vn:void 0,{uid:Uc,emailVerified:Bl,isAnonymous:cf,providerData:Bc,stsTokenManager:Vd}=p;pe(Uc&&Vd,d,"internal-error");const Yu=St.fromJSON(this.name,Vd);pe("string"==typeof Uc,d,"internal-error"),Ot(gr,d.name),Ot(no,d.name),pe("boolean"==typeof Bl,d,"internal-error"),pe("boolean"==typeof cf,d,"internal-error"),Ot(Ws,d.name),Ot(wu,d.name),Ot(Vl,d.name),Ot(qa,d.name),Ot(Fd,d.name),Ot(Ul,d.name);const jc=new on({uid:Uc,auth:d,email:no,emailVerified:Bl,displayName:gr,isAnonymous:cf,photoURL:wu,phoneNumber:Ws,tenantId:Vl,stsTokenManager:Yu,createdAt:Fd,lastLoginAt:Ul});return Bc&&Array.isArray(Bc)&&(jc.providerData=Bc.map($c=>Object.assign({},$c))),qa&&(jc._redirectEventId=qa),jc}static _fromIdTokenResponse(d,p,E=!1){return(0,te.Z)(function*(){const V=new St;V.updateFromServerResponse(p);const X=new on({uid:p.localId,auth:d,stsTokenManager:V,isAnonymous:E});return yield Kn(X),X})()}static _fromGetAccountInfoResponse(d,p,E){return(0,te.Z)(function*(){const V=p.users[0];pe(void 0!==V.localId,"internal-error");const X=void 0!==V.providerUserInfo?J(V.providerUserInfo):[],ye=!(V.email&&V.passwordHash||X?.length),Qe=new St;Qe.updateFromIdToken(E);const Et=new on({uid:V.localId,auth:d,stsTokenManager:Qe,isAnonymous:ye}),Jt={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:X,metadata:new ln(V.createdAt,V.lastLoginAt),isAnonymous:!(V.email&&V.passwordHash||X?.length)};return Object.assign(Et,Jt),Et})()}}const En=new Map;function Wt(v){bn(v instanceof Function,"Expected a class definition");let d=En.get(v);return d?(bn(d instanceof v,"Instance stored in cache mismatched with class"),d):(d=new v,En.set(v,d),d)}const ci=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,te.Z)(function*(){return!0})()}_set(p,E){var V=this;return(0,te.Z)(function*(){V.storage[p]=E})()}_get(p){var E=this;return(0,te.Z)(function*(){const V=E.storage[p];return void 0===V?null:V})()}_remove(p){var E=this;return(0,te.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return v.type="NONE",v})();function ji(v,d,p){return`firebase:${v}:${d}:${p}`}class ri{constructor(d,p,E){this.persistence=d,this.auth=p,this.userKey=E;const{config:V,name:X}=this.auth;this.fullUserKey=ji(this.userKey,V.apiKey,X),this.fullPersistenceKey=ji("persistence",V.apiKey,X),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,te.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?on._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,te.Z)(function*(){if(p.persistence===d)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,E="authUser"){return(0,te.Z)(function*(){if(!p.length)return new ri(Wt(ci),d,E);const V=(yield Promise.all(p.map(function(){var Jt=(0,te.Z)(function*(vn){if(yield vn._isAvailable())return vn});return function(vn){return Jt.apply(this,arguments)}}()))).filter(Jt=>Jt);let X=V[0]||Wt(ci);const ye=ji(E,d.config.apiKey,d.name);let Qe=null;for(const Jt of p)try{const vn=yield Jt._get(ye);if(vn){const gr=on._fromJSON(d,vn);Jt!==X&&(Qe=gr),X=Jt;break}}catch{}const Et=V.filter(Jt=>Jt._shouldAllowMigration);return X._shouldAllowMigration&&Et.length?(X=Et[0],Qe&&(yield X._set(ye,Qe.toJSON())),yield Promise.all(p.map(function(){var Jt=(0,te.Z)(function*(vn){if(vn!==X)try{yield vn._remove(ye)}catch{}});return function(vn){return Jt.apply(this,arguments)}}())),new ri(X,d,E)):new ri(X,d,E)})()}}function yo(v){const d=v.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(xo(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(zr(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ze(d))return"Blackberry";if(Ce(d))return"Webos";if(Jo(d))return"Safari";if((d.includes("chrome/")||Zr(d))&&!d.includes("edge/"))return"Chrome";if(er(d))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function zr(v=(0,Re.z$)()){return/firefox\//i.test(v)}function Jo(v=(0,Re.z$)()){const d=v.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Zr(v=(0,Re.z$)()){return/crios\//i.test(v)}function xo(v=(0,Re.z$)()){return/iemobile/i.test(v)}function er(v=(0,Re.z$)()){return/android/i.test(v)}function ze(v=(0,Re.z$)()){return/blackberry/i.test(v)}function Ce(v=(0,Re.z$)()){return/webos/i.test(v)}function Ye(v=(0,Re.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function dn(v=(0,Re.z$)()){return Ye(v)||er(v)||Ce(v)||ze(v)||/windows phone/i.test(v)||xo(v)}function Ln(v,d=[]){let p;switch(v){case"Browser":p=yo((0,Re.z$)());break;case"Worker":p=`${yo((0,Re.z$)())}-${v}`;break;default:p=v}const E=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${De.Jn}/${E}`}class Or{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const E=X=>new Promise((ye,Qe)=>{try{ye(d(X))}catch(Et){Qe(Et)}});E.onAbort=p,this.queue.push(E);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,te.Z)(function*(){if(p.auth.currentUser===d)return;const E=[];try{for(const V of p.queue)yield V(d),V.onAbort&&E.push(V.onAbort)}catch(V){E.reverse();for(const X of E)try{X()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}function Vr(){return(Vr=(0,te.Z)(function*(v,d={}){return ht(v,"GET","/v2/passwordPolicy",kt(v,d))})).apply(this,arguments)}class Vs{constructor(d){var p,E,V,X;const ye=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=ye.minPasswordLength)&&void 0!==p?p:6,ye.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ye.maxPasswordLength),void 0!==ye.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ye.containsLowercaseCharacter),void 0!==ye.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ye.containsUppercaseCharacter),void 0!==ye.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ye.containsNumericCharacter),void 0!==ye.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ye.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(V=null===(E=d.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==V?V:"",this.forceUpgradeOnSignin=null!==(X=d.forceUpgradeOnSignin)&&void 0!==X&&X,this.schemaVersion=d.schemaVersion}validatePassword(d){var p,E,V,X,ye,Qe;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Et),this.validatePasswordCharacterOptions(d,Et),Et.isValid&&(Et.isValid=null===(p=Et.meetsMinPasswordLength)||void 0===p||p),Et.isValid&&(Et.isValid=null===(E=Et.meetsMaxPasswordLength)||void 0===E||E),Et.isValid&&(Et.isValid=null===(V=Et.containsLowercaseLetter)||void 0===V||V),Et.isValid&&(Et.isValid=null===(X=Et.containsUppercaseLetter)||void 0===X||X),Et.isValid&&(Et.isValid=null===(ye=Et.containsNumericCharacter)||void 0===ye||ye),Et.isValid&&(Et.isValid=null===(Qe=Et.containsNonAlphanumericCharacter)||void 0===Qe||Qe),Et}validatePasswordLengthOptions(d,p){const E=this.customStrengthOptions.minPasswordLength,V=this.customStrengthOptions.maxPasswordLength;E&&(p.meetsMinPasswordLength=d.length>=E),V&&(p.meetsMaxPasswordLength=d.length<=V)}validatePasswordCharacterOptions(d,p){let E;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let V=0;V<d.length;V++)E=d.charAt(V),this.updatePasswordCharacterOptionsStatuses(p,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(d,p,E,V,X){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=V)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=X))}}class Wn{constructor(d,p,E,V){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(d,p){var E=this;return p&&(this._popupRedirectResolver=Wt(p)),this._initializationPromise=this.queue((0,te.Z)(function*(){var V,X;if(!E._deleted&&(E.persistenceManager=yield ri.create(E,d),!E._deleted)){if(null!==(V=E._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(X=E.currentUser)||void 0===X?void 0:X.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,te.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(d){var p=this;return(0,te.Z)(function*(){try{const E=yield vr(p,{idToken:d}),V=yield on._fromGetAccountInfoResponse(p,E,d);yield p.directlySetCurrentUser(V)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var p=this;return(0,te.Z)(function*(){var E;if((0,De.rh)(p.app)){const Qe=p.app.settings.authIdToken;return Qe?new Promise(Et=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(Qe).then(Et,Et))}):p.directlySetCurrentUser(null)}const V=yield p.assertedPersistence.getCurrentUser();let X=V,ye=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Qe=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Et=X?._redirectEventId,Jt=yield p.tryRedirectSignIn(d);(!Qe||Qe===Et)&&Jt?.user&&(X=Jt.user,ye=!0)}if(!X)return p.directlySetCurrentUser(null);if(!X._redirectEventId){if(ye)try{yield p.beforeStateQueue.runMiddleware(X)}catch(Qe){X=V,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Qe))}return X?p.reloadAndSetCurrentUserOrClear(X):p.directlySetCurrentUser(null)}return pe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===X._redirectEventId?p.directlySetCurrentUser(X):p.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(d){var p=this;return(0,te.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,te.Z)(function*(){try{yield Kn(d)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var d=this;return(0,te.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,te.Z)(function*(){if((0,De.rh)(p.app))return Promise.reject(At(p));const E=d?(0,Re.m9)(d):null;return E&&pe(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(d,p=!1){var E=this;return(0,te.Z)(function*(){if(!E._deleted)return d&&pe(E.tenantId===d.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(d)),E.queue((0,te.Z)(function*(){yield E.directlySetCurrentUser(d),E.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,te.Z)(function*(){return(0,De.rh)(d.app)?Promise.reject(At(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var p=this;return(0,De.rh)(this.app)?Promise.reject(At(this)):this.queue((0,te.Z)(function*(){yield p.assertedPersistence.setPersistence(Wt(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var p=this;return(0,te.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const E=p._getPasswordPolicyInternal();return E.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,te.Z)(function*(){const p=yield function On(v){return Vr.apply(this,arguments)}(d),E=new Vs(p);null===d.tenantId?d._projectPasswordPolicy=E:d._tenantPasswordPolicies[d.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Re.LL("auth","Firebase",d())}onAuthStateChanged(d,p,E){return this.registerStateListener(this.authStateSubscription,d,p,E)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,E){return this.registerStateListener(this.idTokenSubscription,d,p,E)}authStateReady(){return new Promise((d,p)=>{if(this.currentUser)d();else{const E=this.onAuthStateChanged(()=>{E(),d()},p)}})}revokeAccessToken(d){var p=this;return(0,te.Z)(function*(){if(p.currentUser){const E=yield p.currentUser.getIdToken(),V={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:E};null!=p.tenantId&&(V.tenantId=p.tenantId),yield function Ae(v,d){return ct.apply(this,arguments)}(p,V)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var E=this;return(0,te.Z)(function*(){const V=yield E.getOrInitRedirectPersistenceManager(p);return null===d?V.removeCurrentUser():V.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,te.Z)(function*(){if(!p.redirectPersistenceManager){const E=d&&Wt(d)||p._popupRedirectResolver;pe(E,p,"argument-error"),p.redirectPersistenceManager=yield ri.create(p,[Wt(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,te.Z)(function*(){var E,V;return p._isInitialized&&(yield p.queue((0,te.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===d?p._currentUser:(null===(V=p.redirectUser)||void 0===V?void 0:V._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,te.Z)(function*(){if(d===p.currentUser)return p.queue((0,te.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,E,V){if(this._deleted)return()=>{};const X="function"==typeof p?p:p.next.bind(p);let ye=!1;const Qe=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(Qe,this,"internal-error"),Qe.then(()=>{ye||X(this.currentUser)}),"function"==typeof p){const Et=d.addObserver(p,E,V);return()=>{ye=!0,Et()}}{const Et=d.addObserver(p);return()=>{ye=!0,Et()}}}directlySetCurrentUser(d){var p=this;return(0,te.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,te.Z)(function*(){var p;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const V=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();V&&(E["X-Firebase-Client"]=V);const X=yield d._getAppCheckToken();return X&&(E["X-Firebase-AppCheck"]=X),E})()}_getAppCheckToken(){var d=this;return(0,te.Z)(function*(){var p;const E=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function st(v,...d){nt.logLevel<=gt.in.WARN&&nt.warn(`Auth (${De.Jn}): ${v}`,...d)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function In(v){return(0,Re.m9)(v)}class Ft{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Re.ne)(p=>this.observer=p)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _t={loadJS:()=>(0,te.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rn(v){return _t.loadJS(v)}function Bn(v){return`__${v}${Math.floor(1e6*Math.random())}`}class xr{constructor(d){this.type="recaptcha-enterprise",this.auth=In(d)}verify(d="verify",p=!1){var E=this;return(0,te.Z)(function*(){function X(){return X=(0,te.Z)(function*(Qe){if(!p){if(null==Qe.tenantId&&null!=Qe._agentRecaptchaConfig)return Qe._agentRecaptchaConfig.siteKey;if(null!=Qe.tenantId&&void 0!==Qe._tenantRecaptchaConfigs[Qe.tenantId])return Qe._tenantRecaptchaConfigs[Qe.tenantId].siteKey}return new Promise(function(){var Et=(0,te.Z)(function*(Jt,vn){mn(Qe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gr=>{if(void 0!==gr.recaptchaKey){const no=new xn(gr);return null==Qe.tenantId?Qe._agentRecaptchaConfig=no:Qe._tenantRecaptchaConfigs[Qe.tenantId]=no,Jt(no.siteKey)}vn(new Error("recaptcha Enterprise site key undefined"))}).catch(gr=>{vn(gr)})});return function(Jt,vn){return Et.apply(this,arguments)}}())}),X.apply(this,arguments)}function ye(Qe,Et,Jt){const vn=window.grecaptcha;hn(vn)?vn.enterprise.ready(()=>{vn.enterprise.execute(Qe,{action:d}).then(gr=>{Et(gr)}).catch(()=>{Et("NO_RECAPTCHA")})}):Jt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Qe,Et)=>{(function V(Qe){return X.apply(this,arguments)})(E.auth).then(Jt=>{if(!p&&hn(window.grecaptcha))ye(Jt,Qe,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));let vn=function kr(){return _t.recaptchaEnterpriseScript}();0!==vn.length&&(vn+=Jt),rn(vn).then(()=>{ye(Jt,Qe,Et)}).catch(gr=>{Et(gr)})}}).catch(Jt=>{Et(Jt)})})})()}}function li(v,d,p){return No.apply(this,arguments)}function No(){return(No=(0,te.Z)(function*(v,d,p,E=!1){const V=new xr(v);let X;try{X=yield V.verify(p)}catch{X=yield V.verify(p,!0)}const ye=Object.assign({},d);return Object.assign(ye,E?{captchaResp:X}:{captchaResponse:X}),Object.assign(ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ye})).apply(this,arguments)}function jn(v,d,p,E){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,te.Z)(function*(v,d,p,E){var V;if(null!==(V=v._getRecaptchaConfig())&&void 0!==V&&V.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const X=yield li(v,d,p,"getOobCode"===p);return E(v,X)}return E(v,d).catch(function(){var X=(0,te.Z)(function*(ye){if("auth/missing-recaptcha-token"===ye.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Qe=yield li(v,d,p,"getOobCode"===p);return E(v,Qe)}return Promise.reject(ye)});return function(ye){return X.apply(this,arguments)}}())}),Rs.apply(this,arguments)}function Oo(v){const d=v.indexOf(":");return d<0?"":v.substr(0,d+1)}function vo(v){if(!v)return null;const d=Number(v);return isNaN(d)?null:d}class Xo{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Be("not implemented")}_getIdTokenResponse(d){return Be("not implemented")}_linkToIdToken(d,p){return Be("not implemented")}_getReauthenticationResolver(d){return Be("not implemented")}}function ms(v,d){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,te.Z)(function*(v,d){return ht(v,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Sn(v,d){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,te.Z)(function*(v,d){return Tt(v,"POST","/v1/accounts:signInWithPassword",kt(v,d))})).apply(this,arguments)}function xi(){return(xi=(0,te.Z)(function*(v,d){return ht(v,"POST","/v1/accounts:sendOobCode",kt(v,d))})).apply(this,arguments)}function ma(v,d){return _s.apply(this,arguments)}function _s(){return(_s=(0,te.Z)(function*(v,d){return function hr(v,d){return xi.apply(this,arguments)}(v,d)})).apply(this,arguments)}function Er(){return(Er=(0,te.Z)(function*(v,d){return Tt(v,"POST","/v1/accounts:signInWithEmailLink",kt(v,d))})).apply(this,arguments)}function Pi(){return(Pi=(0,te.Z)(function*(v,d){return Tt(v,"POST","/v1/accounts:signInWithEmailLink",kt(v,d))})).apply(this,arguments)}class Yr extends Xo{constructor(d,p,E,V=null){super("password",E),this._email=d,this._password=p,this._tenantId=V}static _fromEmailAndPassword(d,p){return new Yr(d,p,"password")}static _fromEmailAndCode(d,p,E=null){return new Yr(d,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,te.Z)(function*(){switch(p.signInMethod){case"password":return jn(d,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sn);case"emailLink":return function en(v,d){return Er.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Vt(d,"internal-error")}})()}_linkToIdToken(d,p){var E=this;return(0,te.Z)(function*(){switch(E.signInMethod){case"password":return jn(d,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ms);case"emailLink":return function Qn(v,d){return Pi.apply(this,arguments)}(d,{idToken:p,email:E._email,oobCode:E._password});default:Vt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function di(v,d){return fr.apply(this,arguments)}function fr(){return(fr=(0,te.Z)(function*(v,d){return Tt(v,"POST","/v1/accounts:signInWithIdp",kt(v,d))})).apply(this,arguments)}class Lo{constructor(d){var p,E,V,X,ye,Qe;const Et=(0,Re.zd)((0,Re.pd)(d)),Jt=null!==(p=Et.apiKey)&&void 0!==p?p:null,vn=null!==(E=Et.oobCode)&&void 0!==E?E:null,gr=function ts(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Et.mode)&&void 0!==V?V:null);pe(Jt&&vn&&gr,"argument-error"),this.apiKey=Jt,this.operation=gr,this.code=vn,this.continueUrl=null!==(X=Et.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(ye=Et.languageCode)&&void 0!==ye?ye:null,this.tenantId=null!==(Qe=Et.tenantId)&&void 0!==Qe?Qe:null}static parseLink(d){const p=function ns(v){const d=(0,Re.zd)((0,Re.pd)(v)).link,p=d?(0,Re.zd)((0,Re.pd)(d)).deep_link_id:null,E=(0,Re.zd)((0,Re.pd)(v)).deep_link_id;return(E?(0,Re.zd)((0,Re.pd)(E)).link:null)||E||p||d||v}(d);try{return new Lo(p)}catch{return null}}}let $n=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,E){return Yr._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const V=Lo.parseLink(E);return pe(V,"argument-error"),Yr._fromEmailAndCode(p,V.code,V.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Fo{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Ys extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function B(v,d){return oe.apply(this,arguments)}function oe(){return(oe=(0,te.Z)(function*(v,d){return Tt(v,"POST","/v1/accounts:signUp",kt(v,d))})).apply(this,arguments)}class ie{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,E,V=!1){return(0,te.Z)(function*(){const X=yield on._fromIdTokenResponse(d,E,V),ye=Te(E);return new ie({user:X,providerId:ye,_tokenResponse:E,operationType:p})})()}static _forOperation(d,p,E){return(0,te.Z)(function*(){yield d._updateTokensIfNecessary(E,!0);const V=Te(E);return new ie({user:d,providerId:V,_tokenResponse:E,operationType:p})})()}}function Te(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}class Lt extends Re.ZR{constructor(d,p,E,V){var X;super(p.code,p.message),this.operationType=E,this.user=V,Object.setPrototypeOf(this,Lt.prototype),this.customData={appName:d.name,tenantId:null!==(X=d.tenantId)&&void 0!==X?X:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,p,E,V){return new Lt(d,p,E,V)}}function Yt(v,d,p,E){return("reauthenticate"===d?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?Lt._fromErrorAndOperation(v,X,d,E):X})}function ei(){return(ei=(0,te.Z)(function*(v,d,p=!1){const E=yield Un(v,d._linkToIdToken(v.auth,yield v.getIdToken()),p);return ie._forOperation(v,"link",E)})).apply(this,arguments)}function ki(){return(ki=(0,te.Z)(function*(v,d,p=!1){const{auth:E}=v;if((0,De.rh)(E.app))return Promise.reject(At(E));const V="reauthenticate";try{const X=yield Un(v,Yt(E,V,d,v),p);pe(X.idToken,E,"internal-error");const ye=br(X.idToken);pe(ye,E,"internal-error");const{sub:Qe}=ye;return pe(v.uid===Qe,E,"user-mismatch"),ie._forOperation(v,V,X)}catch(X){throw"auth/user-not-found"===X?.code&&Vt(E,"user-mismatch"),X}})).apply(this,arguments)}function Ai(v,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,te.Z)(function*(v,d,p=!1){if((0,De.rh)(v.app))return Promise.reject(At(v));const E="signIn",V=yield Yt(v,E,d),X=yield ie._fromIdTokenResponse(v,E,V);return p||(yield v._updateCurrentUser(X.user)),X})).apply(this,arguments)}function ti(){return(ti=(0,te.Z)(function*(v,d){return Ai(In(v),d)})).apply(this,arguments)}function Bs(){return(Bs=(0,te.Z)(function*(v){const d=In(v);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function Es(v,d,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,te.Z)(function*(v,d,p){if((0,De.rh)(v.app))return Promise.reject(At(v));const E=In(v),ye=yield jn(E,{returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&function Li(v){return Bs.apply(this,arguments)}(v),Et}),Qe=yield ie._fromIdTokenResponse(E,"signIn",ye);return yield E._updateCurrentUser(Qe.user),Qe})).apply(this,arguments)}function iu(v,d,p){return $s.apply(this,arguments)}function $s(){return($s=(0,te.Z)(function*(v,d,p){const E=In(v),V={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function X(ye,Qe){pe(Qe.handleCodeInApp,E,"argument-error"),Qe&&function Xi(v,d,p){var E;pe((null===(E=p.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),pe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(pe(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(pe(p.android.packageName.length>0,v,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}(E,ye,Qe)})(V,p),yield jn(E,V,"getOobCode",ma)})).apply(this,arguments)}function ni(v,d){const p=Lo.parseLink(d);return"EMAIL_SIGNIN"===p?.operation}function T(v,d,p){return H.apply(this,arguments)}function H(){return(H=(0,te.Z)(function*(v,d,p){if((0,De.rh)(v.app))return Promise.reject(At(v));const E=(0,Re.m9)(v),V=$n.credentialWithLink(d,p||Le());return pe(V._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),function gi(v,d){return ti.apply(this,arguments)}(E,V)})).apply(this,arguments)}const ce="__sak";class rt{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ce,"1"),this.storage.removeItem(ce),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const ra=(()=>{class v extends rt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ut(){const v=(0,Re.z$)();return Jo(v)||Ye(v)}()&&function ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const V=this.storage.getItem(E),X=this.localCache[E];V!==X&&p(E,X,V)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Qe,Et,Jt)=>{this.notifyListeners(Qe,Jt)});const V=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Qe=this.storage.getItem(V);if(p.newValue!==Qe)null!==p.newValue?this.storage.setItem(V,p.newValue):this.storage.removeItem(V);else if(this.localCache[V]===p.newValue&&!E)return}const X=()=>{const Qe=this.storage.getItem(V);!E&&this.localCache[V]===Qe||this.notifyListeners(V,Qe)},ye=this.storage.getItem(V);!function yn(){return(0,Re.w1)()&&10===document.documentMode}()||ye===p.newValue||p.newValue===p.oldValue?X():setTimeout(X,10)}notifyListeners(p,E){this.localCache[p]=E;const V=this.listeners[p];if(V)for(const X of Array.from(V))X(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var V=()=>super._set,X=this;return(0,te.Z)(function*(){yield V().call(X,p,E),X.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,V=this;return(0,te.Z)(function*(){const X=yield E().call(V,p);return V.localCache[p]=JSON.stringify(X),X})()}_remove(p){var E=()=>super._remove,V=this;return(0,te.Z)(function*(){yield E().call(V,p),delete V.localCache[p]})()}}return v.type="LOCAL",v})(),gc=(()=>{class v extends rt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return v.type="SESSION",v})();let _d=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(X=>X.isListeningto(p));if(E)return E;const V=new v(p);return this.receivers.push(V),V}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,te.Z)(function*(){const V=p,{eventId:X,eventType:ye,data:Qe}=V.data,Et=E.handlersMap[ye];if(!Et?.size)return;V.ports[0].postMessage({status:"ack",eventId:X,eventType:ye});const Jt=Array.from(Et).map(function(){var gr=(0,te.Z)(function*(no){return no(V.origin,Qe)});return function(no){return gr.apply(this,arguments)}}()),vn=yield function va(v){return Promise.all(v.map(function(){var d=(0,te.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return d.apply(this,arguments)}}()))}(Jt);V.ports[0].postMessage({status:"done",eventId:X,eventType:ye,response:vn})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function xa(v="",d=10){let p="";for(let E=0;E<d;E++)p+=Math.floor(10*Math.random());return v+p}class pl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,E=50){var V=this;return(0,te.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let ye,Qe;return new Promise((Et,Jt)=>{const vn=xa("",20);X.port1.start();const gr=setTimeout(()=>{Jt(new Error("unsupported_event"))},E);Qe={messageChannel:X,onMessage(no){const Ws=no;if(Ws.data.eventId===vn)switch(Ws.data.status){case"ack":clearTimeout(gr),ye=setTimeout(()=>{Jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),Et(Ws.data.response);break;default:clearTimeout(gr),clearTimeout(ye),Jt(new Error("invalid_response"))}}},V.handlers.add(Qe),X.port1.addEventListener("message",Qe.onMessage),V.target.postMessage({eventType:d,eventId:vn,data:p},[X.port2])}).finally(()=>{Qe&&V.removeMessageHandler(Qe)})})()}}function Ui(){return window}function yt(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function su(){return(su=(0,te.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mc="firebaseLocalStorageDb",zo="firebaseLocalStorage",As="fbase_key";class as{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Na(v,d){return v.transaction([zo],d?"readwrite":"readonly").objectStore(zo)}function Ou(){const v=indexedDB.open(mc,1);return new Promise((d,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(zo,{keyPath:As})}catch(V){p(V)}}),v.addEventListener("success",(0,te.Z)(function*(){const E=v.result;E.objectStoreNames.contains(zo)?d(E):(E.close(),yield function Ah(){const v=indexedDB.deleteDatabase(mc);return new as(v).toPromise()}(),d(yield Ou()))}))})}function vi(v,d,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,te.Z)(function*(v,d,p){const E=Na(v,!0).put({[As]:d,value:p});return new as(E).toPromise()})).apply(this,arguments)}function ia(){return(ia=(0,te.Z)(function*(v,d){const p=Na(v,!1).get(d),E=yield new as(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function us(v,d){const p=Na(v,!0).delete(d);return new as(p).toPromise()}const C=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,te.Z)(function*(){return p.db||(p.db=yield Ou()),p.db})()}_withRetries(p){var E=this;return(0,te.Z)(function*(){let V=0;for(;;)try{const X=yield E._openDb();return yield p(X)}catch(X){if(V++>3)throw X;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,te.Z)(function*(){return yt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,te.Z)(function*(){p.receiver=_d._getInstance(function Wi(){return yt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,te.Z)(function*(V,X){return{keyProcessed:(yield p._poll()).includes(X.key)}});return function(V,X){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,te.Z)(function*(V,X){return["keyChanged"]});return function(V,X){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,te.Z)(function*(){var E,V;if(p.activeServiceWorker=yield function pr(){return su.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new pl(p.activeServiceWorker);const X=yield p.sender._send("ping",{},800);X&&null!==(E=X[0])&&void 0!==E&&E.fulfilled&&null!==(V=X[0])&&void 0!==V&&V.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,te.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function ml(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,te.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ou();return yield vi(p,ce,"1"),yield us(p,ce),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,te.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var V=this;return(0,te.Z)(function*(){return V._withPendingWrite((0,te.Z)(function*(){return yield V._withRetries(X=>vi(X,p,E)),V.localCache[p]=E,V.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,te.Z)(function*(){const V=yield E._withRetries(X=>function yd(v,d){return ia.apply(this,arguments)}(X,p));return E.localCache[p]=V,V})()}_remove(p){var E=this;return(0,te.Z)(function*(){return E._withPendingWrite((0,te.Z)(function*(){return yield E._withRetries(V=>us(V,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,te.Z)(function*(){const E=yield p._withRetries(ye=>{const Qe=Na(ye,!1).getAll();return new as(Qe).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const V=[],X=new Set;if(0!==E.length)for(const{fbase_key:ye,value:Qe}of E)X.add(ye),JSON.stringify(p.localCache[ye])!==JSON.stringify(Qe)&&(p.notifyListeners(ye,Qe),V.push(ye));for(const ye of Object.keys(p.localCache))p.localCache[ye]&&!X.has(ye)&&(p.notifyListeners(ye,null),V.push(ye));return V})()}notifyListeners(p,E){this.localCache[p]=E;const V=this.listeners[p];if(V)for(const X of Array.from(V))X(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,te.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();Bn("rcb"),new He(3e4,6e4);class Lu extends Xo{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return di(d,this._buildIdpRequest())}_linkToIdToken(d,p){return di(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return di(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function wl(v){return Ai(v.auth,new Lu(v),v.bypassAuthState)}function Fu(v){const{auth:d,user:p}=v;return pe(p,d,"internal-error"),function Wr(v,d){return ki.apply(this,arguments)}(p,new Lu(v),v.bypassAuthState)}function Vu(v){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,te.Z)(function*(v){const{auth:d,user:p}=v;return pe(p,d,"internal-error"),function $r(v,d){return ei.apply(this,arguments)}(p,new Lu(v),v.bypassAuthState)})).apply(this,arguments)}class Il{constructor(d,p,E,V,X=!1){this.auth=d,this.resolver=E,this.user=V,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,te.Z)(function*(E,V){d.pendingPromise={resolve:E,reject:V};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(X){d.reject(X)}});return function(E,V){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,te.Z)(function*(){const{urlResponse:E,sessionId:V,postBody:X,tenantId:ye,error:Qe,type:Et}=d;if(Qe)return void p.reject(Qe);const Jt={auth:p.auth,requestUri:E,sessionId:V,tenantId:ye||void 0,postBody:X||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Et)(Jt))}catch(vn){p.reject(vn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return wl;case"linkViaPopup":case"linkViaRedirect":return Vu;case"reauthViaPopup":case"reauthViaRedirect":return Fu;default:Vt(this.auth,"internal-error")}}resolve(d){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new He(2e3,1e4);const Ba="pendingRedirect",ls=new Map;class Tl extends Il{constructor(d,p,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,te.Z)(function*(){let E=ls.get(p.auth._key());if(!E){try{const X=(yield function sa(v,d){return Rh.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;E=()=>Promise.resolve(X)}catch(V){E=()=>Promise.reject(V)}ls.set(p.auth._key(),E)}return p.bypassAuthState||ls.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,E=this;return(0,te.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(E,d);if("unknown"!==d.type){if(d.eventId){const V=yield E.auth._redirectUserForId(d.eventId);if(V)return E.user=V,p().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,te.Z)(function*(){})()}cleanUp(){}}function Rh(){return(Rh=(0,te.Z)(function*(v,d){const p=function Uu(v){return ji(Ba,v.config.apiKey,v.name)}(d),E=function Ph(v){return Wt(v._redirectPersistence)}(v);if(!(yield E._isAvailable()))return!1;const V="true"===(yield E._get(p));return yield E._remove(p),V})).apply(this,arguments)}function Hs(v,d){ls.set(v._key(),d)}function Ea(v,d){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,te.Z)(function*(v,d,p=!1){if((0,De.rh)(v.app))return Promise.reject(At(v));const E=In(v),V=function La(v,d){return d?Wt(d):(pe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}(E,d),ye=yield new Tl(E,V,p).execute();return ye&&!p&&(delete ye.user._redirectEventId,yield E._persistUserIfCurrent(ye.user),yield E._setRedirectUser(null,d)),ye})).apply(this,arguments)}class _p{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(p=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Oh(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eo(v);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var E;if(d.error&&!eo(d)){const V=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Mt(this.auth,V))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const E=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(d))}saveEventToCache(d){this.cachedEventUids.add(fo(d)),this.lastProcessedEventTime=Date.now()}}function fo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(d=>d).join("-")}function eo({type:v,error:d}){return"unknown"===v&&"auth/no-auth-event"===d?.code}function Td(){return(Td=(0,te.Z)(function*(v,d={}){return ht(v,"GET","/v1/projects",d)})).apply(this,arguments)}const kh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dc=/^https?/;function zs(){return zs=(0,te.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:d}=yield function Ed(v){return Td.apply(this,arguments)}(v);for(const p of d)try{if(Ta(p))return}catch{}Vt(v,"unauthorized-domain")}),zs.apply(this,arguments)}function Ta(v){const d=Le(),{protocol:p,hostname:E}=new URL(d);if(v.startsWith("chrome-extension://")){const ye=new URL(v);return""===ye.hostname&&""===E?"chrome-extension:"===p&&v.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&ye.hostname===E}if(!Dc.test(p))return!1;if(kh.test(v))return E===v;const V=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(E)}const Lh=new He(3e4,6e4);function Ac(){const v=Ui().___jsl;if(v?.H)for(const d of Object.keys(v.H))if(v.H[d].r=v.H[d].r||[],v.H[d].L=v.H[d].L||[],v.H[d].r=[...v.H[d].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Cc=null;const bd=new He(5e3,15e3),Fh="__/auth/iframe",Vh="emulator/auth/iframe",Fg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vg(v){const d=v.config;pe(d.authDomain,v,"auth-domain-config-required");const p=d.emulator?Me(d,Vh):`https://${v.config.authDomain}/${Fh}`,E={apiKey:d.apiKey,appName:v.name,v:De.Jn},V=yp.get(v.config.apiHost);V&&(E.eid=V);const X=v._getFrameworks();return X.length&&(E.fw=X.join(",")),`${p}?${(0,Re.xO)(E).slice(1)}`}function Al(){return Al=(0,te.Z)(function*(v){const d=yield function Sc(v){return Cc=Cc||function ja(v){return new Promise((d,p)=>{var E,V,X;function ye(){Ac(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ac(),p(Mt(v,"network-request-failed"))},timeout:Lh.get()})}if(null!==(V=null===(E=Ui().gapi)||void 0===E?void 0:E.iframes)&&void 0!==V&&V.Iframe)d(gapi.iframes.getContext());else{if(null===(X=Ui().gapi)||void 0===X||!X.load){const Qe=Bn("iframefcb");return Ui()[Qe]=()=>{gapi.load?ye():p(Mt(v,"network-request-failed"))},rn(`${function or(){return _t.gapiScript}()}?onload=${Qe}`).catch(Et=>p(Et))}ye()}}).catch(d=>{throw Cc=null,d})}(v),Cc}(v),p=Ui().gapi;return pe(p,v,"internal-error"),d.open({where:document.body,url:Vg(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fg,dontclear:!0},E=>new Promise(function(){var V=(0,te.Z)(function*(X,ye){yield E.restyle({setHideOnLeave:!1});const Qe=Mt(v,"network-request-failed"),Et=Ui().setTimeout(()=>{ye(Qe)},bd.get());function Jt(){Ui().clearTimeout(Et),X(E)}E.ping(Jt).then(Jt,()=>{ye(Qe)})});return function(X,ye){return V.apply(this,arguments)}}()))}),Al.apply(this,arguments)}const Dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ss{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hu="__/auth/handler",$a="emulator/auth/handler",jh=encodeURIComponent("fac");function $h(v,d,p,E,V,X){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,te.Z)(function*(v,d,p,E,V,X){pe(v.config.authDomain,v,"auth-domain-config-required"),pe(v.config.apiKey,v,"invalid-api-key");const ye={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:E,v:De.Jn,eventId:V};if(d instanceof Fo){d.setDefaultLanguage(v.languageCode),ye.providerId=d.providerId||"",(0,Re.xb)(d.getCustomParameters())||(ye.customParameters=JSON.stringify(d.getCustomParameters()));for(const[vn,gr]of Object.entries(X||{}))ye[vn]=gr}if(d instanceof Ys){const vn=d.getScopes().filter(gr=>""!==gr);vn.length>0&&(ye.scopes=vn.join(","))}v.tenantId&&(ye.tid=v.tenantId);const Qe=ye;for(const vn of Object.keys(Qe))void 0===Qe[vn]&&delete Qe[vn];const Et=yield v._getAppCheckToken(),Jt=Et?`#${jh}=${encodeURIComponent(Et)}`:"";return`${function Ug({config:v}){return v.emulator?Me(v,$a):`https://${v.authDomain}/${Hu}`}(v)}?${(0,Re.xO)(Qe).slice(1)}${Jt}`})).apply(this,arguments)}const Do="webStorageSupport",Ha=class Ad{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gc,this._completeRedirectFn=Ea,this._overrideRedirectResult=Hs}_openPopup(d,p,E,V){var X=this;return(0,te.Z)(function*(){var ye;bn(null===(ye=X.eventManagers[d._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Qe=yield $h(d,p,E,Le(),V);return function Gs(v,d,p,E=500,V=600){const X=Math.max((window.screen.availHeight-V)/2,0).toString(),ye=Math.max((window.screen.availWidth-E)/2,0).toString();let Qe="";const Et=Object.assign(Object.assign({},Dd),{width:E.toString(),height:V.toString(),top:X,left:ye}),Jt=(0,Re.z$)().toLowerCase();p&&(Qe=Zr(Jt)?"_blank":p),zr(Jt)&&(d=d||"http://localhost",Et.scrollbars="yes");const vn=Object.entries(Et).reduce((no,[Ws,wu])=>`${no}${Ws}=${wu},`,"");if(function nn(v=(0,Re.z$)()){var d;return Ye(v)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Jt)&&"_self"!==Qe)return function pu(v,d){const p=document.createElement("a");p.href=v,p.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(d||"",Qe),new Ss(null);const gr=window.open(d||"",Qe,vn);pe(gr,v,"popup-blocked");try{gr.focus()}catch{}return new Ss(gr)}(d,Qe,xa())})()}_openRedirect(d,p,E,V){var X=this;return(0,te.Z)(function*(){return yield X._originValidation(d),function gl(v){Ui().location.href=v}(yield $h(d,p,E,Le(),V)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:V,promise:X}=this.eventManagers[p];return V?Promise.resolve(V):(bn(X,"If manager is not set, promise should be"),X)}const E=this.initAndGetManager(d);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(d){var p=this;return(0,te.Z)(function*(){const E=yield function fu(v){return Al.apply(this,arguments)}(d),V=new _p(d);return E.register("authEvent",X=>(pe(X?.authEvent,d,"invalid-auth-event"),{status:V.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:V},p.iframes[d._key()]=E,V})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Do,{type:Do},V=>{var X;const ye=null===(X=V?.[0])||void 0===X?void 0:X[Do];void 0!==ye&&p(!!ye),Vt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function $u(v){return zs.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return dn()||Jo()||Ye()}};var Rl="@firebase/auth";class Mc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,te.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(E=>{d(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wu=(0,Re.Pz)("authIdTokenMaxAge")||300;let zh=null;const Gh=v=>function(){var d=(0,te.Z)(function*(p){const E=p&&(yield p.getIdTokenResult()),V=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(V&&V>Wu)return;const X=E?.token;zh!==X&&(zh=X,yield fetch(v,{method:X?"POST":"DELETE",headers:X?{Authorization:`Bearer ${X}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function po(v=(0,De.Mq)()){const d=(0,De.qX)(v,"auth");if(d.isInitialized())return d.getImmediate();const p=function Qi(v,d){const p=(0,De.qX)(v,"auth");if(p.isInitialized()){const V=p.getImmediate(),X=p.getOptions();if((0,Re.vZ)(X,d??{}))return V;Vt(V,"already-initialized")}return p.initialize({options:d})}(v,{popupRedirectResolver:Ha,persistence:[C,ra,gc]}),E=(0,Re.Pz)("authTokenSyncURL");if(E&&"boolean"==typeof isSecureContext&&isSecureContext){const X=new URL(E,location.origin);if(location.origin===X.origin){const ye=Gh(X.toString());(function co(v,d,p){(0,Re.m9)(v).beforeAuthStateChanged(d,p)})(p,ye,()=>ye(p.currentUser)),function ya(v,d,p,E){(0,Re.m9)(v).onIdTokenChanged(d,p,E)}(p,Qe=>ye(Qe))}}const V=(0,Re.q4)("auth");return V&&function gs(v,d,p){const E=In(v);pe(E._canInitEmulator,E,"emulator-config-failed"),pe(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const V=!!p?.disableWarnings,X=Oo(d),{host:ye,port:Qe}=function ga(v){const d=Oo(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(d.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(E);if(V){const X=V[1];return{host:X,port:vo(E.substr(X.length+1))}}{const[X,ye]=E.split(":");return{host:X,port:vo(ye)}}}(d);E.config.emulator={url:`${X}//${ye}${null===Qe?"":`:${Qe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ye,port:Qe,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Ao(){function v(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(p,`http://${V}`),p}(function Zt(v){_t=v})({loadJS:v=>new Promise((d,p)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=d,E.onerror=V=>{const X=Mt("internal-error");X.customData=V,p(X)},E.type="text/javascript",E.charset="UTF-8",function Ml(){var v,d;return null!==(d=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==d?d:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function xc(v){(0,De.Xd)(new ue.wA("auth",(d,{options:p})=>{const E=d.getProvider("app").getImmediate(),V=d.getProvider("heartbeat"),X=d.getProvider("app-check-internal"),{apiKey:ye,authDomain:Qe}=E.options;pe(ye&&!ye.includes(":"),"invalid-api-key",{appName:E.name});const Et={apiKey:ye,authDomain:Qe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(v)},Jt=new Wn(E,V,X,Et);return function Ps(v,d){const p=d?.persistence||[],E=(Array.isArray(p)?p:[p]).map(Wt);d?.errorMap&&v._updateErrorMap(d.errorMap),v._initializeWithPersistence(E,d?.popupRedirectResolver)}(Jt,p),Jt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,E)=>{d.getProvider("auth-internal").initialize()})),(0,De.Xd)(new ue.wA("auth-internal",d=>{const p=In(d.getProvider("auth").getImmediate());return new Mc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.KN)(Rl,"1.7.4",function vp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,De.KN)(Rl,"1.7.4","esm2017")}("Browser");class qu{constructor(d){return d}}class Ku{constructor(){return(0,S.vb)("auth")}}const za=new fe.OlP("angularfire2.auth-instances");function jg(v){return(d,p)=>{const E=d.runOutsideAngular(()=>v(p));return new qu(E)}}const Wh={provide:Ku,deps:[[new fe.FiY,za]]},Ip={provide:qu,useFactory:function wp(v,d){const p=(0,S.JM)("auth",v,d);return p&&new qu(p)},deps:[[new fe.FiY,za],Ze.Ot]};let $g=(()=>{class v{constructor(){(0,ke.KN)("angularfire",S.q4.full,"auth")}static \u0275fac=function(E){return new(E||v)};static \u0275mod=fe.oAB({type:v});static \u0275inj=fe.cJS({providers:[Ip,Wh]})}return v})();function Nc(v,...d){return{ngModule:$g,providers:[{provide:za,useFactory:jg(v),multi:!0,deps:[fe.R0b,fe.zs3,S.HU,Ze.z6,[new fe.FiY,S.Rf],...d]}]}}const Kh=(0,S.u3)(Es,!0),Zh=(0,S.u3)(po,!0),Pd=(0,S.u3)(ni,!0),Ll=(0,S.u3)(iu,!0),Wa=(0,S.u3)(T,!0)},3960:(sn,ot,Q)=>{"use strict";Q.d(ot,{gg:()=>pe,ET:()=>ft,vr:()=>pt,hJ:()=>tn,BS:()=>un,JU:()=>Gt,QT:()=>Kn,ad:()=>q,Cm:()=>be,pl:()=>nn,r7:()=>qi});var S=Q(4810),fe=Q(4946),Ze=Q(721),ke=Q(90),te=Q(3182),De=Q(5588),Re=Q(5592),gt=Q(7398),at=function(){return at=Object.assign||function(_t){for(var Zt,rn=1,Cn=arguments.length;rn<Cn;rn++)for(var kr in Zt=arguments[rn])Object.prototype.hasOwnProperty.call(Zt,kr)&&(_t[kr]=Zt[kr]);return _t},at.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var le={includeMetadataChanges:!1};function At(Ft,_t){return void 0===_t&&(_t={}),function Vt(Ft){return function Fe(Ft,_t){return void 0===_t&&(_t=le),new Re.y(function(Zt){return{unsubscribe:(0,De.cf)(Ft,_t,{next:Zt.next.bind(Zt),error:Zt.error.bind(Zt),complete:Zt.complete.bind(Zt)})}})}(Ft,{includeMetadataChanges:!0}).pipe((0,gt.U)(function(_t){return _t.docs}))}(Ft).pipe((0,gt.U)(function(Zt){return Zt.map(function(rn){return function wt(Ft,_t){var Zt;void 0===_t&&(_t={});var rn=Ft.data(_t);return Ft.exists()&&"object"==typeof rn&&null!==rn&&_t.idField?at(at({},rn),((Zt={})[_t.idField]=Ft.id,Zt)):rn}(rn,_t)})}))}class pe{constructor(_t){return _t}}const Be="firestore",Ee=new fe.OlP("angularfire2.firestore-instances");function Ne(Ft){return(_t,Zt)=>{const rn=_t.runOutsideAngular(()=>Ft(Zt));return new pe(rn)}}const $e={provide:class bn{constructor(){return(0,S.vb)(Be)}},deps:[[new fe.FiY,Ee]]},He={provide:pe,useFactory:function z(Ft,_t){const Zt=(0,S.JM)(Be,Ft,_t);return Zt&&new pe(Zt)},deps:[[new fe.FiY,Ee],Ze.Ot]};let Me=(()=>{class Ft{constructor(){(0,te.KN)("angularfire",S.q4.full,"fst")}static \u0275fac=function(rn){return new(rn||Ft)};static \u0275mod=fe.oAB({type:Ft});static \u0275inj=fe.cJS({providers:[He,$e]})}return Ft})();function be(Ft,..._t){return{ngModule:Me,providers:[{provide:Ee,useFactory:Ne(Ft),multi:!0,deps:[fe.R0b,fe.zs3,S.HU,Ze.z6,[new fe.FiY,ke.dh],[new fe.FiY,S.Rf],..._t]}]}}const un=(0,S.u3)(At,!0),ft=(0,S.u3)(De.ET,!0),pt=(0,S.u3)(De.vr,!0),tn=(0,S.u3)(De.hJ,!0),Gt=(0,S.u3)(De.JU,!0),Kn=(0,S.u3)(De.QT,!0),q=(0,S.u3)(De.ad,!0),nn=(0,S.u3)(De.pl,!0),qi=(0,S.u3)(De.r7,!0)},5017:(sn,ot,Q)=>{"use strict";Q.d(ot,{Jt:()=>$n,cF:()=>Ys,aF:()=>ws,Vq:()=>Oi,iH:()=>Di,Ym:()=>Vo,B0:()=>Us});var S=Q(4810),fe=Q(4946),Ze=Q(721),ke=Q(90),te=Q(3182),De=Q(5861),Re=Q(534),gt=Q(9058),at=Q(4537);const ue="firebasestorage.googleapis.com",le="storageBucket";class wt extends gt.ZR{constructor(B,oe,ie=0){super(zt(B),`Firebase Storage: ${oe} (${zt(B)})`),this.status_=ie,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(B){this.status_=B}_codeEquals(B){return zt(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var xt=function(U){return U.UNKNOWN="unknown",U.OBJECT_NOT_FOUND="object-not-found",U.BUCKET_NOT_FOUND="bucket-not-found",U.PROJECT_NOT_FOUND="project-not-found",U.QUOTA_EXCEEDED="quota-exceeded",U.UNAUTHENTICATED="unauthenticated",U.UNAUTHORIZED="unauthorized",U.UNAUTHORIZED_APP="unauthorized-app",U.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",U.INVALID_CHECKSUM="invalid-checksum",U.CANCELED="canceled",U.INVALID_EVENT_NAME="invalid-event-name",U.INVALID_URL="invalid-url",U.INVALID_DEFAULT_BUCKET="invalid-default-bucket",U.NO_DEFAULT_BUCKET="no-default-bucket",U.CANNOT_SLICE_BLOB="cannot-slice-blob",U.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",U.NO_DOWNLOAD_URL="no-download-url",U.INVALID_ARGUMENT="invalid-argument",U.INVALID_ARGUMENT_COUNT="invalid-argument-count",U.APP_DELETED="app-deleted",U.INVALID_ROOT_OPERATION="invalid-root-operation",U.INVALID_FORMAT="invalid-format",U.INTERNAL_ERROR="internal-error",U.UNSUPPORTED_ENVIRONMENT="unsupported-environment",U}(xt||{});function zt(U){return"storage/"+U}function Xt(){return new wt(xt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Pt(){return new wt(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vt(){return new wt(xt.CANCELED,"User canceled the upload/download.")}function Tn(){return new wt(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bn(U){return new wt(xt.INVALID_ARGUMENT,U)}function Le(){return new wt(xt.APP_DELETED,"The Firebase app was deleted.")}function z(U,B){return new wt(xt.INVALID_FORMAT,"String does not match format '"+U+"': "+B)}function Ne(U){throw new wt(xt.INTERNAL_ERROR,"Internal error: "+U)}class $e{constructor(B,oe){this.bucket=B,this.path_=oe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,oe){let ie;try{ie=$e.makeFromUrl(B,oe)}catch{return new $e(B,"")}if(""===ie.path)return ie;throw function _e(U){return new wt(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+U+"'.")}(B)}static makeFromUrl(B,oe){let ie=null;const Te="([A-Za-z0-9.\\-_]+)",Lt=new RegExp("^gs://"+Te+"(/(.*))?$","i");function Rn(gi){gi.path_=decodeURIComponent(gi.path)}const Sr=oe.replace(/[.]/g,"\\."),Zn=[{regex:Lt,indices:{bucket:1,path:3},postModify:function et(gi){"/"===gi.path.charAt(gi.path.length-1)&&(gi.path_=gi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Sr}/v[A-Za-z0-9_]+/b/${Te}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Rn},{regex:new RegExp(`^https?://${oe===ue?"(?:storage.googleapis.com|storage.cloud.google.com)":oe}/${Te}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Rn}];for(let gi=0;gi<Zn.length;gi++){const ti=Zn[gi],zi=ti.regex.exec(B);if(zi){let rs=zi[ti.indices.path];rs||(rs=""),ie=new $e(zi[ti.indices.bucket],rs),ti.postModify(ie);break}}if(null==ie)throw function Mt(U){return new wt(xt.INVALID_URL,"Invalid URL '"+U+"'.")}(B);return ie}}class He{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function ht(U){return"string"==typeof U||U instanceof String}function un(U){return rr()&&U instanceof Blob}function rr(){return typeof Blob<"u"}function Kr(U,B,oe,ie){if(ie<B)throw bn(`Invalid value for '${U}'. Expected ${B} or greater.`);if(ie>oe)throw bn(`Invalid value for '${U}'. Expected ${oe} or less.`)}function Tt(U,B,oe){let ie=B;return null==oe&&(ie=`https://${B}`),`${oe}://${ie}/v0${U}`}function Pn(U){const B=encodeURIComponent;let oe="?";for(const ie in U)U.hasOwnProperty(ie)&&(oe=oe+(B(ie)+"=")+B(U[ie])+"&");return oe=oe.slice(0,-1),oe}var Mn=function(U){return U[U.NO_ERROR=0]="NO_ERROR",U[U.NETWORK_ERROR=1]="NETWORK_ERROR",U[U.ABORT=2]="ABORT",U}(Mn||{});function cn(U,B){const oe=U>=500&&U<600,Te=-1!==[408,429].indexOf(U),et=-1!==B.indexOf(U);return oe||Te||et}class ft{constructor(B,oe,ie,Te,et,Rt,Lt,Yt,Rn,tr,Sr,$r=!0){this.url_=B,this.method_=oe,this.headers_=ie,this.body_=Te,this.successCodes_=et,this.additionalRetryCodes_=Rt,this.callback_=Lt,this.errorCallback_=Yt,this.timeout_=Rn,this.progressCallback_=tr,this.connectionFactory_=Sr,this.retry=$r,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ei,Lr)=>{this.resolve_=ei,this.reject_=Lr,this.start_()})}start_(){const oe=(ie,Te)=>{const et=this.resolve_,Rt=this.reject_,Lt=Te.connection;if(Te.wasSuccessCode)try{const Yt=this.callback_(Lt,Lt.getResponse());!function Xe(U){return void 0!==U}(Yt)?et():et(Yt)}catch(Yt){Rt(Yt)}else if(null!==Lt){const Yt=Xt();Yt.serverResponse=Lt.getErrorText(),Rt(this.errorCallback_?this.errorCallback_(Lt,Yt):Yt)}else Rt(Te.canceled?this.appDelete_?Le():Vt():Pt())};this.canceled_?oe(0,new Kt(!1,null,!0)):this.backoffId_=function Me(U,B,oe){let ie=1,Te=null,et=null,Rt=!1,Lt=0;function Yt(){return 2===Lt}let Rn=!1;function tr(...Wr){Rn||(Rn=!0,B.apply(null,Wr))}function Sr(Wr){Te=setTimeout(()=>{Te=null,U(ei,Yt())},Wr)}function $r(){et&&clearTimeout(et)}function ei(Wr,...ki){if(Rn)return void $r();if(Wr)return $r(),void tr.call(null,Wr,...ki);if(Yt()||Rt)return $r(),void tr.call(null,Wr,...ki);let Zn;ie<64&&(ie*=2),1===Lt?(Lt=2,Zn=0):Zn=1e3*(ie+Math.random()),Sr(Zn)}let Lr=!1;function pi(Wr){Lr||(Lr=!0,$r(),!Rn&&(null!==Te?(Wr||(Lt=2),clearTimeout(Te),Sr(0)):Wr||(Lt=1)))}return Sr(0),et=setTimeout(()=>{Rt=!0,pi(!0)},oe),pi}((ie,Te)=>{if(Te)return void ie(!1,new Kt(!1,null,!0));const et=this.connectionFactory_();this.pendingConnection_=et;const Rt=Lt=>{null!==this.progressCallback_&&this.progressCallback_(Lt.loaded,Lt.lengthComputable?Lt.total:-1)};null!==this.progressCallback_&&et.addUploadProgressListener(Rt),et.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&et.removeUploadProgressListener(Rt),this.pendingConnection_=null;const Lt=et.getErrorCode()===Mn.NO_ERROR,Yt=et.getStatus();if(!Lt||cn(Yt,this.additionalRetryCodes_)&&this.retry){const tr=et.getErrorCode()===Mn.ABORT;return void ie(!1,new Kt(!1,null,tr))}const Rn=-1!==this.successCodes_.indexOf(Yt);ie(!0,new Kt(Rn,et))})},oe,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&function be(U){U(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Kt{constructor(B,oe,ie){this.wasSuccessCode=B,this.connection=oe,this.canceled=!!ie}}function tn(...U){const B=function mn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==B){const oe=new B;for(let ie=0;ie<U.length;ie++)oe.append(U[ie]);return oe.getBlob()}if(rr())return new Blob(U);throw new wt(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qn{constructor(B,oe){this.data=B,this.contentType=oe||null}}function yi(U){const B=[];for(let oe=0;oe<U.length;oe++){let ie=U.charCodeAt(oe);ie<=127?B.push(ie):ie<=2047?B.push(192|ie>>6,128|63&ie):55296==(64512&ie)?oe<U.length-1&&56320==(64512&U.charCodeAt(oe+1))?(ie=65536|(1023&ie)<<10|1023&U.charCodeAt(++oe),B.push(240|ie>>18,128|ie>>12&63,128|ie>>6&63,128|63&ie)):B.push(239,191,189):56320==(64512&ie)?B.push(239,191,189):B.push(224|ie>>12,128|ie>>6&63,128|63&ie)}return new Uint8Array(B)}function _o(U,B){switch(U){case yr.BASE64:{const Te=-1!==B.indexOf("-"),et=-1!==B.indexOf("_");if(Te||et)throw z(U,"Invalid character '"+(Te?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const Te=-1!==B.indexOf("+"),et=-1!==B.indexOf("/");if(Te||et)throw z(U,"Invalid character '"+(Te?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let oe;try{oe=function dr(U){if(typeof atob>"u")throw function Be(U){return new wt(xt.UNSUPPORTED_ENVIRONMENT,`${U} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(U)}(B)}catch(Te){throw Te.message.includes("polyfill")?Te:z(U,"Invalid character found")}const ie=new Uint8Array(oe.length);for(let Te=0;Te<oe.length;Te++)ie[Te]=oe.charCodeAt(Te);return ie}class Gt{constructor(B){this.base64=!1,this.contentType=null;const oe=B.match(/^data:([^,]+)?,/);if(null===oe)throw z(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ie=oe[1]||null;null!=ie&&(this.base64=function br(U,B){return U.length>=B.length&&U.substring(U.length-B.length)===B}(ie,";base64"),this.contentType=this.base64?ie.substring(0,ie.length-7):ie),this.rest=B.substring(B.indexOf(",")+1)}}class Ie{constructor(B,oe){let ie=0,Te="";un(B)?(this.data_=B,ie=B.size,Te=B.type):B instanceof ArrayBuffer?(oe?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),ie=this.data_.length):B instanceof Uint8Array&&(oe?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),ie=B.length),this.size_=ie,this.type_=Te}size(){return this.size_}type(){return this.type_}slice(B,oe){if(un(this.data_)){const Te=function _r(U,B,oe){return U.webkitSlice?U.webkitSlice(B,oe):U.mozSlice?U.mozSlice(B,oe):U.slice?U.slice(B,oe):null}(this.data_,B,oe);return null===Te?null:new Ie(Te)}{const ie=new Uint8Array(this.data_.buffer,B,oe-B);return new Ie(ie,!0)}}static getBlob(...B){if(rr()){const oe=B.map(ie=>ie instanceof Ie?ie.data_:ie);return new Ie(tn.apply(null,oe))}{const oe=B.map(Rt=>ht(Rt)?function vr(U,B){switch(U){case yr.RAW:return new qn(yi(B));case yr.BASE64:case yr.BASE64URL:return new qn(_o(U,B));case yr.DATA_URL:return new qn(function Bi(U){const B=new Gt(U);return B.base64?_o(yr.BASE64,B.rest):function _n(U){let B;try{B=decodeURIComponent(U)}catch{throw z(yr.DATA_URL,"Malformed data URL.")}return yi(B)}(B.rest)}(B),function Qr(U){return new Gt(U).contentType}(B))}throw Xt()}(yr.RAW,Rt).data:Rt.data_);let ie=0;oe.forEach(Rt=>{ie+=Rt.byteLength});const Te=new Uint8Array(ie);let et=0;return oe.forEach(Rt=>{for(let Lt=0;Lt<Rt.length;Lt++)Te[et++]=Rt[Lt]}),new Ie(Te,!0)}}uploadData(){return this.data_}}function Un(U){let B;try{B=JSON.parse(U)}catch{return null}return function kt(U){return"object"==typeof U&&!Array.isArray(U)}(B)?B:null}function Hr(U){const B=U.lastIndexOf("/",U.length-2);return-1===B?U:U.slice(B+1)}function ln(U,B){return B}class Kn{constructor(B,oe,ie,Te){this.server=B,this.local=oe||B,this.writable=!!ie,this.xform=Te||ln}}let Xr=null;function de(){if(Xr)return Xr;const U=[];U.push(new Kn("bucket")),U.push(new Kn("generation")),U.push(new Kn("metageneration")),U.push(new Kn("name","fullPath",!0));const oe=new Kn("name");oe.xform=function B(et,Rt){return function wn(U){return!ht(U)||U.length<2?U:Hr(U)}(Rt)},U.push(oe);const Te=new Kn("size");return Te.xform=function ie(et,Rt){return void 0!==Rt?Number(Rt):Rt},U.push(Te),U.push(new Kn("timeCreated")),U.push(new Kn("updated")),U.push(new Kn("md5Hash",null,!0)),U.push(new Kn("cacheControl",null,!0)),U.push(new Kn("contentDisposition",null,!0)),U.push(new Kn("contentEncoding",null,!0)),U.push(new Kn("contentLanguage",null,!0)),U.push(new Kn("contentType",null,!0)),U.push(new Kn("metadata","customMetadata",!0)),Xr=U,Xr}function q(U,B,oe){const ie=Un(B);return null===ie?null:function J(U,B,oe){const ie={type:"file"},Te=oe.length;for(let et=0;et<Te;et++){const Rt=oe[et];ie[Rt.local]=Rt.xform(ie,B[Rt.server])}return function K(U,B){Object.defineProperty(U,"ref",{get:function oe(){const et=new $e(U.bucket,U.fullPath);return B._makeStorageReference(et)}})}(ie,U),ie}(U,ie,oe)}function Ae(U,B){const oe={},ie=B.length;for(let Te=0;Te<ie;Te++){const et=B[Te];et.writable&&(oe[et.server]=U[et.local])}return JSON.stringify(oe)}const ct="prefixes",St="items";class En{constructor(B,oe,ie,Te){this.url=B,this.method=oe,this.handler=ie,this.timeout=Te,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wt(U){if(!U)throw Xt()}function wr(U,B){return function oe(ie,Te){const et=q(U,Te,B);return Wt(null!==et),et}}function ri(U){return function B(oe,ie){let Te;return Te=401===oe.getStatus()?oe.getErrorText().includes("Firebase App Check token is invalid")?function nt(){return new wt(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function it(){return new wt(xt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===oe.getStatus()?function nr(U){return new wt(xt.QUOTA_EXCEEDED,"Quota for bucket '"+U+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(U.bucket):403===oe.getStatus()?function st(U){return new wt(xt.UNAUTHORIZED,"User does not have permission to access '"+U+"'.")}(U.path):ie,Te.status=oe.getStatus(),Te.serverResponse=ie.serverResponse,Te}}function yo(U){const B=ri(U);return function oe(ie,Te){let et=B(ie,Te);return 404===ie.getStatus()&&(et=function Vn(U){return new wt(xt.OBJECT_NOT_FOUND,"Object '"+U+"' does not exist.")}(U.path)),et.serverResponse=Te.serverResponse,et}}function Jo(U,B,oe,ie,Te){const et={};et.prefix=B.isRoot?"":B.path+"/",oe&&oe.length>0&&(et.delimiter=oe),ie&&(et.pageToken=ie),Te&&(et.maxResults=Te);const Lt=Tt(B.bucketOnlyServerUrl(),U.host,U._protocol),Rn=U.maxOperationRetryTime,tr=new En(Lt,"GET",function ci(U,B){return function oe(ie,Te){const et=function on(U,B,oe){const ie=Un(oe);return null===ie?null:function Ot(U,B,oe){const ie={prefixes:[],items:[],nextPageToken:oe.nextPageToken};if(oe[ct])for(const Te of oe[ct]){const et=Te.replace(/\/$/,""),Rt=U._makeStorageReference(new $e(B,et));ie.prefixes.push(Rt)}if(oe[St])for(const Te of oe[St]){const et=U._makeStorageReference(new $e(B,Te.name));ie.items.push(et)}return ie}(U,B,ie)}(U,B,Te);return Wt(null!==et),et}}(U,B.bucket),Rn);return tr.urlParams=et,tr.errorHandler=ri(B),tr}function Ye(U,B,oe){const ie=Object.assign({},oe);return ie.fullPath=U.path,ie.size=B.size(),ie.contentType||(ie.contentType=function Ce(U,B){return U&&U.contentType||B&&B.type()||"application/octet-stream"}(null,B)),ie}class nn{constructor(B,oe,ie,Te){this.current=B,this.total=oe,this.finalized=!!ie,this.metadata=Te||null}}function yn(U,B){let oe=null;try{oe=U.getResponseHeader("X-Goog-Upload-Status")}catch{Wt(!1)}return Wt(!!oe&&-1!==(B||["active"]).indexOf(oe)),oe}function qi(U){switch(U){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class Vs{constructor(B,oe,ie){if(function Dt(U){return"function"==typeof U}(B)||null!=oe||null!=ie)this.next=B,this.error=oe??void 0,this.complete=ie??void 0;else{const et=B;this.next=et.next,this.error=et.error,this.complete=et.complete}}}function Wn(U){return(...B)=>{Promise.resolve().then(()=>U(...B))}}let In=null;class Ft{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mn.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mn.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mn.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,oe,ie,Te){if(this.sent_)throw Ne("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(oe,B,!0),void 0!==Te)for(const et in Te)Te.hasOwnProperty(et)&&this.xhr_.setRequestHeader(et,Te[et].toString());return void 0!==ie?this.xhr_.send(ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ne("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ne("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ne("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ne("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class _t extends Ft{initXhr(){this.xhr_.responseType="text"}}function Zt(){return In?In():new _t}class Bn{constructor(B,oe,ie=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=B,this._blob=oe,this._metadata=ie,this._mappings=de(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Te=>{if(this._request=void 0,this._chunkMultiplier=1,Te._codeEquals(xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const et=this.isExponentialBackoffExpired();if(cn(Te.status,[])){if(!et)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Te=Pt()}this._error=Te,this._transition("error")}},this._metadataErrorHandler=Te=>{this._request=void 0,Te._codeEquals(xt.CANCELED)?this.completeTransitions_():(this._error=Te,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Te,et)=>{this._resolve=Te,this._reject=et,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const B=this._transferred;return oe=>this._updateProgress(B+oe)}_shouldDoResumable(B){return B.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(B){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([oe,ie])=>{switch(this._state){case"running":B(oe,ie);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((B,oe)=>{const ie=function dn(U,B,oe,ie,Te){const et=B.bucketOnlyServerUrl(),Rt=Ye(B,ie,Te),Lt={name:Rt.fullPath},Yt=Tt(et,U.host,U._protocol),tr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ie.size()}`,"X-Goog-Upload-Header-Content-Type":Rt.contentType,"Content-Type":"application/json; charset=utf-8"},Sr=Ae(Rt,oe),Lr=new En(Yt,"POST",function ei(pi){let Wr;yn(pi);try{Wr=pi.getResponseHeader("X-Goog-Upload-URL")}catch{Wt(!1)}return Wt(ht(Wr)),Wr},U.maxUploadRetryTime);return Lr.urlParams=Lt,Lr.headers=tr,Lr.body=Sr,Lr.errorHandler=ri(B),Lr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Te=this._ref.storage._makeRequest(ie,Zt,B,oe);this._request=Te,Te.getPromise().then(et=>{this._request=void 0,this._uploadUrl=et,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const B=this._uploadUrl;this._resolveToken((oe,ie)=>{const Te=function ir(U,B,oe,ie){const Yt=new En(oe,"POST",function et(Rn){const tr=yn(Rn,["active","final"]);let Sr=null;try{Sr=Rn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wt(!1)}Sr||Wt(!1);const $r=Number(Sr);return Wt(!isNaN($r)),new nn($r,ie.size(),"final"===tr)},U.maxUploadRetryTime);return Yt.headers={"X-Goog-Upload-Command":"query"},Yt.errorHandler=ri(B),Yt}(this._ref.storage,this._ref._location,B,this._blob),et=this._ref.storage._makeRequest(Te,Zt,oe,ie);this._request=et,et.getPromise().then(Rt=>{this._request=void 0,this._updateProgress(Rt.current),this._needToFetchStatus=!1,Rt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const B=262144*this._chunkMultiplier,oe=new nn(this._transferred,this._blob.size()),ie=this._uploadUrl;this._resolveToken((Te,et)=>{let Rt;try{Rt=function Or(U,B,oe,ie,Te,et,Rt,Lt){const Yt=new nn(0,0);if(Rt?(Yt.current=Rt.current,Yt.total=Rt.total):(Yt.current=0,Yt.total=ie.size()),ie.size()!==Yt.total)throw function ui(){return new wt(xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Rn=Yt.total-Yt.current;let tr=Rn;Te>0&&(tr=Math.min(tr,Te));const Sr=Yt.current;let ei="";ei=0===tr?"finalize":Rn===tr?"upload, finalize":"upload";const Lr={"X-Goog-Upload-Command":ei,"X-Goog-Upload-Offset":`${Yt.current}`},pi=ie.slice(Sr,Sr+tr);if(null===pi)throw Tn();const Zn=new En(oe,"POST",function Wr(gi,ti){const zi=yn(gi,["active","final"]),Ji=Yt.current+tr,rs=ie.size();let Gi;return Gi="final"===zi?wr(B,et)(gi,ti):null,new nn(Ji,rs,"final"===zi,Gi)},B.maxUploadRetryTime);return Zn.headers=Lr,Zn.body=pi.uploadData(),Zn.progressCallback=Lt||null,Zn.errorHandler=ri(U),Zn}(this._ref._location,this._ref.storage,ie,this._blob,B,this._mappings,oe,this._makeProgressCallback())}catch(Yt){return this._error=Yt,void this._transition("error")}const Lt=this._ref.storage._makeRequest(Rt,Zt,Te,et,!1);this._request=Lt,Lt.getPromise().then(Yt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Yt.current),Yt.finalized?(this._metadata=Yt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((B,oe)=>{const ie=function zr(U,B,oe){const Te=Tt(B.fullServerUrl(),U.host,U._protocol),Rt=U.maxOperationRetryTime,Lt=new En(Te,"GET",wr(U,oe),Rt);return Lt.errorHandler=yo(B),Lt}(this._ref.storage,this._ref._location,this._mappings),Te=this._ref.storage._makeRequest(ie,Zt,B,oe);this._request=Te,Te.getPromise().then(et=>{this._request=void 0,this._metadata=et,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((B,oe)=>{const ie=function $t(U,B,oe,ie,Te){const et=B.bucketOnlyServerUrl(),Rt={"X-Goog-Upload-Protocol":"multipart"},Yt=function Lt(){let Zn="";for(let gi=0;gi<2;gi++)Zn+=Math.random().toString().slice(2);return Zn}();Rt["Content-Type"]="multipart/related; boundary="+Yt;const Rn=Ye(B,ie,Te),tr=Ae(Rn,oe),ei=Ie.getBlob("--"+Yt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tr+"\r\n--"+Yt+"\r\nContent-Type: "+Rn.contentType+"\r\n\r\n",ie,"\r\n--"+Yt+"--");if(null===ei)throw Tn();const Lr={name:Rn.fullPath},pi=Tt(et,U.host,U._protocol),ki=U.maxUploadRetryTime,Ai=new En(pi,"POST",wr(U,oe),ki);return Ai.urlParams=Lr,Ai.headers=Rt,Ai.body=ei.uploadData(),Ai.errorHandler=ri(B),Ai}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Te=this._ref.storage._makeRequest(ie,Zt,B,oe);this._request=Te,Te.getPromise().then(et=>{this._request=void 0,this._metadata=et,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(B){const oe=this._transferred;this._transferred=B,this._transferred!==oe&&this._notifyObservers()}_transition(B){if(this._state!==B)switch(B){case"canceling":case"pausing":this._state=B,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const oe="paused"===this._state;this._state=B,oe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=B,this._notifyObservers();break;case"canceled":this._error=Vt(),this._state=B,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const B=qi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:B,metadata:this._metadata,task:this,ref:this._ref}}on(B,oe,ie,Te){const et=new Vs(oe||void 0,ie||void 0,Te||void 0);return this._addObserver(et),()=>{this._removeObserver(et)}}then(B,oe){return this._promise.then(B,oe)}catch(B){return this.then(null,B)}_addObserver(B){this._observers.push(B),this._notifyObserver(B)}_removeObserver(B){const oe=this._observers.indexOf(B);-1!==oe&&this._observers.splice(oe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(oe=>{this._notifyObserver(oe)})}_finishPromise(){if(void 0!==this._resolve){let B=!0;switch(qi(this._state)){case"success":Wn(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":Wn(this._reject.bind(null,this._error))();break;default:B=!1}B&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(B){switch(qi(this._state)){case"running":case"paused":B.next&&Wn(B.next.bind(B,this.snapshot))();break;case"success":B.complete&&Wn(B.complete.bind(B))();break;default:B.error&&Wn(B.error.bind(B,this._error))()}}resume(){const B="paused"===this._state||"pausing"===this._state;return B&&this._transition("running"),B}pause(){const B="running"===this._state;return B&&this._transition("pausing"),B}cancel(){const B="running"===this._state||"pausing"===this._state;return B&&this._transition("canceling"),B}}class jr{constructor(B,oe){this._service=B,this._location=oe instanceof $e?oe:$e.makeFromUrl(oe,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,oe){return new jr(B,oe)}get root(){const B=new $e(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hr(this._location.path)}get storage(){return this._service}get parent(){const B=function Bt(U){if(0===U.length)return null;const B=U.lastIndexOf("/");return-1===B?"":U.slice(0,B)}(this._location.path);if(null===B)return null;const oe=new $e(this._location.bucket,B);return new jr(this._service,oe)}_throwIfRoot(B){if(""===this._location.path)throw function Ee(U){return new wt(xt.INVALID_ROOT_OPERATION,"The operation '"+U+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(B)}}function Ki(U,B,oe){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,De.Z)(function*(U,B,oe){const Te=yield function Qi(U,B){null!=B&&"number"==typeof B.maxResults&&Kr("options.maxResults",1,1e3,B.maxResults);const oe=B||{},ie=Jo(U.storage,U._location,"/",oe.pageToken,oe.maxResults);return U.storage.makeRequestWithTokens(ie,Zt)}(U,{pageToken:oe});B.prefixes.push(...Te.prefixes),B.items.push(...Te.items),null!=Te.nextPageToken&&(yield Ki(U,B,Te.nextPageToken))})).apply(this,arguments)}function Oo(U){U._throwIfRoot("getDownloadURL");const B=function xo(U,B,oe){const Te=Tt(B.fullServerUrl(),U.host,U._protocol),Rt=U.maxOperationRetryTime,Lt=new En(Te,"GET",function ji(U,B){return function oe(ie,Te){const et=q(U,Te,B);return Wt(null!==et),function Y(U,B,oe,ie){const Te=Un(B);if(null===Te||!ht(Te.downloadTokens))return null;const et=Te.downloadTokens;if(0===et.length)return null;const Rt=encodeURIComponent;return et.split(",").map(Rn=>{const Sr=U.fullPath;return Tt("/b/"+Rt(U.bucket)+"/o/"+Rt(Sr),oe,ie)+Pn({alt:"media",token:Rn})})[0]}(et,Te,U.host,U._protocol)}}(U,oe),Rt);return Lt.errorHandler=yo(B),Lt}(U.storage,U._location,de());return U.storage.makeRequestWithTokens(B,Zt).then(oe=>{if(null===oe)throw function pe(){return new wt(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return oe})}function Zi(U,B){if(U instanceof ms){const oe=U;if(null==oe._bucket)throw function At(){return new wt(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+le+"' property when initializing the app?")}();const ie=new jr(oe,oe._bucket);return null!=B?Zi(ie,B):ie}return void 0!==B?function vo(U,B){const oe=function Mi(U,B){const oe=B.split("/").filter(ie=>ie.length>0).join("/");return 0===U.length?oe:U+"/"+oe}(U._location.path,B),ie=new $e(U._location.bucket,oe);return new jr(U.storage,ie)}(U,B):U}function wo(U,B){const oe=B?.[le];return null==oe?null:$e.makeFromBucketSpec(oe,U)}class ms{constructor(B,oe,ie,Te,et){this.app=B,this._authProvider=oe,this._appCheckProvider=ie,this._url=Te,this._firebaseVersion=et,this._bucket=null,this._host=ue,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Te?$e.makeFromBucketSpec(Te,this._host):wo(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?$e.makeFromBucketSpec(this._url,B):wo(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){Kr("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){Kr("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,De.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const oe=B._authProvider.getImmediate({optional:!0});if(oe){const ie=yield oe.getToken();if(null!==ie)return ie.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,De.Z)(function*(){const oe=B._appCheckProvider.getImmediate({optional:!0});return oe?(yield oe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new jr(this,B)}_makeRequest(B,oe,ie,Te,et=!0){if(this._deleted)return new He(Le());{const Rt=function mr(U,B,oe,ie,Te,et,Rt=!0){const Lt=Pn(U.urlParams),Yt=U.url+Lt,Rn=Object.assign({},U.headers);return function xn(U,B){B&&(U["X-Firebase-GMPID"]=B)}(Rn,B),function Dn(U,B){null!==B&&B.length>0&&(U.Authorization="Firebase "+B)}(Rn,oe),function hn(U,B){U["X-Firebase-Storage-Version"]="webjs/"+(B??"AppManager")}(Rn,et),function pt(U,B){null!==B&&(U["X-Firebase-AppCheck"]=B)}(Rn,ie),new ft(Yt,U.method,Rn,U.body,U.successCodes,U.additionalRetryCodes,U.handler,U.errorHandler,U.timeout,U.progressCallback,Te,Rt)}(B,this._appId,ie,Te,oe,this._firebaseVersion,et);return this._requests.add(Rt),Rt.getPromise().then(()=>this._requests.delete(Rt),()=>this._requests.delete(Rt)),Rt}}makeRequestWithTokens(B,oe){var ie=this;return(0,De.Z)(function*(){const[Te,et]=yield Promise.all([ie._getAuthToken(),ie._getAppCheckToken()]);return ie._makeRequest(B,oe,Te,et).getPromise()})()}}const Ri="@firebase/storage",Ei="storage";function xi(U,B,oe){return function No(U,B,oe){return U._throwIfRoot("uploadBytesResumable"),new Bn(U,new Ie(B),oe)}(U=(0,gt.m9)(U),B,oe)}function es(U,B){return function gs(U,B){U._throwIfRoot("updateMetadata");const oe=function er(U,B,oe,ie){const et=Tt(B.fullServerUrl(),U.host,U._protocol),Lt=Ae(oe,ie),Rn=U.maxOperationRetryTime,tr=new En(et,"PATCH",wr(U,ie),Rn);return tr.headers={"Content-Type":"application/json; charset=utf-8"},tr.body=Lt,tr.errorHandler=yo(B),tr}(U.storage,U._location,B,de());return U.storage.makeRequestWithTokens(oe,Zt)}(U=(0,gt.m9)(U),B)}function Io(U){return function Rs(U){const B={prefixes:[],items:[]};return Ki(U,B).then(()=>B)}(U=(0,gt.m9)(U))}function ma(U){return Oo(U=(0,gt.m9)(U))}function Ir(U,B){return function Si(U,B){if(B&&function Ao(U){return/^[A-Za-z]+:\/\//.test(U)}(B)){if(U instanceof ms)return function Xo(U,B){return new jr(U,B)}(U,B);throw bn("To use ref(service, url), the first argument must be a Storage instance.")}return Zi(U,B)}(U=(0,gt.m9)(U),B)}function en(U=(0,Re.Mq)(),B){U=(0,gt.m9)(U);const ie=(0,Re.qX)(U,Ei).getImmediate({identifier:B}),Te=(0,gt.P0)("storage");return Te&&function Er(U,B,oe,ie={}){!function Yi(U,B,oe,ie={}){U.host=`${B}:${oe}`,U._protocol="http";const{mockUserToken:Te}=ie;Te&&(U._overrideAuthToken="string"==typeof Te?Te:(0,gt.Sg)(Te,U.app.options.projectId))}(U,B,oe,ie)}(ie,...Te),ie}function Yr(U,{instanceIdentifier:B}){const oe=U.getProvider("app").getImmediate(),ie=U.getProvider("auth-internal"),Te=U.getProvider("app-check-internal");return new ms(oe,ie,Te,B,Re.Jn)}!function di(){(0,Re.Xd)(new at.wA(Ei,Yr,"PUBLIC").setMultipleInstances(!0)),(0,Re.KN)(Ri,"0.12.5",""),(0,Re.KN)(Ri,"0.12.5","esm2017")}();class fr{constructor(B){return B}}const Co="storage",Fn=new fe.OlP("angularfire2.storage-instances");function $i(U){return(B,oe)=>{const ie=B.runOutsideAngular(()=>U(oe));return new fr(ie)}}const Ur={provide:class Ti{constructor(){return(0,S.vb)(Co)}},deps:[[new fe.FiY,Fn]]},bi={provide:fr,useFactory:function So(U,B){const oe=(0,S.JM)(Co,U,B);return oe&&new fr(oe)},deps:[[new fe.FiY,Fn],Ze.Ot]};let Hi=(()=>{class U{constructor(){(0,te.KN)("angularfire",S.q4.full,"gcs")}static \u0275fac=function(ie){return new(ie||U)};static \u0275mod=fe.oAB({type:U});static \u0275inj=fe.cJS({providers:[bi,Ur]})}return U})();function Oi(U,...B){return{ngModule:Hi,providers:[{provide:Fn,useFactory:$i(U),multi:!0,deps:[fe.R0b,fe.zs3,S.HU,Ze.z6,[new fe.FiY,ke.dh],[new fe.FiY,S.Rf],...B]}]}}const $n=(0,S.u3)(ma,!0),Ys=(0,S.u3)(en,!0),ws=(0,S.u3)(Io,!0),Di=(0,S.u3)(Ir,!0),Vo=(0,S.u3)(es,!0),Us=(0,S.u3)(xi,!0)},4810:(sn,ot,Q)=>{"use strict";Q.d(ot,{q4:()=>it,HU:()=>ui,Rf:()=>Vt,vb:()=>Pt,JM:()=>st,u3:()=>He});var S=Q(4946),fe=Q(3182),Ze=Q(7394);class ke extends Ze.w0{constructor(be,Xe){super()}schedule(be,Xe=0){return this}}const te={setInterval(Me,be,...Xe){const{delegate:Dt}=te;return Dt?.setInterval?Dt.setInterval(Me,be,...Xe):setInterval(Me,be,...Xe)},clearInterval(Me){const{delegate:be}=te;return(be?.clearInterval||clearInterval)(Me)},delegate:void 0};var De=Q(9039);class Re extends ke{constructor(be,Xe){super(be,Xe),this.scheduler=be,this.work=Xe,this.pending=!1}schedule(be,Xe=0){var Dt;if(this.closed)return this;this.state=be;const kt=this.id,ht=this.scheduler;return null!=kt&&(this.id=this.recycleAsyncId(ht,kt,Xe)),this.pending=!0,this.delay=Xe,this.id=null!==(Dt=this.id)&&void 0!==Dt?Dt:this.requestAsyncId(ht,this.id,Xe),this}requestAsyncId(be,Xe,Dt=0){return te.setInterval(be.flush.bind(be,this),Dt)}recycleAsyncId(be,Xe,Dt=0){if(null!=Dt&&this.delay===Dt&&!1===this.pending)return Xe;null!=Xe&&te.clearInterval(Xe)}execute(be,Xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Dt=this._execute(be,Xe);if(Dt)return Dt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Xe){let kt,Dt=!1;try{this.work(be)}catch(ht){Dt=!0,kt=ht||new Error("Scheduled action threw falsy error")}if(Dt)return this.unsubscribe(),kt}unsubscribe(){if(!this.closed){const{id:be,scheduler:Xe}=this,{actions:Dt}=Xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(Dt,this),null!=be&&(this.id=this.recycleAsyncId(Xe,be,null)),this.delay=null,super.unsubscribe()}}}const at={now:()=>(at.delegate||Date).now(),delegate:void 0};class ue{constructor(be,Xe=ue.now){this.schedulerActionCtor=be,this.now=Xe}schedule(be,Xe=0,Dt){return new this.schedulerActionCtor(this,be).schedule(Dt,Xe)}}ue.now=at.now;class le extends ue{constructor(be,Xe=ue.now){super(be,Xe),this.actions=[],this._active=!1}flush(be){const{actions:Xe}=this;if(this._active)return void Xe.push(be);let Dt;this._active=!0;do{if(Dt=be.execute(be.state,be.delay))break}while(be=Xe.shift());if(this._active=!1,Dt){for(;be=Xe.shift();)be.unsubscribe();throw Dt}}}const mt=new class Fe extends le{}(class gt extends Re{constructor(be,Xe){super(be,Xe),this.scheduler=be,this.work=Xe}schedule(be,Xe=0){return Xe>0?super.schedule(be,Xe):(this.delay=Xe,this.state=be,this.scheduler.flush(this),this)}execute(be,Xe){return Xe>0||this.closed?super.execute(be,Xe):this._execute(be,Xe)}requestAsyncId(be,Xe,Dt=0){return null!=Dt&&Dt>0||null==Dt&&this.delay>0?super.requestAsyncId(be,Xe,Dt):(be.flush(this),0)}}),wt=new le(Re);var zt=Q(5592),Xt=Q(9397),Vn=Q(5137),nr=Q(3093);const it=new S.GfV("ANGULARFIRE2_VERSION");function st(Me,be,Xe){if(be){if(1===be.length)return be[0];const ht=be.filter(un=>un.app===Xe);if(1===ht.length)return ht[0]}return Xe.container.getProvider(Me).getImmediate({optional:!0})}const Pt=(Me,be)=>{const Xe=be?[be]:(0,fe.C6)(),Dt=[];return Xe.forEach(kt=>{kt.container.getProvider(Me).instances.forEach(un=>{Dt.includes(un)||Dt.push(un)})}),Dt};class Vt{constructor(){return Pt(Mt)}}const Mt="app-check";function _e(){}class At{zone;delegate;constructor(be,Xe=mt){this.zone=be,this.delegate=Xe}now(){return this.delegate.now()}schedule(be,Xe,Dt){const kt=this.zone;return this.delegate.schedule(function(un){kt.runGuarded(()=>{be.apply(this,[un])})},Xe,Dt)}}class Tn{zone;task=null;constructor(be){this.zone=be}call(be,Xe){const Dt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e)),Xe.pipe((0,Xt.b)({next:Dt,complete:Dt,error:Dt})).subscribe(be).add(Dt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ui=(()=>{class Me{ngZone;outsideAngular;insideAngular;constructor(Xe){this.ngZone=Xe,this.outsideAngular=Xe.runOutsideAngular(()=>new At(Zone.current)),this.insideAngular=Xe.run(()=>new At(Zone.current,wt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Dt){return new(Dt||Me)(S.LFG(S.R0b))};static \u0275prov=S.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function pe(){const Me=globalThis.\u0275AngularFireScheduler;if(!Me)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Me}function bn(Me){return pe().ngZone.run(()=>Me())}function z(Me){return function Ne(Me){return function(Xe){return(Xe=Xe.lift(new Tn(Me.ngZone))).pipe((0,Vn.R)(Me.outsideAngular),(0,nr.Q)(Me.insideAngular))}}(pe())(Me)}const $e=(Me,be)=>function(){const Dt=arguments;return be&&setTimeout(()=>{"scheduled"===be.state&&be.invoke()},10),bn(()=>Me.apply(void 0,Dt))},He=(Me,be)=>function(){let Xe;const Dt=arguments;for(let ht=0;ht<arguments.length;ht++)"function"==typeof Dt[ht]&&(be&&(Xe||=bn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e))),Dt[ht]=$e(Dt[ht],Xe));const kt=function Be(Me){return pe().ngZone.runOutsideAngular(()=>Me())}(()=>Me.apply(this,Dt));if(!be){if(kt instanceof zt.y){const ht=pe();return kt.pipe((0,Vn.R)(ht.outsideAngular),(0,nr.Q)(ht.insideAngular))}return bn(()=>kt)}return kt instanceof zt.y?kt.pipe(z):kt instanceof Promise?bn(()=>new Promise((ht,un)=>kt.then(rr=>bn(()=>ht(rr)),rr=>bn(()=>un(rr))))):"function"==typeof kt&&Xe?function(){return setTimeout(()=>{Xe&&"scheduled"===Xe.state&&Xe.invoke()},10),kt.apply(this,arguments)}:bn(()=>kt)}},6593:(sn,ot,Q)=>{"use strict";Q.d(ot,{Dx:()=>hn,b2:()=>Mn,q6:()=>rr});var S=Q(4946),fe=Q(6814);class Ze extends fe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ke extends Ze{static makeCurrent(){(0,fe.HT)(new ke)}onAndCancel(J,q,Y){return J.addEventListener(q,Y),()=>{J.removeEventListener(q,Y)}}dispatchEvent(J,q){J.dispatchEvent(q)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,q){return(q=q||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,q){return"window"===q?window:"document"===q?J:"body"===q?J.body:null}getBaseHref(J){const q=function De(){return te=te||document.querySelector("base"),te?te.getAttribute("href"):null}();return null==q?null:function gt(K){Re=Re||document.createElement("a"),Re.setAttribute("href",K);const J=Re.pathname;return"/"===J.charAt(0)?J:`/${J}`}(q)}resetBaseElement(){te=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,fe.Mx)(document.cookie,J)}}let Re,te=null,ue=(()=>{class K{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275prov=S.Yz7({token:K,factory:K.\u0275fac})}return K})();const le=new S.OlP("EventManagerPlugins");let Fe=(()=>{class K{constructor(q,Y){this._zone=Y,this._eventNameToPlugin=new Map,q.forEach(Ae=>{Ae.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,Y,Ae){return this._findPluginFor(Y).addEventListener(q,Y,Ae)}getZone(){return this._zone}_findPluginFor(q){let Y=this._eventNameToPlugin.get(q);if(Y)return Y;if(Y=this._plugins.find(ct=>ct.supports(q)),!Y)throw new S.vHH(5101,!1);return this._eventNameToPlugin.set(q,Y),Y}static#e=this.\u0275fac=function(Y){return new(Y||K)(S.LFG(le),S.LFG(S.R0b))};static#t=this.\u0275prov=S.Yz7({token:K,factory:K.\u0275fac})}return K})();class mt{constructor(J){this._doc=J}}const We="ng-app-id";let wt=(()=>{class K{constructor(q,Y,Ae,ct={}){this.doc=q,this.appId=Y,this.nonce=Ae,this.platformId=ct,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,fe.PM)(ct),this.resetHostNodes()}addStyles(q){for(const Y of q)1===this.changeUsageCount(Y,1)&&this.onStyleAdded(Y)}removeStyles(q){for(const Y of q)this.changeUsageCount(Y,-1)<=0&&this.onStyleRemoved(Y)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(Y=>Y.remove()),q.clear());for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const Y of this.getAllStyles())this.addStyleToHost(q,Y)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const Y of this.hostNodes)this.addStyleToHost(Y,q)}onStyleRemoved(q){const Y=this.styleRef;Y.get(q)?.elements?.forEach(Ae=>Ae.remove()),Y.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(q?.length){const Y=new Map;return q.forEach(Ae=>{null!=Ae.textContent&&Y.set(Ae.textContent,Ae)}),Y}return null}changeUsageCount(q,Y){const Ae=this.styleRef;if(Ae.has(q)){const ct=Ae.get(q);return ct.usage+=Y,ct.usage}return Ae.set(q,{usage:Y,elements:[]}),Y}getStyleElement(q,Y){const Ae=this.styleNodesInDOM,ct=Ae?.get(Y);if(ct?.parentNode===q)return Ae.delete(Y),ct.removeAttribute(We),ct;{const St=this.doc.createElement("style");return this.nonce&&St.setAttribute("nonce",this.nonce),St.textContent=Y,this.platformIsServer&&St.setAttribute(We,this.appId),St}}addStyleToHost(q,Y){const Ae=this.getStyleElement(q,Y);q.appendChild(Ae);const ct=this.styleRef,St=ct.get(Y)?.elements;St?St.push(Ae):ct.set(Y,{elements:[Ae],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function(Y){return new(Y||K)(S.LFG(fe.K0),S.LFG(S.AFp),S.LFG(S.Ojb,8),S.LFG(S.Lbi))};static#t=this.\u0275prov=S.Yz7({token:K,factory:K.\u0275fac})}return K})();const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zt=/%COMP%/g,nt=new S.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Vt(K,J){return J.map(q=>q.replace(zt,K))}let Mt=(()=>{class K{constructor(q,Y,Ae,ct,St,Ot,on,En=null){this.eventManager=q,this.sharedStylesHost=Y,this.appId=Ae,this.removeStylesOnCompDestroy=ct,this.doc=St,this.platformId=Ot,this.ngZone=on,this.nonce=En,this.rendererByCompId=new Map,this.platformIsServer=(0,fe.PM)(Ot),this.defaultRenderer=new _e(q,St,on,this.platformIsServer)}createRenderer(q,Y){if(!q||!Y)return this.defaultRenderer;this.platformIsServer&&Y.encapsulation===S.ifc.ShadowDom&&(Y={...Y,encapsulation:S.ifc.Emulated});const Ae=this.getOrCreateRenderer(q,Y);return Ae instanceof bn?Ae.applyToHost(q):Ae instanceof Be&&Ae.applyStyles(),Ae}getOrCreateRenderer(q,Y){const Ae=this.rendererByCompId;let ct=Ae.get(Y.id);if(!ct){const St=this.doc,Ot=this.ngZone,on=this.eventManager,En=this.sharedStylesHost,Wt=this.removeStylesOnCompDestroy,wr=this.platformIsServer;switch(Y.encapsulation){case S.ifc.Emulated:ct=new bn(on,En,Y,this.appId,Wt,St,Ot,wr);break;case S.ifc.ShadowDom:return new pe(on,En,q,Y,St,Ot,this.nonce,wr);default:ct=new Be(on,En,Y,Wt,St,Ot,wr)}Ae.set(Y.id,ct)}return ct}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Y){return new(Y||K)(S.LFG(Fe),S.LFG(wt),S.LFG(S.AFp),S.LFG(nt),S.LFG(fe.K0),S.LFG(S.Lbi),S.LFG(S.R0b),S.LFG(S.Ojb))};static#t=this.\u0275prov=S.Yz7({token:K,factory:K.\u0275fac})}return K})();class _e{constructor(J,q,Y,Ae){this.eventManager=J,this.doc=q,this.ngZone=Y,this.platformIsServer=Ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,q){return q?this.doc.createElementNS(xt[q]||q,J):this.doc.createElement(J)}createComment(J){return this.doc.createComment(J)}createText(J){return this.doc.createTextNode(J)}appendChild(J,q){(ui(J)?J.content:J).appendChild(q)}insertBefore(J,q,Y){J&&(ui(J)?J.content:J).insertBefore(q,Y)}removeChild(J,q){J&&J.removeChild(q)}selectRootElement(J,q){let Y="string"==typeof J?this.doc.querySelector(J):J;if(!Y)throw new S.vHH(-5104,!1);return q||(Y.textContent=""),Y}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,q,Y,Ae){if(Ae){q=Ae+":"+q;const ct=xt[Ae];ct?J.setAttributeNS(ct,q,Y):J.setAttribute(q,Y)}else J.setAttribute(q,Y)}removeAttribute(J,q,Y){if(Y){const Ae=xt[Y];Ae?J.removeAttributeNS(Ae,q):J.removeAttribute(`${Y}:${q}`)}else J.removeAttribute(q)}addClass(J,q){J.classList.add(q)}removeClass(J,q){J.classList.remove(q)}setStyle(J,q,Y,Ae){Ae&(S.JOm.DashCase|S.JOm.Important)?J.style.setProperty(q,Y,Ae&S.JOm.Important?"important":""):J.style[q]=Y}removeStyle(J,q,Y){Y&S.JOm.DashCase?J.style.removeProperty(q):J.style[q]=""}setProperty(J,q,Y){J[q]=Y}setValue(J,q){J.nodeValue=q}listen(J,q,Y){if("string"==typeof J&&!(J=(0,fe.q)().getGlobalEventTarget(this.doc,J)))throw new Error(`Unsupported event target ${J} for event ${q}`);return this.eventManager.addEventListener(J,q,this.decoratePreventDefault(Y))}decoratePreventDefault(J){return q=>{if("__ngUnwrap__"===q)return J;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>J(q)):J(q))&&q.preventDefault()}}}function ui(K){return"TEMPLATE"===K.tagName&&void 0!==K.content}class pe extends _e{constructor(J,q,Y,Ae,ct,St,Ot,on){super(J,ct,St,on),this.sharedStylesHost=q,this.hostEl=Y,this.shadowRoot=Y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const En=Vt(Ae.id,Ae.styles);for(const Wt of En){const wr=document.createElement("style");Ot&&wr.setAttribute("nonce",Ot),wr.textContent=Wt,this.shadowRoot.appendChild(wr)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,q){return super.appendChild(this.nodeOrShadowRoot(J),q)}insertBefore(J,q,Y){return super.insertBefore(this.nodeOrShadowRoot(J),q,Y)}removeChild(J,q){return super.removeChild(this.nodeOrShadowRoot(J),q)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Be extends _e{constructor(J,q,Y,Ae,ct,St,Ot,on){super(J,ct,St,Ot),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=Ae,this.styles=on?Vt(on,Y.styles):Y.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bn extends Be{constructor(J,q,Y,Ae,ct,St,Ot,on){const En=Ae+"-"+Y.id;super(J,q,Y,ct,St,Ot,on,En),this.contentAttr=function st(K){return"_ngcontent-%COMP%".replace(zt,K)}(En),this.hostAttr=function Pt(K){return"_nghost-%COMP%".replace(zt,K)}(En)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,q){const Y=super.createElement(J,q);return super.setAttribute(Y,this.contentAttr,""),Y}}let Le=(()=>{class K extends mt{constructor(q){super(q)}supports(q){return!0}addEventListener(q,Y,Ae){return q.addEventListener(Y,Ae,!1),()=>this.removeEventListener(q,Y,Ae)}removeEventListener(q,Y,Ae){return q.removeEventListener(Y,Ae)}static#e=this.\u0275fac=function(Y){return new(Y||K)(S.LFG(fe.K0))};static#t=this.\u0275prov=S.Yz7({token:K,factory:K.\u0275fac})}return K})();const Ee=["alt","control","meta","shift"],z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:K=>K.altKey,control:K=>K.ctrlKey,meta:K=>K.metaKey,shift:K=>K.shiftKey};let $e=(()=>{class K extends mt{constructor(q){super(q)}supports(q){return null!=K.parseEventName(q)}addEventListener(q,Y,Ae){const ct=K.parseEventName(Y),St=K.eventCallback(ct.fullKey,Ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,fe.q)().onAndCancel(q,ct.domEventName,St))}static parseEventName(q){const Y=q.toLowerCase().split("."),Ae=Y.shift();if(0===Y.length||"keydown"!==Ae&&"keyup"!==Ae)return null;const ct=K._normalizeKey(Y.pop());let St="",Ot=Y.indexOf("code");if(Ot>-1&&(Y.splice(Ot,1),St="code."),Ee.forEach(En=>{const Wt=Y.indexOf(En);Wt>-1&&(Y.splice(Wt,1),St+=En+".")}),St+=ct,0!=Y.length||0===ct.length)return null;const on={};return on.domEventName=Ae,on.fullKey=St,on}static matchEventFullKeyCode(q,Y){let Ae=z[q.key]||q.key,ct="";return Y.indexOf("code.")>-1&&(Ae=q.code,ct="code."),!(null==Ae||!Ae)&&(Ae=Ae.toLowerCase()," "===Ae?Ae="space":"."===Ae&&(Ae="dot"),Ee.forEach(St=>{St!==Ae&&(0,Ne[St])(q)&&(ct+=St+".")}),ct+=Ae,ct===Y)}static eventCallback(q,Y,Ae){return ct=>{K.matchEventFullKeyCode(ct,q)&&Ae.runGuarded(()=>Y(ct))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function(Y){return new(Y||K)(S.LFG(fe.K0))};static#t=this.\u0275prov=S.Yz7({token:K,factory:K.\u0275fac})}return K})();const rr=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:fe.bD},{provide:S.g9A,useValue:function Dt(){ke.makeCurrent()},multi:!0},{provide:fe.K0,useFactory:function ht(){return(0,S.RDi)(document),document},deps:[]}]),Kr=new S.OlP(""),Tt=[{provide:S.rWj,useClass:class at{addToWindow(J){S.dqk.getAngularTestability=(Y,Ae=!0)=>{const ct=J.findTestabilityInTree(Y,Ae);if(null==ct)throw new S.vHH(5103,!1);return ct},S.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(Y=>{const Ae=S.dqk.getAllAngularTestabilities();let ct=Ae.length,St=!1;const Ot=function(on){St=St||on,ct--,0==ct&&Y(St)};Ae.forEach(on=>{on.whenStable(Ot)})})}findTestabilityInTree(J,q,Y){return null==q?null:J.getTestability(q)??(Y?(0,fe.q)().isShadowRoot(q)?this.findTestabilityInTree(J,q.host,!0):this.findTestabilityInTree(J,q.parentElement,!0):null)}},deps:[]},{provide:S.lri,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]}],Pn=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function kt(){return new S.qLn},deps:[]},{provide:le,useClass:Le,multi:!0,deps:[fe.K0,S.R0b,S.Lbi]},{provide:le,useClass:$e,multi:!0,deps:[fe.K0]},Mt,wt,Fe,{provide:S.FYo,useExisting:Mt},{provide:fe.JF,useClass:ue,deps:[]},[]];let Mn=(()=>{class K{constructor(q){}static withServerTransition(q){return{ngModule:K,providers:[{provide:S.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function(Y){return new(Y||K)(S.LFG(Kr,12))};static#t=this.\u0275mod=S.oAB({type:K});static#n=this.\u0275inj=S.cJS({providers:[...Pn,...Tt],imports:[fe.ez,S.hGG]})}return K})(),hn=(()=>{class K{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function(Y){return new(Y||K)(S.LFG(fe.K0))};static#t=this.\u0275prov=S.Yz7({token:K,factory:function(Y){let Ae=null;return Ae=Y?new Y:function Dn(){return new hn((0,S.LFG)(fe.K0))}(),Ae},providedIn:"root"})}return K})();typeof window<"u"&&window},2271:(sn,ot,Q)=>{"use strict";Q.d(ot,{F0:()=>zn,rH:()=>Vi,Bz:()=>Wi,lC:()=>Pi});var S=Q(4946),fe=Q(5592),Ze=Q(4674),te=Q(2459),De=Q(2096),Re=Q(5619),gt=Q(7453),at=Q(2737),ue=Q(7400),le=Q(4564),Fe=Q(2714),mt=Q(8251),We=Q(7103);function wt(...y){const D=(0,le.yG)(y),_=(0,le.jO)(y),{args:C,keys:N}=(0,gt.D)(y);if(0===C.length)return(0,te.D)([],D);const W=new fe.y(function xt(y,D,_=at.y){return C=>{zt(D,()=>{const{length:N}=y,W=new Array(N);let se=N,Ge=N;for(let Ue=0;Ue<N;Ue++)zt(D,()=>{const jt=(0,te.D)(y[Ue],D);let An=!1;jt.subscribe((0,mt.x)(C,Br=>{W[Ue]=Br,An||(An=!0,Ge--),Ge||C.next(_(W.slice()))},()=>{--se||C.complete()}))},C)},C)}}(C,D,N?se=>(0,Fe.n)(N,se):at.y));return _?W.pipe((0,ue.Z)(_)):W}function zt(y,D,_){y?(0,We.f)(_,y,D):D()}const Vn=(0,Q(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var nr=Q(7537);function nt(...y){return function it(){return(0,nr.J)(1)}()((0,te.D)(y,(0,le.yG)(y)))}var st=Q(4829);function Pt(y){return new fe.y(D=>{(0,st.Xf)(y()).subscribe(D)})}var Vt=Q(8407);function Mt(y,D){const _=(0,Ze.m)(y)?y:()=>y,C=N=>N.error(_());return new fe.y(D?N=>D.schedule(C,0,N):C)}var _e=Q(6232),At=Q(7394),Tn=Q(9360);function ui(){return(0,Tn.e)((y,D)=>{let _=null;y._refCount++;const C=(0,mt.x)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const N=y._connection,W=_;_=null,N&&(!W||N===W)&&N.unsubscribe(),D.unsubscribe()});y.subscribe(C),C.closed||(_=y.connect())})}class pe extends fe.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Tn.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new At.w0;const _=this.getSubject();D.add(this.source.subscribe((0,mt.x)(_,void 0,()=>{this._teardown(),_.complete()},C=>{this._teardown(),_.error(C)},()=>this._teardown()))),D.closed&&(this._connection=null,D=At.w0.EMPTY)}return D}refCount(){return ui()(this)}}var Be=Q(8645),bn=Q(6814),Le=Q(7398),Ee=Q(4664),z=Q(8180),$e=Q(2181),He=Q(1631);function Me(y){return(0,Tn.e)((D,_)=>{let C=!1;D.subscribe((0,mt.x)(_,N=>{C=!0,_.next(N)},()=>{C||_.next(y),_.complete()}))})}function be(y=Xe){return(0,Tn.e)((D,_)=>{let C=!1;D.subscribe((0,mt.x)(_,N=>{C=!0,_.next(N)},()=>C?_.complete():_.error(y())))})}function Xe(){return new Vn}function Dt(y,D){const _=arguments.length>=2;return C=>C.pipe(y?(0,$e.h)((N,W)=>y(N,W,C)):at.y,(0,z.q)(1),_?Me(D):be(()=>new Vn))}function kt(y,D){return(0,Ze.m)(D)?(0,He.z)(y,D,1):(0,He.z)(y,1)}var ht=Q(9397);function un(y){return(0,Tn.e)((D,_)=>{let W,C=null,N=!1;C=D.subscribe((0,mt.x)(_,void 0,void 0,se=>{W=(0,st.Xf)(y(se,un(y)(D))),C?(C.unsubscribe(),C=null,W.subscribe(_)):N=!0})),N&&(C.unsubscribe(),C=null,W.subscribe(_))})}function Tt(y){return y<=0?()=>_e.E:(0,Tn.e)((D,_)=>{let C=[];D.subscribe((0,mt.x)(_,N=>{C.push(N),y<C.length&&C.shift()},()=>{for(const N of C)_.next(N);_.complete()},void 0,()=>{C=null}))})}function cn(y){return(0,Tn.e)((D,_)=>{try{D.subscribe(_)}finally{_.add(y)}})}var ft=Q(2420),Dn=Q(6593);const hn="primary",xn=Symbol("RouteTitle");class pt{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function mr(y){return new pt(y)}function mn(y,D,_){const C=_.path.split("/");if(C.length>y.length||"full"===_.pathMatch&&(D.hasChildren()||C.length<y.length))return null;const N={};for(let W=0;W<C.length;W++){const se=C[W],Ge=y[W];if(se.startsWith(":"))N[se.substring(1)]=Ge;else if(se!==Ge.path)return null}return{consumed:y.slice(0,C.length),posParams:N}}function _r(y,D){const _=y?Object.keys(y):void 0,C=D?Object.keys(D):void 0;if(!_||!C||_.length!=C.length)return!1;let N;for(let W=0;W<_.length;W++)if(N=_[W],!dr(y[N],D[N]))return!1;return!0}function dr(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const _=[...y].sort(),C=[...D].sort();return _.every((N,W)=>C[W]===N)}return y===D}function yr(y){return y.length>0?y[y.length-1]:null}function qn(y){return function ke(y){return!!y&&(y instanceof fe.y||(0,Ze.m)(y.lift)&&(0,Ze.m)(y.subscribe))}(y)?y:(0,S.QGY)(y)?(0,te.D)(Promise.resolve(y)):(0,De.of)(y)}const vr={exact:function Gt(y,D,_){if(!ln(y.segments,D.segments)||!Ie(y.segments,D.segments,_)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const C in D.children)if(!y.children[C]||!Gt(y.children[C],D.children[C],_))return!1;return!0},subset:Qr},yi={exact:function _o(y,D){return _r(y,D)},subset:function Bi(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(_=>dr(y[_],D[_]))},ignored:()=>!0};function _n(y,D,_){return vr[_.paths](y.root,D.root,_.matrixParams)&&yi[_.queryParams](y.queryParams,D.queryParams)&&!("exact"===_.fragment&&y.fragment!==D.fragment)}function Qr(y,D,_){return br(y,D,D.segments,_)}function br(y,D,_,C){if(y.segments.length>_.length){const N=y.segments.slice(0,_.length);return!(!ln(N,_)||D.hasChildren()||!Ie(N,_,C))}if(y.segments.length===_.length){if(!ln(y.segments,_)||!Ie(y.segments,_,C))return!1;for(const N in D.children)if(!y.children[N]||!Qr(y.children[N],D.children[N],C))return!1;return!0}{const N=_.slice(0,y.segments.length),W=_.slice(y.segments.length);return!!(ln(y.segments,N)&&Ie(y.segments,N,C)&&y.children[hn])&&br(y.children[hn],D,W,C)}}function Ie(y,D,_){return D.every((C,N)=>yi[_](y[N].parameters,C.parameters))}class Un{constructor(D=new Bt([],{}),_={},C=null){this.root=D,this.queryParams=_,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return de.serialize(this)}}class Bt{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Object.values(_).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return K(this)}}class Mi{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=mr(this.parameters)),this._parameterMap}toString(){return on(this)}}function ln(y,D){return y.length===D.length&&y.every((_,C)=>_.path===D[C].path)}let Xr=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return new wn},providedIn:"root"})}return y})();class wn{parse(D){const _=new xo(D);return new Un(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${J(D.root,!0)}`,C=function Wt(y){const D=Object.keys(y).map(_=>{const C=y[_];return Array.isArray(C)?C.map(N=>`${Y(_)}=${Y(N)}`).join("&"):`${Y(_)}=${Y(C)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${C}${"string"==typeof D.fragment?`#${function Ae(y){return encodeURI(y)}(D.fragment)}`:""}`}}const de=new wn;function K(y){return y.segments.map(D=>on(D)).join("/")}function J(y,D){if(!y.hasChildren())return K(y);if(D){const _=y.children[hn]?J(y.children[hn],!1):"",C=[];return Object.entries(y.children).forEach(([N,W])=>{N!==hn&&C.push(`${N}:${J(W,!1)}`)}),C.length>0?`${_}(${C.join("//")})`:_}{const _=function Kn(y,D){let _=[];return Object.entries(y.children).forEach(([C,N])=>{C===hn&&(_=_.concat(D(N,C)))}),Object.entries(y.children).forEach(([C,N])=>{C!==hn&&(_=_.concat(D(N,C)))}),_}(y,(C,N)=>N===hn?[J(y.children[hn],!1)]:[`${N}:${J(C,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[hn]?`${K(y)}/${_[0]}`:`${K(y)}/(${_.join("//")})`}}function q(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Y(y){return q(y).replace(/%3B/gi,";")}function ct(y){return q(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function St(y){return decodeURIComponent(y)}function Ot(y){return St(y.replace(/\+/g,"%20"))}function on(y){return`${ct(y.path)}${function En(y){return Object.keys(y).map(D=>`;${ct(D)}=${ct(y[D])}`).join("")}(y.parameters)}`}const wr=/^[^\/()?;#]+/;function ci(y){const D=y.match(wr);return D?D[0]:""}const ji=/^[^\/()?;=#]+/,yo=/^[^=?&#]+/,Jo=/^[^&#]+/;class xo{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(C[hn]=new Bt(D,_)),C}parseSegment(){const D=ci(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new S.vHH(4009,!1);return this.capture(D),new Mi(St(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=function ri(y){const D=y.match(ji);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const N=ci(this.remaining);N&&(C=N,this.capture(C))}D[St(_)]=St(C)}parseQueryParam(D){const _=function zr(y){const D=y.match(yo);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const se=function Zr(y){const D=y.match(Jo);return D?D[0]:""}(this.remaining);se&&(C=se,this.capture(C))}const N=Ot(_),W=Ot(C);if(D.hasOwnProperty(N)){let se=D[N];Array.isArray(se)||(se=[se],D[N]=se),se.push(W)}else D[N]=W}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=ci(this.remaining),N=this.remaining[C.length];if("/"!==N&&")"!==N&&";"!==N)throw new S.vHH(4010,!1);let W;C.indexOf(":")>-1?(W=C.slice(0,C.indexOf(":")),this.capture(W),this.capture(":")):D&&(W=hn);const se=this.parseChildren();_[W]=1===Object.keys(se).length?se[hn]:new Bt([],se),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new S.vHH(4011,!1)}}function er(y){return y.segments.length>0?new Bt([],{[hn]:y}):y}function ze(y){const D={};for(const C of Object.keys(y.children)){const W=ze(y.children[C]);if(C===hn&&0===W.segments.length&&W.hasChildren())for(const[se,Ge]of Object.entries(W.children))D[se]=Ge;else(W.segments.length>0||W.hasChildren())&&(D[C]=W)}return function Ce(y){if(1===y.numberOfChildren&&y.children[hn]){const D=y.children[hn];return new Bt(y.segments.concat(D.segments),D.children)}return y}(new Bt(y.segments,D))}function Ye(y){return y instanceof Un}function nn(y){let D;const N=er(function _(W){const se={};for(const Ue of W.children){const jt=_(Ue);se[Ue.outlet]=jt}const Ge=new Bt(W.url,se);return W===y&&(D=Ge),Ge}(y.root));return D??N}function yn(y,D,_,C){let N=y;for(;N.parent;)N=N.parent;if(0===D.length)return Ln(N,N,N,_,C);const W=function Vr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new On(!0,0,y);let D=0,_=!1;const C=y.reduce((N,W,se)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Ge={};return Object.entries(W.outlets).forEach(([Ue,jt])=>{Ge[Ue]="string"==typeof jt?jt.split("/"):jt}),[...N,{outlets:Ge}]}if(W.segmentPath)return[...N,W.segmentPath]}return"string"!=typeof W?[...N,W]:0===se?(W.split("/").forEach((Ge,Ue)=>{0==Ue&&"."===Ge||(0==Ue&&""===Ge?_=!0:".."===Ge?D++:""!=Ge&&N.push(Ge))}),N):[...N,W]},[]);return new On(_,D,C)}(D);if(W.toRoot())return Ln(N,N,new Bt([],{}),_,C);const se=function Vs(y,D,_){if(y.isAbsolute)return new qi(D,!0,0);if(!_)return new qi(D,!1,NaN);if(null===_.parent)return new qi(_,!0,0);const C=dn(y.commands[0])?0:1;return function Wn(y,D,_){let C=y,N=D,W=_;for(;W>N;){if(W-=N,C=C.parent,!C)throw new S.vHH(4005,!1);N=C.segments.length}return new qi(C,!1,N-W)}(_,_.segments.length-1+C,y.numberOfDoubleDots)}(W,N,y),Ge=se.processChildren?_t(se.segmentGroup,se.index,W.commands):Ft(se.segmentGroup,se.index,W.commands);return Ln(N,se.segmentGroup,Ge,_,C)}function dn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function ir(y){return"object"==typeof y&&null!=y&&y.outlets}function Ln(y,D,_,C,N){let se,W={};C&&Object.entries(C).forEach(([Ue,jt])=>{W[Ue]=Array.isArray(jt)?jt.map(An=>`${An}`):`${jt}`}),se=y===D?_:Or(y,D,_);const Ge=er(ze(se));return new Un(Ge,W,N)}function Or(y,D,_){const C={};return Object.entries(y.children).forEach(([N,W])=>{C[N]=W===D?_:Or(W,D,_)}),new Bt(y.segments,C)}class On{constructor(D,_,C){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=C,D&&C.length>0&&dn(C[0]))throw new S.vHH(4003,!1);const N=C.find(ir);if(N&&N!==yr(C))throw new S.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qi{constructor(D,_,C){this.segmentGroup=D,this.processChildren=_,this.index=C}}function Ft(y,D,_){if(y||(y=new Bt([],{})),0===y.segments.length&&y.hasChildren())return _t(y,D,_);const C=function Zt(y,D,_){let C=0,N=D;const W={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(C>=_.length)return W;const se=y.segments[N],Ge=_[C];if(ir(Ge))break;const Ue=`${Ge}`,jt=C<_.length-1?_[C+1]:null;if(N>0&&void 0===Ue)break;if(Ue&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!or(Ue,jt,se))return W;C+=2}else{if(!or(Ue,{},se))return W;C++}N++}return{match:!0,pathIndex:N,commandIndex:C}}(y,D,_),N=_.slice(C.commandIndex);if(C.match&&C.pathIndex<y.segments.length){const W=new Bt(y.segments.slice(0,C.pathIndex),{});return W.children[hn]=new Bt(y.segments.slice(C.pathIndex),y.children),_t(W,0,N)}return C.match&&0===N.length?new Bt(y.segments,{}):C.match&&!y.hasChildren()?rn(y,D,_):C.match?_t(y,0,N):rn(y,D,_)}function _t(y,D,_){if(0===_.length)return new Bt(y.segments,{});{const C=function In(y){return ir(y[0])?y[0].outlets:{[hn]:y}}(_),N={};if(Object.keys(C).some(W=>W!==hn)&&y.children[hn]&&1===y.numberOfChildren&&0===y.children[hn].segments.length){const W=_t(y.children[hn],D,_);return new Bt(y.segments,W.children)}return Object.entries(C).forEach(([W,se])=>{"string"==typeof se&&(se=[se]),null!==se&&(N[W]=Ft(y.children[W],D,se))}),Object.entries(y.children).forEach(([W,se])=>{void 0===C[W]&&(N[W]=se)}),new Bt(y.segments,N)}}function rn(y,D,_){const C=y.segments.slice(0,D);let N=0;for(;N<_.length;){const W=_[N];if(ir(W)){const Ue=Cn(W.outlets);return new Bt(C,Ue)}if(0===N&&dn(_[0])){C.push(new Mi(y.segments[D].path,kr(_[0]))),N++;continue}const se=ir(W)?W.outlets[hn]:`${W}`,Ge=N<_.length-1?_[N+1]:null;se&&Ge&&dn(Ge)?(C.push(new Mi(se,kr(Ge))),N+=2):(C.push(new Mi(se,{})),N++)}return new Bt(C,{})}function Cn(y){const D={};return Object.entries(y).forEach(([_,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(D[_]=rn(new Bt([],{}),0,C))}),D}function kr(y){const D={};return Object.entries(y).forEach(([_,C])=>D[_]=`${C}`),D}function or(y,D,_){return y==_.path&&_r(D,_.parameters)}const Bn="imperative";class jr{constructor(D,_){this.id=D,this.url=_}}class ur extends jr{constructor(D,_,C="imperative",N=null){super(D,_),this.type=0,this.navigationTrigger=C,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xr extends jr{constructor(D,_,C){super(D,_),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class li extends jr{constructor(D,_,C,N){super(D,_),this.reason=C,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class No extends jr{constructor(D,_,C,N){super(D,_),this.reason=C,this.code=N,this.type=16}}class jn extends jr{constructor(D,_,C,N){super(D,_),this.error=C,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rs extends jr{constructor(D,_,C,N){super(D,_),this.urlAfterRedirects=C,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends jr{constructor(D,_,C,N){super(D,_),this.urlAfterRedirects=C,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr extends jr{constructor(D,_,C,N,W){super(D,_),this.urlAfterRedirects=C,this.state=N,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qi extends jr{constructor(D,_,C,N){super(D,_),this.urlAfterRedirects=C,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ps extends jr{constructor(D,_,C,N){super(D,_),this.urlAfterRedirects=C,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gs{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oo{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ga{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(D,_,C){this.routerEvent=D,this.position=_,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Si{}class wo{constructor(D){this.url=D}}class ms{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ri,this.attachRef=null}}let Ri=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,C){const N=this.getOrCreateContext(_);N.outlet=C,this.contexts.set(_,N)}onChildOutletDestroyed(_){const C=this.getContext(_);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let C=this.getContext(_);return C||(C=new ms,this.contexts.set(_,C)),C}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class ko{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=Ei(D,this._root);return _?_.children.map(C=>C.value):[]}firstChild(D){const _=Ei(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=Sn(D,this._root);return _.length<2?[]:_[_.length-2].children.map(N=>N.value).filter(N=>N!==D)}pathFromRoot(D){return Sn(D,this._root).map(_=>_.value)}}function Ei(y,D){if(y===D.value)return D;for(const _ of D.children){const C=Ei(y,_);if(C)return C}return null}function Sn(y,D){if(y===D.value)return[D];for(const _ of D.children){const C=Sn(y,_);if(C.length)return C.unshift(D),C}return[]}class Dr{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function hr(y){const D={};return y&&y.children.forEach(_=>D[_.value.outlet]=_),D}class xi extends ko{constructor(D,_){super(D),this.snapshot=_,Ut(this,D)}toString(){return this.snapshot.toString()}}function Ni(y,D){const _=function es(y,D){const se=new _s([],{},{},"",{},hn,D,null,{});return new Ir("",new Dr(se,[]))}(0,D),C=new Re.X([new Mi("",{})]),N=new Re.X({}),W=new Re.X({}),se=new Re.X({}),Ge=new Re.X(""),Ue=new oo(C,N,se,Ge,W,hn,D,_.root);return Ue.snapshot=_.root,new xi(new Dr(Ue,[]),_)}class oo{constructor(D,_,C,N,W,se,Ge,Ue){this.urlSubject=D,this.paramsSubject=_,this.queryParamsSubject=C,this.fragmentSubject=N,this.dataSubject=W,this.outlet=se,this.component=Ge,this._futureSnapshot=Ue,this.title=this.dataSubject?.pipe((0,Le.U)(jt=>jt[xn]))??(0,De.of)(void 0),this.url=D,this.params=_,this.queryParams=C,this.fragment=N,this.data=W}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(D=>mr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(D=>mr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Io(y,D="emptyOnly"){const _=y.pathFromRoot;let C=0;if("always"!==D)for(C=_.length-1;C>=1;){const N=_[C],W=_[C-1];if(N.routeConfig&&""===N.routeConfig.path)C--;else{if(W.component)break;C--}}return function ma(y){return y.reduce((D,_)=>({params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(C))}class _s{get title(){return this.data?.[xn]}constructor(D,_,C,N,W,se,Ge,Ue,jt){this.url=D,this.params=_,this.queryParams=C,this.fragment=N,this.data=W,this.outlet=se,this.component=Ge,this.routeConfig=Ue,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ir extends ko{constructor(D,_){super(_),this.url=D,Ut(this,_)}toString(){return en(this._root)}}function Ut(y,D){D.value._routerState=y,D.children.forEach(_=>Ut(y,_))}function en(y){const D=y.children.length>0?` { ${y.children.map(en).join(", ")} } `:"";return`${y.value}${D}`}function Er(y){if(y.snapshot){const D=y.snapshot,_=y._futureSnapshot;y.snapshot=_,_r(D.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),D.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),_r(D.params,_.params)||y.paramsSubject.next(_.params),function tn(y,D){if(y.length!==D.length)return!1;for(let _=0;_<y.length;++_)if(!_r(y[_],D[_]))return!1;return!0}(D.url,_.url)||y.urlSubject.next(_.url),_r(D.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Qn(y,D){const _=_r(y.params,D.params)&&function Hr(y,D){return ln(y,D)&&y.every((_,C)=>_r(_.parameters,D[C].parameters))}(y.url,D.url);return _&&!(!y.parent!=!D.parent)&&(!y.parent||Qn(y.parent,D.parent))}let Pi=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=hn,this.activateEvents=new S.vpe,this.deactivateEvents=new S.vpe,this.attachEvents=new S.vpe,this.detachEvents=new S.vpe,this.parentContexts=(0,S.f3M)(Ri),this.location=(0,S.f3M)(S.s_b),this.changeDetector=(0,S.f3M)(S.sBO),this.environmentInjector=(0,S.f3M)(S.lqb),this.inputBinder=(0,S.f3M)(di,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:C,previousValue:N}=_.name;if(C)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,C){this.activated=_,this._activatedRoute=C,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,C){if(this.isActivated)throw new S.vHH(4013,!1);this._activatedRoute=_;const N=this.location,se=_.snapshot.component,Ge=this.parentContexts.getOrCreateContext(this.name).children,Ue=new Yr(_,Ge,N.injector);this.activated=N.createComponent(se,{index:N.length,injector:Ue,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275dir=S.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.TTD]})}return y})();class Yr{constructor(D,_,C){this.route=D,this.childContexts=_,this.parent=C}get(D,_){return D===oo?this.route:D===Ri?this.childContexts:this.parent.get(D,_)}}const di=new S.OlP("");let fr=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:C}=_,N=wt([C.queryParams,C.params,C.data]).pipe((0,Ee.w)(([W,se,Ge],Ue)=>(Ge={...W,...se,...Ge},0===Ue?(0,De.of)(Ge):Promise.resolve(Ge)))).subscribe(W=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(_);const se=(0,S.qFp)(C.component);if(se)for(const{templateName:Ge}of se.inputs)_.activatedComponentRef.setInput(Ge,W[Ge]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,N)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac})}return y})();function Ti(y,D,_){if(_&&y.shouldReuseRoute(D.value,_.value.snapshot)){const C=_.value;C._futureSnapshot=D.value;const N=function Nt(y,D,_){return D.children.map(C=>{for(const N of _.children)if(y.shouldReuseRoute(C.value,N.value.snapshot))return Ti(y,C,N);return Ti(y,C)})}(y,D,_);return new Dr(C,N)}{if(y.shouldAttach(D.value)){const W=y.retrieve(D.value);if(null!==W){const se=W.route;return se.value._futureSnapshot=D.value,se.children=D.children.map(Ge=>Ti(y,Ge)),se}}const C=function Fn(y){return new oo(new Re.X(y.url),new Re.X(y.params),new Re.X(y.queryParams),new Re.X(y.fragment),new Re.X(y.data),y.outlet,y.component,y)}(D.value),N=D.children.map(W=>Ti(y,W));return new Dr(C,N)}}const So="ngNavigationCancelingError";function $i(y,D){const{redirectTo:_,navigationBehaviorOptions:C}=Ye(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,N=Ur(!1,0,D);return N.url=_,N.navigationBehaviorOptions=C,N}function Ur(y,D,_){const C=new Error("NavigationCancelingError: "+(y||""));return C[So]=!0,C.cancellationCode=D,_&&(C.url=_),C}function Hi(y){return y&&y[So]}let Oi=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275cmp=S.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[S.jDz],decls:1,vars:0,template:function(C,N){1&C&&S._UZ(0,"router-outlet")},dependencies:[Pi],encapsulation:2})}return y})();function vs(y){const D=y.children&&y.children.map(vs),_=D?{...y,children:D}:{...y};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==hn&&(_.component=Oi),_}function hi(y){return y.outlet||hn}function Di(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Us{constructor(D,_,C,N,W){this.routeReuseStrategy=D,this.futureState=_,this.currState=C,this.forwardEvent=N,this.inputBindingEnabled=W}activate(D){const _=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,C,D),Er(this.futureState.root),this.activateChildRoutes(_,C,D)}deactivateChildRoutes(D,_,C){const N=hr(_);D.children.forEach(W=>{const se=W.value.outlet;this.deactivateRoutes(W,N[se],C),delete N[se]}),Object.values(N).forEach(W=>{this.deactivateRouteAndItsChildren(W,C)})}deactivateRoutes(D,_,C){const N=D.value,W=_?_.value:null;if(N===W)if(N.component){const se=C.getContext(N.outlet);se&&this.deactivateChildRoutes(D,_,se.children)}else this.deactivateChildRoutes(D,_,C);else W&&this.deactivateRouteAndItsChildren(_,C)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const C=_.getContext(D.value.outlet),N=C&&D.value.component?C.children:_,W=hr(D);for(const se of Object.keys(W))this.deactivateRouteAndItsChildren(W[se],N);if(C&&C.outlet){const se=C.outlet.detach(),Ge=C.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:se,route:D,contexts:Ge})}}deactivateRouteAndOutlet(D,_){const C=_.getContext(D.value.outlet),N=C&&D.value.component?C.children:_,W=hr(D);for(const se of Object.keys(W))this.deactivateRouteAndItsChildren(W[se],N);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(D,_,C){const N=hr(_);D.children.forEach(W=>{this.activateRoutes(W,N[W.value.outlet],C),this.forwardEvent(new Xo(W.value.snapshot))}),D.children.length&&this.forwardEvent(new vo(D.value.snapshot))}activateRoutes(D,_,C){const N=D.value,W=_?_.value:null;if(Er(N),N===W)if(N.component){const se=C.getOrCreateContext(N.outlet);this.activateChildRoutes(D,_,se.children)}else this.activateChildRoutes(D,_,C);else if(N.component){const se=C.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ge=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),se.children.onOutletReAttached(Ge.contexts),se.attachRef=Ge.componentRef,se.route=Ge.route.value,se.outlet&&se.outlet.attach(Ge.componentRef,Ge.route.value),Er(Ge.route.value),this.activateChildRoutes(D,null,se.children)}else{const Ge=Di(N.snapshot);se.attachRef=null,se.route=N,se.injector=Ge,se.outlet&&se.outlet.activateWith(N,se.injector),this.activateChildRoutes(D,null,se.children)}}else this.activateChildRoutes(D,null,C)}}class fi{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class U{constructor(D,_){this.component=D,this.route=_}}function B(y,D,_){const C=y._root;return Te(C,D?D._root:null,_,[C.value])}function ie(y,D){const _=Symbol(),C=D.get(y,_);return C===_?"function"!=typeof y||(0,S.Z0I)(y)?D.get(y):y:C}function Te(y,D,_,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const W=hr(D);return y.children.forEach(se=>{(function et(y,D,_,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const W=y.value,se=D?D.value:null,Ge=_?_.getContext(y.value.outlet):null;if(se&&W.routeConfig===se.routeConfig){const Ue=function Rt(y,D,_){if("function"==typeof _)return _(y,D);switch(_){case"pathParamsChange":return!ln(y.url,D.url);case"pathParamsOrQueryParamsChange":return!ln(y.url,D.url)||!_r(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(y,D)||!_r(y.queryParams,D.queryParams);default:return!Qn(y,D)}}(se,W,W.routeConfig.runGuardsAndResolvers);Ue?N.canActivateChecks.push(new fi(C)):(W.data=se.data,W._resolvedData=se._resolvedData),Te(y,D,W.component?Ge?Ge.children:null:_,C,N),Ue&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&N.canDeactivateChecks.push(new U(Ge.outlet.component,se))}else se&&Lt(D,Ge,N),N.canActivateChecks.push(new fi(C)),Te(y,null,W.component?Ge?Ge.children:null:_,C,N)})(se,W[se.value.outlet],_,C.concat([se.value]),N),delete W[se.value.outlet]}),Object.entries(W).forEach(([se,Ge])=>Lt(Ge,_.getContext(se),N)),N}function Lt(y,D,_){const C=hr(y),N=y.value;Object.entries(C).forEach(([W,se])=>{Lt(se,N.component?D?D.children.getContext(W):null:D,_)}),_.canDeactivateChecks.push(new U(N.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,N))}function Yt(y){return"function"==typeof y}function ki(y){return y instanceof Vn||"EmptyError"===y?.name}const Ai=Symbol("INITIAL_VALUE");function Zn(){return(0,Ee.w)(y=>wt(y.map(D=>D.pipe((0,z.q)(1),function Ne(...y){const D=(0,le.yG)(y);return(0,Tn.e)((_,C)=>{(D?nt(y,_,D):nt(y,_)).subscribe(C)})}(Ai)))).pipe((0,Le.U)(D=>{for(const _ of D)if(!0!==_){if(_===Ai)return Ai;if(!1===_||_ instanceof Un)return _}return!0}),(0,$e.h)(D=>D!==Ai),(0,z.q)(1)))}function Ro(y){return(0,Vt.z)((0,ht.b)(D=>{if(Ye(D))throw $i(0,D)}),(0,Le.U)(D=>!0===D))}class Js{constructor(D){this.segmentGroup=D||null}}class ii{constructor(D){this.urlTree=D}}function Xi(y){return Mt(new Js(y))}function Li(y){return Mt(new ii(y))}class ea{constructor(D,_){this.urlSerializer=D,this.urlTree=_}noMatchError(D){return new S.vHH(4002,!1)}lineralizeSegments(D,_){let C=[],N=_.root;for(;;){if(C=C.concat(N.segments),0===N.numberOfChildren)return(0,De.of)(C);if(N.numberOfChildren>1||!N.children[hn])return Mt(new S.vHH(4e3,!1));N=N.children[hn]}}applyRedirectCommands(D,_,C){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,C)}applyRedirectCreateUrlTree(D,_,C,N){const W=this.createSegmentGroup(D,_.root,C,N);return new Un(W,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const C={};return Object.entries(D).forEach(([N,W])=>{if("string"==typeof W&&W.startsWith(":")){const Ge=W.substring(1);C[N]=_[Ge]}else C[N]=W}),C}createSegmentGroup(D,_,C,N){const W=this.createSegments(D,_.segments,C,N);let se={};return Object.entries(_.children).forEach(([Ge,Ue])=>{se[Ge]=this.createSegmentGroup(D,Ue,C,N)}),new Bt(W,se)}createSegments(D,_,C,N){return _.map(W=>W.path.startsWith(":")?this.findPosParam(D,W,N):this.findOrReturn(W,C))}findPosParam(D,_,C){const N=C[_.path.substring(1)];if(!N)throw new S.vHH(4001,!1);return N}findOrReturn(D,_){let C=0;for(const N of _){if(N.path===D.path)return _.splice(C),N;C++}return D}}const js={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xs(y,D,_,C,N){const W=Is(y,D,_);return W.matched?(C=function so(y,D){return y.providers&&!y._injector&&(y._injector=(0,S.MMx)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,C),function kn(y,D,_,C){const N=D.canMatch;if(!N||0===N.length)return(0,De.of)(!0);const W=N.map(se=>{const Ge=ie(se,y);return qn(function Lr(y){return y&&Yt(y.canMatch)}(Ge)?Ge.canMatch(D,_):y.runInContext(()=>Ge(D,_)))});return(0,De.of)(W).pipe(Zn(),Ro())}(C,D,_).pipe((0,Le.U)(se=>!0===se?W:{...js}))):(0,De.of)(W)}function Is(y,D,_){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||_.length>0)?{...js}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const N=(D.matcher||mn)(_,y,D);if(!N)return{...js};const W={};Object.entries(N.posParams??{}).forEach(([Ge,Ue])=>{W[Ge]=Ue.path});const se=N.consumed.length>0?{...W,...N.consumed[N.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:N.consumed,remainingSegments:_.slice(N.consumed.length),parameters:se,positionalParamSegments:N.posParams??{}}}function To(y,D,_,C){return _.length>0&&function ru(y,D,_){return _.some(C=>Es(y,D,C)&&hi(C)!==hn)}(y,_,C)?{segmentGroup:new Bt(D,ao(C,new Bt(_,y.children))),slicedSegments:[]}:0===_.length&&function os(y,D,_){return _.some(C=>Es(y,D,C))}(y,_,C)?{segmentGroup:new Bt(y.segments,_a(y,0,_,C,y.children)),slicedSegments:_}:{segmentGroup:new Bt(y.segments,y.children),slicedSegments:_}}function _a(y,D,_,C,N){const W={};for(const se of C)if(Es(y,_,se)&&!N[hi(se)]){const Ge=new Bt([],{});W[hi(se)]=Ge}return{...N,...W}}function ao(y,D){const _={};_[hn]=D;for(const C of y)if(""===C.path&&hi(C)!==hn){const N=new Bt([],{});_[hi(C)]=N}return _}function Es(y,D,_){return(!(y.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}class $s{constructor(D,_,C,N,W,se,Ge){this.injector=D,this.configLoader=_,this.rootComponentType=C,this.config=N,this.urlTree=W,this.paramsInheritanceStrategy=se,this.urlSerializer=Ge,this.allowRedirects=!0,this.applyRedirects=new ea(this.urlSerializer,this.urlTree)}noMatchError(D){return new S.vHH(4002,!1)}recognize(){const D=To(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,hn).pipe(un(_=>{if(_ instanceof ii)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Js?this.noMatchError(_):_}),(0,Le.U)(_=>{const C=new _s([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hn,this.rootComponentType,null,{}),N=new Dr(C,_),W=new Ir("",N),se=function $t(y,D,_=null,C=null){return yn(nn(y),D,_,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return se.queryParams=this.urlTree.queryParams,W.url=this.urlSerializer.serialize(se),this.inheritParamsAndData(W._root),{state:W,tree:se}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,hn).pipe(un(C=>{throw C instanceof Js?this.noMatchError(C):C}))}inheritParamsAndData(D){const _=D.value,C=Io(_,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data),D.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(D,_,C,N){return 0===C.segments.length&&C.hasChildren()?this.processChildren(D,_,C):this.processSegment(D,_,C,C.segments,N,!0)}processChildren(D,_,C){const N=[];for(const W of Object.keys(C.children))"primary"===W?N.unshift(W):N.push(W);return(0,te.D)(N).pipe(kt(W=>{const se=C.children[W],Ge=function ws(y,D){const _=y.filter(C=>hi(C)===D);return _.push(...y.filter(C=>hi(C)!==D)),_}(_,W);return this.processSegmentGroup(D,Ge,se,W)}),function Kr(y,D){return(0,Tn.e)(function rr(y,D,_,C,N){return(W,se)=>{let Ge=_,Ue=D,jt=0;W.subscribe((0,mt.x)(se,An=>{const Br=jt++;Ue=Ge?y(Ue,An,Br):(Ge=!0,An),C&&se.next(Ue)},N&&(()=>{Ge&&se.next(Ue),se.complete()})))}}(y,D,arguments.length>=2,!0))}((W,se)=>(W.push(...se),W)),Me(null),function Pn(y,D){const _=arguments.length>=2;return C=>C.pipe(y?(0,$e.h)((N,W)=>y(N,W,C)):at.y,Tt(1),_?Me(D):be(()=>new Vn))}(),(0,He.z)(W=>{if(null===W)return Xi(C);const se=H(W);return function ni(y){y.sort((D,_)=>D.value.outlet===hn?-1:_.value.outlet===hn?1:D.value.outlet.localeCompare(_.value.outlet))}(se),(0,De.of)(se)}))}processSegment(D,_,C,N,W,se){return(0,te.D)(_).pipe(kt(Ge=>this.processSegmentAgainstRoute(Ge._injector??D,_,Ge,C,N,W,se).pipe(un(Ue=>{if(Ue instanceof Js)return(0,De.of)(null);throw Ue}))),Dt(Ge=>!!Ge),un(Ge=>{if(ki(Ge))return function Uo(y,D,_){return 0===D.length&&!y.children[_]}(C,N,W)?(0,De.of)([]):Xi(C);throw Ge}))}processSegmentAgainstRoute(D,_,C,N,W,se,Ge){return function Ts(y,D,_,C){return!!(hi(y)===C||C!==hn&&Es(D,_,y))&&("**"===y.path||Is(D,y,_).matched)}(C,N,W,se)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(D,N,C,W,se,Ge):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,N,_,C,W,se):Xi(N):Xi(N)}expandSegmentAgainstRouteUsingRedirect(D,_,C,N,W,se){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,N,se):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,C,N,W,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,C,N){const W=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Li(W):this.applyRedirects.lineralizeSegments(C,W).pipe((0,He.z)(se=>{const Ge=new Bt(se,{});return this.processSegment(D,_,Ge,se,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,C,N,W,se){const{matched:Ge,consumedSegments:Ue,remainingSegments:jt,positionalParamSegments:An}=Is(_,N,W);if(!Ge)return Xi(_);const Br=this.applyRedirects.applyRedirectCommands(Ue,N.redirectTo,An);return N.redirectTo.startsWith("/")?Li(Br):this.applyRedirects.lineralizeSegments(N,Br).pipe((0,He.z)(lr=>this.processSegment(D,C,_,lr.concat(jt),se,!1)))}matchSegmentAgainstRoute(D,_,C,N,W,se){let Ge;if("**"===C.path){const Ue=N.length>0?yr(N).parameters:{},jt=new _s(N,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$(C),hi(C),C.component??C._loadedComponent??null,C,ae(C));Ge=(0,De.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Ge=xs(_,C,N,D).pipe((0,Le.U)(({matched:Ue,consumedSegments:jt,remainingSegments:An,parameters:Br})=>Ue?{snapshot:new _s(jt,Br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$(C),hi(C),C.component??C._loadedComponent??null,C,ae(C)),consumedSegments:jt,remainingSegments:An}:null));return Ge.pipe((0,Ee.w)(Ue=>null===Ue?Xi(_):this.getChildConfig(D=C._injector??D,C,N).pipe((0,Ee.w)(({routes:jt})=>{const An=C._loadedInjector??D,{snapshot:Br,consumedSegments:lr,remainingSegments:lo}=Ue,{segmentGroup:cs,slicedSegments:wa}=To(_,lr,lo,jt);if(0===wa.length&&cs.hasChildren())return this.processChildren(An,jt,cs).pipe((0,Le.U)(Oa=>null===Oa?null:[new Dr(Br,Oa)]));if(0===jt.length&&0===wa.length)return(0,De.of)([new Dr(Br,[])]);const ku=hi(C)===W;return this.processSegment(An,jt,cs,wa,ku?hn:W,!0).pipe((0,Le.U)(Oa=>[new Dr(Br,Oa)]))}))))}getChildConfig(D,_,C){return _.children?(0,De.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,De.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Ms(y,D,_,C){const N=D.canLoad;if(void 0===N||0===N.length)return(0,De.of)(!0);const W=N.map(se=>{const Ge=ie(se,y);return qn(function tr(y){return y&&Yt(y.canLoad)}(Ge)?Ge.canLoad(D,_):y.runInContext(()=>Ge(D,_)))});return(0,De.of)(W).pipe(Zn(),Ro())}(D,_,C).pipe((0,He.z)(N=>N?this.configLoader.loadChildren(D,_).pipe((0,ht.b)(W=>{_._loadedRoutes=W.routes,_._loadedInjector=W.injector})):function Xs(y){return Mt(Ur(!1,3))}())):(0,De.of)({routes:[],injector:D})}}function T(y){const D=y.value.routeConfig;return D&&""===D.path}function H(y){const D=[],_=new Set;for(const C of y){if(!T(C)){D.push(C);continue}const N=D.find(W=>C.value.routeConfig===W.value.routeConfig);void 0!==N?(N.children.push(...C.children),_.add(N)):D.push(C)}for(const C of _){const N=H(C.children);D.push(new Dr(C.value,N))}return D.filter(C=>!_.has(C))}function $(y){return y.data||{}}function ae(y){return y.resolve||{}}function Nn(y){return"string"==typeof y.title||null===y.title}function Pr(y){return(0,Ee.w)(D=>{const _=y(D);return _?(0,te.D)(_).pipe((0,Le.U)(()=>D)):(0,De.of)(D)})}const sr=new S.OlP("ROUTES");let oi=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.f3M)(S.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,De.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const C=qn(_.loadComponent()).pipe((0,Le.U)(Po),(0,ht.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=W}),cn(()=>{this.componentLoaders.delete(_)})),N=new pe(C,()=>new Be.x).pipe(ui());return this.componentLoaders.set(_,N),N}loadChildren(_,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,De.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const W=function Bo(y,D,_,C){return qn(y.loadChildren()).pipe((0,Le.U)(Po),(0,He.z)(N=>N instanceof S.YKP||Array.isArray(N)?(0,De.of)(N):(0,te.D)(D.compileModuleAsync(N))),(0,Le.U)(N=>{C&&C(y);let W,se,Ge=!1;return Array.isArray(N)?(se=N,!0):(W=N.create(_).injector,se=W.get(sr,[],{optional:!0,self:!0}).flat()),{routes:se.map(vs),injector:W}}))}(C,this.compiler,_,this.onLoadEndListener).pipe(cn(()=>{this.childrenLoaders.delete(C)})),se=new pe(W,()=>new Be.x).pipe(ui());return this.childrenLoaders.set(C,se),se}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Po(y){return function uo(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Fi=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be.x,this.transitionAbortSubject=new Be.x,this.configLoader=(0,S.f3M)(oi),this.environmentInjector=(0,S.f3M)(S.lqb),this.urlSerializer=(0,S.f3M)(Xr),this.rootContexts=(0,S.f3M)(Ri),this.inputBindingEnabled=null!==(0,S.f3M)(di,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new Oo(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new gs(N))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:C})}setupNavigations(_,C,N){return this.transitions=new Re.X({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:_.urlHandlingStrategy.extract(C),urlAfterRedirects:_.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bn,restoredState:null,currentSnapshot:N.snapshot,targetSnapshot:null,currentRouterState:N,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.h)(W=>0!==W.id),(0,Le.U)(W=>({...W,extractedUrl:_.urlHandlingStrategy.extract(W.rawUrl)})),(0,Ee.w)(W=>{this.currentTransition=W;let se=!1,Ge=!1;return(0,De.of)(W).pipe((0,ht.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ee.w)(Ue=>{const jt=Ue.currentBrowserUrl.toString(),An=!_.navigated||Ue.extractedUrl.toString()!==jt||jt!==Ue.currentUrlTree.toString();if(!An&&"reload"!==(Ue.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const lr="";return this.events.next(new No(Ue.id,this.urlSerializer.serialize(Ue.rawUrl),lr,0)),Ue.resolve(null),_e.E}if(_.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return(0,De.of)(Ue).pipe((0,Ee.w)(lr=>{const lo=this.transitions?.getValue();return this.events.next(new ur(lr.id,this.urlSerializer.serialize(lr.extractedUrl),lr.source,lr.restoredState)),lo!==this.transitions?.getValue()?_e.E:Promise.resolve(lr)}),function qe(y,D,_,C,N,W){return(0,He.z)(se=>function iu(y,D,_,C,N,W,se="emptyOnly"){return new $s(y,D,_,C,N,se,W).recognize()}(y,D,_,C,se.extractedUrl,N,W).pipe((0,Le.U)(({state:Ge,tree:Ue})=>({...se,targetSnapshot:Ge,urlAfterRedirects:Ue}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,ht.b)(lr=>{W.targetSnapshot=lr.targetSnapshot,W.urlAfterRedirects=lr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:lr.urlAfterRedirects};const lo=new Rs(lr.id,this.urlSerializer.serialize(lr.extractedUrl),this.urlSerializer.serialize(lr.urlAfterRedirects),lr.targetSnapshot);this.events.next(lo)}));if(An&&_.urlHandlingStrategy.shouldProcessUrl(Ue.currentRawUrl)){const{id:lr,extractedUrl:lo,source:cs,restoredState:wa,extras:ku}=Ue,Oa=new ur(lr,this.urlSerializer.serialize(lo),cs,wa);this.events.next(Oa);const ho=Ni(0,this.rootComponentType).snapshot;return this.currentTransition=W={...Ue,targetSnapshot:ho,urlAfterRedirects:lo,extras:{...ku,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(W)}{const lr="";return this.events.next(new No(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),lr,1)),Ue.resolve(null),_e.E}}),(0,ht.b)(Ue=>{const jt=new Ki(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(jt)}),(0,Le.U)(Ue=>(this.currentTransition=W={...Ue,guards:B(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)},W)),function gi(y,D){return(0,He.z)(_=>{const{targetSnapshot:C,currentSnapshot:N,guards:{canActivateChecks:W,canDeactivateChecks:se}}=_;return 0===se.length&&0===W.length?(0,De.of)({..._,guardsResult:!0}):function ti(y,D,_,C){return(0,te.D)(y).pipe((0,He.z)(N=>function is(y,D,_,C,N){const W=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,De.of)(!0);const se=W.map(Ge=>{const Ue=Di(D)??N,jt=ie(Ge,Ue);return qn(function ei(y){return y&&Yt(y.canDeactivate)}(jt)?jt.canDeactivate(y,D,_,C):Ue.runInContext(()=>jt(y,D,_,C))).pipe(Dt())});return(0,De.of)(se).pipe(Zn())}(N.component,N.route,_,D,C)),Dt(N=>!0!==N,!0))}(se,C,N,y).pipe((0,He.z)(Ge=>Ge&&function Rn(y){return"boolean"==typeof y}(Ge)?function zi(y,D,_,C){return(0,te.D)(D).pipe(kt(N=>nt(function rs(y,D){return null!==y&&D&&D(new ga(y)),(0,De.of)(!0)}(N.route.parent,C),function Ji(y,D){return null!==y&&D&&D(new Ao(y)),(0,De.of)(!0)}(N.route,C),function Ca(y,D,_){const C=D[D.length-1],W=D.slice(0,D.length-1).reverse().map(se=>function oe(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(se)).filter(se=>null!==se).map(se=>Pt(()=>{const Ge=se.guards.map(Ue=>{const jt=Di(se.node)??_,An=ie(Ue,jt);return qn(function $r(y){return y&&Yt(y.canActivateChild)}(An)?An.canActivateChild(C,y):jt.runInContext(()=>An(C,y))).pipe(Dt())});return(0,De.of)(Ge).pipe(Zn())}));return(0,De.of)(W).pipe(Zn())}(y,N.path,_),function Gi(y,D,_){const C=D.routeConfig?D.routeConfig.canActivate:null;if(!C||0===C.length)return(0,De.of)(!0);const N=C.map(W=>Pt(()=>{const se=Di(D)??_,Ge=ie(W,se);return qn(function Sr(y){return y&&Yt(y.canActivate)}(Ge)?Ge.canActivate(D,y):se.runInContext(()=>Ge(D,y))).pipe(Dt())}));return(0,De.of)(N).pipe(Zn())}(y,N.route,_))),Dt(N=>!0!==N,!0))}(C,W,y,D):(0,De.of)(Ge)),(0,Le.U)(Ge=>({..._,guardsResult:Ge})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,ht.b)(Ue=>{if(W.guardsResult=Ue.guardsResult,Ye(Ue.guardsResult))throw $i(0,Ue.guardsResult);const jt=new Nr(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(jt)}),(0,$e.h)(Ue=>!!Ue.guardsResult||(this.cancelNavigationTransition(Ue,"",3),!1)),Pr(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,De.of)(Ue).pipe((0,ht.b)(jt=>{const An=new Qi(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(An)}),(0,Ee.w)(jt=>{let An=!1;return(0,De.of)(jt).pipe(function dt(y,D){return(0,He.z)(_=>{const{targetSnapshot:C,guards:{canActivateChecks:N}}=_;if(!N.length)return(0,De.of)(_);let W=0;return(0,te.D)(N).pipe(kt(se=>function qt(y,D,_,C){const N=y.routeConfig,W=y._resolve;return void 0!==N?.title&&!Nn(N)&&(W[xn]=N.title),function cr(y,D,_,C){const N=function Rr(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return(0,De.of)({});const W={};return(0,te.D)(N).pipe((0,He.z)(se=>function Tr(y,D,_,C){const N=Di(D)??C,W=ie(y,N);return qn(W.resolve?W.resolve(D,_):N.runInContext(()=>W(D,_)))}(y[se],D,_,C).pipe(Dt(),(0,ht.b)(Ge=>{W[se]=Ge}))),Tt(1),function Mn(y){return(0,Le.U)(()=>y)}(W),un(se=>ki(se)?_e.E:Mt(se)))}(W,y,D,C).pipe((0,Le.U)(se=>(y._resolvedData=se,y.data=Io(y,_).resolve,N&&Nn(N)&&(y.data[xn]=N.title),null)))}(se.route,C,y,D)),(0,ht.b)(()=>W++),Tt(1),(0,He.z)(se=>W===N.length?(0,De.of)(_):_e.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,ht.b)({next:()=>An=!0,complete:()=>{An||this.cancelNavigationTransition(jt,"",2)}}))}),(0,ht.b)(jt=>{const An=new Ps(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(An)}))}),Pr(Ue=>{const jt=An=>{const Br=[];An.routeConfig?.loadComponent&&!An.routeConfig._loadedComponent&&Br.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,ht.b)(lr=>{An.component=lr}),(0,Le.U)(()=>{})));for(const lr of An.children)Br.push(...jt(lr));return Br};return wt(jt(Ue.targetSnapshot.root)).pipe(Me(),(0,z.q)(1))}),Pr(()=>this.afterPreactivation()),(0,Le.U)(Ue=>{const jt=function Co(y,D,_){const C=Ti(y,D._root,_?_._root:void 0);return new xi(C,D)}(_.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return this.currentTransition=W={...Ue,targetRouterState:jt},W}),(0,ht.b)(()=>{this.events.next(new Si)}),((y,D,_,C)=>(0,Le.U)(N=>(new Us(D,N.targetRouterState,N.currentRouterState,_,C).activate(y),N)))(this.rootContexts,_.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,z.q)(1),(0,ht.b)({next:Ue=>{se=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xr(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects))),_.titleStrategy?.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{se=!0}}),function Kt(y){return(0,Tn.e)((D,_)=>{(0,st.Xf)(y).subscribe((0,mt.x)(_,()=>_.complete(),ft.Z)),!_.closed&&D.subscribe(_)})}(this.transitionAbortSubject.pipe((0,ht.b)(Ue=>{throw Ue}))),cn(()=>{se||Ge||this.cancelNavigationTransition(W,"",1),this.currentNavigation?.id===W.id&&(this.currentNavigation=null)}),un(Ue=>{if(Ge=!0,Hi(Ue))this.events.next(new li(W.id,this.urlSerializer.serialize(W.extractedUrl),Ue.message,Ue.cancellationCode)),function bi(y){return Hi(y)&&Ye(y.url)}(Ue)?this.events.next(new wo(Ue.url)):W.resolve(!1);else{this.events.next(new jn(W.id,this.urlSerializer.serialize(W.extractedUrl),Ue,W.targetSnapshot??void 0));try{W.resolve(_.errorHandler(Ue))}catch(jt){W.reject(jt)}}return _e.E}))}))}cancelNavigationTransition(_,C,N){const W=new li(_.id,this.urlSerializer.serialize(_.extractedUrl),C,N);this.events.next(W),_.resolve(!1)}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Mr(y){return y!==Bn}let Hn=(()=>{class y{buildTitle(_){let C,N=_.root;for(;void 0!==N;)C=this.getResolvedTitleForRoute(N)??C,N=N.children.find(W=>W.outlet===hn);return C}getResolvedTitleForRoute(_){return _.data[xn]}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return(0,S.f3M)(bs)},providedIn:"root"})}return y})(),bs=(()=>{class y extends Hn{constructor(_){super(),this.title=_}updateTitle(_){const C=this.buildTitle(_);void 0!==C&&this.title.setTitle(C)}static#e=this.\u0275fac=function(C){return new(C||y)(S.LFG(Dn.Dx))};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),ss=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return(0,S.f3M)(Mu)},providedIn:"root"})}return y})();class ta{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let Mu=(()=>{class y extends ta{static#e=this.\u0275fac=function(){let _;return function(N){return(_||(_=S.n5z(y)))(N||y)}}();static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const ou=new S.OlP("",{providedIn:"root",factory:()=>({})});let xu=(()=>{class y{static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return(0,S.f3M)(Nu)},providedIn:"root"})}return y})(),Nu=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,C){return _}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var na=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(na||{});function jo(y,D){y.events.pipe((0,$e.h)(_=>_ instanceof xr||_ instanceof li||_ instanceof jn||_ instanceof No),(0,Le.U)(_=>_ instanceof xr||_ instanceof No?na.COMPLETE:_ instanceof li&&(0===_.code||1===_.code)?na.REDIRECTING:na.FAILED),(0,$e.h)(_=>_!==na.REDIRECTING),(0,z.q)(1)).subscribe(()=>{D()})}function ya(y){throw y}function co(y,D,_){return D.parse("/")}const Sa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$o={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zn=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,S.f3M)(S.c2e),this.isNgZoneEnabled=!1,this._events=new Be.x,this.options=(0,S.f3M)(ou,{optional:!0})||{},this.pendingTasks=(0,S.f3M)(S.HDt),this.errorHandler=this.options.errorHandler||ya,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||co,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,S.f3M)(xu),this.routeReuseStrategy=(0,S.f3M)(ss),this.titleStrategy=(0,S.f3M)(Hn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,S.f3M)(sr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,S.f3M)(Fi),this.urlSerializer=(0,S.f3M)(Xr),this.location=(0,S.f3M)(bn.Ye),this.componentInputBindingEnabled=!!(0,S.f3M)(di,{optional:!0}),this.eventsSubscription=new At.w0,this.isNgZoneEnabled=(0,S.f3M)(S.R0b)instanceof S.R0b&&S.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Un,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ni(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:N}=this.navigationTransitions;if(null===N)return void(Ra(C)&&this._events.next(C));if(C instanceof ur)Mr(N.source)&&(this.browserUrlTree=N.extractedUrl);else if(C instanceof No)this.rawUrlTree=N.rawUrl;else if(C instanceof Rs){if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(W,N)}this.browserUrlTree=N.urlAfterRedirects}}else if(C instanceof Si)this.currentUrlTree=N.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N),this.browserUrlTree=N.urlAfterRedirects);else if(C instanceof li)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(N);else if(C instanceof wo){const W=this.urlHandlingStrategy.merge(C.url,N.currentRawUrl),se={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mr(N.source)};this.scheduleNavigation(W,Bn,null,se,{resolve:N.resolve,reject:N.reject,promise:N.promise})}C instanceof jn&&this.restoreHistory(N,!0),C instanceof xr&&(this.navigated=!0),Ra(C)&&this._events.next(C)}catch(N){this.navigationTransitions.transitionAbortSubject.next(N)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bn,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const C="popstate"===_.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,C,_.state)},0)}))}navigateToSyncWithBrowser(_,C,N){const W={replaceUrl:!0},se=N?.navigationId?N:null;if(N){const Ue={...N};delete Ue.navigationId,delete Ue.\u0275routerPageId,0!==Object.keys(Ue).length&&(W.state=Ue)}const Ge=this.parseUrl(_);this.scheduleNavigation(Ge,C,se,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,C={}){const{relativeTo:N,queryParams:W,fragment:se,queryParamsHandling:Ge,preserveFragment:Ue}=C,jt=Ue?this.currentUrlTree.fragment:se;let Br,An=null;switch(Ge){case"merge":An={...this.currentUrlTree.queryParams,...W};break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=W||null}null!==An&&(An=this.removeEmptyProps(An));try{Br=nn(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Br=this.currentUrlTree.root}return yn(Br,_,An,jt??null)}navigateByUrl(_,C={skipLocationChange:!1}){const N=Ye(_)?_:this.parseUrl(_),W=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(W,Bn,null,C)}navigate(_,C={skipLocationChange:!1}){return function si(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new S.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,C),C)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let C;try{C=this.urlSerializer.parse(_)}catch(N){C=this.malformedUriErrorHandler(N,this.urlSerializer,_)}return C}isActive(_,C){let N;if(N=!0===C?{...Sa}:!1===C?{...$o}:C,Ye(_))return _n(this.currentUrlTree,_,N);const W=this.parseUrl(_);return _n(this.currentUrlTree,W,N)}removeEmptyProps(_){return Object.keys(_).reduce((C,N)=>{const W=_[N];return null!=W&&(C[N]=W),C},{})}scheduleNavigation(_,C,N,W,se){if(this.disposed)return Promise.resolve(!1);let Ge,Ue,jt;se?(Ge=se.resolve,Ue=se.reject,jt=se.promise):jt=new Promise((Br,lr)=>{Ge=Br,Ue=lr});const An=this.pendingTasks.add();return jo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(An))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:W,resolve:Ge,reject:Ue,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(Br=>Promise.reject(Br))}setBrowserUrl(_,C){const N=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(N)||C.extras.replaceUrl){const se={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(N,"",se)}else{const W={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(N,"",W)}}restoreHistory(_,C=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-this.browserPageId;0!==W?this.location.historyGo(W):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,C){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:C}:{navigationId:_}}static#e=this.\u0275fac=function(C){return new(C||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Ra(y){return!(y instanceof Si||y instanceof wo)}let Vi=(()=>{class y{constructor(_,C,N,W,se,Ge){this.router=_,this.route=C,this.tabIndexAttribute=N,this.renderer=W,this.el=se,this.locationStrategy=Ge,this.href=null,this.commands=null,this.onChanges=new Be.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ue=se.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ue||"area"===Ue,this.isAnchorElement?this.subscription=_.events.subscribe(jt=>{jt instanceof xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,C,N,W,se){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||C||N||W||se||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,S.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,C){const N=this.renderer,W=this.el.nativeElement;null!==C?N.setAttribute(W,_,C):N.removeAttribute(W,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(C){return new(C||y)(S.Y36(zn),S.Y36(oo),S.$8M("tabindex"),S.Y36(S.Qsj),S.Y36(S.SBq),S.Y36(bn.S$))};static#t=this.\u0275dir=S.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,N){1&C&&S.NdJ("click",function(se){return N.onClick(se.button,se.ctrlKey,se.shiftKey,se.altKey,se.metaKey)}),2&C&&S.uIk("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",S.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",S.VuI],replaceUrl:["replaceUrl","replaceUrl",S.VuI],routerLink:"routerLink"},standalone:!0,features:[S.Xq5,S.TTD]})}return y})();class Ds{}let Ma=(()=>{class y{constructor(_,C,N,W,se){this.router=_,this.injector=N,this.preloadingStrategy=W,this.loader=se}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.h)(_=>_ instanceof xr),kt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,C){const N=[];for(const W of C){W.providers&&!W._injector&&(W._injector=(0,S.MMx)(W.providers,_,`Route: ${W.path}`));const se=W._injector??_,Ge=W._loadedInjector??se;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&N.push(this.preloadConfig(se,W)),(W.children||W._loadedRoutes)&&N.push(this.processRoutes(Ge,W.children??W._loadedRoutes))}return(0,te.D)(N).pipe((0,nr.J)())}preloadConfig(_,C){return this.preloadingStrategy.preload(C,()=>{let N;N=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(_,C):(0,De.of)(null);const W=N.pipe((0,He.z)(se=>null===se?(0,De.of)(void 0):(C._loadedRoutes=se.routes,C._loadedInjector=se.injector,this.processRoutes(se.injector??_,se.routes))));if(C.loadComponent&&!C._loadedComponent){const se=this.loader.loadComponent(C);return(0,te.D)([W,se]).pipe((0,nr.J)())}return W})}static#e=this.\u0275fac=function(C){return new(C||y)(S.LFG(zn),S.LFG(S.Sil),S.LFG(S.lqb),S.LFG(Ds),S.LFG(oi))};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Os=new S.OlP("");let bo=(()=>{class y{constructor(_,C,N,W,se={}){this.urlSerializer=_,this.transitions=C,this.viewportScroller=N,this.zone=W,this.options=se,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},se.scrollPositionRestoration=se.scrollPositionRestoration||"disabled",se.anchorScrolling=se.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof xr?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof No&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Zi&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zi(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(C){S.$Z()};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac})}return y})();function R(y,D){return{\u0275kind:y,\u0275providers:D}}function Gn(){const y=(0,S.f3M)(S.zs3);return D=>{const _=y.get(S.z2F);if(D!==_.components[0])return;const C=y.get(zn),N=y.get(ar);1===y.get(Jr)&&C.initialNavigation(),y.get(va,null,S.XFs.Optional)?.setUpPreloading(),y.get(Os,null,S.XFs.Optional)?.init(),C.resetRootComponentType(_.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const ar=new S.OlP("",{factory:()=>new Be.x}),Jr=new S.OlP("",{providedIn:"root",factory:()=>1}),va=new S.OlP("");function _d(y){return R(0,[{provide:va,useExisting:Ma},{provide:Ds,useExisting:y}])}const pr=new S.OlP("ROUTER_FORROOT_GUARD"),su=[bn.Ye,{provide:Xr,useClass:wn},zn,Ri,{provide:oo,useFactory:function w(y){return y.routerState.root},deps:[zn]},oi,[]];function ml(){return new S.PXZ("Router",zn)}let Wi=(()=>{class y{constructor(_){}static forRoot(_,C){return{ngModule:y,providers:[su,[],{provide:sr,multi:!0,useValue:_},{provide:pr,useFactory:As,deps:[[zn,new S.FiY,new S.tp0]]},{provide:ou,useValue:C||{}},C?.useHash?{provide:bn.S$,useClass:bn.Do}:{provide:bn.S$,useClass:bn.b0},{provide:Os,useFactory:()=>{const y=(0,S.f3M)(bn.EM),D=(0,S.f3M)(S.R0b),_=(0,S.f3M)(ou),C=(0,S.f3M)(Fi),N=(0,S.f3M)(Xr);return _.scrollOffset&&y.setOffset(_.scrollOffset),new bo(N,C,y,D,_)}},C?.preloadingStrategy?_d(C.preloadingStrategy).\u0275providers:[],{provide:S.PXZ,multi:!0,useFactory:ml},C?.initialNavigation?as(C):[],C?.bindToComponentInputs?R(8,[fr,{provide:di,useExisting:fr}]).\u0275providers:[],[{provide:Na,useFactory:Gn},{provide:S.tb,multi:!0,useExisting:Na}]]}}static forChild(_){return{ngModule:y,providers:[{provide:sr,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(C){return new(C||y)(S.LFG(pr,8))};static#t=this.\u0275mod=S.oAB({type:y});static#n=this.\u0275inj=S.cJS({})}return y})();function As(y){return"guarded"}function as(y){return["disabled"===y.initialNavigation?R(3,[{provide:S.ip1,multi:!0,useFactory:()=>{const D=(0,S.f3M)(zn);return()=>{D.setUpLocationChangeListener()}}},{provide:Jr,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?R(2,[{provide:Jr,useValue:0},{provide:S.ip1,multi:!0,deps:[S.zs3],useFactory:D=>{const _=D.get(bn.V_,Promise.resolve());return()=>_.then(()=>new Promise(C=>{const N=D.get(zn),W=D.get(ar);jo(N,()=>{C(!0)}),D.get(Fi).afterPreactivation=()=>(C(!0),W.closed?(0,De.of)(void 0):W),N.initialNavigation()}))}}]).\u0275providers:[]]}const Na=new S.OlP("")},534:(sn,ot,Q)=>{"use strict";Q.d(ot,{Jn:()=>Mi,qX:()=>_n,rh:()=>Bi,Xd:()=>yi,Mq:()=>Kn,C6:()=>Xr,ZF:()=>Hr,KN:()=>K});var S=Q(5861),fe=Q(4537),Ze=Q(7879),ke=Q(9058);const te=(ze,Ce)=>Ce.some(Ye=>ze instanceof Ye);let De,Re;const ue=new WeakMap,le=new WeakMap,Fe=new WeakMap,mt=new WeakMap,We=new WeakMap;let zt={get(ze,Ce,Ye){if(ze instanceof IDBTransaction){if("done"===Ce)return le.get(ze);if("objectStoreNames"===Ce)return ze.objectStoreNames||Fe.get(ze);if("store"===Ce)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return it(ze[Ce])},set:(ze,Ce,Ye)=>(ze[Ce]=Ye,!0),has:(ze,Ce)=>ze instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in ze};function nr(ze){return"function"==typeof ze?function Vn(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function at(){return Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...Ce){return ze.apply(nt(this),Ce),it(ue.get(this))}:function(...Ce){return it(ze.apply(nt(this),Ce))}:function(Ce,...Ye){const $t=ze.call(nt(this),Ce,...Ye);return Fe.set($t,Ce.sort?Ce.sort():[Ce]),it($t)}}(ze):(ze instanceof IDBTransaction&&function xt(ze){if(le.has(ze))return;const Ce=new Promise((Ye,$t)=>{const nn=()=>{ze.removeEventListener("complete",yn),ze.removeEventListener("error",dn),ze.removeEventListener("abort",dn)},yn=()=>{Ye(),nn()},dn=()=>{$t(ze.error||new DOMException("AbortError","AbortError")),nn()};ze.addEventListener("complete",yn),ze.addEventListener("error",dn),ze.addEventListener("abort",dn)});le.set(ze,Ce)}(ze),te(ze,function gt(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,zt):ze)}function it(ze){if(ze instanceof IDBRequest)return function wt(ze){const Ce=new Promise((Ye,$t)=>{const nn=()=>{ze.removeEventListener("success",yn),ze.removeEventListener("error",dn)},yn=()=>{Ye(it(ze.result)),nn()},dn=()=>{$t(ze.error),nn()};ze.addEventListener("success",yn),ze.addEventListener("error",dn)});return Ce.then(Ye=>{Ye instanceof IDBCursor&&ue.set(Ye,ze)}).catch(()=>{}),We.set(Ce,ze),Ce}(ze);if(mt.has(ze))return mt.get(ze);const Ce=nr(ze);return Ce!==ze&&(mt.set(ze,Ce),We.set(Ce,ze)),Ce}const nt=ze=>We.get(ze),Vt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],_e=new Map;function At(ze,Ce){if(!(ze instanceof IDBDatabase)||Ce in ze||"string"!=typeof Ce)return;if(_e.get(Ce))return _e.get(Ce);const Ye=Ce.replace(/FromIndex$/,""),$t=Ce!==Ye,nn=Mt.includes(Ye);if(!(Ye in($t?IDBIndex:IDBObjectStore).prototype)||!nn&&!Vt.includes(Ye))return;const yn=function(){var dn=(0,S.Z)(function*(ir,...Ln){const Or=this.transaction(ir,nn?"readwrite":"readonly");let On=Or.store;return $t&&(On=On.index(Ln.shift())),(yield Promise.all([On[Ye](...Ln),nn&&Or.done]))[0]});return function(Ln){return dn.apply(this,arguments)}}();return _e.set(Ce,yn),yn}!function Xt(ze){zt=ze(zt)}(ze=>({...ze,get:(Ce,Ye,$t)=>At(Ce,Ye)||ze.get(Ce,Ye,$t),has:(Ce,Ye)=>!!At(Ce,Ye)||ze.has(Ce,Ye)}));class Tn{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function ui(ze){const Ce=ze.getComponent();return"VERSION"===Ce?.type}(Ye)){const $t=Ye.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(Ye=>Ye).join(" ")}}const pe="@firebase/app",bn=new Ze.Yd("@firebase/app"),mn="[DEFAULT]",tn={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},_r=new Map,dr=new Map,yr=new Map;function qn(ze,Ce){try{ze.container.addComponent(Ce)}catch(Ye){bn.debug(`Component ${Ce.name} failed to register with FirebaseApp ${ze.name}`,Ye)}}function yi(ze){const Ce=ze.name;if(yr.has(Ce))return bn.debug(`There were multiple attempts to register component ${Ce}.`),!1;yr.set(Ce,ze);for(const Ye of _r.values())qn(Ye,ze);for(const Ye of dr.values())qn(Ye,ze);return!0}function _n(ze,Ce){const Ye=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),ze.container.getProvider(Ce)}function Bi(ze){return void 0!==ze.settings}const Ie=new ke.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Un{constructor(Ce,Ye,$t){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Ie.create("app-deleted",{appName:this._name})}}const Mi="10.12.2";function Hr(ze,Ce={}){let Ye=ze;"object"!=typeof Ce&&(Ce={name:Ce});const $t=Object.assign({name:mn,automaticDataCollectionEnabled:!1},Ce),nn=$t.name;if("string"!=typeof nn||!nn)throw Ie.create("bad-app-name",{appName:String(nn)});if(Ye||(Ye=(0,ke.aH)()),!Ye)throw Ie.create("no-options");const yn=_r.get(nn);if(yn){if((0,ke.vZ)(Ye,yn.options)&&(0,ke.vZ)($t,yn.config))return yn;throw Ie.create("duplicate-app",{appName:nn})}const dn=new fe.H0(nn);for(const Ln of yr.values())dn.addComponent(Ln);const ir=new Un(Ye,$t,dn);return _r.set(nn,ir),ir}function Kn(ze=mn){const Ce=_r.get(ze);if(!Ce&&ze===mn&&(0,ke.aH)())return Hr();if(!Ce)throw Ie.create("no-app",{appName:ze});return Ce}function Xr(){return Array.from(_r.values())}function K(ze,Ce,Ye){var $t;let nn=null!==($t=tn[ze])&&void 0!==$t?$t:ze;Ye&&(nn+=`-${Ye}`);const yn=nn.match(/\s|\//),dn=Ce.match(/\s|\//);if(yn||dn){const ir=[`Unable to register library "${nn}" with version "${Ce}":`];return yn&&ir.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),yn&&dn&&ir.push("and"),dn&&ir.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void bn.warn(ir.join(" "))}yi(new fe.wA(`${nn}-version`,()=>({library:nn,version:Ce}),"VERSION"))}const Y="firebase-heartbeat-database",Ae=1,ct="firebase-heartbeat-store";let St=null;function Ot(){return St||(St=function st(ze,Ce,{blocked:Ye,upgrade:$t,blocking:nn,terminated:yn}={}){const dn=indexedDB.open(ze,Ce),ir=it(dn);return $t&&dn.addEventListener("upgradeneeded",Ln=>{$t(it(dn.result),Ln.oldVersion,Ln.newVersion,it(dn.transaction),Ln)}),Ye&&dn.addEventListener("blocked",Ln=>Ye(Ln.oldVersion,Ln.newVersion,Ln)),ir.then(Ln=>{yn&&Ln.addEventListener("close",()=>yn()),nn&&Ln.addEventListener("versionchange",Or=>nn(Or.oldVersion,Or.newVersion,Or))}).catch(()=>{}),ir}(Y,Ae,{upgrade:(ze,Ce)=>{if(0===Ce)try{ze.createObjectStore(ct)}catch(Ye){console.warn(Ye)}}}).catch(ze=>{throw Ie.create("idb-open",{originalErrorMessage:ze.message})})),St}function En(){return(En=(0,S.Z)(function*(ze){try{const Ye=(yield Ot()).transaction(ct),$t=yield Ye.objectStore(ct).get(ci(ze));return yield Ye.done,$t}catch(Ce){if(Ce instanceof ke.ZR)bn.warn(Ce.message);else{const Ye=Ie.create("idb-get",{originalErrorMessage:Ce?.message});bn.warn(Ye.message)}}})).apply(this,arguments)}function Wt(ze,Ce){return wr.apply(this,arguments)}function wr(){return(wr=(0,S.Z)(function*(ze,Ce){try{const $t=(yield Ot()).transaction(ct,"readwrite");yield $t.objectStore(ct).put(Ce,ci(ze)),yield $t.done}catch(Ye){if(Ye instanceof ke.ZR)bn.warn(Ye.message);else{const $t=Ie.create("idb-set",{originalErrorMessage:Ye?.message});bn.warn($t.message)}}})).apply(this,arguments)}function ci(ze){return`${ze.name}!${ze.options.appId}`}class yo{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Zr(Ye),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var Ce=this;return(0,S.Z)(function*(){var Ye,$t;const yn=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=zr();if((null!=(null===(Ye=Ce._heartbeatsCache)||void 0===Ye?void 0:Ye.heartbeats)||(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise,null!=(null===($t=Ce._heartbeatsCache)||void 0===$t?void 0:$t.heartbeats)))&&Ce._heartbeatsCache.lastSentHeartbeatDate!==dn&&!Ce._heartbeatsCache.heartbeats.some(ir=>ir.date===dn))return Ce._heartbeatsCache.heartbeats.push({date:dn,agent:yn}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(ir=>{const Ln=new Date(ir.date).valueOf();return Date.now()-Ln<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,S.Z)(function*(){var Ye;if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null==(null===(Ye=Ce._heartbeatsCache)||void 0===Ye?void 0:Ye.heartbeats)||0===Ce._heartbeatsCache.heartbeats.length)return"";const $t=zr(),{heartbeatsToSend:nn,unsentEntries:yn}=function Jo(ze,Ce=1024){const Ye=[];let $t=ze.slice();for(const nn of ze){const yn=Ye.find(dn=>dn.agent===nn.agent);if(yn){if(yn.dates.push(nn.date),xo(Ye)>Ce){yn.dates.pop();break}}else if(Ye.push({agent:nn.agent,dates:[nn.date]}),xo(Ye)>Ce){Ye.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:$t}}(Ce._heartbeatsCache.heartbeats),dn=(0,ke.L)(JSON.stringify({version:2,heartbeats:nn}));return Ce._heartbeatsCache.lastSentHeartbeatDate=$t,yn.length>0?(Ce._heartbeatsCache.heartbeats=yn,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),dn})()}}function zr(){return(new Date).toISOString().substring(0,10)}class Zr{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,ke.hl)()&&(0,ke.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,S.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const $t=yield function on(ze){return En.apply(this,arguments)}(Ce.app);return $t?.heartbeats?$t:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ce){var Ye=this;return(0,S.Z)(function*(){var $t;if(yield Ye._canUseIndexedDBPromise){const yn=yield Ye.read();return Wt(Ye.app,{lastSentHeartbeatDate:null!==($t=Ce.lastSentHeartbeatDate)&&void 0!==$t?$t:yn.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ye=this;return(0,S.Z)(function*(){var $t;if(yield Ye._canUseIndexedDBPromise){const yn=yield Ye.read();return Wt(Ye.app,{lastSentHeartbeatDate:null!==($t=Ce.lastSentHeartbeatDate)&&void 0!==$t?$t:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...Ce.heartbeats]})}})()}}function xo(ze){return(0,ke.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function er(ze){yi(new fe.wA("platform-logger",Ce=>new Tn(Ce),"PRIVATE")),yi(new fe.wA("heartbeat",Ce=>new yo(Ce),"PRIVATE")),K(pe,"0.10.5",ze),K(pe,"0.10.5","esm2017"),K("fire-js","")}("")},4537:(sn,ot,Q)=>{"use strict";Q.d(ot,{H0:()=>gt,wA:()=>Ze});var S=Q(5861),fe=Q(9058);class Ze{constructor(ue,le,Fe){this.name=ue,this.instanceFactory=le,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const ke="[DEFAULT]";class te{constructor(ue,le){this.name=ue,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const le=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(le)){const Fe=new fe.BH;if(this.instancesDeferred.set(le,Fe),this.isInitialized(le)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:le});mt&&Fe.resolve(mt)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ue){var le;const Fe=this.normalizeInstanceIdentifier(ue?.identifier),mt=null!==(le=ue?.optional)&&void 0!==le&&le;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(We){if(mt)return null;throw We}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function Re(at){return"EAGER"===at.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:ke})}catch{}for(const[le,Fe]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(le);try{const We=this.getOrInitializeService({instanceIdentifier:mt});Fe.resolve(We)}catch{}}}}clearInstance(ue=ke){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,S.Z)(function*(){const le=Array.from(ue.instances.values());yield Promise.all([...le.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...le.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=ke){return this.instances.has(ue)}getOptions(ue=ke){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:le={}}=ue,Fe=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:Fe,options:le});for(const[We,wt]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(We)&&wt.resolve(mt);return mt}onInit(ue,le){var Fe;const mt=this.normalizeInstanceIdentifier(le),We=null!==(Fe=this.onInitCallbacks.get(mt))&&void 0!==Fe?Fe:new Set;We.add(ue),this.onInitCallbacks.set(mt,We);const wt=this.instances.get(mt);return wt&&ue(wt,mt),()=>{We.delete(ue)}}invokeOnInitCallbacks(ue,le){const Fe=this.onInitCallbacks.get(le);if(Fe)for(const mt of Fe)try{mt(ue,le)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:le={}}){let Fe=this.instances.get(ue);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(at=ue,at===ke?void 0:at),options:le}),this.instances.set(ue,Fe),this.instancesOptions.set(ue,le),this.invokeOnInitCallbacks(Fe,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,Fe)}catch{}var at;return Fe||null}normalizeInstanceIdentifier(ue=ke){return this.component?this.component.multipleInstances?ue:ke:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const le=this.getProvider(ue.name);if(le.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);le.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const le=new te(ue,this);return this.providers.set(ue,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(sn,ot,Q)=>{"use strict";Q.d(ot,{Yd:()=>Re,in:()=>fe});const S=[];var fe=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(fe||{});const Ze={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ke=fe.INFO,te={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},De=(ue,le,...Fe)=>{if(le<ue.logLevel)return;const mt=(new Date).toISOString(),We=te[le];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[We](`[${mt}]  ${ue.name}:`,...Fe)};class Re{constructor(le){this.name=le,this._logLevel=ke,this._logHandler=De,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in fe))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?Ze[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...le),this._logHandler(this,fe.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...le),this._logHandler(this,fe.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...le),this._logHandler(this,fe.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...le),this._logHandler(this,fe.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...le),this._logHandler(this,fe.ERROR,...le)}}},3182:(sn,ot,Q)=>{"use strict";Q.d(ot,{C6:()=>S.C6,KN:()=>S.KN,Mq:()=>S.Mq,ZF:()=>S.ZF});var S=Q(534);(0,S.KN)("firebase","10.12.2","app")},5861:(sn,ot,Q)=>{"use strict";function S(Ze,ke,te,De,Re,gt,at){try{var ue=Ze[gt](at),le=ue.value}catch(Fe){return void te(Fe)}ue.done?ke(le):Promise.resolve(le).then(De,Re)}function fe(Ze){return function(){var ke=this,te=arguments;return new Promise(function(De,Re){var gt=Ze.apply(ke,te);function at(le){S(gt,De,Re,at,ue,"next",le)}function ue(le){S(gt,De,Re,at,ue,"throw",le)}at(void 0)})}}Q.d(ot,{Z:()=>fe})},7582:(sn,ot,Q)=>{"use strict";function ke(z,Ne){var $e={};for(var He in z)Object.prototype.hasOwnProperty.call(z,He)&&Ne.indexOf(He)<0&&($e[He]=z[He]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(He=Object.getOwnPropertySymbols(z);Me<He.length;Me++)Ne.indexOf(He[Me])<0&&Object.prototype.propertyIsEnumerable.call(z,He[Me])&&($e[He[Me]]=z[He[Me]])}return $e}function Fe(z,Ne,$e,He){return new($e||($e=Promise))(function(be,Xe){function Dt(un){try{ht(He.next(un))}catch(rr){Xe(rr)}}function kt(un){try{ht(He.throw(un))}catch(rr){Xe(rr)}}function ht(un){un.done?be(un.value):function Me(be){return be instanceof $e?be:new $e(function(Xe){Xe(be)})}(un.value).then(Dt,kt)}ht((He=He.apply(z,Ne||[])).next())})}function it(z){return this instanceof it?(this.v=z,this):new it(z)}function nt(z,Ne,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,He=$e.apply(z,Ne||[]),be=[];return Me={},Dt("next"),Dt("throw"),Dt("return",function Xe(Tt){return function(Pn){return Promise.resolve(Pn).then(Tt,rr)}}),Me[Symbol.asyncIterator]=function(){return this},Me;function Dt(Tt,Pn){He[Tt]&&(Me[Tt]=function(Mn){return new Promise(function(cn,ft){be.push([Tt,Mn,cn,ft])>1||kt(Tt,Mn)})},Pn&&(Me[Tt]=Pn(Me[Tt])))}function kt(Tt,Pn){try{!function ht(Tt){Tt.value instanceof it?Promise.resolve(Tt.value.v).then(un,rr):Kr(be[0][2],Tt)}(He[Tt](Pn))}catch(Mn){Kr(be[0][3],Mn)}}function un(Tt){kt("next",Tt)}function rr(Tt){kt("throw",Tt)}function Kr(Tt,Pn){Tt(Pn),be.shift(),be.length&&kt(be[0][0],be[0][1])}}function Pt(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ne=z[Symbol.asyncIterator];return Ne?Ne.call(z):(z=function xt(z){var Ne="function"==typeof Symbol&&Symbol.iterator,$e=Ne&&z[Ne],He=0;if($e)return $e.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&He>=z.length&&(z=void 0),{value:z&&z[He++],done:!z}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),$e={},He("next"),He("throw"),He("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function He(be){$e[be]=z[be]&&function(Xe){return new Promise(function(Dt,kt){!function Me(be,Xe,Dt,kt){Promise.resolve(kt).then(function(ht){be({value:ht,done:Dt})},Xe)}(Dt,kt,(Xe=z[be](Xe)).done,Xe.value)})}}}Q.d(ot,{FC:()=>nt,KL:()=>Pt,_T:()=>ke,mG:()=>Fe,qq:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},sn=>{sn(sn.s=7035)}]);